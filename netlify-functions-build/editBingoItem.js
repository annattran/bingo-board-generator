!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=800)}([function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceIdClientErrorCode=t.InstallationsClientErrorCode=t.MessagingClientErrorCode=t.AuthClientErrorCode=t.AppErrorCodes=t.FirebaseProjectManagementError=t.FirebaseMessagingError=t.FirebaseInstallationsError=t.FirebaseInstanceIdError=t.FirebaseFirestoreError=t.FirebaseDatabaseError=t.FirebaseAuthError=t.FirebaseAppError=t.PrefixedFirebaseError=t.FirebaseError=void 0;const n=r(26);class o extends Error{constructor(e){super(e.message),this.errorInfo=e,this.__proto__=o.prototype}get code(){var e;return null===(e=this.errorInfo)||void 0===e?void 0:e.code}get message(){var e;return null===(e=this.errorInfo)||void 0===e?void 0:e.message}toJSON(){return{code:this.code,message:this.message}}}t.FirebaseError=o;class i extends o{constructor(e,t,r){super({code:`${e}/${t}`,message:r}),this.codePrefix=e,this.__proto__=i.prototype}hasCode(e){return`${this.codePrefix}/${e}`===this.code}}t.PrefixedFirebaseError=i;class a extends i{constructor(e,t){super("app",e,t),this.__proto__=a.prototype}}t.FirebaseAppError=a;class s extends i{static fromServerError(e,t,r){const o=(e||"").indexOf(":");let i=null;-1!==o&&(i=e.substring(o+1).trim(),e=e.substring(0,o).trim());const a=y[e]||"INTERNAL_ERROR",l=(0,n.deepCopy)(h[a]);if(l.message=i||t||l.message,"INTERNAL_ERROR"===a&&void 0!==r)try{l.message+=` Raw server response: "${JSON.stringify(r)}"`}catch(e){}return new s(l)}constructor(e,t){super("auth",e.code,t||e.message),this.__proto__=s.prototype}}t.FirebaseAuthError=s;t.FirebaseDatabaseError=class extends o{constructor(e,t){super({code:"database/"+e.code,message:t||e.message})}};t.FirebaseFirestoreError=class extends o{constructor(e,t){super({code:"firestore/"+e.code,message:t||e.message})}};class l extends o{constructor(e,t){super({code:"instance-id/"+e.code,message:t||e.message}),this.__proto__=l.prototype}}t.FirebaseInstanceIdError=l;class p extends o{constructor(e,t){super({code:"installations/"+e.code,message:t||e.message}),this.__proto__=p.prototype}}t.FirebaseInstallationsError=p;class c extends i{static fromServerError(e,t,r){let o="UNKNOWN_ERROR";e&&e in v&&(o=v[e]);const i=(0,n.deepCopy)(f[o]);if(i.message=t||i.message,"UNKNOWN_ERROR"===o&&void 0!==r)try{i.message+=` Raw server response: "${JSON.stringify(r)}"`}catch(e){}return new c(i)}static fromTopicManagementServerError(e,t,r){const o=b[e]||"UNKNOWN_ERROR",i=(0,n.deepCopy)(f[o]);if(i.message=t||i.message,"UNKNOWN_ERROR"===o&&void 0!==r)try{i.message+=` Raw server response: "${JSON.stringify(r)}"`}catch(e){}return new c(i)}constructor(e,t){super("messaging",e.code,t||e.message),this.__proto__=c.prototype}}t.FirebaseMessagingError=c;class u extends i{constructor(e,t){super("project-management",e,t),this.__proto__=u.prototype}}t.FirebaseProjectManagementError=u;class d{}t.AppErrorCodes=d,d.APP_DELETED="app-deleted",d.DUPLICATE_APP="duplicate-app",d.INVALID_ARGUMENT="invalid-argument",d.INTERNAL_ERROR="internal-error",d.INVALID_APP_NAME="invalid-app-name",d.INVALID_APP_OPTIONS="invalid-app-options",d.INVALID_CREDENTIAL="invalid-credential",d.NETWORK_ERROR="network-error",d.NETWORK_TIMEOUT="network-timeout",d.NO_APP="no-app",d.UNABLE_TO_PARSE_RESPONSE="unable-to-parse-response";class h{}t.AuthClientErrorCode=h,h.AUTH_BLOCKING_TOKEN_EXPIRED={code:"auth-blocking-token-expired",message:"The provided Firebase Auth Blocking token is expired."},h.BILLING_NOT_ENABLED={code:"billing-not-enabled",message:"Feature requires billing to be enabled."},h.CLAIMS_TOO_LARGE={code:"claims-too-large",message:"Developer claims maximum payload size exceeded."},h.CONFIGURATION_EXISTS={code:"configuration-exists",message:"A configuration already exists with the provided identifier."},h.CONFIGURATION_NOT_FOUND={code:"configuration-not-found",message:"There is no configuration corresponding to the provided identifier."},h.ID_TOKEN_EXPIRED={code:"id-token-expired",message:"The provided Firebase ID token is expired."},h.INVALID_ARGUMENT={code:"argument-error",message:"Invalid argument provided."},h.INVALID_CONFIG={code:"invalid-config",message:"The provided configuration is invalid."},h.EMAIL_ALREADY_EXISTS={code:"email-already-exists",message:"The email address is already in use by another account."},h.EMAIL_NOT_FOUND={code:"email-not-found",message:"There is no user record corresponding to the provided email."},h.FORBIDDEN_CLAIM={code:"reserved-claim",message:"The specified developer claim is reserved and cannot be specified."},h.INVALID_ID_TOKEN={code:"invalid-id-token",message:"The provided ID token is not a valid Firebase ID token."},h.ID_TOKEN_REVOKED={code:"id-token-revoked",message:"The Firebase ID token has been revoked."},h.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred."},h.INVALID_CLAIMS={code:"invalid-claims",message:"The provided custom claim attributes are invalid."},h.INVALID_CONTINUE_URI={code:"invalid-continue-uri",message:"The continue URL must be a valid URL string."},h.INVALID_CREATION_TIME={code:"invalid-creation-time",message:"The creation time must be a valid UTC date string."},h.INVALID_CREDENTIAL={code:"invalid-credential",message:"Invalid credential object provided."},h.INVALID_DISABLED_FIELD={code:"invalid-disabled-field",message:"The disabled field must be a boolean."},h.INVALID_DISPLAY_NAME={code:"invalid-display-name",message:"The displayName field must be a valid string."},h.INVALID_DYNAMIC_LINK_DOMAIN={code:"invalid-dynamic-link-domain",message:"The provided dynamic link domain is not configured or authorized for the current project."},h.INVALID_HOSTING_LINK_DOMAIN={code:"invalid-hosting-link-domain",message:"The provided hosting link domain is not configured in Firebase Hosting or is not owned by the current project."},h.INVALID_EMAIL_VERIFIED={code:"invalid-email-verified",message:"The emailVerified field must be a boolean."},h.INVALID_EMAIL={code:"invalid-email",message:"The email address is improperly formatted."},h.INVALID_NEW_EMAIL={code:"invalid-new-email",message:"The new email address is improperly formatted."},h.INVALID_ENROLLED_FACTORS={code:"invalid-enrolled-factors",message:"The enrolled factors must be a valid array of MultiFactorInfo objects."},h.INVALID_ENROLLMENT_TIME={code:"invalid-enrollment-time",message:"The second factor enrollment time must be a valid UTC date string."},h.INVALID_HASH_ALGORITHM={code:"invalid-hash-algorithm",message:"The hash algorithm must match one of the strings in the list of supported algorithms."},h.INVALID_HASH_BLOCK_SIZE={code:"invalid-hash-block-size",message:"The hash block size must be a valid number."},h.INVALID_HASH_DERIVED_KEY_LENGTH={code:"invalid-hash-derived-key-length",message:"The hash derived key length must be a valid number."},h.INVALID_HASH_KEY={code:"invalid-hash-key",message:"The hash key must a valid byte buffer."},h.INVALID_HASH_MEMORY_COST={code:"invalid-hash-memory-cost",message:"The hash memory cost must be a valid number."},h.INVALID_HASH_PARALLELIZATION={code:"invalid-hash-parallelization",message:"The hash parallelization must be a valid number."},h.INVALID_HASH_ROUNDS={code:"invalid-hash-rounds",message:"The hash rounds must be a valid number."},h.INVALID_HASH_SALT_SEPARATOR={code:"invalid-hash-salt-separator",message:"The hashing algorithm salt separator field must be a valid byte buffer."},h.INVALID_LAST_SIGN_IN_TIME={code:"invalid-last-sign-in-time",message:"The last sign-in time must be a valid UTC date string."},h.INVALID_NAME={code:"invalid-name",message:"The resource name provided is invalid."},h.INVALID_OAUTH_CLIENT_ID={code:"invalid-oauth-client-id",message:"The provided OAuth client ID is invalid."},h.INVALID_PAGE_TOKEN={code:"invalid-page-token",message:"The page token must be a valid non-empty string."},h.INVALID_PASSWORD={code:"invalid-password",message:"The password must be a string with at least 6 characters."},h.INVALID_PASSWORD_HASH={code:"invalid-password-hash",message:"The password hash must be a valid byte buffer."},h.INVALID_PASSWORD_SALT={code:"invalid-password-salt",message:"The password salt must be a valid byte buffer."},h.INVALID_PHONE_NUMBER={code:"invalid-phone-number",message:"The phone number must be a non-empty E.164 standard compliant identifier string."},h.INVALID_PHOTO_URL={code:"invalid-photo-url",message:"The photoURL field must be a valid URL."},h.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid parent project. Either parent project doesn't exist or didn't enable multi-tenancy."},h.INVALID_PROVIDER_DATA={code:"invalid-provider-data",message:"The providerData must be a valid array of UserInfo objects."},h.INVALID_PROVIDER_ID={code:"invalid-provider-id",message:"The providerId must be a valid supported provider identifier string."},h.INVALID_PROVIDER_UID={code:"invalid-provider-uid",message:"The providerUid must be a valid provider uid string."},h.INVALID_OAUTH_RESPONSETYPE={code:"invalid-oauth-responsetype",message:"Only exactly one OAuth responseType should be set to true."},h.INVALID_SESSION_COOKIE_DURATION={code:"invalid-session-cookie-duration",message:"The session cookie duration must be a valid number in milliseconds between 5 minutes and 2 weeks."},h.INVALID_TENANT_ID={code:"invalid-tenant-id",message:"The tenant ID must be a valid non-empty string."},h.INVALID_TENANT_TYPE={code:"invalid-tenant-type",message:'Tenant type must be either "full_service" or "lightweight".'},h.INVALID_TESTING_PHONE_NUMBER={code:"invalid-testing-phone-number",message:"Invalid testing phone number or invalid test code provided."},h.INVALID_UID={code:"invalid-uid",message:"The uid must be a non-empty string with at most 128 characters."},h.INVALID_USER_IMPORT={code:"invalid-user-import",message:"The user record to import is invalid."},h.INVALID_TOKENS_VALID_AFTER_TIME={code:"invalid-tokens-valid-after-time",message:"The tokensValidAfterTime must be a valid UTC number in seconds."},h.MISMATCHING_TENANT_ID={code:"mismatching-tenant-id",message:"User tenant ID does not match with the current TenantAwareAuth tenant ID."},h.MISSING_ANDROID_PACKAGE_NAME={code:"missing-android-pkg-name",message:"An Android Package Name must be provided if the Android App is required to be installed."},h.MISSING_CONFIG={code:"missing-config",message:"The provided configuration is missing required attributes."},h.MISSING_CONTINUE_URI={code:"missing-continue-uri",message:"A valid continue URL must be provided in the request."},h.MISSING_DISPLAY_NAME={code:"missing-display-name",message:"The resource being created or edited is missing a valid display name."},h.MISSING_EMAIL={code:"missing-email",message:"The email is required for the specified action. For example, a multi-factor user requires a verified email."},h.MISSING_IOS_BUNDLE_ID={code:"missing-ios-bundle-id",message:"The request is missing an iOS Bundle ID."},h.MISSING_ISSUER={code:"missing-issuer",message:"The OAuth/OIDC configuration issuer must not be empty."},h.MISSING_HASH_ALGORITHM={code:"missing-hash-algorithm",message:"Importing users with password hashes requires that the hashing algorithm and its parameters be provided."},h.MISSING_OAUTH_CLIENT_ID={code:"missing-oauth-client-id",message:"The OAuth/OIDC configuration client ID must not be empty."},h.MISSING_OAUTH_CLIENT_SECRET={code:"missing-oauth-client-secret",message:"The OAuth configuration client secret is required to enable OIDC code flow."},h.MISSING_PROVIDER_ID={code:"missing-provider-id",message:"A valid provider ID must be provided in the request."},h.MISSING_SAML_RELYING_PARTY_CONFIG={code:"missing-saml-relying-party-config",message:"The SAML configuration provided is missing a relying party configuration."},h.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED={code:"test-phone-number-limit-exceeded",message:"The maximum allowed number of test phone number / code pairs has been exceeded."},h.MAXIMUM_USER_COUNT_EXCEEDED={code:"maximum-user-count-exceeded",message:"The maximum allowed number of users to import has been exceeded."},h.MISSING_UID={code:"missing-uid",message:"A uid identifier is required for the current operation."},h.OPERATION_NOT_ALLOWED={code:"operation-not-allowed",message:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."},h.PHONE_NUMBER_ALREADY_EXISTS={code:"phone-number-already-exists",message:"The user with the provided phone number already exists."},h.PROJECT_NOT_FOUND={code:"project-not-found",message:"No Firebase project was found for the provided credential."},h.INSUFFICIENT_PERMISSION={code:"insufficient-permission",message:'Credential implementation provided to initializeApp() via the "credential" property has insufficient permission to access the requested resource. See https://firebase.google.com/docs/admin/setup for details on how to authenticate this SDK with appropriate permissions.'},h.QUOTA_EXCEEDED={code:"quota-exceeded",message:"The project quota for the specified operation has been exceeded."},h.SECOND_FACTOR_LIMIT_EXCEEDED={code:"second-factor-limit-exceeded",message:"The maximum number of allowed second factors on a user has been exceeded."},h.SECOND_FACTOR_UID_ALREADY_EXISTS={code:"second-factor-uid-already-exists",message:'The specified second factor "uid" already exists.'},h.SESSION_COOKIE_EXPIRED={code:"session-cookie-expired",message:"The Firebase session cookie is expired."},h.SESSION_COOKIE_REVOKED={code:"session-cookie-revoked",message:"The Firebase session cookie has been revoked."},h.TENANT_NOT_FOUND={code:"tenant-not-found",message:"There is no tenant corresponding to the provided identifier."},h.UID_ALREADY_EXISTS={code:"uid-already-exists",message:"The user with the provided uid already exists."},h.UNAUTHORIZED_DOMAIN={code:"unauthorized-continue-uri",message:"The domain of the continue URL is not whitelisted. Whitelist the domain in the Firebase console."},h.UNSUPPORTED_FIRST_FACTOR={code:"unsupported-first-factor",message:"A multi-factor user requires a supported first factor."},h.UNSUPPORTED_SECOND_FACTOR={code:"unsupported-second-factor",message:"The request specified an unsupported type of second factor."},h.UNSUPPORTED_TENANT_OPERATION={code:"unsupported-tenant-operation",message:"This operation is not supported in a multi-tenant context."},h.UNVERIFIED_EMAIL={code:"unverified-email",message:"A verified email is required for the specified action. For example, a multi-factor user requires a verified email."},h.USER_NOT_FOUND={code:"user-not-found",message:"There is no user record corresponding to the provided identifier."},h.NOT_FOUND={code:"not-found",message:"The requested resource was not found."},h.USER_DISABLED={code:"user-disabled",message:"The user record is disabled."},h.USER_NOT_DISABLED={code:"user-not-disabled",message:"The user must be disabled in order to bulk delete it (or you must pass force=true)."},h.INVALID_RECAPTCHA_ACTION={code:"invalid-recaptcha-action",message:'reCAPTCHA action must be "BLOCK".'},h.INVALID_RECAPTCHA_ENFORCEMENT_STATE={code:"invalid-recaptcha-enforcement-state",message:'reCAPTCHA enforcement state must be either "OFF", "AUDIT" or "ENFORCE".'},h.RECAPTCHA_NOT_ENABLED={code:"racaptcha-not-enabled",message:"reCAPTCHA enterprise is not enabled."};class f{}t.MessagingClientErrorCode=f,f.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},f.INVALID_RECIPIENT={code:"invalid-recipient",message:"Invalid message recipient provided."},f.INVALID_PAYLOAD={code:"invalid-payload",message:"Invalid message payload provided."},f.INVALID_DATA_PAYLOAD_KEY={code:"invalid-data-payload-key",message:"The data message payload contains an invalid key. See the reference documentation for the DataMessagePayload type for restricted keys."},f.PAYLOAD_SIZE_LIMIT_EXCEEDED={code:"payload-size-limit-exceeded",message:"The provided message payload exceeds the FCM size limits. See the error documentation for more details."},f.INVALID_OPTIONS={code:"invalid-options",message:"Invalid message options provided."},f.INVALID_REGISTRATION_TOKEN={code:"invalid-registration-token",message:"Invalid registration token provided. Make sure it matches the registration token the client app receives from registering with FCM."},f.REGISTRATION_TOKEN_NOT_REGISTERED={code:"registration-token-not-registered",message:"The provided registration token is not registered. A previously valid registration token can be unregistered for a variety of reasons. See the error documentation for more details. Remove this registration token and stop using it to send messages."},f.MISMATCHED_CREDENTIAL={code:"mismatched-credential",message:"The credential used to authenticate this SDK does not have permission to send messages to the device corresponding to the provided registration token. Make sure the credential and registration token both belong to the same Firebase project."},f.INVALID_PACKAGE_NAME={code:"invalid-package-name",message:'The message was addressed to a registration token whose package name does not match the provided "restrictedPackageName" option.'},f.DEVICE_MESSAGE_RATE_EXCEEDED={code:"device-message-rate-exceeded",message:"The rate of messages to a particular device is too high. Reduce the number of messages sent to this device and do not immediately retry sending to this device."},f.TOPICS_MESSAGE_RATE_EXCEEDED={code:"topics-message-rate-exceeded",message:"The rate of messages to subscribers to a particular topic is too high. Reduce the number of messages sent for this topic, and do not immediately retry sending to this topic."},f.MESSAGE_RATE_EXCEEDED={code:"message-rate-exceeded",message:"Sending limit exceeded for the message target."},f.THIRD_PARTY_AUTH_ERROR={code:"third-party-auth-error",message:"A message targeted to an iOS device could not be sent because the required APNs SSL certificate was not uploaded or has expired. Check the validity of your development and production certificates."},f.TOO_MANY_TOPICS={code:"too-many-topics",message:"The maximum number of topics the provided registration token can be subscribed to has been exceeded."},f.AUTHENTICATION_ERROR={code:"authentication-error",message:"An error occurred when trying to authenticate to the FCM servers. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions."},f.SERVER_UNAVAILABLE={code:"server-unavailable",message:"The FCM server could not process the request in time. See the error documentation for more details."},f.INTERNAL_ERROR={code:"internal-error",message:"An internal error has occurred. Please retry the request."},f.UNKNOWN_ERROR={code:"unknown-error",message:"An unknown server error was returned."};class g{}t.InstallationsClientErrorCode=g,g.INVALID_ARGUMENT={code:"invalid-argument",message:"Invalid argument provided."},g.INVALID_PROJECT_ID={code:"invalid-project-id",message:"Invalid project ID provided."},g.INVALID_INSTALLATION_ID={code:"invalid-installation-id",message:"Invalid installation ID provided."},g.API_ERROR={code:"api-error",message:"Installation ID API call failed."};class m extends g{}t.InstanceIdClientErrorCode=m,m.INVALID_INSTANCE_ID={code:"invalid-instance-id",message:"Invalid instance ID provided."};const y={BILLING_NOT_ENABLED:"BILLING_NOT_ENABLED",CLAIMS_TOO_LARGE:"CLAIMS_TOO_LARGE",CONFIGURATION_EXISTS:"CONFIGURATION_EXISTS",CONFIGURATION_NOT_FOUND:"CONFIGURATION_NOT_FOUND",INSUFFICIENT_PERMISSION:"INSUFFICIENT_PERMISSION",INVALID_CONFIG:"INVALID_CONFIG",INVALID_CONFIG_ID:"INVALID_PROVIDER_ID",INVALID_CONTINUE_URI:"INVALID_CONTINUE_URI",INVALID_DYNAMIC_LINK_DOMAIN:"INVALID_DYNAMIC_LINK_DOMAIN",INVALID_HOSTING_LINK_DOMAIN:"INVALID_HOSTING_LINK_DOMAIN",DUPLICATE_EMAIL:"EMAIL_ALREADY_EXISTS",DUPLICATE_LOCAL_ID:"UID_ALREADY_EXISTS",DUPLICATE_MFA_ENROLLMENT_ID:"SECOND_FACTOR_UID_ALREADY_EXISTS",EMAIL_EXISTS:"EMAIL_ALREADY_EXISTS",EMAIL_NOT_FOUND:"EMAIL_NOT_FOUND",FORBIDDEN_CLAIM:"FORBIDDEN_CLAIM",INVALID_CLAIMS:"INVALID_CLAIMS",INVALID_DURATION:"INVALID_SESSION_COOKIE_DURATION",INVALID_EMAIL:"INVALID_EMAIL",INVALID_NEW_EMAIL:"INVALID_NEW_EMAIL",INVALID_DISPLAY_NAME:"INVALID_DISPLAY_NAME",INVALID_ID_TOKEN:"INVALID_ID_TOKEN",INVALID_NAME:"INVALID_NAME",INVALID_OAUTH_CLIENT_ID:"INVALID_OAUTH_CLIENT_ID",INVALID_PAGE_SELECTION:"INVALID_PAGE_TOKEN",INVALID_PHONE_NUMBER:"INVALID_PHONE_NUMBER",INVALID_PROJECT_ID:"INVALID_PROJECT_ID",INVALID_PROVIDER_ID:"INVALID_PROVIDER_ID",INVALID_SERVICE_ACCOUNT:"INVALID_SERVICE_ACCOUNT",INVALID_TESTING_PHONE_NUMBER:"INVALID_TESTING_PHONE_NUMBER",INVALID_TENANT_TYPE:"INVALID_TENANT_TYPE",MISSING_ANDROID_PACKAGE_NAME:"MISSING_ANDROID_PACKAGE_NAME",MISSING_CONFIG:"MISSING_CONFIG",MISSING_CONFIG_ID:"MISSING_PROVIDER_ID",MISSING_DISPLAY_NAME:"MISSING_DISPLAY_NAME",MISSING_EMAIL:"MISSING_EMAIL",MISSING_IOS_BUNDLE_ID:"MISSING_IOS_BUNDLE_ID",MISSING_ISSUER:"MISSING_ISSUER",MISSING_LOCAL_ID:"MISSING_UID",MISSING_OAUTH_CLIENT_ID:"MISSING_OAUTH_CLIENT_ID",MISSING_PROVIDER_ID:"MISSING_PROVIDER_ID",MISSING_SAML_RELYING_PARTY_CONFIG:"MISSING_SAML_RELYING_PARTY_CONFIG",MISSING_USER_ACCOUNT:"MISSING_UID",OPERATION_NOT_ALLOWED:"OPERATION_NOT_ALLOWED",PERMISSION_DENIED:"INSUFFICIENT_PERMISSION",PHONE_NUMBER_EXISTS:"PHONE_NUMBER_ALREADY_EXISTS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",QUOTA_EXCEEDED:"QUOTA_EXCEEDED",SECOND_FACTOR_LIMIT_EXCEEDED:"SECOND_FACTOR_LIMIT_EXCEEDED",TENANT_NOT_FOUND:"TENANT_NOT_FOUND",TENANT_ID_MISMATCH:"MISMATCHING_TENANT_ID",TOKEN_EXPIRED:"ID_TOKEN_EXPIRED",UNAUTHORIZED_DOMAIN:"UNAUTHORIZED_DOMAIN",UNSUPPORTED_FIRST_FACTOR:"UNSUPPORTED_FIRST_FACTOR",UNSUPPORTED_SECOND_FACTOR:"UNSUPPORTED_SECOND_FACTOR",UNSUPPORTED_TENANT_OPERATION:"UNSUPPORTED_TENANT_OPERATION",UNVERIFIED_EMAIL:"UNVERIFIED_EMAIL",USER_NOT_FOUND:"USER_NOT_FOUND",USER_DISABLED:"USER_DISABLED",WEAK_PASSWORD:"INVALID_PASSWORD",INVALID_RECAPTCHA_ACTION:"INVALID_RECAPTCHA_ACTION",INVALID_RECAPTCHA_ENFORCEMENT_STATE:"INVALID_RECAPTCHA_ENFORCEMENT_STATE",RECAPTCHA_NOT_ENABLED:"RECAPTCHA_NOT_ENABLED"},v={InvalidParameters:"INVALID_ARGUMENT",MismatchSenderId:"MISMATCHED_CREDENTIAL",Unavailable:"SERVER_UNAVAILABLE",InternalServerError:"INTERNAL_ERROR",InvalidRegistration:"INVALID_REGISTRATION_TOKEN",NotRegistered:"REGISTRATION_TOKEN_NOT_REGISTERED",InvalidPackageName:"INVALID_PACKAGE_NAME",MessageTooBig:"PAYLOAD_SIZE_LIMIT_EXCEEDED",InvalidDataKey:"INVALID_DATA_PAYLOAD_KEY",InvalidTtl:"INVALID_OPTIONS",DeviceMessageRateExceeded:"DEVICE_MESSAGE_RATE_EXCEEDED",TopicsMessageRateExceeded:"TOPICS_MESSAGE_RATE_EXCEEDED",InvalidApnsCredential:"THIRD_PARTY_AUTH_ERROR",NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",PERMISSION_DENIED:"MISMATCHED_CREDENTIAL",RESOURCE_EXHAUSTED:"MESSAGE_RATE_EXCEEDED",UNAUTHENTICATED:"THIRD_PARTY_AUTH_ERROR",APNS_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",INTERNAL:"INTERNAL_ERROR",INVALID_ARGUMENT:"INVALID_ARGUMENT",QUOTA_EXCEEDED:"MESSAGE_RATE_EXCEEDED",SENDER_ID_MISMATCH:"MISMATCHED_CREDENTIAL",THIRD_PARTY_AUTH_ERROR:"THIRD_PARTY_AUTH_ERROR",UNAVAILABLE:"SERVER_UNAVAILABLE",UNREGISTERED:"REGISTRATION_TOKEN_NOT_REGISTERED",UNSPECIFIED_ERROR:"UNKNOWN_ERROR"},b={NOT_FOUND:"REGISTRATION_TOKEN_NOT_REGISTERED",INVALID_ARGUMENT:"INVALID_REGISTRATION_TOKEN",TOO_MANY_TOPICS:"TOO_MANY_TOPICS",RESOURCE_EXHAUSTED:"TOO_MANY_TOPICS",PERMISSION_DENIED:"AUTHENTICATION_ERROR",DEADLINE_EXCEEDED:"SERVER_UNAVAILABLE",INTERNAL:"INTERNAL_ERROR",UNKNOWN:"UNKNOWN_ERROR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWSSignatureVerificationFailed=t.JWKSTimeout=t.JWKSMultipleMatchingKeys=t.JWKSNoMatchingKey=t.JWKSInvalid=t.JWKInvalid=t.JWTInvalid=t.JWSInvalid=t.JWEInvalid=t.JWEDecompressionFailed=t.JWEDecryptionFailed=t.JOSENotSupported=t.JOSEAlgNotAllowed=t.JWTExpired=t.JWTClaimValidationFailed=t.JOSEError=void 0;class n extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}t.JOSEError=n;t.JWTClaimValidationFailed=class extends n{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}};t.JWTExpired=class extends n{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}};t.JOSEAlgNotAllowed=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}};t.JOSENotSupported=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}};t.JWEDecryptionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}};t.JWEDecompressionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}};t.JWEInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}};t.JWSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}};t.JWTInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};t.JWKInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}};t.JWKSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}};t.JWKSNoMatchingKey=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}};t.JWKSMultipleMatchingKeys=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}},Symbol.asyncIterator;t.JWKSTimeout=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}};t.JWSSignatureVerificationFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.isBuffer=function(e){return e instanceof Buffer},t.isArray=o,t.isNonEmptyArray=function(e){return o(e)&&0!==e.length},t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isString=i,t.isBase64String=function(e){if(!i(e))return!1;return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},t.isNonEmptyString=a,t.isObject=s,t.isNonNullObject=function(e){return s(e)&&null!==e},t.isUid=function(e){return"string"==typeof e&&e.length>0&&e.length<=128},t.isPassword=function(e){return"string"==typeof e&&e.length>=6},t.isEmail=function(e){if("string"!=typeof e)return!1;return/^[^@]+@[^@]+$/.test(e)},t.isPhoneNumber=function(e){if("string"!=typeof e)return!1;return/^\+/.test(e)&&/[\da-zA-Z]+/.test(e)},t.isISODateString=function(e){try{return a(e)&&new Date(e).toISOString()===e}catch(e){return!1}},t.isUTCDateString=function(e){try{return a(e)&&new Date(e).toUTCString()===e}catch(e){return!1}},t.isURL=function(e){if("string"!=typeof e)return!1;if(/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(e))return!1;try{const t=n.parse(e),r=t.protocol,o=t.slashes,i=t.hostname,a=t.pathname;if("http:"!==r&&"https:"!==r||!o)return!1;if(!i||!/^[a-zA-Z0-9]+[\w-]*([.]?[a-zA-Z0-9]+[\w-]*)*$/.test(i))return!1;const s=/^(\/[\w\-.~!$'()*+,;=:@%]+)*\/?$/;if(a&&"/"!==a&&!s.test(a))return!1}catch(e){return!1}return!0},t.isTopic=function(e){if("string"!=typeof e)return!1;return/^(\/topics\/)?(private\/)?[a-zA-Z0-9-_.~%]+$/.test(e)},t.isTaskId=function(e){if("string"!=typeof e)return!1;return/^[A-Za-z0-9_-]+$/.test(e)};const n=r(11);function o(e){return Array.isArray(e)}function i(e){return"string"==typeof e}function a(e){return i(e)&&""!==e}function s(e){return"object"==typeof e&&!o(e)}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";var n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(n||(t.Status=n={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(o||(t.LogVerbosity=o={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},function(e,t,r){var n=r(5),o=r(495),i=e.exports=n.util=n.util||{};function a(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function s(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(i.isArrayBuffer(e)||i.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof s||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)return i.nextTick=process.nextTick,void("function"==typeof setImmediate?i.setImmediate=setImmediate:i.setImmediate=i.nextTick);if("function"==typeof setImmediate)return i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(i.nextTick=function(e){return setImmediate(e)});if(i.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];i.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),n=!0,o=document.createElement("div");t=[];new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(o,{attributes:!0});var a=i.setImmediate;i.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),a(e)):(t.push(e),1===t.length&&o.setAttribute("a",n=!n))}}i.nextTick=i.setImmediate}(),i.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,i.globalScope=i.isNodejs?global:"undefined"==typeof self?window:self,i.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},i.isArrayBufferView=function(e){return e&&i.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},i.ByteBuffer=s,i.ByteStringBuffer=s;i.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},i.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},i.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},i.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(i.encodeUtf8(e))},i.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},i.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},i.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},i.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},i.ByteStringBuffer.prototype.putInt=function(e,t){a(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},i.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},i.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},i.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},i.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},i.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},i.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},i.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},i.ByteStringBuffer.prototype.getInt=function(e){a(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},i.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},i.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},i.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},i.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},i.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var e=i.createBuffer(this.data);return e.read=this.read,e},i.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())},i.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=i.isArrayBuffer(e),n=i.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},i.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},i.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},i.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},i.DataBuffer.prototype.putBytes=function(e,t){if(i.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(i.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof i.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&i.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof i.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var o;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(e,o,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(e,o,this.write),this;if("utf8"===t&&(e=i.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(o),this;if("utf16"===t)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},i.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},i.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},i.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(e,t){a(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},i.DataBuffer.prototype.putSignedInt=function(e,t){return a(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},i.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},i.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},i.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},i.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},i.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},i.DataBuffer.prototype.getInt=function(e){a(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},i.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},i.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},i.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},i.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},i.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},i.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return i.binary.raw.encode(t);if("hex"===e)return i.binary.hex.encode(t);if("base64"===e)return i.binary.base64.encode(t);if("utf8"===e)return i.text.utf8.decode(t);if("utf16"===e)return i.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},i.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=i.encodeUtf8(e)),new i.ByteBuffer(e)},i.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},i.xorBytes=function(e,t,r){for(var n="",o="",i="",a=0,s=0;r>0;--r,++a)o=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=i,i="",s=0),i+=String.fromCharCode(o),++s;return n+=i},i.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},i.bytesToHex=function(e){return i.createBuffer(e).toHex()},i.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],c="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(e,t){for(var r,n,o,i="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),o=e.charCodeAt(s++),i+=l.charAt(r>>2),i+=l.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=l.charAt((15&n)<<2|o>>6),i+=isNaN(o)?"=":l.charAt(63&o)),t&&i.length>t&&(a+=i.substr(0,t)+"\r\n",i=i.substr(t));return a+=i},i.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,o,i="",a=0;a<e.length;)t=p[e.charCodeAt(a++)-43],r=p[e.charCodeAt(a++)-43],n=p[e.charCodeAt(a++)-43],o=p[e.charCodeAt(a++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==o&&(i+=String.fromCharCode((3&n)<<6|o)));return i},i.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},i.decodeUtf8=function(e){return decodeURIComponent(escape(e))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:o.encode,decode:o.decode}},i.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},i.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var o=r=r||0,i=0;i<e.length;++i)n[o++]=e.charCodeAt(i);return t?o-r:n},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var o=0,i=r=r||0;for(1&e.length&&(o=1,n[i++]=parseInt(e[0],16));o<e.length;o+=2)n[i++]=parseInt(e.substr(o,2),16);return t?i-r:n},i.binary.base64.encode=function(e,t){for(var r,n,o,i="",a="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],o=e[s++],i+=l.charAt(r>>2),i+=l.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=l.charAt((15&n)<<2|o>>6),i+=isNaN(o)?"=":l.charAt(63&o)),t&&i.length>t&&(a+=i.substr(0,t)+"\r\n",i=i.substr(t));return a+=i},i.binary.base64.decode=function(e,t,r){var n,o,i,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var l=0,c=r=r||0;l<e.length;)n=p[e.charCodeAt(l++)-43],o=p[e.charCodeAt(l++)-43],i=p[e.charCodeAt(l++)-43],a=p[e.charCodeAt(l++)-43],s[c++]=n<<2|o>>4,64!==i&&(s[c++]=(15&o)<<4|i>>2,64!==a&&(s[c++]=(3&i)<<6|a));return t?c-r:s.subarray(0,c)},i.binary.base58.encode=function(e,t){return i.binary.baseN.encode(e,c,t)},i.binary.base58.decode=function(e,t){return i.binary.baseN.decode(e,c,t)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(e,t,r){e=i.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var o=r=r||0,a=0;a<e.length;++a)n[o++]=e.charCodeAt(a);return t?o-r:n},i.text.utf8.decode=function(e){return i.decodeUtf8(String.fromCharCode.apply(null,e))},i.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var o=new Uint16Array(n.buffer),i=r=r||0,a=r,s=0;s<e.length;++s)o[a++]=e.charCodeAt(s),i+=2;return t?i-r:n},i.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},i.deflate=function(e,t,r){if(t=i.decode64(e.deflate(i.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},i.inflate=function(e,t,r){var n=e.inflate(i.encode64(t)).rval;return null===n?null:i.decode64(n)};var u=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=i.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var o=new Error(n.error.message);throw o.id=n.error.id,o.name=n.error.name,o}},d=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(i.decode64(r))),r},h=function(e,t,r,n){var o=d(e,t);null===o&&(o={}),o[r]=n,u(e,t,o)},f=function(e,t,r){var n=d(e,t);return null!==n&&(n=r in n?n[r]:null),n},g=function(e,t,r){var n=d(e,t);if(null!==n&&r in n){delete n[r];var o=!0;for(var i in n){o=!1;break}o&&(n=null),u(e,t,n)}},m=function(e,t){u(e,t,null)},y=function(e,t,r){var n,o=null;void 0===r&&(r=["web","flash"]);var i=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");o=e.apply(this,t),i="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,o=e.apply(this,t),i=!0)}catch(e){a=e}if(i)break}if(!i)throw a;return o};i.setItem=function(e,t,r,n,o){y(h,arguments,o)},i.getItem=function(e,t,r,n){return y(f,arguments,n)},i.removeItem=function(e,t,r,n){y(g,arguments,n)},i.clearItems=function(e,t,r){y(m,arguments,r)},i.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},i.format=function(e){for(var t,r,n=/%./g,o=0,i=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&i.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":o<arguments.length?i.push(arguments[1+o++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+s+"?>")}}return i.push(e.substring(a)),i.join("")},i.formatNumber=function(e,t,r,n){var o=e,i=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,l=o<0?"-":"",p=parseInt(o=Math.abs(+o||0).toFixed(i),10)+"",c=p.length>3?p.length%3:0;return l+(c?p.substr(0,c)+s:"")+p.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(i?a+Math.abs(o-p).toFixed(i).slice(2):"")},i.formatSize=function(e){return e=e>=1073741824?i.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?i.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?i.formatNumber(e/1024,0)+" KiB":i.formatNumber(e,0)+" bytes"},i.bytesFromIP=function(e){return-1!==e.indexOf(".")?i.bytesFromIPv4(e):-1!==e.indexOf(":")?i.bytesFromIPv6(e):null},i.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=i.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},i.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=i.createBuffer(),o=0;o<8;++o)if(e[o]&&0!==e[o].length){var a=i.hexToBytes(e[o]);a.length<2&&n.putByte(0),n.putBytes(a)}else n.fillWithByte(0,r),r=0;return n.getBytes()},i.bytesToIP=function(e){return 4===e.length?i.bytesToIPv4(e):16===e.length?i.bytesToIPv6(e):null},i.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},i.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,o=0;o<e.length;o+=2){for(var a=i.bytesToHex(e[o]+e[o+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var s=r[r.length-1],l=t.length;s&&l===s.end+1?(s.end=l,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:l,end:l})}t.push(a)}if(r.length>0){var p=r[n];p.end-p.start>0&&(t.splice(p.start,p.end-p.start+1,""),0===p.start&&t.unshift(""),7===p.end&&t.push(""))}return t.join(":")},i.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in i&&!e.update)return t(null,i.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i.cores=navigator.hardwareConcurrency,t(null,i.cores);if("undefined"==typeof Worker)return i.cores=1,t(null,i.cores);if("undefined"==typeof Blob)return i.cores=2,t(null,i.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(n,o,a){if(0===o){var s=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return i.cores=Math.max(1,s),URL.revokeObjectURL(r),t(null,i.cores)}!function(e,t){for(var n=[],o=[],i=0;i<e;++i){var a=new Worker(r);a.addEventListener("message",(function(r){if(o.push(r.data),o.length===e){for(var i=0;i<e;++i)n[i].terminate();t(null,o)}})),n.push(a)}for(i=0;i<e;++i)n[i].postMessage(i)}(a,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var o=t[n],i=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(o.st>s.st&&o.st<s.et||s.st>o.st&&s.st<o.et)&&i.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(a,r)),e(n,o-1,a)}))}([],5,16)}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.getSdkVersion=a,t.getMetricsHeader=function(){return`gl-node/${process.versions.node} fire-admin/${a()}`},t.renameProperties=function(e,t){Object.keys(t).forEach(r=>{if(r in e){const n=t[r];e[n]=e[r],delete e[r]}})},t.addReadonlyGetter=function(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,enumerable:!0})},t.getExplicitProjectId=s,t.findProjectId=function(e){const t=s(e);if(t)return Promise.resolve(t);const r=e.options.credential;if(r instanceof n.ApplicationDefaultCredential)return r.getProjectId();return Promise.resolve(null)},t.getExplicitServiceAccountEmail=l,t.findServiceAccountEmail=function(e){const t=l(e);if(t)return Promise.resolve(t);const r=e.options.credential;if(r instanceof n.ApplicationDefaultCredential)return r.getServiceAccountEmail();return Promise.resolve(null)},t.toWebSafeBase64=function(e){return e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")},t.formatString=function(e,t){let r=e;return Object.keys(t||{}).forEach(e=>{r=r.replace(new RegExp("{"+e+"}","g"),t[e])}),r},t.generateUpdateMask=function e(t,r=[],n=""){const i=[];if(!o.isNonNullObject(t))return i;for(const o in t)if(void 0!==t[o]){const a=n?`${n}.${o}`:o;if(-1!==r.indexOf(a))i.push(o);else{const n=e(t[o],r,a);n.length>0?n.forEach(e=>{i.push(`${o}.${e}`)}):i.push(o)}}return i},t.transformMillisecondsToSecondsString=function(e){let t;const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));if(n>0){let e=n.toString();for(;e.length<9;)e="0"+e;t=`${r}.${e}s`}else t=r+"s";return t},t.parseResourceName=function(e,t){if(!e.includes("/"))return{resourceId:e};const r=new RegExp(`^(projects/([^/]+)/)?locations/([^/]+)/${t}/([^/]+)$`).exec(e);if(null===r)throw new Error("Invalid resource name format.");const n=r[2],o=r[3],i=r[4];return{projectId:n,locationId:o,resourceId:i}};const n=r(62),o=r(4);let i;function a(){if(!i){const{version:e}=r(506);i=e}return i}function s(e){const t=e.options;if(o.isNonEmptyString(t.projectId))return t.projectId;const r=e.options.credential;if(r instanceof n.ServiceAccountCredential)return r.projectId;const i=process.env.GOOGLE_CLOUD_PROJECT||process.env.GCLOUD_PROJECT;return o.isNonEmptyString(i)?i:null}function l(e){const t=e.options;if(o.isNonEmptyString(t.serviceAccountId))return t.serviceAccountId;const r=e.options.credential;return r instanceof n.ServiceAccountCredential?r.clientEmail:null}},function(e,t,r){"use strict";var n,o,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0,t.trace=function(e,r,n){m(r)&&(0,t.log)(e,(new Date).toISOString()+" | v"+p+" "+l.pid+" | "+r+" | "+n)},t.isTracerEnabled=m;const s=r(7),l=r(720),p=r(224).version;let c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},u=s.LogVerbosity.ERROR;switch((null!==(o=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==o?o:"").toUpperCase()){case"DEBUG":u=s.LogVerbosity.DEBUG;break;case"INFO":u=s.LogVerbosity.INFO;break;case"ERROR":u=s.LogVerbosity.ERROR;break;case"NONE":u=s.LogVerbosity.NONE}t.getLogger=()=>c;t.setLogger=e=>{c=e};t.setLoggerVerbosity=e=>{u=e};t.log=(e,...t)=>{let r;if(e>=u){switch(e){case s.LogVerbosity.DEBUG:r=c.debug;break;case s.LogVerbosity.INFO:r=c.info;break;case s.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};const d=null!==(a=null!==(i=process.env.GRPC_NODE_TRACE)&&void 0!==i?i:process.env.GRPC_TRACE)&&void 0!==a?a:"",h=new Set,f=new Set;for(const e of d.split(","))e.startsWith("-")?f.add(e.substring(1)):h.add(e);const g=h.has("all");function m(e){return!f.has(e)&&(g||h.has(e))}},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatKdf=t.lengthAndInput=t.uint32be=t.uint64be=t.p2s=t.concat=t.decoder=t.encoder=void 0;const n=r(309);t.encoder=new TextEncoder,t.decoder=new TextDecoder;function o(...e){const t=e.reduce((e,{length:t})=>e+t,0),r=new Uint8Array(t);let n=0;return e.forEach(e=>{r.set(e,n),n+=e.length}),r}function i(e,t,r){if(t<0||t>=2**32)throw new RangeError("value must be >= 0 and <= 4294967295. Received "+t);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function a(e){const t=new Uint8Array(4);return i(t,e),t}t.concat=o,t.p2s=function(e,r){return o(t.encoder.encode(e),new Uint8Array([0]),r)},t.uint64be=function(e){const t=Math.floor(e/2**32),r=e%2**32,n=new Uint8Array(8);return i(n,t,0),i(n,r,4),n},t.uint32be=a,t.lengthAndInput=function(e){return o(a(e.length),e)},t.concatKdf=async function(e,t,r){const o=Math.ceil((t>>3)/32),i=new Uint8Array(32*o);for(let t=0;t<o;t++){const o=new Uint8Array(4+e.length+r.length);o.set(a(t+1)),o.set(e,4),o.set(r,4+e.length),i.set(await(0,n.default)("sha256",o),32*t)}return i.slice(0,t>>3)}},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0,t.autoId=i,t.requestTag=function(){return i().substr(0,5)},t.isObject=a,t.isPlainObject=function(e){return a(e)&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e)||"Object"===e.constructor.name)},t.isEmpty=function(e){return 0===Object.keys(e).length},t.isFunction=function(e){return"function"==typeof e},t.isPermanentRpcError=function(e,t){if(void 0!==e.code){return-1===p(t).indexOf(e.code)}return!1},t.getRetryCodes=p,t.getTotalTimeout=function(e){var t,r,n,o;return null!==(o=null===(n=null===(r=null===(t=l(e))||void 0===t?void 0:t.retry)||void 0===r?void 0:r.backoffSettings)||void 0===n?void 0:n.totalTimeoutMillis)&&void 0!==o?o:0},t.getRetryParams=function(e){var t,n,o;return null!==(o=null===(n=null===(t=l(e))||void 0===t?void 0:t.retry)||void 0===n?void 0:n.backoffSettings)&&void 0!==o?o:r(49).createDefaultBackoffSettings()},t.silencePromise=function(e){return e.then(()=>{},()=>{})},t.wrapError=function(e,t){return e.stack+="\nCaused by: "+t,e},t.tryGetPreferRestEnvironmentVariable=function(){var e;const t=null===(e=process.env.FIRESTORE_PREFER_REST)||void 0===e?void 0:e.trim().toLowerCase();return void 0===t?void 0:"1"===t||"true"===t||"0"!==t&&"false"!==t&&void console.warn(`An unsupported value was specified for the environment variable FIRESTORE_PREFER_REST. Value ${t} is unsupported.`)},t.mapToArray=function(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!e[r].isEqual(t[r]))return!1;return!0},t.isPrimitiveArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0};const n=r(0),o=r(144);function i(){let e="";for(;e.length<20;){(0,n.randomBytes)(40).forEach(t=>{e.length<20&&t<=247&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(t%62))})}return e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}let s;function l(e){return s||(s=r(49).constructSettings("google.firestore.v1.Firestore",o,{},r(39).Status)),s[e]}function p(e){var t,r,n;return null!==(n=null===(r=null===(t=l(e))||void 0===t?void 0:t.retry)||void 0===r?void 0:r.retryCodes)&&void 0!==n?n:[]}t.Deferred=class{constructor(){this.resolve=()=>{},this.reject=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.customObjectMessage=function(e,t,r){const n=r?` (found in field "${r}")`:"";if(!(0,o.isObject)(t))return`${s(e,"Firestore document")} Input is not a plain JavaScript object${n}.`;{const r=t.constructor.name;switch(r){case"DocumentReference":case"FieldPath":case"FieldValue":case"GeoPoint":case"Timestamp":return`${s(e,"Firestore document")} Detected an object of type "${r}" that doesn't match the expected instance${n}. Please ensure that the Firestore types you are using are from the same NPM package.)`;case"Object":return`${s(e,"Firestore document")} Invalid use of type "${typeof t}" as a Firestore argument${n}.`;default:return`${s(e,"Firestore document")} Couldn't serialize object of type "${r}"${n}. Firestore doesn't support JavaScript objects with custom prototypes (i.e. objects that were created via the "new" operator).`}}},t.validateFunction=function(e,t,r){if(!l(t,r)&&!(0,o.isFunction)(t))throw new Error(s(e,"function"))},t.validateObject=function(e,t,r){if(!l(t,r)&&!(0,o.isObject)(t))throw new Error(s(e,"object"))},t.validateString=a,t.validateHost=function(e,t,r){if(!l(t,r)){a(e,t);const r=`http://${t}/`;let o;try{o=new n.URL(r)}catch(t){throw new Error(s(e,"host"))}if(""!==o.search||"/"!==o.pathname||""!==o.username)throw new Error(s(e,"host"))}},t.validateBoolean=function(e,t,r){if(!l(t,r)&&"boolean"!=typeof t)throw new Error(s(e,"boolean"))},t.validateNumber=function(e,t,r){const n=void 0!==r&&void 0!==r.minValue?r.minValue:-1/0,o=void 0!==r&&void 0!==r.maxValue?r.maxValue:1/0;if(!l(t,r)){if("number"!=typeof t||isNaN(t))throw new Error(s(e,"number"));if(t<n||t>o)throw new Error(`${c(e)} must be within [${n}, ${o}] inclusive, but was: ${t}`)}},t.validateInteger=function(e,t,r){const n=void 0!==r&&void 0!==r.minValue?r.minValue:-1/0,o=void 0!==r&&void 0!==r.maxValue?r.maxValue:1/0;if(!l(t,r)){if("number"!=typeof t||isNaN(t)||t%1!=0)throw new Error(s(e,"integer"));if(t<n||t>o)throw new Error(`${c(e)} must be within [${n}, ${o}] inclusive, but was: ${t}`)}},t.validateTimestamp=function(e,t,r){if(!(l(t,r)||t instanceof i.Timestamp))throw new Error(s(e,"Timestamp"))},t.invalidArgumentMessage=s,t.validateOptional=l,t.validateMinNumberOfArguments=function(e,t,r){if(t.length<r)throw new Error(`Function "${e}()" requires at least `+p(r,"argument")+".")},t.validateMaxNumberOfArguments=function(e,t,r){if(t.length>r)throw new Error(`Function "${e}()" accepts at most `+p(r,"argument")+".")},t.validateEnumValue=function(e,t,r,n){if(!l(t,n)){const n=[];for(const e of r){if(e===t)return;n.push(e)}throw new Error(`${c(e)} is invalid. Acceptable values are: ${n.join(", ")}`)}};const n=r(11),o=r(13),i=r(41);function a(e,t,r){if(!l(t,r)&&"string"!=typeof t)throw new Error(s(e,"string"))}function s(e,t){return`${c(e)} is not a valid ${t}.`}function l(e,t){return void 0===e&&void 0!==t&&!0===t.optional}function p(e,t){return`${e} ${t}`+(1===e?"":"s")}function c(e){return"string"==typeof e?`Value for argument "${e}"`:"Element at index "+e}},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FieldPath=t.QualifiedResourcePath=t.ResourcePath=t.DEFAULT_DATABASE_ID=void 0,t.validateResourcePath=function(e,t){if("string"!=typeof t||""===t)throw new Error((0,o.invalidArgumentMessage)(e,"resource path")+" Path must be a non-empty string.");if(t.indexOf("//")>=0)throw new Error((0,o.invalidArgumentMessage)(e,"resource path")+" Paths must not contain //.")},t.validateFieldPath=function(e,t){if(t instanceof u)return;if(void 0===t)throw new Error((0,o.invalidArgumentMessage)(e,"field path")+" The path cannot be omitted.");if((0,n.isObject)(t)&&"FieldPath"===t.constructor.name)throw new Error((0,o.customObjectMessage)(e,t));if("string"!=typeof t)throw new Error((0,o.invalidArgumentMessage)(e,"field path")+" Paths can only be specified as strings or via a FieldPath object.");if(t.indexOf("..")>=0)throw new Error((0,o.invalidArgumentMessage)(e,"field path")+' Paths must not contain ".." in them.');if(t.startsWith(".")||t.endsWith("."))throw new Error((0,o.invalidArgumentMessage)(e,"field path")+' Paths must not start or end with ".".');if(!s.test(t))throw new Error((0,o.invalidArgumentMessage)(e,"field path")+' Paths can\'t be empty and must not contain\n    "*~/[]".')};const n=r(13),o=r(14);
/*!
 * The default database ID for this Firestore client. We do not yet expose the
 * ability to use different databases.
 */
t.DEFAULT_DATABASE_ID="(default)";
/*!
 * A regular expression to verify an absolute Resource Path in Firestore. It
 * extracts the project ID, the database name and the relative resource path
 * if available.
 *
 * @type {RegExp}
 */
const i=/^projects\/([^/]*)\/databases\/([^/]*)(?:\/documents\/)?([\s\S]*)$/,a=/^[_a-zA-Z][_a-zA-Z0-9]*$/,s=/^[^*~/[\]]+$/;
/*!
 * A regular expression to verify whether a field name can be passed to the
 * backend without escaping.
 *
 * @type {RegExp}
 */class l{constructor(e){this.segments=e}get size(){return this.segments.length}append(e){return e instanceof l?this.construct(this.segments.concat(e.segments)):this.construct(this.segments.concat(this.split(e)))}parent(){return 0===this.segments.length?null:this.construct(this.segments.slice(0,this.segments.length-1))}isPrefixOf(e){if(e.segments.length<this.segments.length)return!1;for(let t=0;t<this.segments.length;t++)if(this.segments[t]!==e.segments[t])return!1;return!0}compareTo(e){const t=Math.min(this.segments.length,e.segments.length);for(let r=0;r<t;r++){if(this.segments[r]<e.segments[r])return-1;if(this.segments[r]>e.segments[r])return 1}return this.segments.length<e.segments.length?-1:this.segments.length>e.segments.length?1:0}toArray(){return this.segments.slice()}popLast(){return this.segments.pop(),this.construct(this.segments)}isEqual(e){return this===e||0===this.compareTo(e)}}class p extends l{constructor(...e){super(e)}get isDocument(){return this.segments.length>0&&this.segments.length%2==0}get isCollection(){return this.segments.length%2==1}get id(){return this.segments.length>0?this.segments[this.segments.length-1]:null}get relativeName(){return this.segments.join("/")}construct(e){return new p(...e)}split(e){return e.split("/").filter(e=>e.length>0)}toQualifiedResourcePath(e,t){return new c(e,t,...this.segments)}}t.ResourcePath=p,p.EMPTY=new p;class c extends p{constructor(e,t,...r){super(...r),this.projectId=e,this.databaseId=t}get relativeName(){return this.segments.join("/")}static fromSlashSeparatedString(e){const t=i.exec(e);if(t){const e=t[1],r=t[2],n=t[3];return new c(e,r).append(n)}throw new Error(`Resource name '${e}' is not valid.`)}append(e){return super.append(e)}parent(){return super.parent()}get formattedName(){return["projects",this.projectId,"databases",this.databaseId,"documents",...this.segments].join("/")}construct(e){return new c(this.projectId,this.databaseId,...e)}toQualifiedResourcePath(){return this}compareTo(e){if(e instanceof c){if(this.projectId<e.projectId)return-1;if(this.projectId>e.projectId)return 1;if(this.databaseId<e.databaseId)return-1;if(this.databaseId>e.databaseId)return 1}return super.compareTo(e)}toProto(){return{referenceValue:this.formattedName}}}t.QualifiedResourcePath=c;class u extends l{constructor(...e){if(Array.isArray(e[0]))throw new Error("The FieldPath constructor no longer supports an array as its first argument. Please unpack your array and call FieldPath() with individual arguments.");(0,o.validateMinNumberOfArguments)("FieldPath",e,1);for(let t=0;t<e.length;++t)if((0,o.validateString)(t,e[t]),0===e[t].length)throw new Error(`Element at index ${t} should not be an empty string.`);super(e)}static documentId(){return u._DOCUMENT_ID}static fromArgument(e){return e instanceof u?e:new u(...e.split("."))}get formattedName(){return this.segments.map(e=>a.test(e)?e:"`"+e.replace("\\","\\\\").replace("`","\\`")+"`").join(".")}toString(){return this.formattedName}split(e){return e.split(".")}construct(e){return new u(...e)}isEqual(e){return super.isEqual(e)}}t.FieldPath=u,u._DOCUMENT_ID=new u("__name__")},function(e,t,r){"use strict";var n,o,i=e.exports=r(59),a=r(371);i.codegen=r(687),i.fetch=r(688),i.path=r(689),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var s=/\\/g,l=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(l,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var p=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(p,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(206));var o=new n(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var c=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=r(50));var t=new o("Enum"+c++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if("__proto__"===o||"prototype"===o)return t;if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(r(211)))}})},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("buffer")},function(e,t,r){const n=r(130),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(129),{safeRe:a,safeSrc:s,t:l}=r(103),p=r(177),{compareIdentifiers:c}=r(300);class u{constructor(e,t){if(t=p(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?a[l.LOOSE]:a[l.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(t){const e=new RegExp(`^${this.options.loose?s[l.PRERELEASELOOSE]:s[l.PRERELEASE]}$`),r=("-"+t).match(e);if(!r||r[1]!==t)throw new Error("invalid identifier: "+t)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodeBase64=t.decodeBase64=void 0;const n=r(18),o=r(12);let i;n.Buffer.isEncoding("base64url")?t.encode=i=e=>n.Buffer.from(e).toString("base64url"):t.encode=i=e=>n.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");t.decodeBase64=e=>n.Buffer.from(e,"base64");t.encodeBase64=e=>n.Buffer.from(e).toString("base64");t.decode=e=>n.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=o.decoder.decode(t)),t}(e),"base64")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const n=r(10),o=r(7),i=r(225),a=/^[0-9a-z_.-]+$/,s=/^[ -~]*$/;function l(e){return e.endsWith("-bin")}function p(e){return!e.startsWith("grpc-")}function c(e){return e.toLowerCase()}function u(e,t){if(!function(e){return a.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(l(e)){if(!Buffer.isBuffer(t))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return s.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class d{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){u(e=c(e),t),this.internalRepr.set(e,[t])}add(e,t){u(e=c(e),t);const r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=c(e),this.internalRepr.delete(e)}get(e){return e=c(e),this.internalRepr.get(e)||[]}getMap(){const e={};for(const[t,r]of this.internalRepr)if(r.length>0){const n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){const e=new d(this.options),t=e.internalRepr;for(const[e,r]of this.internalRepr){const n=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,n)}return e}merge(e){for(const[t,r]of e.internalRepr){const e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};for(const[t,r]of this.internalRepr)e[t]=r.map(h);return e}toJSON(){const e={};for(const[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){const t=new d;for(const r of Object.keys(e)){if(":"===r.charAt(0))continue;const a=e[r];try{l(r)?Array.isArray(a)?a.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==a&&(p(r)?a.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(a,"base64"))):Array.isArray(a)?a.forEach(e=>{t.add(r,e)}):void 0!==a&&t.add(r,a)}catch(e){const t=`Failed to add metadata entry ${r}: ${a}. ${(0,i.getErrorMessage)(e)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(o.LogVerbosity.ERROR,t)}}return t}}t.Metadata=d;const h=e=>Buffer.isBuffer(e)?e.toString("base64"):e},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.logger=function(e,t,r,...o){if(t=t||"#####",a){const s=n.format(r,...o),l=(new Date).toISOString();a(`Firestore (${i}) ${l} ${t} [${e}]: `+s)}},t.setLogFunction=function(e){null!==e&&(0,o.validateFunction)("logger",e);a=e},t.setLibVersion=function(e){i=e};const n=r(6),o=r(14);
/*! The Firestore library version */
let i,a=null;
/*! The external function used to emit logs. */},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=n(e[r],t[r]));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=function(e){return n(void 0,e)},t.deepExtend=n},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SessionHandler=t.ExponentialBackoffPoller=t.ApiSettings=t.AuthorizedHttp2Client=t.AuthorizedHttpClient=t.Http2Client=t.HttpClient=t.RequestClient=t.RequestResponseError=void 0,t.defaultRetryConfig=g,t.parseHttpResponse=function(e,t){const r=o.isBuffer(e)?e.toString("utf-8"):e,i=r.indexOf("\r\n\r\n"),a=r.substring(0,i).split("\r\n"),s=a[0].trim().split(/\s/)[1],l={};a.slice(1).forEach(e=>{const t=e.indexOf(":"),r=e.substring(0,t).trim().toLowerCase(),n=e.substring(t+1).trim();l[r]=n});let p=r.substring(i+4);p.endsWith("\n")&&(p=p.slice(0,-1));p.endsWith("\r")&&(p=p.slice(0,-1));const c={status:parseInt(s,10),headers:l,data:p,config:t,request:null};if(!o.isNumber(c.status))throw new n.FirebaseAppError(n.AppErrorCodes.INTERNAL_ERROR,"Malformed HTTP status line.");return new d(c)};const n=r(2),o=r(4),i=r(51),a=r(61),s=r(85),l=r(11),p=r(23),c=r(62),u=r(9);class d{constructor(e){this.status=e.status,this.headers=e.headers,this.text=e.data;try{if(!e.data)throw new n.FirebaseAppError(n.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");this.parsedData=JSON.parse(e.data)}catch(e){this.parsedData=void 0,this.parseError=e}this.request=`${e.config.method} ${e.config.url}`}get data(){if(this.isJson())return this.parsedData;throw new n.FirebaseAppError(n.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,`Error while parsing response data: "${this.parseError.toString()}". Raw server response: "${this.text}". Status code: "${this.status}". Outgoing request: "${this.request}."`)}isJson(){return void 0!==this.parsedData}}class h{constructor(e){this.status=e.status,this.headers=e.headers,this.multipart=e.multipart}get text(){throw new n.FirebaseAppError(n.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as text")}get data(){throw new n.FirebaseAppError(n.AppErrorCodes.UNABLE_TO_PARSE_RESPONSE,"Unable to parse multipart payload as JSON")}isJson(){return!1}}class f extends Error{constructor(e){super(`Server responded with status ${e.status}.`),this.response=e,Object.setPrototypeOf(this,f.prototype)}}function g(){return{maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}}t.RequestResponseError=f;class m{constructor(e={maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}){e&&(this.retry=e,function(e){if(!o.isNumber(e.maxRetries)||e.maxRetries<0)throw new n.FirebaseAppError(n.AppErrorCodes.INVALID_ARGUMENT,"maxRetries must be a non-negative integer");if(void 0!==e.backOffFactor&&(!o.isNumber(e.backOffFactor)||e.backOffFactor<0))throw new n.FirebaseAppError(n.AppErrorCodes.INVALID_ARGUMENT,"backOffFactor must be a non-negative number");if(!o.isNumber(e.maxDelayInMillis)||e.maxDelayInMillis<0)throw new n.FirebaseAppError(n.AppErrorCodes.INVALID_ARGUMENT,"maxDelayInMillis must be a non-negative integer");if(void 0!==e.statusCodes&&!o.isArray(e.statusCodes))throw new n.FirebaseAppError(n.AppErrorCodes.INVALID_ARGUMENT,"statusCodes must be an array");if(void 0!==e.ioErrorCodes&&!o.isArray(e.ioErrorCodes))throw new n.FirebaseAppError(n.AppErrorCodes.INVALID_ARGUMENT,"ioErrorCodes must be an array")}(this.retry))}createRequestResponse(e){return e.multipart?new h(e):new d(e)}waitForRetry(e){return e>0?new Promise(t=>{setTimeout(t,e)}):Promise.resolve()}getRetryDelayMillis(e,t){if(!this.isRetryEligible(e,t))return[0,!1];const r=t.response;if(r&&r.headers["retry-after"]){const e=this.parseRetryAfterIntoMillis(r.headers["retry-after"]);if(e>0)return[e,!0]}return[this.backOffDelayMillis(e),!0]}isRetryEligible(e,t){if(!this.retry)return!1;if(e>=this.retry.maxRetries)return!1;if(t.response){return-1!==(this.retry.statusCodes||[]).indexOf(t.response.status)}if(t.code){return-1!==(this.retry.ioErrorCodes||[]).indexOf(t.code)}return!1}parseRetryAfterIntoMillis(e){const t=parseInt(e,10);if(!isNaN(t))return 1e3*t;const r=new Date(e);return isNaN(r.getTime())?-1:r.getTime()-Date.now()}backOffDelayMillis(e){if(0===e)return 0;if(!this.retry)throw new n.FirebaseAppError(n.AppErrorCodes.INTERNAL_ERROR,"Expected this.retry to exist.");const t=2**e*(this.retry.backOffFactor||0);return Math.min(1e3*t,this.retry.maxDelayInMillis)}}t.RequestClient=m;class y extends m{constructor(e){super(e)}send(e){return this.sendWithRetry(e)}sendWithRetry(e,t=0){return E.invoke(e).then(e=>this.createRequestResponse(e)).catch(r=>{const[o,i]=this.getRetryDelayMillis(t,r);if(i&&this.retry&&o<=this.retry.maxDelayInMillis)return this.waitForRetry(o).then(()=>this.sendWithRetry(e,t+1));if(r.response)throw new f(this.createRequestResponse(r.response));if("ETIMEDOUT"===r.code)throw new n.FirebaseAppError(n.AppErrorCodes.NETWORK_TIMEOUT,`Error while making request: ${r.message}.`);throw new n.FirebaseAppError(n.AppErrorCodes.NETWORK_ERROR,`Error while making request: ${r.message}. Error code: ${r.code}`)})}}t.HttpClient=y;class v extends m{constructor(e={maxRetries:4,statusCodes:[503],ioErrorCodes:["ECONNRESET","ETIMEDOUT"],backOffFactor:.5,maxDelayInMillis:6e4}){super(e)}send(e){return this.sendWithRetry(e)}sendWithRetry(e,t=0){return _.invoke(e).then(e=>this.createRequestResponse(e)).catch(r=>{const[o,i]=this.getRetryDelayMillis(t,r);if(i&&this.retry&&o<=this.retry.maxDelayInMillis)return this.waitForRetry(o).then(()=>this.sendWithRetry(e,t+1));if(r.response)throw new f(this.createRequestResponse(r.response));if("ETIMEDOUT"===r.code)throw new n.FirebaseAppError(n.AppErrorCodes.NETWORK_TIMEOUT,`Error while making request: ${r.message}.`);throw new n.FirebaseAppError(n.AppErrorCodes.NETWORK_ERROR,`Error while making request: ${r.message}. Error code: ${r.code}`)})}}t.Http2Client=v;class b{constructor(e){this.configImpl=e}getMultipartBoundary(e){const t=e["content-type"];if(!t||!t.startsWith("multipart/"))return null;return t.split(";").slice(1).map(e=>e.trim().split("=")).reduce((e,t)=>{if(2===t.length){const r={};return r[t[0]]=t[1],Object.assign(e,r)}return e},{}).boundary}handleMultipartResponse(e,t,n){const o=new(r(507).Dicer)({boundary:n}),i=[];o.on("part",e=>{const t=[];e.on("data",e=>{t.push(e)}),e.on("end",()=>{i.push(Buffer.concat(t))})}),o.on("finish",()=>{e.data=void 0,e.multipart=i,this.finalizeResponse(e)}),t.pipe(o)}handleRegularResponse(e,t){const r=[];t.on("data",e=>{r.push(e)}),t.on("error",t=>{const r=e.request;r&&r.destroyed||this.enhanceAndReject(t,null,r)}),t.on("end",()=>{e.data=Buffer.concat(r).toString(),this.finalizeResponse(e)})}finalizeResponse(e){e.status>=200&&e.status<300?this.resolve(e):this.rejectWithError("Request failed with status code "+e.status,null,e.request,e)}rejectWithError(e,t,r,n){const o=new Error(e);this.enhanceAndReject(o,t,r,n)}enhanceAndReject(e,t,r,n){this.reject(this.enhanceError(e,t,r,n))}enhanceError(e,t,r,n){return e.config=this.configImpl,t&&(e.code=t),e.request=r,e.response=n,e}}class E extends b{static invoke(e){return new E(e).promise}constructor(e){const t=new w(e);super(t);try{this.httpConfigImpl=t,this.options=this.httpConfigImpl.buildRequestOptions(),this.entity=this.httpConfigImpl.buildEntity(this.options.headers),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t,this.execute()})}catch(e){this.promise=Promise.reject(this.enhanceError(e,null))}}execute(){const e=("https:"===this.options.protocol?a:i).request(this.options,t=>{this.handleResponse(t,e)});e.on("error",t=>{e.aborted||this.enhanceAndReject(t,null,e)});const t=this.httpConfigImpl.timeout,r=()=>{e.destroy(),this.rejectWithError(`timeout of ${t}ms exceeded`,"ETIMEDOUT",e)};t&&e.setTimeout(t,r),e.end(this.entity)}handleResponse(e,t){if(t.aborted)return;if(!e.statusCode)throw new n.FirebaseAppError(n.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");const r={status:e.statusCode,headers:e.headers,request:t,data:void 0,config:this.httpConfigImpl},o=this.getMultipartBoundary(e.headers),i=this.uncompressResponse(e);o?this.handleMultipartResponse(r,i,o):this.handleRegularResponse(r,i)}uncompressResponse(e){let t=e;if(e.headers["content-encoding"]&&-1!==["gzip","compress","deflate"].indexOf(e.headers["content-encoding"])){const n=r(22);t=t.pipe(n.createUnzip()),delete e.headers["content-encoding"]}return t}}class _ extends b{static invoke(e){return new _(e).promise}constructor(e){const t=new S(e);super(t);try{this.http2ConfigImpl=t,this.options=this.http2ConfigImpl.buildRequestOptions(),this.entity=this.http2ConfigImpl.buildEntity(this.options.headers),this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t,this.execute()})}catch(e){this.promise=Promise.reject(this.enhanceError(e,null))}}execute(){const e=this.http2ConfigImpl.http2SessionHandler.session.request({":method":this.options.method,":scheme":this.options.protocol,":path":this.options.path,...this.options.headers});e.on("response",t=>{this.handleHttp2Response(t,e)}),e.on("error",t=>{e.aborted||this.enhanceAndReject(t,null,e)});const t=this.http2ConfigImpl.timeout,r=()=>{e.destroy(),this.rejectWithError(`timeout of ${t}ms exceeded`,"ETIMEDOUT",e)};t&&e.setTimeout(t,r),e.end(this.entity)}handleHttp2Response(e,t){if(t.aborted)return;if(!e[":status"])throw new n.FirebaseAppError(n.AppErrorCodes.INTERNAL_ERROR,"Expected a statusCode on the response from a ClientRequest");const r={status:e[":status"],headers:e,request:t,data:void 0,config:this.http2ConfigImpl},o=this.getMultipartBoundary(e),i=this.uncompressResponse(e,t);o?this.handleMultipartResponse(r,i,o):this.handleRegularResponse(r,i)}uncompressResponse(e,t){let n=t;if(e["content-encoding"]&&-1!==["gzip","compress","deflate"].indexOf(e["content-encoding"])){const t=r(22);n=n.pipe(t.createUnzip()),delete e["content-encoding"]}return n}}class O{constructor(e){this.config=e,this.config=e}get method(){return this.config.method}get url(){return this.config.url}get headers(){return this.config.headers}get data(){return this.config.data}get timeout(){return this.config.timeout}buildEntity(e){let t;if(!this.hasEntity()||!this.isEntityEnclosingRequest())return t;if(o.isBuffer(this.data))t=this.data;else if(o.isObject(this.data))t=Buffer.from(JSON.stringify(this.data),"utf-8"),void 0===e["content-type"]&&(e["content-type"]="application/json;charset=utf-8");else{if(!o.isString(this.data))throw new Error("Request data must be a string, a Buffer or a json serializable object");t=Buffer.from(this.data,"utf-8")}return e["Content-Length"]=t.length.toString(),t}buildUrl(){const e=this.urlWithProtocol();if(!this.hasEntity()||this.isEntityEnclosingRequest())return l.parse(e);if(!o.isObject(this.data))throw new Error(this.method+" requests cannot have a body");const t=new l.URL(e),r=this.data;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t.searchParams.append(e,r[e]);return l.parse(t.toString())}urlWithProtocol(){const e=this.url;return e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e}hasEntity(){return!!this.data}isEntityEnclosingRequest(){return"GET"!==this.method&&"HEAD"!==this.method}}class w extends O{constructor(e){super(e),this.httpConfig=e}get httpAgent(){return this.httpConfig.httpAgent}buildRequestOptions(){const e=this.buildUrl(),t=e.protocol;let r=e.port;if(!r){r="https:"===t?"443":"80"}return{protocol:t,hostname:e.hostname,port:r,path:e.path,method:this.method,agent:this.httpAgent,headers:Object.assign({},this.headers)}}}class S extends O{constructor(e){super(e),this.http2Config=e}get http2SessionHandler(){return this.http2Config.http2SessionHandler}buildRequestOptions(){const e=this.buildUrl();return{protocol:e.protocol,path:e.path,method:this.method,headers:Object.assign({},this.headers)}}}t.AuthorizedHttpClient=class extends y{constructor(e){super(),this.app=e}send(e){return this.getToken().then(t=>{const r=Object.assign({},e);r.headers=Object.assign({},e.headers);let n;return r.headers.Authorization="Bearer "+t,this.app.options.credential instanceof c.ApplicationDefaultCredential&&(n=this.app.options.credential.getQuotaProjectId()),n=process.env.GOOGLE_CLOUD_QUOTA_PROJECT||n,!r.headers["x-goog-user-project"]&&o.isNonEmptyString(n)&&(r.headers["x-goog-user-project"]=n),!r.httpAgent&&this.app.options.httpAgent&&(r.httpAgent=this.app.options.httpAgent),r.headers["X-Goog-Api-Client"]=(0,u.getMetricsHeader)(),super.send(r)})}getToken(){return this.app.INTERNAL.getToken().then(e=>e.accessToken)}};t.AuthorizedHttp2Client=class extends v{constructor(e){super(),this.app=e}send(e){return this.getToken().then(t=>{const r=Object.assign({},e);r.headers=Object.assign({},e.headers);let n;return r.headers.Authorization="Bearer "+t,this.app.options.credential instanceof c.ApplicationDefaultCredential&&(n=this.app.options.credential.getQuotaProjectId()),n=process.env.GOOGLE_CLOUD_QUOTA_PROJECT||n,!r.headers["x-goog-user-project"]&&o.isNonEmptyString(n)&&(r.headers["x-goog-user-project"]=n),r.headers["X-Goog-Api-Client"]=(0,u.getMetricsHeader)(),super.send(r)})}getToken(){return this.app.INTERNAL.getToken().then(e=>e.accessToken)}};t.ApiSettings=class{constructor(e,t="POST"){this.endpoint=e,this.httpMethod=t,this.setRequestValidator(null).setResponseValidator(null)}getEndpoint(){return this.endpoint}getHttpMethod(){return this.httpMethod}setRequestValidator(e){return this.requestValidator=e||(()=>{}),this}getRequestValidator(){return this.requestValidator}setResponseValidator(e){return this.responseValidator=e||(()=>{}),this}getResponseValidator(){return this.responseValidator}};class T extends p.EventEmitter{constructor(e=1e3,t=1e4,r=6e4){super(),this.initialPollingDelayMillis=e,this.maxPollingDelayMillis=t,this.masterTimeoutMillis=r,this.numTries=0,this.completed=!1}poll(e){if(this.pollCallback)throw new Error("poll() can only be called once per instance of ExponentialBackoffPoller");return this.pollCallback=e,this.on("poll",this.repoll),this.masterTimer=setTimeout(()=>{this.completed||(this.markCompleted(),this.reject(new Error("ExponentialBackoffPoller deadline exceeded - Master timeout reached")))},this.masterTimeoutMillis),new Promise((e,t)=>{this.resolve=e,this.reject=t,this.repoll()})}repoll(){this.pollCallback().then(e=>{if(!this.completed){if(!e)return this.repollTimer=setTimeout(()=>this.emit("poll"),this.getPollingDelayMillis()),void this.numTries++;this.markCompleted(),this.resolve(e)}}).catch(e=>{this.completed||(this.markCompleted(),this.reject(e))})}getPollingDelayMillis(){const e=Math.pow(2,this.numTries)*this.initialPollingDelayMillis;return Math.min(e,this.maxPollingDelayMillis)}markCompleted(){this.completed=!0,this.masterTimer&&clearTimeout(this.masterTimer),this.repollTimer&&clearTimeout(this.repollTimer)}}t.ExponentialBackoffPoller=T;t.Http2SessionHandler=class{constructor(e){this.http2Session=this.createSession(e)}createSession(e){if(!this.http2Session||this.isClosed){const t={peerMaxConcurrentStreams:100,ALPNProtocols:["h2"]},r=s.connect(e,t);return r.on("goaway",(e,t,r)=>{throw new n.FirebaseAppError(n.AppErrorCodes.NETWORK_ERROR,`Error while making requests: GOAWAY - ${r.toString()}, Error code: ${e}`)}),r.on("error",e=>{throw new n.FirebaseAppError(n.AppErrorCodes.NETWORK_ERROR,"Error while making requests: "+e)}),r}return this.http2Session}get session(){return this.http2Session}get isClosed(){return this.http2Session.closed}close(){this.http2Session.close()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUri=function(e){const t=n.exec(e);if(null===t)return null;return{scheme:t[1],authority:t[2],path:t[3]}},t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const n=e.substring(t+2);return o.test(n)?{host:r,port:+n}:null}return null}return{host:r}}{const t=e.split(":");return 2===t.length?o.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.combineHostPort=function(e){return void 0===e.port?e.host:e.host.includes(":")?`[${e.host}]:${e.port}`:`${e.host}:${e.port}`},t.uriToString=function(e){let t="";void 0!==e.scheme&&(t+=e.scheme+":");void 0!==e.authority&&(t+="//"+e.authority+"/");return t+=e.path,t};const n=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;const o=/^\d+$/},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_VERSION=t.AppErrorCodes=t.FirebaseAppError=t.refreshToken=t.cert=t.applicationDefault=t.deleteApp=t.getApps=t.getApp=t.initializeApp=void 0;const n=r(9);var o=r(243);Object.defineProperty(t,"initializeApp",{enumerable:!0,get:function(){return o.initializeApp}}),Object.defineProperty(t,"getApp",{enumerable:!0,get:function(){return o.getApp}}),Object.defineProperty(t,"getApps",{enumerable:!0,get:function(){return o.getApps}}),Object.defineProperty(t,"deleteApp",{enumerable:!0,get:function(){return o.deleteApp}});var i=r(285);Object.defineProperty(t,"applicationDefault",{enumerable:!0,get:function(){return i.applicationDefault}}),Object.defineProperty(t,"cert",{enumerable:!0,get:function(){return i.cert}}),Object.defineProperty(t,"refreshToken",{enumerable:!0,get:function(){return i.refreshToken}});var a=r(2);Object.defineProperty(t,"FirebaseAppError",{enumerable:!0,get:function(){return a.FirebaseAppError}}),Object.defineProperty(t,"AppErrorCodes",{enumerable:!0,get:function(){return a.AppErrorCodes}}),t.SDK_VERSION=(0,n.getSdkVersion)()},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.instance=t.Gaxios=t.GaxiosError=void 0,t.request=async function(e){return t.instance.request(e)};const i=r(449);Object.defineProperty(t,"Gaxios",{enumerable:!0,get:function(){return i.Gaxios}});var a=r(245);Object.defineProperty(t,"GaxiosError",{enumerable:!0,get:function(){return a.GaxiosError}}),o(r(246),t),t.instance=new i.Gaxios},function(e,t){e.exports=require("net")},function(e,t,r){var n=r(5);r(71),r(276),r(277),r(8),n.random&&n.random.getBytes?e.exports=n.random:function(t){var r={},o=new Array(4),i=n.util.createBuffer();function a(){var e=n.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return n.aes._updateBlock(e,t,o,!1),i.putInt32(o[0]),i.putInt32(o[1]),i.putInt32(o[2]),i.putInt32(o[3]),i.getBytes()},r.increment=function(e){return++e[3],e},r.md=n.md.sha256;var s=a(),l=null,p=n.util.globalScope,c=p.crypto||p.msCrypto;if(c&&c.getRandomValues&&(l=function(e){return c.getRandomValues(e)}),n.options.usePureJavaScript||!n.util.isNodejs&&!l){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var u="";for(var d in navigator)try{"string"==typeof navigator[d]&&(u+=navigator[d])}catch(e){}s.collect(u),u=null}t&&(t().mousemove((function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)})),t().keypress((function(e){s.collectInt(e.charCode,8)})))}if(n.random)for(var d in s)n.random[d]=s[d];else n.random=s;n.random.createInstance=a,e.exports=n.random}("undefined"!=typeof jQuery?jQuery:null)},function(e,t,r){const n=r(19);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},function(e,t,r){const n=/\s+/g;class o{constructor(e,t){if(t=a(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&m))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,o=n?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(o,P(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],d),l("comparator trim",e),e=e.replace(c[u.TILDETRIM],h),l("tilde trim",e),e=e.replace(c[u.CARETTRIM],f),l("caret trim",e);let a=e.split(" ").map(e=>E(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));n&&(a=a.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE])))),l("range list",a);const p=new Map,v=a.map(e=>new s(e,this.options));for(const e of v){if(y(e))return[e];p.set(e.value,e)}p.size>1&&p.has("")&&p.delete("");const b=[...p.values()];return i.set(t,b),b}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some(r=>b(r,t)&&e.set.some(e=>b(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const i=new(r(537)),a=r(177),s=r(132),l=r(130),p=r(19),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:f}=r(103),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:m}=r(129),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,b=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every(e=>o.intersects(e,t)),o=n.pop();return r},E=(e,t)=>(l("comp",e,t),e=S(e,t),l("caret",e),e=O(e,t),l("tildes",e),e=A(e,t),l("xrange",e),e=I(e,t),l("stars",e),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,O=(e,t)=>e.trim().split(/\s+/).map(e=>w(e,t)).join(" "),w=(e,t)=>{const r=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(r,(t,r,n,o,i)=>{let a;return l("tilde",e,t,r,n,o,i),_(r)?a="":_(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:_(o)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(l("replaceTilde pr",i),a=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,l("tilde return",a),a})},S=(e,t)=>e.trim().split(/\s+/).map(e=>T(e,t)).join(" "),T=(e,t)=>{l("caret",e,t);const r=t.loose?c[u.CARETLOOSE]:c[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,o,i,a)=>{let s;return l("caret",e,t,r,o,i,a),_(r)?s="":_(o)?s=`>=${r}.0.0${n} <${+r+1}.0.0-0`:_(i)?s="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:a?(l("replaceCaret pr",a),s="0"===r?"0"===o?`>=${r}.${o}.${i}-${a} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${a} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${a} <${+r+1}.0.0-0`):(l("no pr"),s="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),l("caret return",s),s})},A=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();const r=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(r,(r,n,o,i,a,s)=>{l("xRange",e,r,n,o,i,a,s);const p=_(o),c=p||_(i),u=c||_(a),d=u;return"="===n&&d&&(n=""),s=t.includePrerelease?"-0":"",p?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(c&&(i=0),a=0,">"===n?(n=">=",c?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===n&&(n="<",c?o=+o+1:i=+i+1),"<"===n&&(s="-0"),r=`${n+o}.${i}.${a}${s}`):c?r=`>=${o}.0.0${s} <${+o+1}.0.0-0`:u&&(r=`>=${o}.${i}.0${s} <${o}.${+i+1}.0-0`),l("xRange return",r),r})},I=(e,t)=>(l("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),N=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=e=>(t,r,n,o,i,a,s,l,p,c,u,d)=>`${r=_(n)?"":_(o)?`>=${n}.0.0${e?"-0":""}`:_(i)?`>=${n}.${o}.0${e?"-0":""}`:a?">="+r:`>=${r}${e?"-0":""}`} ${l=_(p)?"":_(c)?`<${+p+1}.0.0-0`:_(u)?`<${p}.${+c+1}.0-0`:d?`<=${p}.${c}.${u}-${d}`:e?`<${p}.${c}.${+u+1}-0`:"<="+l}`.trim(),R=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(6);t.default=o.types.isKeyObject?e=>o.types.isKeyObject(e):e=>null!=e&&e instanceof n.KeyObject},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCryptoKey=void 0;const n=r(0),o=r(6),i=n.webcrypto;t.default=i,t.isCryptoKey=o.types.isCryptoKey?e=>o.types.isCryptoKey(e):e=>!1},function(e,t,r){"use strict";function n(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=" Received "+t:"function"==typeof t&&t.name?e+=" Received function "+t.name:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=" Received an instance of "+t.constructor.name),e}Object.defineProperty(t,"__esModule",{value:!0}),t.withAlg=void 0,t.default=(e,...t)=>n("Key must be ",e,...t),t.withAlg=function(e,t,...r){return n(`Key for the ${e} algorithm must be `,t,...r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=void 0;const n=r(36),o=r(35);t.default=e=>(0,o.default)(e)||(0,n.isCryptoKey)(e);const i=["KeyObject"];t.types=i,(globalThis.CryptoKey||(null===n.default||void 0===n.default?void 0:n.default.CryptoKey))&&i.push("CryptoKey")},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.HttpCodeToRpcCodeMap=t.Status=void 0,t.rpcCodeFromHttpStatusCode=function(e){if(t.HttpCodeToRpcCodeMap.has(e))return t.HttpCodeToRpcCodeMap.get(e);if(e>=200&&e<300)return n.OK;if(e>=400&&e<500)return n.FAILED_PRECONDITION;if(e>=500&&e<600)return n.INTERNAL;return n.UNKNOWN},function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(n||(t.Status=n={})),t.HttpCodeToRpcCodeMap=new Map([[400,n.INVALID_ARGUMENT],[401,n.UNAUTHENTICATED],[403,n.PERMISSION_DENIED],[404,n.NOT_FOUND],[409,n.ABORTED],[416,n.OUT_OF_RANGE],[429,n.RESOURCE_EXHAUSTED],[499,n.CANCELLED],[501,n.UNIMPLEMENTED],[503,n.UNAVAILABLE],[504,n.DEADLINE_EXCEEDED]])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleErrorDecoder=t.GoogleError=void 0;const n=r(39),o=r(76),i=r(213),a=r(49);class s extends Error{static parseGRPCStatusDetails(e){const t=new l;try{if(e.metadata&&e.metadata.get("grpc-status-details-bin")){const r=t.decodeGRPCStatusDetails(e.metadata.get("grpc-status-details-bin"));r&&r.details&&r.details.length>0&&(e.statusDetails=r.details),r&&r.errorInfo&&(e.reason=r.errorInfo.reason,e.domain=r.errorInfo.domain,e.errorInfoMetadata=r.errorInfo.metadata)}}catch(e){}return e}static parseHttpError(e){Array.isArray(e)&&(e=e.find(e=>"error"in e)),e.error||(e.error={},Object.keys(e).filter(e=>"error"!==e).forEach(t=>{e.error[t]=e[t],delete e[t]}));const t=new l,r=t.decodeHTTPError(e.error),o=Object.assign(new s(e.error.message),r);if(e.error.code?o.code=(0,n.rpcCodeFromHttpStatusCode)(e.error.code):delete o.code,o.details)try{const e=t.decodeHttpStatusDetails(o.details);e&&e.details&&e.details.length>0&&(o.statusDetails=e.details),e&&e.errorInfo&&(o.reason=e.errorInfo.reason,o.domain=e.errorInfo.domain,o.errorInfoMetadata=e.errorInfo.metadata)}catch(e){}return o}}t.GoogleError=s;class l{constructor(){const e=r(693);this.root=o.Root.fromJSON(e),this.anyType=this.root.lookupType("google.protobuf.Any"),this.statusType=this.root.lookupType("google.rpc.Status")}decodeProtobufAny(e){const t=e.type_url.match(/^type.googleapis.com\/(.*)/);if(!t)throw new Error("Unknown type encoded in google.protobuf.any: "+e.type_url);const r=t[1],n=this.root.lookupType(r);if(!n)throw new Error("Cannot lookup type "+r);return n.decode(e.value)}decodeRpcStatus(e){const t=new Uint8Array(e),r=this.statusType.decode(t),n=[];let o;for(const e of r.details)try{const t=this.decodeProtobufAny(e);n.push(t),"type.googleapis.com/google.rpc.ErrorInfo"===e.type_url&&(o=t)}catch(e){}return{code:r.code,message:r.message,statusDetails:n,reason:null==o?void 0:o.reason,domain:null==o?void 0:o.domain,errorInfoMetadata:null==o?void 0:o.metadata}}callErrorFromStatus(e){return e.message=`${e.code} ${n.Status[e.code]}: ${e.message}`,Object.assign(new s(e.message),e)}decodeErrorFromBuffer(e){return this.callErrorFromStatus(this.decodeRpcStatus(e))}decodeGRPCStatusDetails(e){const t=[];let r;e.forEach(e=>{const n=new Uint8Array(e),o=this.statusType.decode(n);for(const e of o.details)try{const n=this.decodeProtobufAny(e);t.push(n),"type.googleapis.com/google.rpc.ErrorInfo"===e.type_url&&(r=n)}catch(e){}});return{details:t,errorInfo:r}}decodeHTTPError(e){const t=i.fromProto3JSON(this.statusType,e);if(!t)throw new Error(`Received error message ${e}, but failed to serialize as proto3 message`);return this.statusType.toObject(t,a.defaultToObjectOptions)}decodeHttpStatusDetails(e){const t=[];let r;for(const n of e)try{const e=this.decodeProtobufAny(n);t.push(e),"type.googleapis.com/google.rpc.ErrorInfo"===n.type_url&&(r=e)}catch(e){}return{details:t,errorInfo:r}}}t.GoogleErrorDecoder=l},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=void 0;const n=r(14);
/*!
 * Number of nanoseconds in a millisecond.
 *
 * @type {number}
 */class o{static now(){return o.fromMillis(Date.now())}static fromDate(e){return o.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new o(t,r)}static fromProto(e){return new o(Number(e.seconds||0),e.nanos||0)}constructor(e,t){(0,n.validateInteger)("seconds",e,{minValue:-62135596800,maxValue:253402300799}),(0,n.validateInteger)("nanoseconds",t,{minValue:0,maxValue:999999999}),this._seconds=e,this._nanoseconds=t}get seconds(){return this._seconds}get nanoseconds(){return this._nanoseconds}toDate(){return new Date(1e3*this._seconds+Math.round(this._nanoseconds/1e6))}toMillis(){return 1e3*this._seconds+Math.floor(this._nanoseconds/1e6)}isEqual(e){return this===e||e instanceof o&&this._seconds===e.seconds&&this._nanoseconds===e.nanoseconds}toProto(){const e={};return this.seconds&&(e.seconds=this.seconds.toString()),this.nanoseconds&&(e.nanos=this.nanoseconds),{timestampValue:e}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}t.Timestamp=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATTRIBUTE_KEY_ATTEMPTS_REMAINING=t.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED=t.ATTRIBUTE_KEY_TRANSACTION_TYPE=t.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR=t.ATTRIBUTE_KEY_NUM_RESPONSES=t.ATTRIBUTE_KEY_IS_TRANSACTIONAL=t.ATTRIBUTE_KEY_DOC_COUNT=t.ATTRIBUTE_SETTINGS_PREFIX=t.ATTRIBUTE_SERVICE_PREFIX=t.SPAN_NAME_BULK_WRITER_COMMIT=t.SPAN_NAME_PARTITION_QUERY=t.SPAN_NAME_BATCH_COMMIT=t.SPAN_NAME_TRANSACTION_COMMIT=t.SPAN_NAME_TRANSACTION_ROLLBACK=t.SPAN_NAME_TRANSACTION_GET_DOCUMENTS=t.SPAN_NAME_TRANSACTION_GET_DOCUMENT=t.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY=t.SPAN_NAME_TRANSACTION_GET_QUERY=t.SPAN_NAME_TRANSACTION_RUN=t.SPAN_NAME_AGGREGATION_QUERY_GET=t.SPAN_NAME_QUERY_GET=t.SPAN_NAME_COL_REF_LIST_DOCUMENTS=t.SPAN_NAME_COL_REF_ADD=t.SPAN_NAME_DOC_REF_LIST_COLLECTIONS=t.SPAN_NAME_DOC_REF_GET=t.SPAN_NAME_DOC_REF_DELETE=t.SPAN_NAME_DOC_REF_UPDATE=t.SPAN_NAME_DOC_REF_SET=t.SPAN_NAME_DOC_REF_CREATE=t.SPAN_NAME_RUN_AGGREGATION_QUERY=t.SPAN_NAME_RUN_QUERY=t.SPAN_NAME_BATCH_GET_DOCUMENTS=t.SERVICE=void 0,t.SERVICE="google.firestore.v1.Firestore/",t.SPAN_NAME_BATCH_GET_DOCUMENTS="BatchGetDocuments",t.SPAN_NAME_RUN_QUERY="RunQuery",t.SPAN_NAME_RUN_AGGREGATION_QUERY="RunAggregationQuery",t.SPAN_NAME_DOC_REF_CREATE="DocumentReference.Create",t.SPAN_NAME_DOC_REF_SET="DocumentReference.Set",t.SPAN_NAME_DOC_REF_UPDATE="DocumentReference.Update",t.SPAN_NAME_DOC_REF_DELETE="DocumentReference.Delete",t.SPAN_NAME_DOC_REF_GET="DocumentReference.Get",t.SPAN_NAME_DOC_REF_LIST_COLLECTIONS="DocumentReference.ListCollections",t.SPAN_NAME_COL_REF_ADD="CollectionReference.Add",t.SPAN_NAME_COL_REF_LIST_DOCUMENTS="CollectionReference.ListDocuments",t.SPAN_NAME_QUERY_GET="Query.Get",t.SPAN_NAME_AGGREGATION_QUERY_GET="AggregationQuery.Get",t.SPAN_NAME_TRANSACTION_RUN="Transaction.Run",t.SPAN_NAME_TRANSACTION_GET_QUERY="Transaction.Get.Query",t.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY="Transaction.Get.AggregationQuery",t.SPAN_NAME_TRANSACTION_GET_DOCUMENT="Transaction.Get.Document",t.SPAN_NAME_TRANSACTION_GET_DOCUMENTS="Transaction.Get.Documents",t.SPAN_NAME_TRANSACTION_ROLLBACK="Transaction.Rollback",t.SPAN_NAME_TRANSACTION_COMMIT="Transaction.Commit",t.SPAN_NAME_BATCH_COMMIT="Batch.Commit",t.SPAN_NAME_PARTITION_QUERY="PartitionQuery",t.SPAN_NAME_BULK_WRITER_COMMIT="BulkWriter.Commit",t.ATTRIBUTE_SERVICE_PREFIX="gcp.firestore",t.ATTRIBUTE_SETTINGS_PREFIX=t.ATTRIBUTE_SERVICE_PREFIX+".settings",t.ATTRIBUTE_KEY_DOC_COUNT="doc_count",t.ATTRIBUTE_KEY_IS_TRANSACTIONAL="transactional",t.ATTRIBUTE_KEY_NUM_RESPONSES="response_count",t.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR="retry_query_with_cursor",t.ATTRIBUTE_KEY_TRANSACTION_TYPE="transaction_type",t.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED="attempts_allowed",t.ATTRIBUTE_KEY_ATTEMPTS_REMAINING="attempts_remaining"},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(n||(t.ConnectivityState=n={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EndpointMap=void 0,t.isTcpSubchannelAddress=o,t.subchannelAddressEqual=i,t.subchannelAddressToString=a,t.stringToSubchannelAddress=function(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:443}:{path:e}},t.endpointEqual=function(e,t){if(e.addresses.length!==t.addresses.length)return!1;for(let r=0;r<e.addresses.length;r++)if(!i(e.addresses[r],t.addresses[r]))return!1;return!0},t.endpointToString=function(e){return"["+e.addresses.map(a).join(", ")+"]"},t.endpointHasAddress=s;const n=r(31);function o(e){return"port"in e}function i(e,t){return!e&&!t||!(!e||!t)&&(o(e)?o(t)&&e.host===t.host&&e.port===t.port:!o(t)&&e.path===t.path)}function a(e){return o(e)?(0,n.isIPv6)(e.host)?"["+e.host+"]:"+e.port:e.host+":"+e.port:e.path}function s(e,t){for(const r of e.addresses)if(i(r,t))return!0;return!1}function l(e,t){if(e.addresses.length!==t.addresses.length)return!1;for(const r of e.addresses){let e=!1;for(const n of t.addresses)if(i(r,n)){e=!0;break}if(!e)return!1}return!0}t.EndpointMap=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(const t of this.map)if(s(t.key,e))return t.value}deleteMissing(e){const t=[];for(const r of this.map){let n=!1;for(const t of e)l(t,r.key)&&(n=!0);n||(t.push(r.value),this.map.delete(r))}return t}get(e){for(const t of this.map)if(l(e,t.key))return t.value}set(e,t){for(const r of this.map)if(l(e,r.key))return void(r.value=t);this.map.add({key:e,value:t})}delete(e){for(const t of this.map)if(l(e,t.key))return void this.map.delete(t)}has(e){for(const t of this.map)if(l(e,t.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(const e of this.map)yield e.key}*values(){for(const e of this.map)yield e.value}*entries(){for(const e of this.map)yield[e.key,e.value]}}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("path")},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(18),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(5);r(8),r(72);var o=e.exports=n.asn1=n.asn1||{};function i(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},o.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},o.create=function(e,t,r,i,a){if(n.util.isArray(i)){for(var s=[],l=0;l<i.length;++l)void 0!==i[l]&&s.push(i[l]);i=s}var p={tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(i),value:i};return a&&"bitStringContents"in a&&(p.bitStringContents=a.bitStringContents,p.original=o.copy(p)),p},o.copy=function(e,t){var r;if(n.util.isArray(e)){r=[];for(var i=0;i<e.length;++i)r.push(o.copy(e[i],t));return r}return"string"==typeof e?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:o.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)},o.equals=function(e,t,r){if(n.util.isArray(e)){if(!n.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!o.equals(e[i],t[i]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&o.equals(e.value,t.value);return r&&r.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},o.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};o.fromDer=function(e,t){void 0===t&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.length(),a=function e(t,r,n,a){var s;i(t,r,2);var l=t.getByte();r--;var p=192&l,c=31&l;s=t.length();var u,d,h=function(e,t){var r=e.getByte();if(t--,128!==r){var n;if(128&r){var o=127&r;i(e,t,o),n=e.getInt(o<<3)}else n=r;if(n<0)throw new Error("Negative length: "+n);return n}}(t,r);if(r-=s-t.length(),void 0!==h&&h>r){if(a.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=r,f.requested=h,f}h=r}var g=32==(32&l);if(g)if(u=[],void 0===h)for(;;){if(i(t,r,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),r-=2;break}s=t.length(),u.push(e(t,r,n+1,a)),r-=s-t.length()}else for(;h>0;)s=t.length(),u.push(e(t,h,n+1,a)),r-=s-t.length(),h-=s-t.length();void 0===u&&p===o.Class.UNIVERSAL&&c===o.Type.BITSTRING&&(d=t.bytes(h));if(void 0===u&&a.decodeBitStrings&&p===o.Class.UNIVERSAL&&c===o.Type.BITSTRING&&h>1){var m=t.read,y=r,v=0;if(c===o.Type.BITSTRING&&(i(t,r,1),v=t.getByte(),r--),0===v)try{s=t.length();var b=e(t,r,n+1,{strict:!0,decodeBitStrings:!0}),E=s-t.length();r-=E,c==o.Type.BITSTRING&&E++;var _=b.tagClass;E!==h||_!==o.Class.UNIVERSAL&&_!==o.Class.CONTEXT_SPECIFIC||(u=[b])}catch(e){}void 0===u&&(t.read=m,r=y)}if(void 0===u){if(void 0===h){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=r}if(c===o.Type.BMPSTRING)for(u="";h>0;h-=2)i(t,r,2),u+=String.fromCharCode(t.getInt16()),r-=2;else u=t.getBytes(h),r-=h}var O=void 0===d?null:{bitStringContents:d};return o.create(p,c,g,u,O)}(e,e.length(),0,t);if(t.parseAllBytes&&0!==e.length()){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return a},o.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,i=n.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=o.equals(e,e.original))),a)i.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:i.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&i.putBuffer(o.toDer(e.value[s]))}else if(e.type===o.Type.BMPSTRING)for(s=0;s<e.value.length;++s)i.putInt16(e.value.charCodeAt(s));else e.type===o.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?i.putBytes(e.value.substr(1)):i.putBytes(e.value);if(t.putByte(r),i.length()<=127)t.putByte(127&i.length());else{var l=i.length(),p="";do{p+=String.fromCharCode(255&l),l>>>=8}while(l>0);t.putByte(128|p.length);for(s=p.length-1;s>=0;--s)t.putByte(p.charCodeAt(s))}return t.putBuffer(i),t},o.oidToDer=function(e){var t,r,o,i,a=e.split("."),s=n.util.createBuffer();s.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var l=2;l<a.length;++l){t=!0,r=[],o=parseInt(a[l],10);do{i=127&o,o>>>=7,t||(i|=128),r.push(i),t=!1}while(o>0);for(var p=r.length-1;p>=0;--p)s.putByte(r[p])}return s},o.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var o=0;e.length()>0;)o<<=7,128&(r=e.getByte())?o+=127&r:(t+="."+(o+r),o=0);return t},o.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,o=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var l=e.charAt(10),p=10;"+"!==l&&"-"!==l&&(s=parseInt(e.substr(10,2),10),p+=2)}if(t.setUTCFullYear(r,n,o),t.setUTCHours(i,a,s,0),p&&("+"===(l=e.charAt(p))||"-"===l)){var c=60*parseInt(e.substr(p+1,2),10)+parseInt(e.substr(p+4,2),10);c*=6e4,"+"===l?t.setTime(+t-c):t.setTime(+t+c)}return t},o.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,o=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),l=0,p=0,c=!1;"Z"===e.charAt(e.length-1)&&(c=!0);var u=e.length-5,d=e.charAt(u);"+"!==d&&"-"!==d||(p=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10),p*=6e4,"+"===d&&(p*=-1),c=!0);return"."===e.charAt(14)&&(l=1e3*parseFloat(e.substr(14),10)),c?(t.setUTCFullYear(r,n,o),t.setUTCHours(i,a,s,l),t.setTime(+t+p)):(t.setFullYear(r,n,o),t.setHours(i,a,s,l)),t},o.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},o.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z"},o.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},o.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},o.validate=function(e,t,r,i){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)i&&(e.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&n.util.isArray(t.value))for(var s=0,l=0;a&&l<t.value.length;++l)a=t.value[l].optional||!1,e.value[s]&&((a=o.validate(e.value[s],t.value[l],r,i))?++s:t.value[l].optional&&(a=!0)),!a&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&r)if(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var a=/[^\\u0000-\\u00ff]/;o.prettyPrint=function(e,t,r){var i="";r=r||2,(t=t||0)>0&&(i+="\n");for(var s="",l=0;l<t*r;++l)s+=" ";switch(i+=s+"Tag: ",e.tagClass){case o.Class.UNIVERSAL:i+="Universal:";break;case o.Class.APPLICATION:i+="Application:";break;case o.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case o.Class.PRIVATE:i+="Private:"}if(e.tagClass===o.Class.UNIVERSAL)switch(i+=e.type,e.type){case o.Type.NONE:i+=" (None)";break;case o.Type.BOOLEAN:i+=" (Boolean)";break;case o.Type.INTEGER:i+=" (Integer)";break;case o.Type.BITSTRING:i+=" (Bit string)";break;case o.Type.OCTETSTRING:i+=" (Octet string)";break;case o.Type.NULL:i+=" (Null)";break;case o.Type.OID:i+=" (Object Identifier)";break;case o.Type.ODESC:i+=" (Object Descriptor)";break;case o.Type.EXTERNAL:i+=" (External or Instance of)";break;case o.Type.REAL:i+=" (Real)";break;case o.Type.ENUMERATED:i+=" (Enumerated)";break;case o.Type.EMBEDDED:i+=" (Embedded PDV)";break;case o.Type.UTF8:i+=" (UTF8)";break;case o.Type.ROID:i+=" (Relative Object Identifier)";break;case o.Type.SEQUENCE:i+=" (Sequence)";break;case o.Type.SET:i+=" (Set)";break;case o.Type.PRINTABLESTRING:i+=" (Printable String)";break;case o.Type.IA5String:i+=" (IA5String (ASCII))";break;case o.Type.UTCTIME:i+=" (UTC time)";break;case o.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case o.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i+="\n",i+=s+"Constructed: "+e.constructed+"\n",e.composed){var p=0,c="";for(l=0;l<e.value.length;++l)void 0!==e.value[l]&&(p+=1,c+=o.prettyPrint(e.value[l],t+1,r),l+1<e.value.length&&(c+=","));i+=s+"Sub values: "+p+c}else{if(i+=s+"Value: ",e.type===o.Type.OID){var u=o.derToOid(e.value);i+=u,n.pki&&n.pki.oids&&u in n.pki.oids&&(i+=" ("+n.pki.oids[u]+") ")}if(e.type===o.Type.INTEGER)try{i+=o.derToInteger(e.value)}catch(t){i+="0x"+n.util.bytesToHex(e.value)}else if(e.type===o.Type.BITSTRING){if(e.value.length>1?i+="0x"+n.util.bytesToHex(e.value.slice(1)):i+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);1==d?i+=" (1 unused bit shown)":d>1&&(i+=" ("+d+" unused bits shown)")}}else if(e.type===o.Type.OCTETSTRING)a.test(e.value)||(i+="("+e.value+") "),i+="0x"+n.util.bytesToHex(e.value);else if(e.type===o.Type.UTF8)try{i+=n.util.decodeUtf8(e.value)}catch(t){if("URI malformed"!==t.message)throw t;i+="0x"+n.util.bytesToHex(e.value)+" (malformed UTF8)"}else e.type===o.Type.PRINTABLESTRING||e.type===o.Type.IA5String?i+=e.value:a.test(e.value)?i+="0x"+n.util.bytesToHex(e.value):0===e.value.length?i+="[null]":i+=e.value}return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=t.GoogleError=t.operation=t.Operation=t.warn=t.protobufMinimal=t.protobuf=t.LocationProtos=t.IamProtos=t.operationsProtos=t.GrpcClient=t.defaultToObjectOptions=t.makeUUID=t.LocationsClient=t.IamClient=t.OperationsClient=t.StreamType=t.StreamDescriptor=t.PageDescriptor=t.LongrunningDescriptor=t.BundleDescriptor=t.version=t.createDefaultBackoffSettings=t.RetryOptions=t.constructSettings=t.CallSettings=t.routingHeader=t.PathTemplate=void 0,t.lro=function(e){(e=Object.assign({scopes:[]},e)).protoJson&&(e=Object.assign(e,{fallback:!0}));const t=new C(e);return new p.OperationsClientBuilder(t,e.protoJson)},t.createApiCall=function(e,t,r,n){if(r&&"streaming"in r&&r.type!==f.StreamType.SERVER_STREAMING)return()=>{throw new Error("The REST transport currently does not support client-streaming or bidi-stream calls.")};if(r&&"streaming"in r&&!(0,d.isNodeJS)())return()=>{throw new Error("Server streaming over the REST transport is only supported in Node.js.")};return(0,c.createApiCall)(e,t,r)};const n=r(366),o=r(76);t.protobuf=o;const i=r(64),a=r(146);t.routingHeader=a;const s=r(39),l=r(52),p=r(147),c=r(114),u=r(391),d=r(145),h=r(708),f=r(149),g=r(92),m=r(392);t.IamProtos=m;const y=r(393);t.LocationProtos=y;const v=r(217);t.operationsProtos=v;var b=r(394);Object.defineProperty(t,"PathTemplate",{enumerable:!0,get:function(){return b.PathTemplate}});var E=r(64);Object.defineProperty(t,"CallSettings",{enumerable:!0,get:function(){return E.CallSettings}}),Object.defineProperty(t,"constructSettings",{enumerable:!0,get:function(){return E.constructSettings}}),Object.defineProperty(t,"RetryOptions",{enumerable:!0,get:function(){return E.RetryOptions}}),Object.defineProperty(t,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return E.createDefaultBackoffSettings}}),t.version=r(94).version+"-fallback";var _=r(215);Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return _.BundleDescriptor}}),Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return _.LongrunningDescriptor}}),Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return _.PageDescriptor}}),Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return _.StreamDescriptor}});var O=r(149);Object.defineProperty(t,"StreamType",{enumerable:!0,get:function(){return O.StreamType}});var w=r(147);Object.defineProperty(t,"OperationsClient",{enumerable:!0,get:function(){return w.OperationsClient}});var S=r(395);Object.defineProperty(t,"IamClient",{enumerable:!0,get:function(){return S.IamClient}});var T=r(396);Object.defineProperty(t,"LocationsClient",{enumerable:!0,get:function(){return T.LocationsClient}});var A=r(92);Object.defineProperty(t,"makeUUID",{enumerable:!0,get:function(){return A.makeUUID}}),t.defaultToObjectOptions={keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0};class C{static clearProtoCache(){C.protoCache.clear()}constructor(e={}){var t;if((0,d.isNodeJS)())this.auth=e.auth||new l.GoogleAuth(e);else{if(!e.auth)throw new Error(JSON.stringify(e)+"You need to pass auth instance to use gRPC-fallback client in browser or other non-Node.js environments. Use OAuth2Client from google-auth-library.");this.auth=e.auth}this.fallback=!!e.fallback,this.grpcVersion=r(94).version,this.httpRules=e.httpRules,this.numericEnums=null!==(t=e.numericEnums)&&void 0!==t&&t}loadProto(e){return o.Root.fromJSON(e)}loadProtoJSON(e,t=!1){const r=n(JSON.stringify(e)).toString(),i=C.protoCache.get(r);if(i&&!t)return i;const a=o.Root.fromJSON(e);return C.protoCache.set(r,a),a}static getServiceMethods(e){const t={};for(const[r,n]of Object.entries(e.methods)){t[(0,g.toLowerCamelCase)(r)]=n}return t}constructSettings(e,r,n,o){return i.constructSettings(e,r,n,s.Status,{metadataBuilder:function(e,r){const n={};o||(o={});for(const e in o)n[e]=Array.isArray(o[e])?o[e]:[o[e]];const i=[];if(n["x-goog-api-client"]&&n["x-goog-api-client"][0]&&i.push(...n["x-goog-api-client"][0].split(" ")),i.push("grpc-web/"+t.version),n["x-goog-api-client"]=[i.join(" ")],!r)return n;for(const e in r)if("x-goog-api-client"!==e.toLowerCase()){const t=r[e];if(Array.isArray(t))if(void 0===n[e])n[e]=t;else{if(!Array.isArray(n[e]))throw new Error(`Can not add value ${t} to the call metadata.`);n[e].push(...t)}else n[e]=[t]}return n}})}async createStub(e,t,r){if(this.authClient||(this.auth&&"getClient"in this.auth?this.authClient=await this.auth.getClient():this.auth&&"getRequestHeaders"in this.auth&&(this.authClient=this.auth)),!this.authClient)throw new Error("No authentication was provided");if(t.universeDomain||(t.universeDomain="googleapis.com"),t.universeDomain){const e=this.authClient.universeDomain;if(e&&t.universeDomain!==e)throw new Error(`The configured universe domain (${t.universeDomain}) does not match the universe domain found in the credentials (${e}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}e.resolveAll();const n=C.getServiceMethods(e),o=t.protocol||"https";let i,a=t.servicePath;if(!a&&e.options&&e.options["(google.api.default_host)"]&&(a=e.options["(google.api.default_host)"]),!a)throw new Error(`Cannot determine service API path for service ${e.name}.`);const s=a.match(/^(.*):(\d+)$/);s&&(a=s[1],i=parseInt(s[2])),t.port?i=t.port:i||(i=443);const l=u.encodeRequest,p=u.decodeResponse;return(0,h.generateServiceStub)(n,o,a,i,this.authClient,l,p,this.numericEnums)}static createByteLengthFunction(e){return i.createByteLengthFunction(e)}}t.GrpcClient=C,C.protoCache=new Map,t.protobufMinimal=r(93);var I=r(78);Object.defineProperty(t,"warn",{enumerable:!0,get:function(){return I.warn}});var N=r(216);Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return N.Operation}}),Object.defineProperty(t,"operation",{enumerable:!0,get:function(){return N.operation}});var P=r(40);Object.defineProperty(t,"GoogleError",{enumerable:!0,get:function(){return P.GoogleError}});const R=e.exports;t.fallback=R},function(e,t,r){"use strict";e.exports=a;var n=r(90);((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var o=r(112),i=r(16);function a(e,t,r,o,i,a){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.valuesOptions=a,this.reserved=void 0,t)for(var s=Object.keys(t),l=0;l<s.length;++l)"number"==typeof t[s[l]]&&(this.valuesById[this.values[s[l]]=t[s[l]]]=s[l])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,r,n){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuth=t.auth=t.DefaultTransporter=t.PassThroughClient=t.ExecutableError=t.PluggableAuthClient=t.DownscopedClient=t.BaseExternalAccountClient=t.ExternalAccountClient=t.IdentityPoolClient=t.AwsRequestSigner=t.AwsClient=t.UserRefreshClient=t.LoginTicket=t.ClientAuthentication=t.OAuth2Client=t.CodeChallengeMethod=t.Impersonated=t.JWT=t.JWTAccess=t.IdTokenClient=t.IAMAuth=t.GCPEnv=t.Compute=t.DEFAULT_UNIVERSE=t.AuthClient=t.gaxios=t.gcpMetadata=void 0;const n=r(448);Object.defineProperty(t,"GoogleAuth",{enumerable:!0,get:function(){return n.GoogleAuth}}),t.gcpMetadata=r(117),t.gaxios=r(30);var o=r(54);Object.defineProperty(t,"AuthClient",{enumerable:!0,get:function(){return o.AuthClient}}),Object.defineProperty(t,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return o.DEFAULT_UNIVERSE}});var i=r(252);Object.defineProperty(t,"Compute",{enumerable:!0,get:function(){return i.Compute}});var a=r(255);Object.defineProperty(t,"GCPEnv",{enumerable:!0,get:function(){return a.GCPEnv}});var s=r(491);Object.defineProperty(t,"IAMAuth",{enumerable:!0,get:function(){return s.IAMAuth}});var l=r(254);Object.defineProperty(t,"IdTokenClient",{enumerable:!0,get:function(){return l.IdTokenClient}});var p=r(262);Object.defineProperty(t,"JWTAccess",{enumerable:!0,get:function(){return p.JWTAccess}});var c=r(256);Object.defineProperty(t,"JWT",{enumerable:!0,get:function(){return c.JWT}});var u=r(264);Object.defineProperty(t,"Impersonated",{enumerable:!0,get:function(){return u.Impersonated}});var d=r(83);Object.defineProperty(t,"CodeChallengeMethod",{enumerable:!0,get:function(){return d.CodeChallengeMethod}}),Object.defineProperty(t,"OAuth2Client",{enumerable:!0,get:function(){return d.OAuth2Client}}),Object.defineProperty(t,"ClientAuthentication",{enumerable:!0,get:function(){return d.ClientAuthentication}});var h=r(253);Object.defineProperty(t,"LoginTicket",{enumerable:!0,get:function(){return h.LoginTicket}});var f=r(263);Object.defineProperty(t,"UserRefreshClient",{enumerable:!0,get:function(){return f.UserRefreshClient}});var g=r(269);Object.defineProperty(t,"AwsClient",{enumerable:!0,get:function(){return g.AwsClient}});var m=r(270);Object.defineProperty(t,"AwsRequestSigner",{enumerable:!0,get:function(){return m.AwsRequestSigner}});var y=r(268);Object.defineProperty(t,"IdentityPoolClient",{enumerable:!0,get:function(){return y.IdentityPoolClient}});var v=r(265);Object.defineProperty(t,"ExternalAccountClient",{enumerable:!0,get:function(){return v.ExternalAccountClient}});var b=r(70);Object.defineProperty(t,"BaseExternalAccountClient",{enumerable:!0,get:function(){return b.BaseExternalAccountClient}});var E=r(492);Object.defineProperty(t,"DownscopedClient",{enumerable:!0,get:function(){return E.DownscopedClient}});var _=r(163);Object.defineProperty(t,"PluggableAuthClient",{enumerable:!0,get:function(){return _.PluggableAuthClient}}),Object.defineProperty(t,"ExecutableError",{enumerable:!0,get:function(){return _.ExecutableError}});var O=r(493);Object.defineProperty(t,"PassThroughClient",{enumerable:!0,get:function(){return O.PassThroughClient}});var w=r(121);Object.defineProperty(t,"DefaultTransporter",{enumerable:!0,get:function(){return w.DefaultTransporter}});const S=new n.GoogleAuth;t.auth=S},function(e,t,r){"use strict";const n=r(244),o=r(454),i={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},a=Symbol("failure");function s(e){return n.ucs2.decode(e).length}function l(e,t){const r=e[t];return isNaN(r)?void 0:String.fromCodePoint(r)}function p(e){return e>=48&&e<=57}function c(e){return e>=65&&e<=90||e>=97&&e<=122}function u(e){return p(e)||e>=65&&e<=70||e>=97&&e<=102}function d(e){return"."===e||"%2e"===e.toLowerCase()}function h(e){return 2===e.length&&c(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function f(e){return void 0!==i[e]}function g(e){return f(e.scheme)}function m(e){let t=e.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function y(e){return e<=31||e>126}const v=new Set([32,34,35,60,62,63,96,123,125]);function b(e){return y(e)||v.has(e)}const E=new Set([47,58,59,61,64,91,92,93,94,124]);function _(e){return b(e)||E.has(e)}function O(e,t){const r=String.fromCodePoint(e);return t(e)?function(e){const t=new Buffer(e);let r="";for(let e=0;e<t.length;++e)r+=m(t[e]);return r}(r):r}function w(e){let t=10;if(e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),t=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),t=8),""===e)return 0;return(10===t?/[^0-9]/:16===t?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?a:parseInt(e,t)}function S(e,t){if("["===e[0])return"]"!==e[e.length-1]?a:function(e){const t=[0,0,0,0,0,0,0,0];let r=0,o=null,i=0;if(58===(e=n.ucs2.decode(e))[i]){if(58!==e[i+1])return a;i+=2,++r,o=r}for(;i<e.length;){if(8===r)return a;if(58===e[i]){if(null!==o)return a;++i,++r,o=r;continue}let n=0,s=0;for(;s<4&&u(e[i]);)n=16*n+parseInt(l(e,i),16),++i,++s;if(46===e[i]){if(0===s)return a;if(i-=s,r>6)return a;let n=0;for(;void 0!==e[i];){let o=null;if(n>0){if(!(46===e[i]&&n<4))return a;++i}if(!p(e[i]))return a;for(;p(e[i]);){const t=parseInt(l(e,i));if(null===o)o=t;else{if(0===o)return a;o=10*o+t}if(o>255)return a;++i}t[r]=256*t[r]+o,++n,2!==n&&4!==n||++r}if(4!==n)return a;break}if(58===e[i]){if(++i,void 0===e[i])return a}else if(void 0!==e[i])return a;t[r]=n,++r}if(null!==o){let e=r-o;for(r=7;0!==r&&e>0;){const n=t[o+e-1];t[o+e-1]=t[r],t[r]=n,--r,--e}}else if(null===o&&8!==r)return a;return t}(e.substring(1,e.length-1));if(!t)return function(e){if(t=e,-1!==t.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return a;var t;let r="";const o=n.ucs2.decode(e);for(let e=0;e<o.length;++e)r+=O(o[e],y);return r}(e);const r=function(e){const t=new Buffer(e),r=[];for(let e=0;e<t.length;++e)37!==t[e]?r.push(t[e]):37===t[e]&&u(t[e+1])&&u(t[e+2])?(r.push(parseInt(t.slice(e+1,e+3).toString(),16)),e+=2):r.push(t[e]);return new Buffer(r).toString()}(e),i=o.toASCII(r,!1,o.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===i)return a;if(-1!==i.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return a;const s=function(e){const t=e.split(".");if(""===t[t.length-1]&&t.length>1&&t.pop(),t.length>4)return e;const r=[];for(const n of t){if(""===n)return e;const t=w(n);if(t===a)return e;r.push(t)}for(let e=0;e<r.length-1;++e)if(r[e]>255)return a;if(r[r.length-1]>=Math.pow(256,5-r.length))return a;let n=r.pop(),o=0;for(const e of r)n+=e*Math.pow(256,3-o),++o;return n}(i);return"number"==typeof s||s===a?s:i}function T(e){return"number"==typeof e?function(e){let t="",r=e;for(let e=1;e<=4;++e)t=String(r%256)+t,4!==e&&(t="."+t),r=Math.floor(r/256);return t}(e):e instanceof Array?"["+function(e){let t="";const r=function(e){let t=null,r=1,n=null,o=0;for(let i=0;i<e.length;++i)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);o>r&&(t=n,r=o);return{idx:t,len:r}}(e).idx;let n=!1;for(let o=0;o<=7;++o)if(!n||0!==e[o])if(n&&(n=!1),r!==o)t+=e[o].toString(16),7!==o&&(t+=":");else{t+=0===o?"::":":",n=!0}return t}(e)+"]":e}function A(e){const t=e.path;var r;0!==t.length&&("file"===e.scheme&&1===t.length&&(r=t[0],/^[A-Za-z]:$/.test(r))||t.pop())}function C(e){return""!==e.username||""!==e.password}function I(e,t,r,o,i){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=r||"utf-8",this.stateOverride=i,this.url=o,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};const e=function(e){return e.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}(this.input);e!==this.input&&(this.parseError=!0),this.input=e}const s=function(e){return e.replace(/\u0009|\u000A|\u000D/g,"")}(this.input);for(s!==this.input&&(this.parseError=!0),this.input=s,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=n.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){const e=this.input[this.pointer],t=isNaN(e)?void 0:String.fromCodePoint(e),r=this["parse "+this.state](e,t);if(!r)break;if(r===a){this.failure=!0;break}}}I.prototype["parse scheme start"]=function(e,t){if(c(e))this.buffer+=t.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,a;this.state="no scheme",--this.pointer}return!0},I.prototype["parse scheme"]=function(e,t){if(function(e){return c(e)||p(e)}(e)||43===e||45===e||46===e)this.buffer+=t.toLowerCase();else if(58===e){if(this.stateOverride){if(g(this.url)&&!f(this.buffer))return!1;if(!g(this.url)&&f(this.buffer))return!1;if((C(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.buffer="",this.stateOverride)return!1;"file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):g(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":g(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,a;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},I.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?a:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},I.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},I.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},I.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):g(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},I.prototype["parse relative slash"]=function(e){return!g(this.url)||47!==e&&92!==e?47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},I.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},I.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},I.prototype["parse authority"]=function(e,t){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;const e=s(this.buffer);for(let t=0;t<e;++t){const e=this.buffer.codePointAt(t);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const r=O(e,_);this.passwordTokenSeenFlag?this.url.password+=r:this.url.username+=r}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||g(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,a;this.pointer-=s(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=t;return!0},I.prototype["parse hostname"]=I.prototype["parse host"]=function(e,t){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag)if(isNaN(e)||47===e||63===e||35===e||g(this.url)&&92===e){if(--this.pointer,g(this.url)&&""===this.buffer)return this.parseError=!0,a;if(this.stateOverride&&""===this.buffer&&(C(this.url)||null!==this.url.port))return this.parseError=!0,!1;const e=S(this.buffer,g(this.url));if(e===a)return a;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=t;else{if(""===this.buffer)return this.parseError=!0,a;const e=S(this.buffer,g(this.url));if(e===a)return a;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},I.prototype["parse port"]=function(e,t){if(p(e))this.buffer+=t;else{if(!(isNaN(e)||47===e||63===e||35===e||g(this.url)&&92===e||this.stateOverride))return this.parseError=!0,a;if(""!==this.buffer){const e=parseInt(this.buffer);if(e>Math.pow(2,16)-1)return this.parseError=!0,a;this.url.port=e===(r=this.url.scheme,i[r])?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}var r;return!0};const N=new Set([47,92,63,35]);I.prototype["parse file"]=function(e){var t,r;return this.url.scheme="file",47===e||92===e?(92===e&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1==0||(t=e,r=this.input[this.pointer+1],!c(t)||58!==r&&124!==r)||this.input.length-this.pointer-1>=2&&!N.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),A(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},I.prototype["parse file slash"]=function(e){var t;return 47===e||92===e?(92===e&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(2===(t=this.base.path[0]).length&&c(t.codePointAt(0))&&":"===t[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},I.prototype["parse file host"]=function(e,t){if(isNaN(e)||47===e||92===e||63===e||35===e)if(--this.pointer,!this.stateOverride&&h(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=S(this.buffer,g(this.url));if(e===a)return a;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=t;return!0},I.prototype["parse path start"]=function(e){return g(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},I.prototype["parse path"]=function(e){if(isNaN(e)||47===e||g(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){if(g(this.url)&&92===e&&(this.parseError=!0),".."===(t=(t=this.buffer).toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t?(A(this.url),47===e||g(this.url)&&92===e||this.url.path.push("")):!d(this.buffer)||47===e||g(this.url)&&92===e?d(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&h(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=O(e,b);var t;return!0},I.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+O(e,y))),!0},I.prototype["parse query"]=function(e,t){if(isNaN(e)||!this.stateOverride&&35===e){g(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");const t=new Buffer(this.buffer);for(let e=0;e<t.length;++e)t[e]<33||t[e]>126||34===t[e]||35===t[e]||60===t[e]||62===t[e]?this.url.query+=m(t[e]):this.url.query+=String.fromCodePoint(t[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=t;return!0},I.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=O(e,y))),!0},e.exports.serializeURL=function(e,t){let r=e.scheme+":";if(null!==e.host?(r+="//",""===e.username&&""===e.password||(r+=e.username,""!==e.password&&(r+=":"+e.password),r+="@"),r+=T(e.host),null!==e.port&&(r+=":"+e.port)):null===e.host&&"file"===e.scheme&&(r+="//"),e.cannotBeABaseURL)r+=e.path[0];else for(const t of e.path)r+="/"+t;return null!==e.query&&(r+="?"+e.query),t||null===e.fragment||(r+="#"+e.fragment),r},e.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(t.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(e){let t=e.scheme+"://";return t+=T(e.host),null!==e.port&&(t+=":"+e.port),t}({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(e,t){void 0===t&&(t={});const r=new I(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return r.failure?"failure":r.url},e.exports.setTheUsername=function(e,t){e.username="";const r=n.ucs2.decode(t);for(let t=0;t<r.length;++t)e.username+=O(r[t],_)},e.exports.setThePassword=function(e,t){e.password="";const r=n.ucs2.decode(t);for(let t=0;t<r.length;++t)e.password+=O(r[t],_)},e.exports.serializeHost=T,e.exports.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme},e.exports.serializeInteger=function(e){return String(e)},e.exports.parseURL=function(t,r){return void 0===r&&(r={}),e.exports.basicURLParse(t,{baseURL:r.baseURL,encodingOverride:r.encodingOverride})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthClient=t.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=t.DEFAULT_UNIVERSE=void 0;const n=r(23),o=r(30),i=r(121),a=r(69);t.DEFAULT_UNIVERSE="googleapis.com",t.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS=3e5;class s extends n.EventEmitter{constructor(e={}){var r,n,o,s,l;super(),this.credentials={},this.eagerRefreshThresholdMillis=t.DEFAULT_EAGER_REFRESH_THRESHOLD_MILLIS,this.forceRefreshOnFailure=!1,this.universeDomain=t.DEFAULT_UNIVERSE;const p=(0,a.originalOrCamelOptions)(e);this.apiKey=e.apiKey,this.projectId=null!==(r=p.get("project_id"))&&void 0!==r?r:null,this.quotaProjectId=p.get("quota_project_id"),this.credentials=null!==(n=p.get("credentials"))&&void 0!==n?n:{},this.universeDomain=null!==(o=p.get("universe_domain"))&&void 0!==o?o:t.DEFAULT_UNIVERSE,this.transporter=null!==(s=e.transporter)&&void 0!==s?s:new i.DefaultTransporter,e.transporterOptions&&(this.transporter.defaults=e.transporterOptions),e.eagerRefreshThresholdMillis&&(this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis),this.forceRefreshOnFailure=null!==(l=e.forceRefreshOnFailure)&&void 0!==l&&l}get gaxios(){return this.transporter instanceof o.Gaxios?this.transporter:this.transporter instanceof i.DefaultTransporter||"instance"in this.transporter&&this.transporter.instance instanceof o.Gaxios?this.transporter.instance:null}setCredentials(e){this.credentials=e}addSharedMetadataHeaders(e){return!e["x-goog-user-project"]&&this.quotaProjectId&&(e["x-goog-user-project"]=this.quotaProjectId),e}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}t.AuthClient=s},function(e,t,r){var n=r(5);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t,r){"use strict";(function(e){var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&o(t,e,r[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.PassThroughShim=void 0,t.normalize=function(e,t){return{options:"object"==typeof e?e:{},callback:"function"==typeof e?e:t}},t.objectEntries=function(e){return Object.keys(e).map(t=>[t,e[t]])},t.fixedEncodeURIComponent=u,t.encodeURI=d,t.qsStringify=function(e){return s.stringify(e,"&","=",{encodeURIComponent:e=>d(e,!0)})},t.objectKeyToLowercase=function(e){const t={};for(let r of Object.keys(e)){const n=e[r];r=r.toLowerCase(),t[r]=n}return t},t.unicodeJSONStringify=function(e){return JSON.stringify(e).replace(/[\u0080-\uFFFF]/g,e=>"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4))},t.convertObjKeysToSnakeCase=function e(t){if(t instanceof Date||t instanceof RegExp)return t;if(Array.isArray(t))return t.map(e);if(t instanceof Object)return Object.keys(t).reduce((r,n)=>(r[n[0].toLocaleLowerCase()+n.slice(1).replace(/([A-Z]+)/g,(e,t)=>"_"+t.toLowerCase())]=e(t[n]),r),Object());return t},t.formatAsUTCISO=function(e,t=!1,r="",n=""){const o=e.getUTCFullYear(),i=e.getUTCMonth()+1,a=e.getUTCDate(),s=e.getUTCHours(),l=e.getUTCMinutes(),p=e.getUTCSeconds();let c=`${o.toString().padStart(4,"0")}${r}${i.toString().padStart(2,"0")}${r}${a.toString().padStart(2,"0")}`;t&&(c=`${c}T${s.toString().padStart(2,"0")}${n}${l.toString().padStart(2,"0")}${n}${p.toString().padStart(2,"0")}Z`);return c},t.getRuntimeTrackingString=function(){return globalThis.Deno&&globalThis.Deno.version&&globalThis.Deno.version.deno?"gl-deno/"+globalThis.Deno.version.deno:"gl-node/"+process.versions.node},t.getUserAgentString=function(){const e=(0,c.getPackageJSON)();return e.name.replace("@google-cloud","gcloud-node").replace("/","-")+"/"+e.version},t.getDirName=function(){let t="";try{t=e}catch(r){t=e}return t},t.getModuleFormat=function(){return"CJS"};a(r(46));const s=a(r(63)),l=r(1),p=a(r(11)),c=r(108);p.fileURLToPath;function u(e){return encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())}function d(e,t){return e.split("/").map(u).join(t?"%2F":"/")}class h extends l.PassThrough{constructor(){super(...arguments),this.shouldEmitReading=!0,this.shouldEmitWriting=!0}_read(e){this.shouldEmitReading&&(this.emit("reading"),this.shouldEmitReading=!1),super._read(e)}_write(e,t,r){this.shouldEmitWriting&&(this.emit("writing"),this.shouldEmitWriting=!1),process.nextTick(()=>{super._write(e,t,r)})}_final(e){this.shouldEmitReading&&(this.emit("reading"),this.shouldEmitReading=!1),this.shouldEmitWriting&&(this.emit("writing"),this.shouldEmitWriting=!1),e(null)}}t.PassThroughShim=h}).call(this,"/")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promisify=function(e,t){if(e.promisified_)return e;t=t||{};const r=Array.prototype.slice,n=function(){let n;for(n=arguments.length-1;n>=0;n--){const t=arguments[n];if(void 0!==t){if("function"!=typeof t)break;return e.apply(this,arguments)}}const o=r.call(arguments,0,n+1);let i=Promise;return this&&this.Promise&&(i=this.Promise),new i((n,i)=>{o.push((...e)=>{const o=r.call(e),a=o.shift();if(a)return i(a);t.singular&&1===o.length?n(o[0]):n(o)}),e.apply(this,o)})};return n.promisified_=!0,n},t.promisifyAll=function(e,r){const n=r&&r.exclude||[],o=Object.getOwnPropertyNames(e.prototype);o.filter(t=>!n.includes(t)&&"function"==typeof e.prototype[t]&&!/(^_|(Stream|_)|promise$)|^constructor$/.test(t)).forEach(n=>{const o=e.prototype[n];o.promisified_||(e.prototype[n]=t.promisify(o,r))})},t.callbackify=function(e){if(e.callbackified_)return e;const t=function(){if("function"!=typeof arguments[arguments.length-1])return e.apply(this,arguments);const t=Array.prototype.pop.call(arguments);e.apply(this,arguments).then(e=>{e=Array.isArray(e)?e:[e],t(null,...e)},e=>t(e))};return t.callbackified_=!0,t},t.callbackifyAll=function(e,r){const n=r&&r.exclude||[],o=Object.getOwnPropertyNames(e.prototype);o.filter(t=>!n.includes(t)&&"function"==typeof e.prototype[t]&&!/^_|(Stream|_)|^constructor$/.test(t)).forEach(r=>{const n=e.prototype[r];n.callbackified_||(e.prototype[r]=t.callbackify(n))})}},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Firestore=t.DEFAULT_MAX_IDLE_CHANNELS=t.DEFAULT_MAX_TRANSACTION_ATTEMPTS=t.MAX_REQUEST_RETRIES=t.AggregateField=t.Aggregate=t.setLogFunction=t.QueryPartition=t.CollectionGroup=t.GeoPoint=t.FieldPath=t.DocumentChange=t.Timestamp=t.Transaction=t.WriteResult=t.WriteBatch=t.Filter=t.VectorValue=t.FieldValue=t.QueryDocumentSnapshot=t.DocumentSnapshot=t.BulkWriter=t.Query=t.QuerySnapshot=t.DocumentReference=t.CollectionReference=void 0;const n=r(1),o=r(11),i=r(143),a=r(397),s=r(753),l=r(218),p=r(430),c=r(65),u=r(25),d=r(15),h=r(755),f=r(219),g=r(79),m=r(96),y=r(41),v=r(431),b=r(13),E=r(14),_=r(150),O=r(144).interfaces["google.firestore.v1.Firestore"],w=r(756);Object.defineProperty(t,"CollectionGroup",{enumerable:!0,get:function(){return w.CollectionGroup}});const S=r(757),T=r(42),A=r(758),C=r(759);var I=r(219);Object.defineProperty(t,"CollectionReference",{enumerable:!0,get:function(){return I.CollectionReference}});var N=r(79);Object.defineProperty(t,"DocumentReference",{enumerable:!0,get:function(){return N.DocumentReference}});var P=r(222);Object.defineProperty(t,"QuerySnapshot",{enumerable:!0,get:function(){return P.QuerySnapshot}});var R=r(116);Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return R.Query}});var D=r(397);Object.defineProperty(t,"BulkWriter",{enumerable:!0,get:function(){return D.BulkWriter}});var k=r(65);Object.defineProperty(t,"DocumentSnapshot",{enumerable:!0,get:function(){return k.DocumentSnapshot}}),Object.defineProperty(t,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return k.QueryDocumentSnapshot}});var x=r(151);Object.defineProperty(t,"FieldValue",{enumerable:!0,get:function(){return x.FieldValue}}),Object.defineProperty(t,"VectorValue",{enumerable:!0,get:function(){return x.VectorValue}});var j=r(405);Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return j.Filter}});var L=r(150);Object.defineProperty(t,"WriteBatch",{enumerable:!0,get:function(){return L.WriteBatch}}),Object.defineProperty(t,"WriteResult",{enumerable:!0,get:function(){return L.WriteResult}});var F=r(431);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return F.Transaction}});var M=r(41);Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return M.Timestamp}});var U=r(220);Object.defineProperty(t,"DocumentChange",{enumerable:!0,get:function(){return U.DocumentChange}});var B=r(15);Object.defineProperty(t,"FieldPath",{enumerable:!0,get:function(){return B.FieldPath}});var V=r(399);Object.defineProperty(t,"GeoPoint",{enumerable:!0,get:function(){return V.GeoPoint}});var q=r(432);Object.defineProperty(t,"QueryPartition",{enumerable:!0,get:function(){return q.QueryPartition}});var G=r(25);Object.defineProperty(t,"setLogFunction",{enumerable:!0,get:function(){return G.setLogFunction}});var H=r(407);Object.defineProperty(t,"Aggregate",{enumerable:!0,get:function(){return H.Aggregate}}),Object.defineProperty(t,"AggregateField",{enumerable:!0,get:function(){return H.AggregateField}});const z=r(99).version;(0,u.setLibVersion)(z);t.MAX_REQUEST_RETRIES=5,t.DEFAULT_MAX_TRANSACTION_ATTEMPTS=5,
/*!
 * The default number of idle GRPC channel to keep.
 */
t.DEFAULT_MAX_IDLE_CHANNELS=1;class W{getBulkWriter(){return this._bulkWriter||(this._bulkWriter=this.bulkWriter()),this._bulkWriter}constructor(n){this._settings={},this._settingsFrozen=!1,this._serializer=null,this._projectId=void 0,this._databaseId=void 0,this.registeredListenersCount=0,this.bulkWritersCount=0;const o={libName:"gccl",libVersion:z};n&&n.firebaseVersion&&(o.libVersion+=" fire/"+n.firebaseVersion),n&&n.firebaseAdminVersion&&(o.libVersion+=" fire-admin/"+n.firebaseAdminVersion),this.validateAndApplySettings({...n,...o}),this._traceUtil=this.newTraceUtilInstance(this._settings);const i=O.retry_params.default;this._backoffSettings={initialDelayMs:i.initial_retry_delay_millis,maxDelayMs:i.max_retry_delay_millis,backoffFactor:i.retry_delay_multiplier};const a=void 0===this._settings.maxIdleChannels?t.DEFAULT_MAX_IDLE_CHANNELS:this._settings.maxIdleChannels;this._clientPool=new h.ClientPool(100,a,t=>{var n;let o;const i=!(!this._settings.preferRest||t)&&"rest";let a;if(a=i?this._gaxFallback?this._gaxFallback:this._gaxFallback=r(49):this._gax?this._gax:this._gax=r(81),!1===this._settings.ssl){const t={sslCreds:(null!==(n=this._settings.grpc)&&void 0!==n?n:r(81).grpc).credentials.createInsecure(),...this._settings,fallback:i};i&&(t.protocol="http"),o=new e.exports.v1(t,a)}else o=new e.exports.v1({...this._settings,fallback:i},a);return(0,u.logger)("clientFactory",null,"Initialized Firestore GAPIC Client (useFallback: %s)",i),o},e=>e.close()),(0,u.logger)("Firestore",null,"Initialized Firestore")}settings(e){if((0,E.validateObject)("settings",e),(0,E.validateString)("settings.projectId",e.projectId,{optional:!0}),(0,E.validateString)("settings.databaseId",e.databaseId,{optional:!0}),this._settingsFrozen)throw new Error("Firestore has already been initialized. You can only call settings() once, and only before calling any other methods on a Firestore object.");const t={...this._settings,...e};this.validateAndApplySettings(t),this._traceUtil=this.newTraceUtilInstance(this._settings),this._settingsFrozen=!0}validateAndApplySettings(e){var t;void 0!==e.projectId&&((0,E.validateString)("settings.projectId",e.projectId),this._projectId=e.projectId),void 0!==e.databaseId&&((0,E.validateString)("settings.databaseId",e.databaseId),this._databaseId=e.databaseId);let r=null;const n=(0,b.tryGetPreferRestEnvironmentVariable)();void 0===e.preferRest&&void 0!==n&&(e={...e,preferRest:n}),process.env.FIRESTORE_EMULATOR_HOST?((0,E.validateHost)("FIRESTORE_EMULATOR_HOST",process.env.FIRESTORE_EMULATOR_HOST),e={...e,host:process.env.FIRESTORE_EMULATOR_HOST,ssl:!1},r=new o.URL("http://"+e.host)):void 0!==e.host&&((0,E.validateHost)("settings.host",e.host),r=new o.URL("http://"+e.host)),null!==r&&((void 0!==e.servicePath&&e.servicePath!==r.hostname||void 0!==e.apiEndpoint&&e.apiEndpoint!==r.hostname)&&console.warn(`The provided host (${r.hostname}) in "settings" does not match the existing host (${null!==(t=e.servicePath)&&void 0!==t?t:e.apiEndpoint}). Using the provided host.`),e.servicePath=r.hostname,""!==r.port&&void 0===e.port&&(e.port=Number(r.port)),delete e.host,delete e.apiEndpoint),void 0!==e.ssl&&(0,E.validateBoolean)("settings.ssl",e.ssl),void 0!==e.maxIdleChannels&&(0,E.validateInteger)("settings.maxIdleChannels",e.maxIdleChannels,{minValue:0}),this._settings=e,this._settings.toJSON=function(){const e=Object.assign({},this);return e.credentials&&(e.credentials={private_key:"***",client_email:"***"}),e},this._serializer=new m.Serializer(this)}newTraceUtilInstance(e){let t=!0;if("FIRESTORE_ENABLE_TRACING"in process.env){const e=process.env.FIRESTORE_ENABLE_TRACING.toLowerCase();"on"!==e&&"true"!==e||(t=!0),"off"!==e&&"false"!==e||(t=!1)}return t?new C.EnabledTraceUtil(e):new A.DisabledTraceUtil}get projectId(){if(void 0===this._projectId)throw new Error("INTERNAL ERROR: Client is not yet ready to issue requests.");return this._projectId}get databaseId(){return this._databaseId||d.DEFAULT_DATABASE_ID}get formattedName(){return`projects/${this.projectId}/databases/${this.databaseId}`}doc(e){(0,d.validateResourcePath)("documentPath",e);const t=d.ResourcePath.EMPTY.append(e);if(!t.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${e}". Your path does not contain an even number of components.`);return new g.DocumentReference(this,t)}collection(e){(0,d.validateResourcePath)("collectionPath",e);const t=d.ResourcePath.EMPTY.append(e);if(!t.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${e}". Your path does not contain an odd number of components.`);return new f.CollectionReference(this,t)}collectionGroup(e){if(-1!==e.indexOf("/"))throw new Error(`Invalid collectionId '${e}'. Collection IDs must not contain '/'.`);return new w.CollectionGroup(this,e,void 0)}batch(){return new _.WriteBatch(this)}bulkWriter(e){return new a.BulkWriter(this,e)}snapshot_(e,t,r){let n,o,i,a;if(void 0===r||"protobufJS"===r)n=e=>e,o=e=>e;else{if("json"!==r)throw new Error(`Unsupported encoding format. Expected "json" or "protobufJS", but was "${r}".`);n=l.timestampFromJson,o=l.fieldsFromJson}return"string"==typeof e?(i=new g.DocumentReference(this,d.QualifiedResourcePath.fromSlashSeparatedString(e)),a=new c.DocumentSnapshotBuilder(i)):(i=new g.DocumentReference(this,d.QualifiedResourcePath.fromSlashSeparatedString(e.name)),a=new c.DocumentSnapshotBuilder(i),a.fieldsProto=e.fields?o(e.fields):{},a.createTime=y.Timestamp.fromProto(n(e.createTime,"documentOrName.createTime")),a.updateTime=y.Timestamp.fromProto(n(e.updateTime,"documentOrName.updateTime"))),t&&(a.readTime=y.Timestamp.fromProto(n(t,"readTime"))),a.build()}bundle(e){return new s.BundleBuilder(e||(0,b.autoId)())}runTransaction(e,t){(0,E.validateFunction)("updateFunction",e);const r=(0,b.requestTag)();t&&((0,E.validateObject)("transactionOptions",t),(0,E.validateBoolean)("transactionOptions.readOnly",t.readOnly,{optional:!0}),t.readOnly?(0,E.validateTimestamp)("transactionOptions.readTime",t.readTime,{optional:!0}):(0,E.validateInteger)("transactionOptions.maxAttempts",t.maxAttempts,{optional:!0,minValue:1}));const n=new v.Transaction(this,r,t);return this.initializeIfNeeded(r).then(()=>n.runTransaction(e))}listCollections(){return new g.DocumentReference(this,d.ResourcePath.EMPTY).listCollections()}getAll(...e){return this._traceUtil.startActiveSpan(T.SPAN_NAME_BATCH_GET_DOCUMENTS,()=>{(0,E.validateMinNumberOfArguments)("Firestore.getAll",e,1);const{documents:t,fieldMask:r}=(0,v.parseGetAllArguments)(e);this._traceUtil.currentSpan().setAttributes({[T.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[T.ATTRIBUTE_KEY_DOC_COUNT]:t.length});const n=(0,b.requestTag)(),o=Error().stack;return this.initializeIfNeeded(n).then(()=>new p.DocumentReader(this,t,r).get(n)).catch(e=>{throw(0,b.wrapError)(e,o)})})}registerListener(){this.registeredListenersCount+=1}unregisterListener(){this.registeredListenersCount-=1}_incrementBulkWritersCount(){this.bulkWritersCount+=1}_decrementBulkWritersCount(){this.bulkWritersCount-=1}recursiveDelete(e,t){return this._recursiveDelete(e,S.RECURSIVE_DELETE_MAX_PENDING_OPS,S.RECURSIVE_DELETE_MIN_PENDING_OPS,t)}_recursiveDelete(e,t,r,n){const o=null!=n?n:this.getBulkWriter();return new S.RecursiveDelete(this,o,e,t,r).run()}terminate(){return this.registeredListenersCount>0||this.bulkWritersCount>0?Promise.reject(`All onSnapshot() listeners must be unsubscribed, and all BulkWriter instances must be closed before terminating the client. There are ${this.registeredListenersCount} active listeners and `+this.bulkWritersCount+" open BulkWriter instances."):this._clientPool.terminate()}toJSON(){return{projectId:this._projectId}}async initializeIfNeeded(e){if(this._settingsFrozen=!0,!1===this._settings.ssl&&(this._settings.customHeaders={Authorization:"Bearer owner",...this._settings.customHeaders}),void 0===this._projectId)try{this._projectId=await this._clientPool.run(e,!1,e=>e.getProjectId()),(0,u.logger)("Firestore.initializeIfNeeded",null,"Detected project ID: %s",this._projectId),this._traceUtil.recordProjectId(this.projectId)}catch(e){return(0,u.logger)("Firestore.initializeIfNeeded",null,"Failed to detect project ID: %s",e),Promise.reject(e)}}createCallOptions(e,t){var n;const o={otherArgs:{headers:{"google-cloud-resource-prefix":this.formattedName,...this._settings.customHeaders,...null===(n=this._settings[e])||void 0===n?void 0:n.customHeaders}}};if(t){const n=(0,b.getRetryParams)(e);o.retry=new(r(49).RetryOptions)(t,n)}return o}async _retry(e,r,n){const o=new i.ExponentialBackoff;let a=void 0;for(let i=0;i<t.MAX_REQUEST_RETRIES;++i){a&&(0,u.logger)("Firestore._retry",r,"Retrying request that failed with error:",a);try{return await o.backoffAndWait(),await n()}catch(t){if(a=t,(0,b.isPermanentRpcError)(t,e))break}}return(0,u.logger)("Firestore._retry",r,"Request failed with error:",a),Promise.reject(a)}_initializeStream(e,t,r,o){const i=new n.PassThrough({objectMode:!0});i.pause();let a=!1;return new Promise((n,s)=>{function l(){a||(a=!0,(0,u.logger)("Firestore._initializeStream",r,"Stream ready"),n(i))}function p(){(0,u.logger)("Firestore._initializeStream",r,"Received stream end"),i.unpipe(e),n(i),t.resolve()}function c(e){a?((0,u.logger)("Firestore._initializeStream",r,"Received stream error:",e),setImmediate(()=>{i.emit("error",e)})):((0,u.logger)("Firestore._initializeStream",r,"Received initial error:",e),s(e))}e.on("data",()=>l()),e.on("error",e=>c(e)),e.on("end",()=>p()),e.on("close",()=>p()),e.on("finish",()=>p()),e.pipe(i),o&&((0,u.logger)("Firestore._initializeStream",r,"Sending request: %j",o),e.write(o,"utf-8",e=>{e?c(e):((0,u.logger)("Firestore._initializeStream",r,"Marking stream as healthy"),l())}))})}request(e,t,r,n){const o=this.createCallOptions(e,n);return this._clientPool.run(r,!1,async n=>{try{(0,u.logger)("Firestore.request",r,"Sending request: %j",t);const[i]=await n[e](t,o);return(0,u.logger)("Firestore.request",r,"Received response: %j",i),i}catch(e){return(0,u.logger)("Firestore.request",r,"Received error:",e),Promise.reject(e)}})}requestStream(e,t,r,o){const i=this.createCallOptions(e),a="listen"===e;let s=0;return this._retry(e,o,()=>{const l=new b.Deferred;return this._clientPool.run(o,t,async t=>{(0,u.logger)("Firestore.requestStream",o,"Sending request: %j",r),this._traceUtil.currentSpan().addEvent(`Firestore.${e}: Start`);try{const p=a?t[e](i):t[e](r,i),c=new n.Transform({objectMode:!0,transform:(t,r,n)=>{(0,u.logger)("Firestore.requestStream",o,"Received response: %j",t),s++,1===s?this._traceUtil.currentSpan().addEvent(`Firestore.${e}: First response received`):s%100==0&&this._traceUtil.currentSpan().addEvent(`Firestore.${e}: Received ${s} responses`),n()}});p.pipe(c);const d=new b.Deferred,h=await this._initializeStream(p,d,o,a?r:void 0);return h.on("end",()=>{p.end(),this._traceUtil.currentSpan().addEvent(`Firestore.${e}: Completed`,{[T.ATTRIBUTE_KEY_NUM_RESPONSES]:s})}),l.resolve(h),d.promise}catch(e){l.reject(e)}}),l.promise})}}t.Firestore=W,t.default=W;const J=e.exports;e.exports=W,e.exports=Object.assign(e.exports,J),Object.defineProperty(e.exports,"v1beta1",{get:()=>r(765)}),Object.defineProperty(e.exports,"v1",{get:()=>r(434)}),Object.defineProperty(e.exports,"GrpcStatus",{get:()=>r(81).Status})},function(e,t,r){"use strict";var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(368),n.base64=r(678),n.EventEmitter=r(679),n.float=r(680),n.inquire=r(369),n.utf8=r(681),n.pool=r(682),n.LongBits=r(683),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerResolver=function(e,t){o[e]=t},t.registerDefaultScheme=function(e){i=e},t.createResolver=function(e,t,r){if(void 0!==e.scheme&&e.scheme in o)return new o[e.scheme](e,t,r);throw new Error("No resolver could be created for target "+(0,n.uriToString)(e))},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in o)return o[e.scheme].getDefaultAuthority(e);throw new Error("Invalid target "+(0,n.uriToString)(e))},t.mapUriDefaultScheme=function(e){if(void 0===e.scheme||!(e.scheme in o))return null!==i?{scheme:i,authority:void 0,path:(0,n.uriToString)(e)}:null;return e};const n=r(28),o={};let i=null},function(e,t){e.exports=require("https")},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ImpersonatedServiceAccountCredential=t.RefreshTokenCredential=t.ServiceAccountCredential=t.ApplicationDefaultCredential=void 0,t.isApplicationDefault=function(e){return e instanceof l||e instanceof c&&e.implicit},t.getApplicationDefault=function(e){return new l(e)};const n=r(17),o=r(52),i=r(2),a=r(4),s=["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/firebase.database","https://www.googleapis.com/auth/firebase.messaging","https://www.googleapis.com/auth/identitytoolkit","https://www.googleapis.com/auth/userinfo.email"];class l{constructor(e){this.googleAuth=new o.GoogleAuth({scopes:s,clientOptions:{transporterOptions:{agent:e}}})}async getAccessToken(){this.authClient||(this.authClient=await this.googleAuth.getClient()),await this.authClient.getAccessToken();const e=this.authClient.credentials;return this.quotaProjectId=this.authClient.quotaProjectId,g(e)}async getProjectId(){return this.projectId||(this.projectId=await this.googleAuth.getProjectId()),Promise.resolve(this.projectId)}getQuotaProjectId(){var e;this.quotaProjectId||(this.quotaProjectId=null===(e=this.authClient)||void 0===e?void 0:e.quotaProjectId);return this.quotaProjectId}async isComputeEngineCredential(){return this.authClient||(this.authClient=await this.googleAuth.getClient()),Promise.resolve(this.authClient instanceof o.Compute)}async getIDToken(e){if(await this.isComputeEngineCredential())return this.authClient.fetchIdToken(e);throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Credentials type should be Compute Engine Credentials.")}async getServiceAccountEmail(){if(this.accountId)return Promise.resolve(this.accountId);const{client_email:e}=await this.googleAuth.getCredentials();return this.accountId=null!=e?e:"",Promise.resolve(this.accountId)}}t.ApplicationDefaultCredential=l;t.ServiceAccountCredential=class{constructor(e,t,r=!1){this.serviceAccountPathOrObject=e,this.httpAgent=t,this.implicit=r;const n="string"==typeof e?p.fromPath(e):new p(e);this.projectId=n.projectId,this.privateKey=n.privateKey,this.clientEmail=n.clientEmail}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:e,client:t}=f(this.serviceAccountPathOrObject,this.httpAgent);return this.googleAuth=e,this.authClient=t,this.googleAuth}async getAccessToken(){const e=this.getGoogleAuth();void 0===this.authClient&&(this.authClient=await e.getClient()),await this.authClient.getAccessToken();return g(this.authClient.credentials)}};class p{static fromPath(e){try{return new p(JSON.parse(n.readFileSync(e,"utf8")))}catch(e){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse service account json file: "+e)}}constructor(e){if(!a.isNonNullObject(e))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");let t;if(h(this,e,"projectId","project_id"),h(this,e,"privateKey","private_key"),h(this,e,"clientEmail","client_email"),a.isNonEmptyString(this.projectId)?a.isNonEmptyString(this.privateKey)?a.isNonEmptyString(this.clientEmail)||(t='Service account object must contain a string "client_email" property.'):t='Service account object must contain a string "private_key" property.':t='Service account object must contain a string "project_id" property.',void 0!==t)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,t);const n=r(494);try{n.pki.privateKeyFromPem(this.privateKey)}catch(e){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse private key: "+e)}}}class c{constructor(e,t,r=!1){this.refreshTokenPathOrObject=e,this.httpAgent=t,this.implicit=r,"string"==typeof e?u.validateFromPath(e):u.validateFromJSON(e)}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:e,client:t}=f(this.refreshTokenPathOrObject,this.httpAgent);return this.googleAuth=e,this.authClient=t,this.googleAuth}async getAccessToken(){const e=this.getGoogleAuth();void 0===this.authClient&&(this.authClient=await e.getClient()),await this.authClient.getAccessToken();return g(this.authClient.credentials)}}t.RefreshTokenCredential=c;class u{static validateFromPath(e){try{u.validateFromJSON(JSON.parse(n.readFileSync(e,"utf8")))}catch(e){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse refresh token file: "+e)}}static validateFromJSON(e){const t={clientId:"",clientSecret:"",refreshToken:"",type:""};let r;if(h(t,e,"clientId","client_id"),h(t,e,"clientSecret","client_secret"),h(t,e,"refreshToken","refresh_token"),h(t,e,"type","type"),a.isNonEmptyString(t.clientId)?a.isNonEmptyString(t.clientSecret)?a.isNonEmptyString(t.refreshToken)?a.isNonEmptyString(t.type)||(r='Refresh token must contain a "type" property.'):r='Refresh token must contain a "refresh_token" property.':r='Refresh token must contain a "client_secret" property.':r='Refresh token must contain a "client_id" property.',void 0!==r)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,r)}}t.ImpersonatedServiceAccountCredential=class{constructor(e,t,r=!1){this.impersonatedServiceAccountPathOrObject=e,this.httpAgent=t,this.implicit=r,"string"==typeof e?d.validateFromPath(e):d.validateFromJSON(e)}getGoogleAuth(){if(this.googleAuth)return this.googleAuth;const{auth:e,client:t}=f(this.impersonatedServiceAccountPathOrObject,this.httpAgent);return this.googleAuth=e,this.authClient=t,this.googleAuth}async getAccessToken(){const e=this.getGoogleAuth();void 0===this.authClient&&(this.authClient=await e.getClient()),await this.authClient.getAccessToken();return g(this.authClient.credentials)}};class d{static validateFromPath(e){try{d.validateFromJSON(JSON.parse(n.readFileSync(e,"utf8")))}catch(e){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse impersonated service account file: "+e)}}static validateFromJSON(e){const{client_id:t,client_secret:r,refresh_token:n,type:o}=e.source_credentials;let s;if(a.isNonEmptyString(t)?a.isNonEmptyString(r)?a.isNonEmptyString(n)?a.isNonEmptyString(o)||(s='Impersonated Service Account must contain a "source_credentials.type" property.'):s='Impersonated Service Account must contain a "source_credentials.refresh_token" property.':s='Impersonated Service Account must contain a "source_credentials.client_secret" property.':s='Impersonated Service Account must contain a "source_credentials.client_id" property.',void 0!==s)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,s)}}function h(e,t,r,n){const o=t[r]||t[n];void 0!==o&&(e[r]=o)}function f(e,t){let r;const n=new o.GoogleAuth({scopes:s,clientOptions:{transporterOptions:{agent:t}},keyFile:"string"==typeof e?e:void 0});if("object"==typeof e){if(!a.isNonNullObject(e))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Service account must be an object.");h(e,e,"project_id","projectId"),h(e,e,"private_key","privateKey"),h(e,e,"client_email","clientEmail"),r=n.fromJSON(e)}return{auth:n,client:r}}function g(e){const t=null==e?void 0:e.access_token,r=null==e?void 0:e.expiry_date;if("string"!=typeof t)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse Google auth credential: access_token must be a non empty string.");if("number"!=typeof r)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_CREDENTIAL,"Failed to parse Google auth credential: Invalid expiry_date.");return{...e,access_token:t,expires_in:Math.floor((r-(new Date).getTime())/1e3)}}},function(e,t){e.exports=require("querystring")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallSettings=t.RetryOptions=void 0,t.convertRetryOptions=function(e,t){var r,o,a,l;if(!e)return e;if(!t)return e;if(e.retry&&e.retryRequestOptions)throw new Error("Only one of retry or retryRequestOptions may be set");if(e.retryRequestOptions){void 0!==e.retryRequestOptions.objectMode&&(0,n.warn)("retry_request_options","objectMode override is not supported. It is set to true internally by default in gax.","UnsupportedParameterWarning"),void 0!==e.retryRequestOptions.noResponseRetries&&(0,n.warn)("retry_request_options","noResponseRetries override is not supported. Please specify retry codes or a function to determine retry eligibility.","UnsupportedParameterWarning"),void 0!==e.retryRequestOptions.currentRetryAttempt&&(0,n.warn)("retry_request_options","currentRetryAttempt override is not supported. Retry attempts are tracked internally.","UnsupportedParameterWarning");let t,c=[i.Status.UNAVAILABLE];e.retryRequestOptions.shouldRetryFn&&(c=[],t=e.retryRequestOptions.shouldRetryFn),e.maxRetries=null!==(o=null===(r=null==e?void 0:e.retryRequestOptions)||void 0===r?void 0:r.retries)&&void 0!==o?o:e.maxRetries;const u=p();let d,h;void 0!==e.retryRequestOptions.maxRetryDelay&&(d=1e3*e.retryRequestOptions.maxRetryDelay);const f=null!==(l=null===(a=null==e?void 0:e.retryRequestOptions)||void 0===a?void 0:a.retryDelayMultiplier)&&void 0!==l?l:u.retryDelayMultiplier;void 0!==e.retryRequestOptions.totalTimeout&&(h=1e3*e.retryRequestOptions.totalTimeout),u.maxRetryDelayMillis=null!=d?d:u.maxRetryDelayMillis,u.retryDelayMultiplier=null!=f?f:u.retryDelayMultiplier,u.totalTimeoutMillis=null!=h?h:u.totalTimeoutMillis;const g=s(c,u,t);e.retry=g,delete e.retryRequestOptions,(0,n.warn)("retry_request_options","retryRequestOptions will be deprecated in a future release. Please use retryOptions to pass retry options at call time","DeprecationWarning")}return e},t.createRetryOptions=s,t.createBackoffSettings=l,t.createDefaultBackoffSettings=p,t.createMaxRetriesBackoffSettings=function(e,t,r,n,o,i,a){return{initialRetryDelayMillis:e,retryDelayMultiplier:t,maxRetryDelayMillis:r,initialRpcTimeoutMillis:n,rpcTimeoutMultiplier:o,maxRpcTimeoutMillis:i,maxRetries:a}},t.createBundleOptions=c,t.constructSettings=function(e,t,r,n,i){i=i||{};const s={},l=(t.interfaces||{})[e];if(!l)return null;const p=(r.interfaces||{})[e]||{},h=l.methods,f=p.methods||{};for(const t in h){const r=h[t],g=(0,o.toLowerCamelCase)(t);let m=u(r,l.retry_codes,l.retry_params,n),y=r.bundling,v=r.timeout_millis;if(t in f){const e=f[t];e&&("bundling"in e&&(y=e.bundling),"timeout_millis"in e&&(v=e.timeout_millis)),m=d(m,u(e,p.retry_codes,p.retry_params,n))}const b=e;s[g]=new a({timeout:v,retry:m,bundleOptions:y?c(y):null,otherArgs:i,apiName:b})}return s},t.createByteLengthFunction=function(e){return function(t){try{return e.encode(t).finish().length}catch(e){const r=JSON.stringify(t);return(0,n.warn)("error_encoding_protobufjs_object",`Cannot encode protobuf.js object: ${r}: ${e}`),r.length}}};const n=r(78),o=r(92),i=r(39);t.RetryOptions=class{constructor(e,t,r,n){this.retryCodes=e,this.backoffSettings=t,this.shouldRetryFn=r,this.getResumptionRequestFn=n}};class a{constructor(e){var t;e=e||{},this.timeout=e.timeout||3e4,this.retry=e.retry,this.autoPaginate=!("autoPaginate"in e)||e.autoPaginate,this.maxResults=e.maxResults,this.otherArgs=e.otherArgs||{},this.bundleOptions=e.bundleOptions,this.isBundling=!("isBundling"in e)||e.isBundling,this.longrunning="longrunning"in e?e.longrunning:void 0,this.apiName=null!==(t=e.apiName)&&void 0!==t?t:void 0,this.retryRequestOptions=e.retryRequestOptions}merge(e){if(!e)return new a(this);let t=this.timeout,r=this.retry,n=this.autoPaginate,o=this.maxResults,i=this.otherArgs,s=this.isBundling,l=this.longrunning,p=this.apiName,c=this.retryRequestOptions;if("timeout"in e&&(t=e.timeout),(null==r?void 0:r.retryCodes)&&(r.backoffSettings.initialRpcTimeoutMillis=t,r.backoffSettings.maxRpcTimeoutMillis=t,r.backoffSettings.totalTimeoutMillis=t),"retry"in e&&(r=d(r||{},e.retry)),"autoPaginate"in e&&!e.autoPaginate&&(n=!1),"maxResults"in e&&(o=e.maxResults),"otherArgs"in e){i={};for(const e in this.otherArgs)i[e]=this.otherArgs[e];for(const t in e.otherArgs)i[t]=e.otherArgs[t]}return"isBundling"in e&&(s=e.isBundling),"maxRetries"in e&&void 0!==e.maxRetries&&(r.backoffSettings.maxRetries=e.maxRetries,delete r.backoffSettings.totalTimeoutMillis),"longrunning"in e&&(l=e.longrunning),"apiName"in e&&(p=e.apiName),"retryRequestOptions"in e&&(c=e.retryRequestOptions),new a({timeout:t,retry:r,bundleOptions:this.bundleOptions,longrunning:l,autoPaginate:n,maxResults:o,otherArgs:i,isBundling:s,apiName:p,retryRequestOptions:c})}}function s(e,t,r,n){return{retryCodes:e,backoffSettings:t,shouldRetryFn:r,getResumptionRequestFn:n}}function l(e,t,r,n,o,i,a){return{initialRetryDelayMillis:e,retryDelayMultiplier:t,maxRetryDelayMillis:r,initialRpcTimeoutMillis:n,rpcTimeoutMultiplier:o,maxRpcTimeoutMillis:i,totalTimeoutMillis:a}}function p(){return l(100,1.3,6e4,null,null,null,null)}function c(e){["element_count_threshold","element_count_limit","request_byte_threshold","request_byte_limit","delay_threshold_millis"].forEach(t=>{if(t in e&&"number"!=typeof e[t])throw new Error(t+" should be a number")});const t=e.element_count_threshold||0,r=e.element_count_limit||0,n=e.request_byte_threshold||0,o=e.request_byte_limit||0,i=e.delay_threshold_millis||0;if(0===t&&0===n&&0===i)throw new Error("one threshold should be > 0");return{elementCountThreshold:t,elementCountLimit:r,requestByteThreshold:n,requestByteLimit:o,delayThreshold:i}}function u(e,t,r,n){if(!e)return null;let o=null;if(t&&"retry_codes_name"in e){o=(t[e.retry_codes_name]||[]).map(e=>Number(n[e]))}let i=null;if(r&&"retry_params_name"in e){const t=r[e.retry_params_name];i=l(t.initial_retry_delay_millis,t.retry_delay_multiplier,t.max_retry_delay_millis,t.initial_rpc_timeout_millis,t.rpc_timeout_multiplier,t.max_rpc_timeout_millis,t.total_timeout_millis)}return s(o,i)}function d(e,t){if(!t)return null;if(!(t.retryCodes||t.backoffSettings||t.shouldRetryFn||t.getResumptionRequestFn))return e;return s(t.retryCodes?t.retryCodes:e.retryCodes,t.backoffSettings?t.backoffSettings:e.backoffSettings,t.shouldRetryFn?t.shouldRetryFn:e.shouldRetryFn,t.getResumptionRequestFn?t.getResumptionRequestFn:e.getResumptionRequestFn)}t.CallSettings=a},function(e,t,r){"use strict";
/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Precondition=t.DocumentTransform=t.DocumentMask=t.QueryDocumentSnapshot=t.DocumentSnapshot=t.DocumentSnapshotBuilder=void 0;const n=r(95),o=r(45),i=r(151),a=r(15),s=r(79),l=r(80),p=r(13);t.DocumentSnapshotBuilder=class{constructor(e){this.ref=e}build(){return o(void 0!==this.fieldsProto==(void 0!==this.createTime),"Create time should be set iff document exists."),o(void 0!==this.fieldsProto==(void 0!==this.updateTime),"Update time should be set iff document exists."),this.fieldsProto?new u(this.ref,this.fieldsProto,this.readTime,this.createTime,this.updateTime):new c(this.ref,void 0,this.readTime)}};class c{constructor(e,t,r,n,o){this._fieldsProto=t,this._ref=e,this._serializer=e.firestore._serializer,this._readTime=r,this._createTime=n,this._updateTime=o}static fromObject(e,t){const r=e.firestore._serializer;return new c(e,r.encodeFields(t))}static fromUpdateMap(e,t){const r=e.firestore._serializer;function n(e,t,a,s){const l=a[s],c=s===a.length-1;if(void 0===e[l]){if(c){if(t instanceof i.FieldTransform)return(0,p.isEmpty)(e)?null:e;const n=r.encodeValue(t);return n&&(e[l]=n),e}{const r={mapValue:{fields:{}}},o=n(r.mapValue.fields,t,a,s+1);return o?(r.mapValue.fields=o,e[l]=r,e):(0,p.isEmpty)(e)?null:e}}return o(!c,"Can't merge current value into a nested object"),e[l].mapValue.fields=n(e[l].mapValue.fields,t,a,s+1),e}const a={};for(const[e,r]of t){n(a,r,e.toArray(),0)}return new c(e,a)}get exists(){return void 0!==this._fieldsProto}get ref(){return this._ref}get id(){return this._ref.id}get createTime(){return this._createTime}get updateTime(){return this._updateTime}get readTime(){if(void 0===this._readTime)throw new Error("Called 'readTime' on a local document");return this._readTime}data(){const e=this._fieldsProto;if(void 0!==e){if(this.ref._converter!==(0,l.defaultConverter)()){const e=new s.DocumentReference(this.ref.firestore,this.ref._path);return this.ref._converter.fromFirestore(new u(e,this._fieldsProto,this.readTime,this.createTime,this.updateTime))}{const t={};for(const r of Object.keys(e))t[r]=this._serializer.decodeValue(e[r]);return t}}}get(e){(0,a.validateFieldPath)("field",e);const t=this.protoField(e);if(void 0!==t)return this._serializer.decodeValue(t)}protoField(e){let t=this._fieldsProto;if(void 0===t)return;const r=a.FieldPath.fromArgument(e).toArray();for(;r.length>1;){if(t=t[r.shift()],!t||!t.mapValue)return;t=t.mapValue.fields}return t[r[0]]}toWriteProto(){return{update:{name:this._ref.formattedName,fields:this._fieldsProto}}}toDocumentProto(){var e,t;return{name:this._ref.formattedName,createTime:null===(e=this.createTime)||void 0===e?void 0:e.toProto().timestampValue,updateTime:null===(t=this.updateTime)||void 0===t?void 0:t.toProto().timestampValue,fields:this._fieldsProto}}isEqual(e){return this===e||e instanceof c&&this._ref.isEqual(e._ref)&&n(this._fieldsProto,e._fieldsProto)}}t.DocumentSnapshot=c;class u extends c{get createTime(){return super.createTime}get updateTime(){return super.updateTime}data(){const e=super.data();if(!e)throw new Error("The data in a QueryDocumentSnapshot should always exist.");return e}}t.QueryDocumentSnapshot=u;class d{constructor(e){this._sortedPaths=e,this._sortedPaths.sort((e,t)=>e.compareTo(t))}static fromUpdateMap(e){const t=[];return e.forEach((e,r)=>{e instanceof i.FieldTransform&&!e.includeInDocumentMask||t.push(a.FieldPath.fromArgument(r))}),new d(t)}static fromFieldMask(e){const t=[];for(const r of e)t.push(a.FieldPath.fromArgument(r));return new d(t)}static fromObject(e){const t=[];return function e(r,n){let o=!0;for(const s of Object.keys(r)){o=!1;const l=new a.FieldPath(s),c=n?n.append(l):l,u=r[s];u instanceof i.FieldTransform?u.includeInDocumentMask&&t.push(c):(0,p.isPlainObject)(u)?e(u,c):void 0!==u&&t.push(c)}n&&o&&t.push(n)}(e),new d(t)}get isEmpty(){return 0===this._sortedPaths.length}static removeFromSortedArray(e,t){for(let r=0;r<e.length;){let n=!1;for(const o of t)if(e[r].isEqual(o)){e.splice(r,1),n=!0;break}n||++r}}removeFields(e){d.removeFromSortedArray(this._sortedPaths,e)}contains(e){for(const t of this._sortedPaths){const r=t.compareTo(e);if(0===r)return!0;if(r>0)return!1}return!1}applyTo(e){
/*!
     * Applies this DocumentMask to 'data' and computes the list of field paths
     * that were specified in the mask but are not present in 'data'.
     */
const t=(e=>{const t=this._sortedPaths.slice(0),r=(e,n)=>{let o=null;return Object.keys(e).forEach(i=>{const s=n?n.append(i):new a.FieldPath(i);if(this.contains(s))d.removeFromSortedArray(t,[s]),o=o||{},o[i]=e[i];else if((0,p.isObject)(e[i])){const t=r(e[i],s);t&&(o=o||{},o[i]=t)}}),o};return{filteredData:r(e)||{},remainingPaths:t}})(e);if(0!==t.remainingPaths.length)throw new Error(`Input data is missing for field "${t.remainingPaths[0]}".`);return t.filteredData}toProto(){if(this.isEmpty)return{};const e=[];for(const t of this._sortedPaths)e.push(t.formattedName);return{fieldPaths:e}}}t.DocumentMask=d;class h{constructor(e,t){this.ref=e,this.transforms=t}static fromObject(e,t){const r=new Map;for(const e of Object.keys(t))r.set(new a.FieldPath(e),t[e]);return h.fromUpdateMap(e,r)}static fromUpdateMap(e,t){const r=new Map;return t.forEach((e,t)=>{!function e(t,n,o){if(t instanceof i.FieldTransform&&t.includeInDocumentTransform){if(!o)throw new Error(t.methodName+"() is not supported inside of array values.");r.set(n,t)}else if(Array.isArray(t))for(let r=0;r<t.length;++r)e(t[r],n.append(String(r)),!1);else if((0,p.isPlainObject)(t))for(const r of Object.keys(t))e(t[r],n.append(new a.FieldPath(r)),o)}(e,a.FieldPath.fromArgument(t),!0)}),new h(e,r)}get isEmpty(){return 0===this.transforms.size}get fields(){return Array.from(this.transforms.keys())}validate(){const e=!!this.ref.firestore._settings.ignoreUndefinedProperties;this.transforms.forEach(t=>t.validate(e))}toProto(e){return Array.from(this.transforms,([t,r])=>r.toProto(e,t))}}t.DocumentTransform=h;t.Precondition=class{constructor(e){void 0!==e&&(this._exists=e.exists,this._lastUpdateTime=e.lastUpdateTime)}toProto(){if(this.isEmpty)return null;const e={};return void 0!==this._lastUpdateTime?e.updateTime=this._lastUpdateTime.toProto().timestampValue:e.exists=this._exists,e}get isEmpty(){return void 0===this._exists&&!this._lastUpdateTime}}},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("os")},function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<i;l=n[++r])g(l)||!E(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(e,r){if("undefined"!=typeof process&&!0===process.noDeprecation)return e;if("undefined"==typeof process)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var i,a={};function s(e,r){var n={seen:[],stylize:p};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function p(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&w(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return y(o)||(o=c(e,o,n)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(i)return i;var a=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),O(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(r);if(0===a.length){if(w(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return e.stylize(Date.prototype.toString.call(r),"date");if(O(r))return u(r)}var p,E="",S=!1,T=["{","}"];(h(r)&&(S=!0,T=["[","]"]),w(r))&&(E=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(E=" "+RegExp.prototype.toString.call(r)),_(r)&&(E=" "+Date.prototype.toUTCString.call(r)),O(r)&&(E=" "+u(r)),0!==a.length||S&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),p=S?function(e,t,r,n,o){for(var i=[],a=0,s=t.length;a<s;++a)I(t,String(a))?i.push(d(e,t,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(d(e,t,r,n,o,!0))})),i}(e,r,n,s,a):a.map((function(t){return d(e,r,n,s,t,S)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(p,E,T)):T[0]+E+T[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),I(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(r)?c(e,l.value,null):c(e,l.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return E(e)&&"[object RegExp]"===S(e)}function E(e){return"object"==typeof e&&null!==e}function _(e){return E(e)&&"[object Date]"===S(e)}function O(e){return E(e)&&("[object Error]"===S(e)||e instanceof Error)}function w(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(v(i)&&(i=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=process.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=E,t.isDate=_,t.isError=O,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(474);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=r(475),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=N,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return n.apply(o,arguments)};e.apply(this,t).then((function(e){process.nextTick(i,null,e)}),(function(e){process.nextTick(P,e,i)}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},function(e,t,r){"use strict";var n,o,i,a,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function l(e){return e.replace(/([_][^_])/g,e=>e.slice(1).toUpperCase())}Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0,t.snakeToCamel=l,t.originalOrCamelOptions=function(e){return{get:function(t){var r;const n=e||{};return null!==(r=n[t])&&void 0!==r?r:n[l(t)]}}};t.LRUCache=class{constructor(e){n.add(this),o.set(this,new Map),this.capacity=e.capacity,this.maxAge=e.maxAge}set(e,t){s(this,n,"m",i).call(this,e,t),s(this,n,"m",a).call(this)}get(e){const t=s(this,o,"f").get(e);if(t)return s(this,n,"m",i).call(this,e,t.value),s(this,n,"m",a).call(this),t.value}},o=new WeakMap,n=new WeakSet,i=function(e,t){s(this,o,"f").delete(e),s(this,o,"f").set(e,{value:t,lastAccessed:Date.now()})},a=function(){const e=this.maxAge?Date.now()-this.maxAge:0;let t=s(this,o,"f").entries().next();for(;!t.done&&(s(this,o,"f").size>this.capacity||t.value[1].lastAccessed<e);)s(this,o,"f").delete(t.value[0]),t=s(this,o,"f").entries().next()}},function(e,t,r){"use strict";var n,o,i,a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseExternalAccountClient=t.DEFAULT_UNIVERSE=t.CLOUD_RESOURCE_MANAGER=t.EXTERNAL_ACCOUNT_TYPE=t.EXPIRATION_TIME_OFFSET=void 0;const l=r(1),p=r(54),c=r(266),u=r(69),d="https://www.googleapis.com/auth/cloud-platform";t.EXPIRATION_TIME_OFFSET=3e5,t.EXTERNAL_ACCOUNT_TYPE="external_account",t.CLOUD_RESOURCE_MANAGER="https://cloudresourcemanager.googleapis.com/v1/projects/";const h=r(251);var f=r(54);Object.defineProperty(t,"DEFAULT_UNIVERSE",{enumerable:!0,get:function(){return f.DEFAULT_UNIVERSE}});class g extends p.AuthClient{constructor(e,r){var i;super({...e,...r}),n.add(this),o.set(this,null);const a=(0,u.originalOrCamelOptions)(e),s=a.get("type");if(s&&s!==t.EXTERNAL_ACCOUNT_TYPE)throw new Error(`Expected "${t.EXTERNAL_ACCOUNT_TYPE}" type but received "${e.type}"`);const l=a.get("client_id"),p=a.get("client_secret"),h=null!==(i=a.get("token_url"))&&void 0!==i?i:"https://sts.{universeDomain}/v1/token".replace("{universeDomain}",this.universeDomain),f=a.get("subject_token_type"),g=a.get("workforce_pool_user_project"),m=a.get("service_account_impersonation_url"),y=a.get("service_account_impersonation"),v=(0,u.originalOrCamelOptions)(y).get("token_lifetime_seconds");this.cloudResourceManagerURL=new URL(a.get("cloud_resource_manager_url")||`https://cloudresourcemanager.${this.universeDomain}/v1/projects/`),l&&(this.clientAuth={confidentialClientType:"basic",clientId:l,clientSecret:p}),this.stsCredential=new c.StsCredentials(h,this.clientAuth),this.scopes=a.get("scopes")||[d],this.cachedAccessToken=null,this.audience=a.get("audience"),this.subjectTokenType=f,this.workforcePoolUserProject=g;const b=new RegExp("//iam\\.googleapis\\.com/locations/[^/]+/workforcePools/[^/]+/providers/.+");if(this.workforcePoolUserProject&&!this.audience.match(b))throw new Error("workforcePoolUserProject should not be set for non-workforce pool credentials.");this.serviceAccountImpersonationUrl=m,this.serviceAccountImpersonationLifetime=v,this.serviceAccountImpersonationLifetime?this.configLifetimeRequested=!0:(this.configLifetimeRequested=!1,this.serviceAccountImpersonationLifetime=3600),this.projectNumber=this.getProjectNumber(this.audience),this.supplierContext={audience:this.audience,subjectTokenType:this.subjectTokenType,transporter:this.transporter}}getServiceAccountEmail(){var e;if(this.serviceAccountImpersonationUrl){if(this.serviceAccountImpersonationUrl.length>256)throw new RangeError("URL is too long: "+this.serviceAccountImpersonationUrl);const t=/serviceAccounts\/(?<email>[^:]+):generateAccessToken$/.exec(this.serviceAccountImpersonationUrl);return(null===(e=null==t?void 0:t.groups)||void 0===e?void 0:e.email)||null}return null}setCredentials(e){super.setCredentials(e),this.cachedAccessToken=e}async getAccessToken(){return this.cachedAccessToken&&!this.isExpired(this.cachedAccessToken)||await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const e={Authorization:"Bearer "+(await this.getAccessToken()).token};return this.addSharedMetadataHeaders(e)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async getProjectId(){const e=this.projectNumber||this.workforcePoolUserProject;if(this.projectId)return this.projectId;if(e){const t=await this.getRequestHeaders(),r=await this.transporter.request({...g.RETRY_CONFIG,headers:t,url:`${this.cloudResourceManagerURL.toString()}${e}`,responseType:"json"});return this.projectId=r.data.projectId,this.projectId}return null}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(r){const n=r.response;if(n){const r=n.status,o=n.config.data instanceof l.Readable,i=401===r||403===r;if(!t&&i&&!o&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw r}return r}async refreshAccessTokenAsync(){s(this,o,a(this,o,"f")||a(this,n,"m",i).call(this),"f");try{return await a(this,o,"f")}finally{s(this,o,null,"f")}}getProjectNumber(e){const t=e.match(/\/projects\/([^/]+)/);return t?t[1]:null}async getImpersonatedAccessToken(e){const t={...g.RETRY_CONFIG,url:this.serviceAccountImpersonationUrl,method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},data:{scope:this.getScopesArray(),lifetime:this.serviceAccountImpersonationLifetime+"s"},responseType:"json"},r=await this.transporter.request(t),n=r.data;return{access_token:n.accessToken,expiry_date:new Date(n.expireTime).getTime(),res:r}}isExpired(e){const t=(new Date).getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}getScopesArray(){return"string"==typeof this.scopes?[this.scopes]:this.scopes||[d]}getMetricsHeaderValue(){const e=process.version.replace(/^v/,""),t=void 0!==this.serviceAccountImpersonationUrl,r=this.credentialSourceType?this.credentialSourceType:"unknown";return`gl-node/${e} auth/${h.version} google-byoid-sdk source/${r} sa-impersonation/${t} config-lifetime/${this.configLifetimeRequested}`}}t.BaseExternalAccountClient=g,o=new WeakMap,n=new WeakSet,i=async function(){const e=await this.retrieveSubjectToken(),t={grantType:"urn:ietf:params:oauth:grant-type:token-exchange",audience:this.audience,requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:e,subjectTokenType:this.subjectTokenType,scope:this.serviceAccountImpersonationUrl?[d]:this.getScopesArray()},r=!this.clientAuth&&this.workforcePoolUserProject?{userProject:this.workforcePoolUserProject}:void 0,n={"x-goog-api-client":this.getMetricsHeaderValue()},o=await this.stsCredential.exchangeToken(t,n,r);return this.serviceAccountImpersonationUrl?this.cachedAccessToken=await this.getImpersonatedAccessToken(o.access_token):o.expires_in?this.cachedAccessToken={access_token:o.access_token,expiry_date:(new Date).getTime()+1e3*o.expires_in,res:o.res}:this.cachedAccessToken={access_token:o.access_token,res:o.res},this.credentials={},Object.assign(this.credentials,this.cachedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedAccessToken.expiry_date,access_token:this.cachedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedAccessToken}},function(e,t,r){var n=r(5);function o(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.aes.Algorithm(e,t)}))}r(164),r(272),r(8),e.exports=n.aes=n.aes||{},n.aes.startEncrypting=function(e,t,r,n){var o=f({key:e,output:r,decrypt:!1,mode:n});return o.start(t),o},n.aes.createEncryptionCipher=function(e,t){return f({key:e,output:null,decrypt:!1,mode:t})},n.aes.startDecrypting=function(e,t,r,n){var o=f({key:e,output:r,decrypt:!0,mode:n});return o.start(t),o},n.aes.createDecryptionCipher=function(e,t){return f({key:e,output:null,decrypt:!0,mode:t})},n.aes.Algorithm=function(e,t){c||u();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(r._w,e,t,!1)},decrypt:function(e,t){return h(r._w,e,t,!0)}}}),r._init=!1},n.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(n.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=n.util.createBuffer();for(var o=0;o<t.length;++o)r.putByte(t[o])}}else r=n.util.createBuffer(r);if(!n.util.isArray(r)){t=r,r=[];var i=t.length();if(16===i||24===i||32===i){i>>>=2;for(o=0;o<i;++o)r.push(t.getInt32())}}if(!n.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var a=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=d(r,e.decrypt&&!s),this._init=!0}},n.aes._expandKey=function(e,t){return c||u(),d(e,t)},n.aes._updateBlock=h,o("AES-ECB",n.cipher.modes.ecb),o("AES-CBC",n.cipher.modes.cbc),o("AES-CFB",n.cipher.modes.cfb),o("AES-OFB",n.cipher.modes.ofb),o("AES-CTR",n.cipher.modes.ctr),o("AES-GCM",n.cipher.modes.gcm);var i,a,s,l,p,c=!1;function u(){c=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;i=new Array(256),a=new Array(256),l=new Array(4),p=new Array(4);for(t=0;t<4;++t)l[t]=new Array(256),p[t]=new Array(256);var r,n,o,u,d,h,f,g=0,m=0;for(t=0;t<256;++t){u=(u=m^m<<1^m<<2^m<<3^m<<4)>>8^255&u^99,i[g]=u,a[u]=g,h=(d=e[u])<<24^u<<16^u<<8^u^d,f=((r=e[g])^(n=e[r])^(o=e[n]))<<24^(g^o)<<16^(g^n^o)<<8^g^r^o;for(var y=0;y<4;++y)l[y][g]=h,p[y][u]=f,h=h<<24|h>>>8,f=f<<24|f>>>8;0===g?g=m=1:(g=r^e[e[e[r^o]]],m^=e[e[m]])}}function d(e,t){for(var r,n=e.slice(0),o=1,a=n.length,l=4*(a+6+1),c=a;c<l;++c)r=n[c-1],c%a==0?(r=i[r>>>16&255]<<24^i[r>>>8&255]<<16^i[255&r]<<8^i[r>>>24]^s[o]<<24,o++):a>6&&c%a==4&&(r=i[r>>>24]<<24^i[r>>>16&255]<<16^i[r>>>8&255]<<8^i[255&r]),n[c]=n[c-a]^r;if(t){for(var u,d=p[0],h=p[1],f=p[2],g=p[3],m=n.slice(0),y=(c=0,(l=n.length)-4);c<l;c+=4,y-=4)if(0===c||c===l-4)m[c]=n[y],m[c+1]=n[y+3],m[c+2]=n[y+2],m[c+3]=n[y+1];else for(var v=0;v<4;++v)u=n[y+v],m[c+(3&-v)]=d[i[u>>>24]]^h[i[u>>>16&255]]^f[i[u>>>8&255]]^g[i[255&u]];n=m}return n}function h(e,t,r,n){var o,s,c,u,d,h,f,g,m,y,v,b,E=e.length/4-1;n?(o=p[0],s=p[1],c=p[2],u=p[3],d=a):(o=l[0],s=l[1],c=l[2],u=l[3],d=i),h=t[0]^e[0],f=t[n?3:1]^e[1],g=t[2]^e[2],m=t[n?1:3]^e[3];for(var _=3,O=1;O<E;++O)y=o[h>>>24]^s[f>>>16&255]^c[g>>>8&255]^u[255&m]^e[++_],v=o[f>>>24]^s[g>>>16&255]^c[m>>>8&255]^u[255&h]^e[++_],b=o[g>>>24]^s[m>>>16&255]^c[h>>>8&255]^u[255&f]^e[++_],m=o[m>>>24]^s[h>>>16&255]^c[f>>>8&255]^u[255&g]^e[++_],h=y,f=v,g=b;r[0]=d[h>>>24]<<24^d[f>>>16&255]<<16^d[g>>>8&255]<<8^d[255&m]^e[++_],r[n?3:1]=d[f>>>24]<<24^d[g>>>16&255]<<16^d[m>>>8&255]<<8^d[255&h]^e[++_],r[2]=d[g>>>24]<<24^d[m>>>16&255]<<16^d[h>>>8&255]<<8^d[255&f]^e[++_],r[n?1:3]=d[m>>>24]<<24^d[h>>>16&255]<<16^d[f>>>8&255]<<8^d[255&g]^e[++_]}function f(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),o=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof n.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,o.call(t,r)},t}},function(e,t,r){var n=r(5);n.pki=n.pki||{};var o=e.exports=n.pki.oids=n.oids=n.oids||{};function i(e,t){o[e]=t,o[t]=e}function a(e,t){o[e]=t}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("1.3.14.3.2.29","sha1WithRSASignature"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("2.16.840.1.101.3.4.2.4","sha224"),i("2.16.840.1.101.3.4.2.5","sha512-224"),i("2.16.840.1.101.3.4.2.6","sha512-256"),i("1.2.840.113549.2.2","md2"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.4","surname"),i("2.5.4.5","serialNumber"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.12","title"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("2.5.4.42","givenName"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t,r){"use strict";function n(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function o(e,t){return e.name===t}function i(e){return parseInt(e.name.slice(4),10)}function a(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=t[0]+".";throw new TypeError(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkEncCryptoKey=t.checkSigCryptoKey=void 0,t.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!o(e.algorithm,"HMAC"))throw n("HMAC");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!o(e.algorithm,"RSASSA-PKCS1-v1_5"))throw n("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!o(e.algorithm,"RSA-PSS"))throw n("RSA-PSS");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw n("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!o(e.algorithm,"ECDSA"))throw n("ECDSA");const r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw n(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}a(e,r)},t.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!o(e.algorithm,"AES-GCM"))throw n("AES-GCM");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!o(e.algorithm,"AES-KW"))throw n("AES-KW");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw n("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!o(e.algorithm,"PBKDF2"))throw n("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!o(e.algorithm,"RSA-OAEP"))throw n("RSA-OAEP");const r=parseInt(t.slice(9),10)||1;if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}a(e,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.util=t.ApiError=t.ServiceObject=t.Service=void 0;var n=r(342);Object.defineProperty(t,"Service",{enumerable:!0,get:function(){return n.Service}});var o=r(654);Object.defineProperty(t,"ServiceObject",{enumerable:!0,get:function(){return o.ServiceObject}});var i=r(87);Object.defineProperty(t,"ApiError",{enumerable:!0,get:function(){return i.ApiError}}),Object.defineProperty(t,"util",{enumerable:!0,get:function(){return i.util}})},function(e,t,r){"use strict";const n={};function o(e,t,r){r||(r=Error);class o extends r{constructor(e,r,n){super(function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(e,r,n))}}o.prototype.name=r.name,o.prototype.code=e,n[e]=o}function i(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map(e=>String(e)),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var o,a;let s;if("string"==typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s=`The ${e} ${n} ${i(t,"type")}`;else{s=`The "${e}" ${function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument"} ${n} ${i(t,"type")}`}return s+=". Received type "+typeof r,s}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";e.exports=r(676)},function(e,t,r){"use strict";e.exports=p;var n=r(90);((p.prototype=Object.create(n.prototype)).constructor=p).className="Field";var o,i=r(50),a=r(91),s=r(16),l=/^required|optional|repeated$/;function p(e,t,r,o,i,p,c){if(s.isObject(o)?(c=i,p=o,o=i=void 0):s.isObject(i)&&(c=p,p=i,i=void 0),n.call(this,e,p),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==o&&!l.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");"proto3_optional"===o&&(o="optional"),this.rule=o&&"optional"!==o?o:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=c}p.fromJSON=function(e,t){return new p(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(p.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),p.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},p.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},p.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},p.d=function(e,t,r,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(o,i){s.decorateType(o.constructor).add(new p(i,e,t,r,{default:n}))}},p._configure=function(e){o=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=function(e,t,r){if(o.has(e))return;o.add(e),(0,n.isNodeJS)()?void 0!==r?process.emitWarning(t,{type:r}):process.emitWarning(t):console.warn(t)};const n=r(145),o=new Set},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;const n=r(58),o=r(15),i=r(80),a=r(219),s=r(13),l=r(14),p=r(65),c=r(42);class u{constructor(e,t,r=(0,i.defaultConverter)()){this._firestore=e,this._path=t,this._converter=r}get formattedName(){const e=this.firestore.projectId,t=this.firestore.databaseId;return this._path.toQualifiedResourcePath(e,t).formattedName}get firestore(){return this._firestore}get path(){return this._path.relativeName}get id(){return this._path.id}get _resourcePath(){return this._path}get parent(){return new a.CollectionReference(this._firestore,this._path.parent(),this._converter)}get(){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_GET,()=>this._firestore.getAll(this).then(([e])=>e))}collection(e){(0,o.validateResourcePath)("collectionPath",e);const t=this._path.append(e);if(!t.isCollection)throw new Error(`Value for argument "collectionPath" must point to a collection, but was "${e}". Your path does not contain an odd number of components.`);return new a.CollectionReference(this._firestore,t)}listCollections(){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_LIST_COLLECTIONS,()=>{const e=(0,s.requestTag)();return this.firestore.initializeIfNeeded(e).then(()=>{const t={parent:this.formattedName,pageSize:Math.pow(2,16)-1};return this._firestore.request("listCollectionIds",t,e).then(e=>{const t=[];e.sort();for(const r of e)t.push(this.collection(r));return t})})})}create(e){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_CREATE,()=>new n.WriteBatch(this._firestore).create(this,e).commit().then(([e])=>e))}delete(e){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_DELETE,()=>new n.WriteBatch(this._firestore).delete(this,e).commit().then(([e])=>e))}set(e,t){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_SET,()=>{let r=new n.WriteBatch(this._firestore);return r=t?r.set(this,e,t):r.set(this,e),r.commit().then(([e])=>e)})}update(e,...t){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_DOC_REF_UPDATE,()=>{(0,l.validateMinNumberOfArguments)("DocumentReference.update",arguments,1);return new n.WriteBatch(this._firestore).update(this,e,...t).commit().then(([e])=>e)})}onSnapshot(e,t){(0,l.validateFunction)("onNext",e),(0,l.validateFunction)("onError",t,{optional:!0});return new(r(409).DocumentWatch)(this.firestore,this).onSnapshot((t,r,n)=>{for(const t of n())if(t.ref.path===this.path)return void e(t);const o=new u(this._firestore,this._path,this._converter),i=new p.DocumentSnapshotBuilder(o);i.readTime=t,e(i.build())},t||console.error)}isEqual(e){return this===e||e instanceof u&&this._firestore===e._firestore&&this._path.isEqual(e._path)&&this._converter===e._converter}toProto(){return{referenceValue:this.formattedName}}withConverter(e){return new u(this.firestore,this._path,null!=e?e:(0,i.defaultConverter)())}}t.DocumentReference=u},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConverter=function(){return n};const n={toFirestore:e=>e,fromFirestore:e=>e.data()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializer=t.warn=t.ChannelCredentials=t.makeUUID=t.fallback=t.protobufMinimal=t.protobuf=t.version=t.createByteLengthFunction=t.LocationsClient=t.IamClient=t.OperationsClient=t.LocationProtos=t.IamProtos=t.operationsProtos=t.routingHeader=t.StreamType=t.Status=t.PathTemplate=t.operation=t.Operation=t.GrpcClient=t.GoogleProtoFilesRoot=t.ClientStub=t.GoogleError=t.createMaxRetriesBackoffSettings=t.createDefaultBackoffSettings=t.createBackoffSettings=t.createBundleOptions=t.createRetryOptions=t.RetryOptions=t.constructSettings=t.CallSettings=t.StreamDescriptor=t.PageDescriptor=t.LongrunningDescriptor=t.BundleDescriptor=t.createApiCall=t.OngoingCall=t.grpc=t.GoogleAuth=void 0,t.lro=_;const n=r(223);t.grpc=n;const o=r(429),i=r(392);t.IamProtos=i;const a=r(393);t.LocationProtos=a;const s=r(217);t.operationsProtos=s;const l=r(147),p=r(146);t.routingHeader=p;var c=r(52);Object.defineProperty(t,"GoogleAuth",{enumerable:!0,get:function(){return c.GoogleAuth}});var u=r(115);Object.defineProperty(t,"OngoingCall",{enumerable:!0,get:function(){return u.OngoingCall}});var d=r(114);Object.defineProperty(t,"createApiCall",{enumerable:!0,get:function(){return d.createApiCall}});var h=r(215);Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return h.BundleDescriptor}}),Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return h.LongrunningDescriptor}}),Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return h.PageDescriptor}}),Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return h.StreamDescriptor}});var f=r(64);Object.defineProperty(t,"CallSettings",{enumerable:!0,get:function(){return f.CallSettings}}),Object.defineProperty(t,"constructSettings",{enumerable:!0,get:function(){return f.constructSettings}}),Object.defineProperty(t,"RetryOptions",{enumerable:!0,get:function(){return f.RetryOptions}}),Object.defineProperty(t,"createRetryOptions",{enumerable:!0,get:function(){return f.createRetryOptions}}),Object.defineProperty(t,"createBundleOptions",{enumerable:!0,get:function(){return f.createBundleOptions}}),Object.defineProperty(t,"createBackoffSettings",{enumerable:!0,get:function(){return f.createBackoffSettings}}),Object.defineProperty(t,"createDefaultBackoffSettings",{enumerable:!0,get:function(){return f.createDefaultBackoffSettings}}),Object.defineProperty(t,"createMaxRetriesBackoffSettings",{enumerable:!0,get:function(){return f.createMaxRetriesBackoffSettings}});var g=r(40);Object.defineProperty(t,"GoogleError",{enumerable:!0,get:function(){return g.GoogleError}});var m=r(429);Object.defineProperty(t,"ClientStub",{enumerable:!0,get:function(){return m.ClientStub}}),Object.defineProperty(t,"GoogleProtoFilesRoot",{enumerable:!0,get:function(){return m.GoogleProtoFilesRoot}}),Object.defineProperty(t,"GrpcClient",{enumerable:!0,get:function(){return m.GrpcClient}});var y=r(216);Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return y.Operation}}),Object.defineProperty(t,"operation",{enumerable:!0,get:function(){return y.operation}});var v=r(394);Object.defineProperty(t,"PathTemplate",{enumerable:!0,get:function(){return v.PathTemplate}});var b=r(39);Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return b.Status}});var E=r(149);function _(e){e=Object.assign({scopes:_.ALL_SCOPES},e);const t=new o.GrpcClient(e);return new l.OperationsClientBuilder(t)}Object.defineProperty(t,"StreamType",{enumerable:!0,get:function(){return E.StreamType}}),_.SERVICE_ADDRESS=l.SERVICE_ADDRESS,_.ALL_SCOPES=l.ALL_SCOPES;var O=r(147);Object.defineProperty(t,"OperationsClient",{enumerable:!0,get:function(){return O.OperationsClient}});var w=r(395);Object.defineProperty(t,"IamClient",{enumerable:!0,get:function(){return w.IamClient}});var S=r(396);Object.defineProperty(t,"LocationsClient",{enumerable:!0,get:function(){return S.LocationsClient}}),t.createByteLengthFunction=o.GrpcClient.createByteLengthFunction,t.version=r(94).version;const T=r(76);t.protobuf=T,t.protobufMinimal=r(93);const A=r(49);t.fallback=A;var C=r(92);Object.defineProperty(t,"makeUUID",{enumerable:!0,get:function(){return C.makeUUID}});var I=r(223);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return I.ChannelCredentials}});var N=r(78);Object.defineProperty(t,"warn",{enumerable:!0,get:function(){return N.warn}});const P=r(213);t.serializer=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const n=r(21),o=r(7);var i;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(i||(t.PickResultType=i={}));t.UnavailablePicker=class{constructor(e){this.status=Object.assign({code:o.Status.UNAVAILABLE,details:"No connection established",metadata:new n.Metadata},e)}pick(e){return{pickResultType:i.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};t.QueuePicker=class{constructor(e,t){this.loadBalancer=e,this.childPicker=t,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:i.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OAuth2Client=t.ClientAuthentication=t.CertificateFormat=t.CodeChallengeMethod=void 0;const n=r(30),o=r(63),i=r(1),a=r(162),s=r(100),l=r(54),p=r(253);var c,u,d;!function(e){e.Plain="plain",e.S256="S256"}(c||(t.CodeChallengeMethod=c={})),function(e){e.PEM="PEM",e.JWK="JWK"}(u||(t.CertificateFormat=u={})),function(e){e.ClientSecretPost="ClientSecretPost",e.ClientSecretBasic="ClientSecretBasic",e.None="None"}(d||(t.ClientAuthentication=d={}));class h extends l.AuthClient{constructor(e,t,r){const n=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,redirectUri:r};super(n),this.certificateCache={},this.certificateExpiry=null,this.certificateCacheFormat=u.PEM,this.refreshTokenPromises=new Map,this._clientId=n.clientId,this._clientSecret=n.clientSecret,this.redirectUri=n.redirectUri,this.endpoints={tokenInfoUrl:"https://oauth2.googleapis.com/tokeninfo",oauth2AuthBaseUrl:"https://accounts.google.com/o/oauth2/v2/auth",oauth2TokenUrl:"https://oauth2.googleapis.com/token",oauth2RevokeUrl:"https://oauth2.googleapis.com/revoke",oauth2FederatedSignonPemCertsUrl:"https://www.googleapis.com/oauth2/v1/certs",oauth2FederatedSignonJwkCertsUrl:"https://www.googleapis.com/oauth2/v3/certs",oauth2IapPublicKeyUrl:"https://www.gstatic.com/iap/verify/public_key",...n.endpoints},this.clientAuthentication=n.clientAuthentication||d.ClientSecretPost,this.issuers=n.issuers||["accounts.google.com","https://accounts.google.com",this.universeDomain]}generateAuthUrl(e={}){if(e.code_challenge_method&&!e.code_challenge)throw new Error("If a code_challenge_method is provided, code_challenge must be included.");e.response_type=e.response_type||"code",e.client_id=e.client_id||this._clientId,e.redirect_uri=e.redirect_uri||this.redirectUri,Array.isArray(e.scope)&&(e.scope=e.scope.join(" "));return this.endpoints.oauth2AuthBaseUrl.toString()+"?"+o.stringify(e)}generateCodeVerifier(){throw new Error("generateCodeVerifier is removed, please use generateCodeVerifierAsync instead.")}async generateCodeVerifierAsync(){const e=(0,s.createCrypto)(),t=e.randomBytesBase64(96).replace(/\+/g,"~").replace(/=/g,"_").replace(/\//g,"-");return{codeVerifier:t,codeChallenge:(await e.sha256DigestBase64(t)).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")}}getToken(e,t){const r="string"==typeof e?{code:e}:e;if(!t)return this.getTokenAsync(r);this.getTokenAsync(r).then(e=>t(null,e.tokens,e.res),e=>t(e,null,e.response))}async getTokenAsync(e){const t=this.endpoints.oauth2TokenUrl.toString(),r={"Content-Type":"application/x-www-form-urlencoded"},n={client_id:e.client_id||this._clientId,code_verifier:e.codeVerifier,code:e.code,grant_type:"authorization_code",redirect_uri:e.redirect_uri||this.redirectUri};if(this.clientAuthentication===d.ClientSecretBasic){const e=Buffer.from(`${this._clientId}:${this._clientSecret}`);r.Authorization="Basic "+e.toString("base64")}this.clientAuthentication===d.ClientSecretPost&&(n.client_secret=this._clientSecret);const i=await this.transporter.request({...h.RETRY_CONFIG,method:"POST",url:t,data:o.stringify(n),headers:r}),a=i.data;return i.data&&i.data.expires_in&&(a.expiry_date=(new Date).getTime()+1e3*i.data.expires_in,delete a.expires_in),this.emit("tokens",a),{tokens:a,res:i}}async refreshToken(e){if(!e)return this.refreshTokenNoCache(e);if(this.refreshTokenPromises.has(e))return this.refreshTokenPromises.get(e);const t=this.refreshTokenNoCache(e).then(t=>(this.refreshTokenPromises.delete(e),t),t=>{throw this.refreshTokenPromises.delete(e),t});return this.refreshTokenPromises.set(e,t),t}async refreshTokenNoCache(e){var t;if(!e)throw new Error("No refresh token is set.");const r=this.endpoints.oauth2TokenUrl.toString(),i={refresh_token:e,client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token"};let a;try{a=await this.transporter.request({...h.RETRY_CONFIG,method:"POST",url:r,data:o.stringify(i),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}catch(e){throw e instanceof n.GaxiosError&&"invalid_grant"===e.message&&(null===(t=e.response)||void 0===t?void 0:t.data)&&/ReAuth/i.test(e.response.data.error_description)&&(e.message=JSON.stringify(e.response.data)),e}const s=a.data;return a.data&&a.data.expires_in&&(s.expiry_date=(new Date).getTime()+1e3*a.data.expires_in,delete s.expires_in),this.emit("tokens",s),{tokens:s,res:a}}refreshAccessToken(e){if(!e)return this.refreshAccessTokenAsync();this.refreshAccessTokenAsync().then(t=>e(null,t.credentials,t.res),e)}async refreshAccessTokenAsync(){const e=await this.refreshToken(this.credentials.refresh_token),t=e.tokens;return t.refresh_token=this.credentials.refresh_token,this.credentials=t,{credentials:this.credentials,res:e.res}}getAccessToken(e){if(!e)return this.getAccessTokenAsync();this.getAccessTokenAsync().then(t=>e(null,t.token,t.res),e)}async getAccessTokenAsync(){if(!this.credentials.access_token||this.isTokenExpiring()){if(!this.credentials.refresh_token){if(!this.refreshHandler)throw new Error("No refresh token or refresh handler callback is set.");{const e=await this.processAndValidateRefreshHandler();if(null==e?void 0:e.access_token)return this.setCredentials(e),{token:this.credentials.access_token}}}const e=await this.refreshAccessTokenAsync();if(!e.credentials||e.credentials&&!e.credentials.access_token)throw new Error("Could not refresh access token.");return{token:e.credentials.access_token,res:e.res}}return{token:this.credentials.access_token}}async getRequestHeaders(e){return(await this.getRequestMetadataAsync(e)).headers}async getRequestMetadataAsync(e){const t=this.credentials;if(!(t.access_token||t.refresh_token||this.apiKey||this.refreshHandler))throw new Error("No access, refresh token, API key or refresh handler callback is set.");if(t.access_token&&!this.isTokenExpiring()){t.token_type=t.token_type||"Bearer";const e={Authorization:t.token_type+" "+t.access_token};return{headers:this.addSharedMetadataHeaders(e)}}if(this.refreshHandler){const e=await this.processAndValidateRefreshHandler();if(null==e?void 0:e.access_token){this.setCredentials(e);const t={Authorization:"Bearer "+this.credentials.access_token};return{headers:this.addSharedMetadataHeaders(t)}}}if(this.apiKey)return{headers:{"X-Goog-Api-Key":this.apiKey}};let r=null,n=null;try{r=await this.refreshToken(t.refresh_token),n=r.tokens}catch(e){const t=e;throw!t.response||403!==t.response.status&&404!==t.response.status||(t.message="Could not refresh access token: "+t.message),t}const o=this.credentials;o.token_type=o.token_type||"Bearer",n.refresh_token=o.refresh_token,this.credentials=n;const i={Authorization:o.token_type+" "+n.access_token};return{headers:this.addSharedMetadataHeaders(i),res:r.res}}static getRevokeTokenUrl(e){return(new h).getRevokeTokenURL(e).toString()}getRevokeTokenURL(e){const t=new URL(this.endpoints.oauth2RevokeUrl);return t.searchParams.append("token",e),t}revokeToken(e,t){const r={...h.RETRY_CONFIG,url:this.getRevokeTokenURL(e).toString(),method:"POST"};if(!t)return this.transporter.request(r);this.transporter.request(r).then(e=>t(null,e),t)}revokeCredentials(e){if(!e)return this.revokeCredentialsAsync();this.revokeCredentialsAsync().then(t=>e(null,t),e)}async revokeCredentialsAsync(){const e=this.credentials.access_token;if(this.credentials={},e)return this.revokeToken(e);throw new Error("No access token to revoke.")}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestMetadataAsync(e.url);e.headers=e.headers||{},t.headers&&t.headers["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t.headers["x-goog-user-project"]),t.headers&&t.headers.Authorization&&(e.headers.Authorization=t.headers.Authorization),this.apiKey&&(e.headers["X-Goog-Api-Key"]=this.apiKey),r=await this.transporter.request(e)}catch(r){const n=r.response;if(n){const r=n.status,o=this.credentials&&this.credentials.access_token&&this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure),a=this.credentials&&this.credentials.access_token&&!this.credentials.refresh_token&&(!this.credentials.expiry_date||this.forceRefreshOnFailure)&&this.refreshHandler,s=n.config.data instanceof i.Readable,l=401===r||403===r;if(!t&&l&&!s&&o)return await this.refreshAccessTokenAsync(),this.requestAsync(e,!0);if(!t&&l&&!s&&a){const t=await this.processAndValidateRefreshHandler();return(null==t?void 0:t.access_token)&&this.setCredentials(t),this.requestAsync(e,!0)}}throw r}return r}verifyIdToken(e,t){if(t&&"function"!=typeof t)throw new Error("This method accepts an options object as the first parameter, which includes the idToken, audience, and maxExpiry.");if(!t)return this.verifyIdTokenAsync(e);this.verifyIdTokenAsync(e).then(e=>t(null,e),t)}async verifyIdTokenAsync(e){if(!e.idToken)throw new Error("The verifyIdToken method requires an ID Token");const t=await this.getFederatedSignonCertsAsync();return await this.verifySignedJwtWithCertsAsync(e.idToken,t.certs,e.audience,this.issuers,e.maxExpiry)}async getTokenInfo(e){const{data:t}=await this.transporter.request({...h.RETRY_CONFIG,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+e},url:this.endpoints.tokenInfoUrl.toString()}),r=Object.assign({expiry_date:(new Date).getTime()+1e3*t.expires_in,scopes:t.scope.split(" ")},t);return delete r.expires_in,delete r.scope,r}getFederatedSignonCerts(e){if(!e)return this.getFederatedSignonCertsAsync();this.getFederatedSignonCertsAsync().then(t=>e(null,t.certs,t.res),e)}async getFederatedSignonCertsAsync(){const e=(new Date).getTime(),t=(0,s.hasBrowserCrypto)()?u.JWK:u.PEM;if(this.certificateExpiry&&e<this.certificateExpiry.getTime()&&this.certificateCacheFormat===t)return{certs:this.certificateCache,format:t};let r,n;switch(t){case u.PEM:n=this.endpoints.oauth2FederatedSignonPemCertsUrl.toString();break;case u.JWK:n=this.endpoints.oauth2FederatedSignonJwkCertsUrl.toString();break;default:throw new Error("Unsupported certificate format "+t)}try{r=await this.transporter.request({...h.RETRY_CONFIG,url:n})}catch(e){throw e instanceof Error&&(e.message="Failed to retrieve verification certificates: "+e.message),e}const o=r?r.headers["cache-control"]:void 0;let i=-1;if(o){const e=new RegExp("max-age=([0-9]*)").exec(o);e&&2===e.length&&(i=1e3*Number(e[1]))}let a={};switch(t){case u.PEM:a=r.data;break;case u.JWK:for(const e of r.data.keys)a[e.kid]=e;break;default:throw new Error("Unsupported certificate format "+t)}const l=new Date;return this.certificateExpiry=-1===i?null:new Date(l.getTime()+i),this.certificateCache=a,this.certificateCacheFormat=t,{certs:a,format:t,res:r}}getIapPublicKeys(e){if(!e)return this.getIapPublicKeysAsync();this.getIapPublicKeysAsync().then(t=>e(null,t.pubkeys,t.res),e)}async getIapPublicKeysAsync(){let e;const t=this.endpoints.oauth2IapPublicKeyUrl.toString();try{e=await this.transporter.request({...h.RETRY_CONFIG,url:t})}catch(e){throw e instanceof Error&&(e.message="Failed to retrieve verification certificates: "+e.message),e}return{pubkeys:e.data,res:e}}verifySignedJwtWithCerts(){throw new Error("verifySignedJwtWithCerts is removed, please use verifySignedJwtWithCertsAsync instead.")}async verifySignedJwtWithCertsAsync(e,t,r,n,o){const i=(0,s.createCrypto)();o||(o=h.DEFAULT_MAX_TOKEN_LIFETIME_SECS_);const l=e.split(".");if(3!==l.length)throw new Error("Wrong number of segments in token: "+e);const c=l[0]+"."+l[1];let u,d,f=l[2];try{u=JSON.parse(i.decodeBase64StringUtf8(l[0]))}catch(e){throw e instanceof Error&&(e.message=`Can't parse token envelope: ${l[0]}': ${e.message}`),e}if(!u)throw new Error("Can't parse token envelope: "+l[0]);try{d=JSON.parse(i.decodeBase64StringUtf8(l[1]))}catch(e){throw e instanceof Error&&(e.message="Can't parse token payload '"+l[0]),e}if(!d)throw new Error("Can't parse token payload: "+l[1]);if(!Object.prototype.hasOwnProperty.call(t,u.kid))throw new Error("No pem found for envelope: "+JSON.stringify(u));const g=t[u.kid];"ES256"===u.alg&&(f=a.joseToDer(f,"ES256").toString("base64"));if(!await i.verify(g,c,f))throw new Error("Invalid token signature: "+e);if(!d.iat)throw new Error("No issue time in token: "+JSON.stringify(d));if(!d.exp)throw new Error("No expiration time in token: "+JSON.stringify(d));const m=Number(d.iat);if(isNaN(m))throw new Error("iat field using invalid format");const y=Number(d.exp);if(isNaN(y))throw new Error("exp field using invalid format");const v=(new Date).getTime()/1e3;if(y>=v+o)throw new Error("Expiration time too far in future: "+JSON.stringify(d));const b=m-h.CLOCK_SKEW_SECS_,E=y+h.CLOCK_SKEW_SECS_;if(v<b)throw new Error("Token used too early, "+v+" < "+b+": "+JSON.stringify(d));if(v>E)throw new Error("Token used too late, "+v+" > "+E+": "+JSON.stringify(d));if(n&&n.indexOf(d.iss)<0)throw new Error("Invalid issuer, expected one of ["+n+"], but got "+d.iss);if(null!=r){const e=d.aud;let t=!1;if(t=r.constructor===Array?r.indexOf(e)>-1:e===r,!t)throw new Error("Wrong recipient, payload audience != requiredAudience")}return new p.LoginTicket(u,d)}async processAndValidateRefreshHandler(){if(this.refreshHandler){const e=await this.refreshHandler();if(!e.access_token)throw new Error("No access token is returned by the refreshHandler callback.");return e}}isTokenExpiring(){const e=this.credentials.expiry_date;return!!e&&e<=(new Date).getTime()+this.eagerRefreshThresholdMillis}}t.OAuth2Client=h,h.GOOGLE_TOKEN_INFO_URL="https://oauth2.googleapis.com/tokeninfo",h.CLOCK_SKEW_SECS_=300,h.DEFAULT_MAX_TOKEN_LIFETIME_SECS_=86400},function(e,t,r){var n=r(5);r(8);var o=e.exports=n.pem=n.pem||{};function i(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},o=0;o<e.values.length;++o)r.push(e.values[o].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var i=0,a=-1;for(o=0;o<t.length;++o,++i)if(i>65&&-1!==a){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),i=o-a-1,a=-1,++o}else" "!==t[o]&&"\t"!==t[o]&&","!==t[o]||(a=o);return t}function a(e){return e.replace(/^\s+/,"")}o.encode=function(e,t){t=t||{};var r,o="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(o+=i(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(o+=i(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),o+=i(r)),e.headers)for(var a=0;a<e.headers.length;++a)o+=i(e.headers[a]);return e.procType&&(o+="\r\n"),o+=n.util.encode64(e.body,t.maxline||64)+"\r\n",o+="-----END "+e.type+"-----\r\n"},o.decode=function(e){for(var t,r=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=o.exec(e);){var l=t[1];"NEW CERTIFICATE REQUEST"===l&&(l="CERTIFICATE REQUEST");var p={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:n.util.decode64(t[3])};if(r.push(p),t[2]){for(var c=t[2].split(s),u=0;t&&u<c.length;){for(var d=c[u].replace(/\s+$/,""),h=u+1;h<c.length;++h){var f=c[h];if(!/\s/.test(f[0]))break;d+=f,u=h}if(t=d.match(i)){for(var g={name:t[1],values:[]},m=t[2].split(","),y=0;y<m.length;++y)g.values.push(a(m[y]));if(p.procType)if(p.contentDomain||"Content-Domain"!==g.name)if(p.dekInfo||"DEK-Info"!==g.name)p.headers.push(g);else{if(0===g.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');p.dekInfo={algorithm:m[0],parameters:m[1]||null}}else p.contentDomain=m[0]||"";else{if("Proc-Type"!==g.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==g.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');p.procType={version:m[0],type:m[1]}}}++u}if("ENCRYPTED"===p.procType&&!p.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}},function(e,t){e.exports=require("http2")},function(e,t,r){const n=r(19);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},function(e,t,r){"use strict";
/*!
 * Copyright 2022 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&o(t,e,r[a]);return i(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.util=t.Util=t.PartialFailureError=t.ApiError=t.GCCL_GCS_CMD_KEY=void 0;
/*!
 * @module common/util
 */
const l=r(615),p=a(r(616)),c=r(52),u=s(r(343)),d=r(1),h=r(620),f=a(r(239)),g=r(342),m=r(56),y=s(r(200)),v=(0,r(108).getPackageJSON)();t.GCCL_GCS_CMD_KEY=Symbol.for("GCCL_GCS_CMD");const b={timeout:6e4,gzip:!0,forever:!0,pool:{maxSockets:1/0}};class E extends Error{constructor(e){if(super(),"object"!=typeof e)return void(this.message=e||"");const t=e;this.code=t.code,this.errors=t.errors,this.response=t.response;try{this.errors=JSON.parse(this.response.body).error.errors}catch(e){this.errors=t.errors}this.message=E.createMultiErrorMessage(t,this.errors),Error.captureStackTrace(this)}static createMultiErrorMessage(e,t){const r=new Set;e.message&&r.add(e.message),t&&t.length?t.forEach(({message:e})=>r.add(e)):e.response&&e.response.body?r.add(p.decode(e.response.body.toString())):e.message||r.add("A failure occurred during this request.");let n=Array.from(r);return n.length>1&&(n=n.map((e,t)=>`    ${t+1}. ${e}`),n.unshift("Multiple errors occurred during the request. Please see the `errors` array for complete details.\n"),n.push("\n")),n.join("\n")}}t.ApiError=E;class _ extends Error{constructor(e){super();const t=e;this.errors=t.errors,this.name="PartialFailureError",this.response=t.response,this.message=E.createMultiErrorMessage(t,this.errors)}}t.PartialFailureError=_;class O{constructor(){this.ApiError=E,this.PartialFailureError=_}noop(){}handleResp(e,t,r,n){n=n||S.noop;const o={err:e||null,...t&&S.parseHttpRespMessage(t),...r&&S.parseHttpRespBody(r)};!o.err&&t&&"object"==typeof o.body&&(o.resp.body=o.body),o.err&&t&&(o.err.response=t),n(o.err,o.body,o.resp)}parseHttpRespMessage(e){const t={resp:e};return(e.statusCode<200||e.statusCode>299)&&(t.err=new E({errors:new Array,code:e.statusCode,message:e.statusMessage,response:e})),t}parseHttpRespBody(e){const t={body:e};if("string"==typeof e)try{t.body=JSON.parse(e)}catch(r){t.body=e}return t.body&&t.body.error&&(t.err=new E(t.body.error)),t}makeWritableStream(e,r,n){var o;n=n||S.noop;const i=new w;i.on("progress",t=>e.emit("progress",t)),e.setWritable(i);const a={method:"POST",qs:{uploadType:"multipart"},timeout:0,maxRetries:0},s=r.metadata||{},l={...a,...r.request,qs:{...a.qs,...null===(o=r.request)||void 0===o?void 0:o.qs},multipart:[{"Content-Type":"application/json",body:JSON.stringify(s)},{"Content-Type":s.contentType||"application/octet-stream",body:i}]};r.makeAuthenticatedRequest(l,{onAuthenticated(r,o){if(r)return void e.destroy(r);b.headers=S._getDefaultHeaders(l[t.GCCL_GCS_CMD_KEY]);h.teenyRequest.defaults(b)(o,(t,r,o)=>{S.handleResp(t,r,o,(t,o)=>{t?e.destroy(t):(e.emit("response",r),n(o))})})}})}shouldRetryRequest(e){if(e){if(-1!==[408,429,500,502,503,504].indexOf(e.code))return!0;if(e.errors)for(const t of e.errors){const e=t.reason;if("rateLimitExceeded"===e)return!0;if("userRateLimitExceeded"===e)return!0;if(e&&e.includes("EAI_AGAIN"))return!0}}return!1}makeAuthenticatedRequestFactory(e){const t={...e};let r;t.projectId===g.DEFAULT_PROJECT_ID_TOKEN&&delete t.projectId,r=t.authClient instanceof c.GoogleAuth?t.authClient:new c.GoogleAuth({...t,authClient:t.authClient,clientOptions:t.clientOptions});const n=function(t,n){let o,i;const a={...e};let s;n||(o=(0,y.default)(),a.stream=o);const p="object"==typeof n?n:void 0,c="function"==typeof n?n:void 0;async function u(){i=await r.getProjectId()}const d=async(e,r)=>{const n=e,d=e&&"string"==typeof e.message&&e.message.indexOf("Could not load the default credentials")>-1;if(d&&(r=t),!e||d)try{r=S.decorateRequest(r,i),e=null}catch(t){if(t instanceof l.MissingProjectIdError)try{await u(),r=S.decorateRequest(r,i),e=null}catch(t){e=e||t}else e=e||t}if(e)if(o)o.destroy(e);else{(p&&p.onAuthenticated?p.onAuthenticated:c)(e)}else p&&p.onAuthenticated?p.onAuthenticated(null,r):s=S.makeRequest(r,a,(e,...t)=>{e&&401===e.code&&n&&(e=n),c(e,...t)})};return(async()=>{try{const n=async()=>e.projectId&&e.projectId!==g.DEFAULT_PROJECT_ID_TOKEN?e.projectId:!1===e.projectIdRequired?g.DEFAULT_PROJECT_ID_TOKEN:u(),o=async()=>a.customEndpoint&&!a.useAuthWithCustomEndpoint?t:r.authorizeRequest(t),[s,l]=await Promise.all([n(),o()]);s&&(i=s),d(null,l)}catch(e){return d(e)}})(),o||{abort(){setImmediate(()=>{s&&(s.abort(),s=null)})}}};return n.getCredentials=r.getCredentials.bind(r),n.authClient=r,n}makeRequest(e,r,n){var o,i,a,s,l;let p=!0;void 0!==r.autoRetry?p=r.autoRetry:void 0!==(null===(o=r.retryOptions)||void 0===o?void 0:o.autoRetry)&&(p=r.retryOptions.autoRetry);let c=3;void 0!==r.maxRetries?c=r.maxRetries:void 0!==(null===(i=r.retryOptions)||void 0===i?void 0:i.maxRetries)&&(c=r.retryOptions.maxRetries),b.headers=this._getDefaultHeaders(e[t.GCCL_GCS_CMD_KEY]);const d={request:h.teenyRequest.defaults(b),retries:!1!==p?c:0,noResponseRetries:!1!==p?c:0,shouldRetryFn(e){var t,n;const o=S.parseHttpRespMessage(e).err;return(null===(t=r.retryOptions)||void 0===t?void 0:t.retryableErrorFn)?o&&(null===(n=r.retryOptions)||void 0===n?void 0:n.retryableErrorFn(o)):o&&S.shouldRetryRequest(o)},maxRetryDelay:null===(a=r.retryOptions)||void 0===a?void 0:a.maxRetryDelay,retryDelayMultiplier:null===(s=r.retryOptions)||void 0===s?void 0:s.retryDelayMultiplier,totalTimeout:null===(l=r.retryOptions)||void 0===l?void 0:l.totalTimeout};if("number"==typeof e.maxRetries&&(d.retries=e.maxRetries,d.noResponseRetries=e.maxRetries),!r.stream)return(0,u.default)(e,d,(e,t,r)=>{S.handleResp(e,t,r,n)});const f=r.stream;let g;return"GET"===(e.method||"GET").toUpperCase()?(g=(0,u.default)(e,d),f.setReadable(g)):(g=d.request(e),f.setWritable(g)),g.on("error",f.destroy.bind(f)).on("response",f.emit.bind(f,"response")).on("complete",f.emit.bind(f,"complete")),f.abort=g.abort,f}decorateRequest(e,t){return delete e.autoPaginate,delete e.autoPaginateVal,delete e.objectMode,null!==e.qs&&"object"==typeof e.qs&&(delete e.qs.autoPaginate,delete e.qs.autoPaginateVal,e.qs=(0,l.replaceProjectIdToken)(e.qs,t)),Array.isArray(e.multipart)&&(e.multipart=e.multipart.map(e=>(0,l.replaceProjectIdToken)(e,t))),null!==e.json&&"object"==typeof e.json&&(delete e.json.autoPaginate,delete e.json.autoPaginateVal,e.json=(0,l.replaceProjectIdToken)(e.json,t)),e.uri=(0,l.replaceProjectIdToken)(e.uri,t),e}isCustomType(e,t){function r(e){return e.constructor&&e.constructor.name.toLowerCase()}const n=t.split("/"),o=n[0]&&n[0].toLowerCase(),i=n[1]&&n[1].toLowerCase();if(i&&r(e)!==i)return!1;let a=e;for(;;){if(r(a)===o)return!0;if(a=a.parent,!a)return!1}}maybeOptionsOrCallback(e,t){return"function"==typeof e?[{},e]:[e,t]}_getDefaultHeaders(e){const t={"User-Agent":(0,m.getUserAgentString)(),"x-goog-api-client":`${(0,m.getRuntimeTrackingString)()} gccl/${v.version}-${(0,m.getModuleFormat)()} gccl-invocation-id/${f.v4()}`};return e&&(t["x-goog-api-client"]+=" gccl-gcs-cmd/"+e),t}}t.Util=O;class w extends d.Transform{constructor(){super(...arguments),this.bytesRead=0}_transform(e,t,r){this.bytesRead+=e.length,this.emit("progress",{bytesWritten:this.bytesRead,contentLength:"*"}),this.push(e),r()}}const S=new O;t.util=S},function(e,t,r){try{var n=r(6);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(644)}},function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=p;var o=r(347),i=r(351);r(88)(p,o);for(var a=n(i.prototype),s=0;s<a.length;s++){var l=a[s];p.prototype[l]||(p.prototype[l]=i.prototype[l])}function p(e){if(!(this instanceof p))return new p(e);o.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||process.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,r){"use strict";e.exports=i,i.className="ReflectionObject";var n,o=r(16);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var a=i[e];o.setProperty(a,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var s={};s[e]=t,n.push(s)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},function(e,t,r){"use strict";var n=t,o=r(16),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelToSnakeCase=function(e){const t=o(e);if(0===t.length)return e;const r=[t[0]];return r.push(...t.slice(1).map(i)),r.join("_")},t.toCamelCase=a,t.toLowerCamelCase=function(e){const t=a(e);if(0===t.length)return t;return t[0].toLowerCase()+t.slice(1)},t.makeUUID=function(){return(0,n.v4)()};const n=r(793);function o(e,t=!1){return t&&(e=e.replace(/([A-Z])([A-Z]+)([A-Z])/g,e=>e[0]+e.slice(1,e.length-1).toLowerCase()+e[e.length-1])),e.split(/(?=[A-Z])|[^A-Za-z0-9.]+/).filter(e=>e.length>0).map((e,t)=>0===t?e:e.toLowerCase())}function i(e){return 0===e.length?e:e[0].toLowerCase()+e.slice(1)}function a(e){const t=o(e,!0);if(0===t.length)return e;const r=[t[0]];return r.push(...t.slice(1).map(e=>e.match(/^\d+$/)?"_"+e:function(e){return 0===e.length?e:e[0].toUpperCase()+e.slice(1)}(e))),r.join("")}},function(e,t,r){"use strict";e.exports=r(367)},function(e){e.exports=JSON.parse('{"name":"google-gax","version":"4.4.1","description":"Google API Extensions","main":"build/src/index.js","types":"build/src/index.d.ts","files":["build/src","build/protos/","!build/src/**/*.map"],"dependencies":{"@grpc/grpc-js":"^1.10.9","@grpc/proto-loader":"^0.7.13","@types/long":"^4.0.0","abort-controller":"^3.0.0","duplexify":"^4.0.0","google-auth-library":"^9.3.0","node-fetch":"^2.7.0","object-hash":"^3.0.0","proto3-json-serializer":"^2.0.2","retry-request":"^7.0.0","uuid":"^9.0.1","protobufjs":"^7.3.2"},"devDependencies":{"@types/uuid":"^9.0.7","@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.23","@types/mocha":"^9.0.0","@types/ncp":"^2.0.1","@types/node":"^20.5.0","@types/node-fetch":"^2.6.11","@types/object-hash":"^3.0.0","@types/proxyquire":"^1.3.28","@types/pumpify":"^1.4.1","@types/sinon":"^17.0.0","@types/uglify-js":"^3.17.0","c8":"^9.0.0","cheerio":"1.0.0-rc.12","codecov":"^3.1.0","execa":"^5.0.0","glob":"10.4.5","google-proto-files":"^4.2.0","gts":"^5.0.0","jackspeak":"3.4.3","linkinator":"^4.0.0","lru-cache":"10.4.3","long":"^4.0.0","mkdirp":"^2.0.0","mocha":"^9.0.0","ncp":"^2.0.0","null-loader":"^4.0.0","protobufjs-cli":"1.1.3","proxyquire":"^2.0.1","pumpify":"^2.0.0","sinon":"^18.0.0","stream-events":"^1.0.4","ts-loader":"^8.0.0","typescript":"^5.1.6","uglify-js":"^3.17.0","walkdir":"^0.4.0","webpack":"^4.0.0","webpack-cli":"^4.0.0"},"scripts":{"docs":"compodoc src/","pretest":"npm run prepare","test":"c8 mocha build/test/unit","lint":"gts check src samples test","clean":"gts clean","compile":"tsc -p . && cp src/*.json build/src && cp -r test/fixtures build/test && cp -r protos build/","compile-operation-protos":"pbjs -t json google/longrunning/operations.proto -p ./protos > protos/operations.json && pbjs -t static-module -r operations_protos google/longrunning/operations.proto -p ./protos > protos/operations.js && pbts protos/operations.js -o protos/operations.d.ts","compile-compute-operations-protos":"pbjs -t json google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.json && pbjs -t static-module -r compute_operations_protos google/longrunning/compute_operations.proto -p ./protos > protos/compute_operations.js && pbts protos/compute_operations.js -o protos/compute_operations.d.ts","compile-iam-protos":"pbjs -t json google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.json && pbjs -t static-module -r iam_protos google/iam/v1/iam_policy.proto google/iam/v1/options.proto google/iam/v1/policy.proto google/iam/v1/logging/audit_data.proto -p ./protos > protos/iam_service.js && pbts protos/iam_service.js -o protos/iam_service.d.ts","compile-location-protos":"pbjs -t json google/cloud/location/locations.proto -p ./protos > protos/locations.json && pbjs -t static-module -r locations_protos google/cloud/location/locations.proto -p ./protos > protos/locations.js && pbts protos/locations.js -o protos/locations.d.ts","compile-status-protos":"pbjs -t json google/rpc/status.proto google/rpc/error_details.proto -p ./protos > protos/status.json","compile-http-protos":"pbjs -t static-module -r http_proto --keep-case google/api/http.proto -p ./protos > protos/http.js && pbts protos/http.js -o protos/http.d.ts","fix":"gts fix","prepare":"npm run compile && cd ../tools && npm i && npm run compile && cd ../gax && pwd && node ../tools/build/src/prepublish.js . && mkdirp build/protos && cp -r protos/* build/protos/ && npm run minify-proto-json","system-test":"c8 mocha build/test/system-test --timeout 600000 && npm run test-application","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","docs-test":"linkinator docs","predocs-test":"npm run docs","browser-test":"cd test/browser-test && npm run prefetch && npm install && npm test","test-application":"cd test/test-application && npm run prefetch && npm install && npm start","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean","update-protos":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/listProtos.js .","minify-proto-json":"cd ../tools && npm i && npm run compile && cd ../gax && node ../tools/build/src/minify.js","@compodoc/compodoc":"1.1.21"},"keywords":["grpc"],"repository":{"type":"git","url":"https://github.com/googleapis/gax-nodejs.git","directory":"gax"},"author":"Google API Authors","license":"Apache-2.0","bugs":{"url":"https://github.com/googleapis/gax-nodejs/issues"},"homepage":"https://github.com/googleapis/gax-nodejs#readme","engines":{"node":">=14"},"browser":"build/src/fallback.js"}')},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var a=i[o];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";
/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Serializer=void 0,t.validateUserInput=function e(t,r,o,u,h,f,g){if(h&&h.size-1>20)throw new Error((0,c.invalidArgumentMessage)(t,o)+" Input object is deeper than 20 levels or contains a cycle.");f=f||0,g=g||!1;const m=h?` (found in field "${h}")`:"";if(Array.isArray(r))for(let n=0;n<r.length;++n)e(t,r[n],o,u,h?h.append(String(n)):new s.FieldPath(String(n)),f+1,!0);else if((0,p.isPlainObject)(r))for(const n of Object.keys(r))e(t,r[n],o,u,h?h.append(new s.FieldPath(n)):new s.FieldPath(n),f+1,g);else if(void 0===r){if(u.allowUndefined&&0===f)throw new Error((0,c.invalidArgumentMessage)(t,o)+' "undefined" values are only ignored inside of objects.');if(!u.allowUndefined)throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} Cannot use "undefined" as a Firestore value${m}. If you want to ignore undefined values, enable \`ignoreUndefinedProperties\`.`)}else if(r instanceof n.VectorValue);else if(r instanceof n.DeleteTransform){if(g)throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} ${r.methodName}() cannot be used inside of an array${m}.`);if("none"===u.allowDeletes)throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} ${r.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${m}.`);if("root"===u.allowDeletes)if(0===f);else if(1!==f||1!==(null==h?void 0:h.size))throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} ${r.methodName}() must appear at the top-level and can only be used in update() or set() with {merge:true}${m}.`)}else if(r instanceof n.FieldTransform){if(g)throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} ${r.methodName}() cannot be used inside of an array${m}.`);if(!u.allowTransforms)throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} ${r.methodName}() can only be used in set(), create() or update()${m}.`)}else{if(r instanceof s.FieldPath)throw new Error(`${(0,c.invalidArgumentMessage)(t,o)} Cannot use object of type "FieldPath" as a Firestore value${m}.`);if(r instanceof a.DocumentReference);else if(r instanceof i.GeoPoint);else if(r instanceof l.Timestamp||r instanceof Date);else if(d(r));else if(r instanceof Buffer||r instanceof Uint8Array);else if(null===r);else if("object"==typeof r)throw new Error((0,c.customObjectMessage)(t,r,h))}};const n=r(151),o=r(218),i=r(399),a=r(58),s=r(15),l=r(41),p=r(13),c=r(14),u=r(398);function d(e){return"object"==typeof e&&null!==e&&e.constructor&&"Moment"===e.constructor.name&&"function"==typeof e.toDate}t.Serializer=class{constructor(e){this.createReference=t=>e.doc(t),this.createInteger=t=>e._settings.useBigInt?BigInt(t):Number(t),this.allowUndefined=!!e._settings.ignoreUndefinedProperties}encodeFields(e){const t={};for(const r of Object.keys(e)){const n=this.encodeValue(e[r]);n&&(t[r]=n)}return t}encodeValue(e){if(e instanceof n.FieldTransform)return null;if("string"==typeof e)return{stringValue:e};if("boolean"==typeof e)return{booleanValue:e};if("number"==typeof e){const t=0===e&&1/e==-1/0;return Number.isSafeInteger(e)&&!t?{integerValue:e}:{doubleValue:e}}if("bigint"==typeof e)return{integerValue:e.toString()};if(e instanceof Date){const t=l.Timestamp.fromDate(e);return{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}if(d(e)){const t=l.Timestamp.fromDate(e.toDate());return{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}if(null===e)return{nullValue:"NULL_VALUE"};if(e instanceof Buffer||e instanceof Uint8Array)return{bytesValue:e};if(e instanceof n.VectorValue)return e._toProto(this);if((0,p.isObject)(e)){const t=e.toProto;if("function"==typeof t)return t.bind(e)()}if(Array.isArray(e)){const t={arrayValue:{}};if(e.length>0){t.arrayValue.values=[];for(let r=0;r<e.length;++r){const n=this.encodeValue(e[r]);n&&t.arrayValue.values.push(n)}}return t}if("object"==typeof e&&(0,p.isPlainObject)(e)){const t={mapValue:{}};return!(0,p.isEmpty)(e)&&(t.mapValue.fields=this.encodeFields(e),(0,p.isEmpty)(t.mapValue.fields))?null:t}if(void 0===e&&this.allowUndefined)return null;throw new Error("Cannot encode value: "+e)}encodeVector(e){return{mapValue:{fields:{[u.RESERVED_MAP_KEY]:{stringValue:u.RESERVED_MAP_KEY_VECTOR_VALUE},[u.VECTOR_MAP_VECTORS_KEY]:{arrayValue:{values:e.map(e=>({doubleValue:e}))}}}}}}decodeValue(e){switch((0,o.detectValueType)(e)){case"stringValue":return e.stringValue;case"booleanValue":return e.booleanValue;case"integerValue":return this.createInteger(e.integerValue);case"doubleValue":return e.doubleValue;case"timestampValue":return l.Timestamp.fromProto(e.timestampValue);case"referenceValue":{const t=s.QualifiedResourcePath.fromSlashSeparatedString(e.referenceValue);return this.createReference(t.relativeName)}case"arrayValue":{const t=[];if(Array.isArray(e.arrayValue.values))for(const r of e.arrayValue.values)t.push(this.decodeValue(r));return t}case"nullValue":return null;case"mapValue":{const t=e.mapValue.fields;if(t){const e={};for(const r of Object.keys(t))e[r]=this.decodeValue(t[r]);return e}return{}}case"vectorValue":{const t=e.mapValue.fields;return n.VectorValue._fromProto(t[u.VECTOR_MAP_VECTORS_KEY])}case"geoPointValue":return i.GeoPoint.fromProto(e.geoPointValue);case"bytesValue":return e.bytesValue;default:throw new Error("Cannot decode type from Firestore Value: "+JSON.stringify(e))}}decodeGoogleProtobufValue(e){switch((0,o.detectGoogleProtobufValueType)(e)){case"nullValue":return null;case"numberValue":return e.numberValue;case"stringValue":return e.stringValue;case"boolValue":return e.boolValue;case"listValue":return this.decodeGoogleProtobufList(e.listValue);case"structValue":return this.decodeGoogleProtobufStruct(e.structValue);default:throw new Error("Cannot decode type from google.protobuf.Value: "+JSON.stringify(e))}}decodeGoogleProtobufList(e){const t=[];if(e&&e.values&&Array.isArray(e.values))for(const r of e.values)t.push(this.decodeGoogleProtobufValue(r));return t}decodeGoogleProtobufStruct(e){const t={};if(e&&e.fields)for(const r of Object.keys(e.fields))t[r]=this.decodeGoogleProtobufValue(e.fields[r]);return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChildChannelControlHelper=function(e,t){var r,n,o,i,a,s,l,p,c,u;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(i=null===(o=t.updateState)||void 0===o?void 0:o.bind(t))&&void 0!==i?i:e.updateState.bind(e),requestReresolution:null!==(s=null===(a=t.requestReresolution)||void 0===a?void 0:a.bind(t))&&void 0!==s?s:e.requestReresolution.bind(e),addChannelzChild:null!==(p=null===(l=t.addChannelzChild)||void 0===l?void 0:l.bind(t))&&void 0!==p?p:e.addChannelzChild.bind(e),removeChannelzChild:null!==(u=null===(c=t.removeChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==u?u:e.removeChannelzChild.bind(e)}},t.registerLoadBalancerType=function(e,t,r){i[e]={LoadBalancer:t,LoadBalancingConfig:r}},t.registerDefaultLoadBalancerType=function(e){a=e},t.createLoadBalancer=function(e,t,r,n){const o=e.getLoadBalancerName();return o in i?new i[o].LoadBalancer(t,r,n):null},t.isLoadBalancerNameRegistered=function(e){return e in i},t.parseLoadBalancingConfig=s,t.getDefaultConfig=function(){if(!a)throw new Error("No default load balancer type registered");return new i[a].LoadBalancingConfig},t.selectLbConfigFromList=function(e,t=!1){for(const t of e)try{return s(t)}catch(e){(0,n.log)(o.LogVerbosity.DEBUG,"Config parsing failed with error",e.message);continue}return t&&a?new i[a].LoadBalancingConfig:null};const n=r(10),o=r(7);const i={};let a=null;function s(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Provided load balancing config has multiple conflicting entries");const r=t[0];if(!(r in i))throw new Error("Unrecognized load balancing config name "+r);try{return i[r].LoadBalancingConfig.createFromJson(e[r])}catch(e){throw new Error(`${r}: ${e.message}`)}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTrackerStub=t.ChannelzCallTracker=t.ChannelzChildrenTrackerStub=t.ChannelzChildrenTracker=t.ChannelzTrace=t.ChannelzTraceStub=void 0,t.unregisterChannelzRef=function(e){g[e.kind].eraseElementByKey(e.id)},t.getChannelzHandlers=R,t.getChannelzServiceDefinition=k,t.setup=function(){(0,l.registerAdminService)(k,R)};const n=r(31),o=r(726),i=r(43),a=r(7),s=r(44),l=r(227),p=r(414);function c(e){return{channel_id:e.id,name:e.name}}function u(e){return{subchannel_id:e.id,name:e.name}}function d(e){return{socket_id:e.id,name:e.name}}t.ChannelzTraceStub=class{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:E(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}};t.ChannelzTrace=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){const n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:"channel"===(null==r?void 0:r.kind)?r:void 0,childSubchannel:"subchannel"===(null==r?void 0:r.kind)?r:void 0}),this.events.length>=64&&(this.events=this.events.slice(32)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:E(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:E(e.timestamp),channel_ref:e.childChannel?c(e.childChannel):null,subchannel_ref:e.childSubchannel?u(e.childSubchannel):null}))}}};class h{constructor(){this.channelChildren=new o.OrderedMap,this.subchannelChildren=new o.OrderedMap,this.socketChildren=new o.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(e){const t=this.trackerMap[e.kind],r=t.find(e.id);r.equals(t.end())?t.setElement(e.id,{ref:e,count:1},r):r.pointer[1].count+=1}unrefChild(e){const t=this.trackerMap[e.kind],r=t.getElementByKey(e.id);void 0!==r&&(r.count-=1,0===r.count&&t.eraseElementByKey(e.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}t.ChannelzChildrenTracker=h;t.ChannelzChildrenTrackerStub=class extends h{refChild(){}unrefChild(){}};class f{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=f;t.ChannelzCallTrackerStub=class extends f{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}};const g={channel:new o.OrderedMap,subchannel:new o.OrderedMap,server:new o.OrderedMap,socket:new o.OrderedMap},m=e=>{let t=1;const r=g[e];return(n,o,i)=>{const a=t++,s={id:a,name:n,kind:e};return i&&r.setElement(a,{ref:s,getInfo:o}),s}};function y(e){if(""===e)return[];const t=e.split(":").map(e=>function(e){const t=Number.parseInt(e,16);return[t/256|0,t%256]}(e));return[].concat(...t)}function v(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if((0,n.isIPv6)(e)){let t,r;const n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));const o=Buffer.from(y(t)),i=Buffer.from(y(r)),a=Buffer.alloc(16-o.length-i.length,0);return Buffer.concat([o,a,i])}return null}function b(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function E(e){if(!e)return null;const t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function _(e){const t=e.getInfo(),r=[],n=[];return t.children.channels.forEach(e=>{r.push(c(e[1].ref))}),t.children.subchannels.forEach(e=>{n.push(u(e[1].ref))}),{ref:c(e.ref),data:{target:t.target,state:b(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:E(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:r,subchannel_ref:n}}function O(e,t){const r=parseInt(e.request.channel_id,10),n=g.channel.getElementByKey(r);void 0!==n?t(null,{channel:_(n)}):t({code:a.Status.NOT_FOUND,details:"No channel data found for id "+r})}function w(e,t){const r=parseInt(e.request.max_results,10)||100,n=[],o=parseInt(e.request.start_channel_id,10),i=g.channel;let a;for(a=i.lowerBound(o);!a.equals(i.end())&&n.length<r;a=a.next())n.push(_(a.pointer[1]));t(null,{channel:n,end:a.equals(i.end())})}function S(e){const t=e.getInfo(),r=[];return t.listenerChildren.sockets.forEach(e=>{r.push(d(e[1].ref))}),{ref:(n=e.ref,{server_id:n.id}),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:E(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:r};var n}function T(e,t){const r=parseInt(e.request.server_id,10),n=g.server.getElementByKey(r);void 0!==n?t(null,{server:S(n)}):t({code:a.Status.NOT_FOUND,details:"No server data found for id "+r})}function A(e,t){const r=parseInt(e.request.max_results,10)||100,n=parseInt(e.request.start_server_id,10),o=g.server,i=[];let a;for(a=o.lowerBound(n);!a.equals(o.end())&&i.length<r;a=a.next())i.push(S(a.pointer[1]));t(null,{server:i,end:a.equals(o.end())})}function C(e,t){const r=parseInt(e.request.subchannel_id,10),n=g.subchannel.getElementByKey(r);if(void 0===n)return void t({code:a.Status.NOT_FOUND,details:"No subchannel data found for id "+r});const o=n.getInfo(),i=[];o.children.sockets.forEach(e=>{i.push(d(e[1].ref))});t(null,{subchannel:{ref:u(n.ref),data:{target:o.target,state:b(o.state),calls_started:o.callTracker.callsStarted,calls_succeeded:o.callTracker.callsSucceeded,calls_failed:o.callTracker.callsFailed,last_call_started_timestamp:E(o.callTracker.lastCallStartedTimestamp),trace:o.trace.getTraceMessage()},socket_ref:i}})}function I(e){var t;return(0,s.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=v(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function N(e,t){var r,n,o,i,s;const l=parseInt(e.request.socket_id,10),p=g.socket.getElementByKey(l);if(void 0===p)return void t({code:a.Status.NOT_FOUND,details:"No socket data found for id "+l});const c=p.getInfo(),u=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=c.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=c.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(o=c.security.localCertificate)&&void 0!==o?o:void 0,remote_certificate:null!==(i=c.security.remoteCertificate)&&void 0!==i?i:void 0}}:null;t(null,{socket:{ref:d(p.ref),local:c.localAddress?I(c.localAddress):null,remote:c.remoteAddress?I(c.remoteAddress):null,remote_name:null!==(s=c.remoteName)&&void 0!==s?s:void 0,security:u,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:E(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:E(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:E(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:E(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}}})}function P(e,t){const r=parseInt(e.request.server_id,10),n=g.server.getElementByKey(r);if(void 0===n)return void t({code:a.Status.NOT_FOUND,details:"No server data found for id "+r});const o=parseInt(e.request.start_socket_id,10),i=parseInt(e.request.max_results,10)||100,s=n.getInfo().sessionChildren.sockets,l=[];let p;for(p=s.lowerBound(o);!p.equals(s.end())&&l.length<i;p=p.next())l.push(d(p.pointer[1].ref));t(null,{socket_ref:l,end:p.equals(s.end())})}function R(){return{GetChannel:O,GetTopChannels:w,GetServer:T,GetServers:A,GetSubchannel:C,GetSocket:N,GetServerSockets:P}}t.registerChannelzChannel=m("channel"),t.registerChannelzSubchannel=m("subchannel"),t.registerChannelzServer=m("server"),t.registerChannelzSocket=m("socket");let D=null;function k(){if(D)return D;const t=(0,r(417).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[e+"/../../proto"]}),n=(0,p.loadPackageDefinition)(t);return D=n.grpc.channelz.v1.Channelz.service,D}}).call(this,"/")},function(e){e.exports=JSON.parse('{"name":"@google-cloud/firestore","description":"Firestore Client Library for Node.js","version":"7.11.0","license":"Apache-2.0","author":"Google Inc.","engines":{"node":">=14.0.0"},"repository":"googleapis/nodejs-firestore","main":"./build/src/index.js","types":"./types/firestore.d.ts","files":["build/protos","build/src","!build/src/**/*.map","types"],"keywords":["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","firestore"],"scripts":{"precloud-rad":"npm run compile","cloud-rad":"NO_UPLOAD=1 npx @google-cloud/cloud-rad","preapi-report":"npm run compile","api-report":"node scripts/api-report.js","predocs":"npm run compile","docs":"jsdoc -c .jsdoc.js","system-test:rest":"FIRESTORE_PREFER_REST=true mocha build/system-test --timeout 1200000","system-test:named-db:rest":"FIRESTORE_NAMED_DATABASE=test-db FIRESTORE_PREFER_REST=true mocha build/system-test --timeout 1200000","system-test:grpc":"mocha build/system-test --timeout 1200000","system-test:named-db:grpc":"FIRESTORE_NAMED_DATABASE=test-db mocha build/system-test --timeout 1200000","system-test:emulator:rest":"FIRESTORE_EMULATOR_HOST=localhost:8080 FIRESTORE_PREFER_REST=true mocha build/system-test --timeout 1200000","system-test:named-db:emulator:rest":"FIRESTORE_NAMED_DATABASE=test-db FIRESTORE_EMULATOR_HOST=localhost:8080 FIRESTORE_PREFER_REST=true mocha build/system-test --timeout 1200000","system-test:emulator:grpc":"FIRESTORE_EMULATOR_HOST=localhost:8080 mocha build/system-test --timeout 1200000","system-test:named-db:emulator:grpc":"FIRESTORE_NAMED_DATABASE=test-db FIRESTORE_EMULATOR_HOST=localhost:8080 mocha build/system-test --timeout 1200000","system-test":"npm run system-test:grpc && npm run system-test:rest && npm run system-test:named-db:grpc && npm run system-test:named-db:rest","system-test:emulator":"npm run system-test:emulator:grpc && npm run system-test:emulator:rest && npm run system-test:named-db:emulator:grpc && npm run system-test:named-db:emulator:rest","presystem-test":"npm run compile","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../","conformance":"mocha build/conformance","preconformance":"npm run compile","test-only":"c8 mocha build/test","pretest-only":"npm run compile","test":"npm run test-only && npm run conformance","lint":"gts check","clean":"gts clean","compile":"tsc -p .","postcompile":"node scripts/init-directories.js && cp -r dev/protos build && cp dev/src/v1beta1/*.json build/src/v1beta1/ && cp dev/src/v1/*.json build/src/v1/ && cp dev/conformance/test-definition.proto build/conformance && cp dev/conformance/conformance-tests/*.json build/conformance/conformance-tests && minifyProtoJson","fix":"gts fix","prepare":"npm run compile","docs-test":"linkinator docs","predocs-test":"npm run docs","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean"},"dependencies":{"@opentelemetry/api":"^1.3.0","fast-deep-equal":"^3.1.1","functional-red-black-tree":"^1.0.1","google-gax":"^4.3.3","protobufjs":"^7.2.6"},"devDependencies":{"@google-cloud/trace-agent":"^8.0.0","@googleapis/cloudtrace":"^1.1.2","@google-cloud/cloud-rad":"^0.4.0","@google-cloud/opentelemetry-cloud-trace-exporter":"^2.0.0","@opentelemetry/context-async-hooks":"^1.24.1","@opentelemetry/sdk-trace-node":"^1.24.1","@types/assert":"^1.4.0","@types/chai":"^4.2.7","@types/chai-as-promised":"^7.1.2","@types/duplexify":"^3.5.0","@types/extend":"^3.0.0","@types/mocha":"^9.0.0","@types/node":"^22.0.0","@types/sinon":"^17.0.0","@types/through2":"^2.0.34","c8":"^9.0.0","chai":"^4.1.2","chai-as-promised":"^7.1.1","codecov":"^3.6.1","duplexify":"^4.0.0","execa":"^5.1.1","extend":"^3.0.2","fs-extra":"10.1.0","gapic-tools":"^0.4.0","gts":"^5.0.1","jsdoc":"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0","length-prefixed-json-stream":"^1.0.1","linkinator":"^3.0.0","mkdirp":"^3.0.0","mocha":"^9.2.2","protobufjs-cli":"^1.1.2","proxyquire":"^2.1.3","nise":"6.0.0","sinon":"^18.0.0","path-to-regexp":"^6.0.0","through2":"^4.0.0","ts-node":"^10.0.0","typescript":"^5.2.2"}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCrypto=function(){if(i())return new n.BrowserCrypto;return new o.NodeCrypto},t.hasBrowserCrypto=i,t.fromArrayBufferToHex=function(e){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")};const n=r(478),o=r(480);function i(){return"undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle}},function(e,t,r){var n=r(5);r(55),r(8),(e.exports=n.hmac=n.hmac||{}).create=function(){var e=null,t=null,r=null,o=null,i={start:function(i,a){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in n.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');t=n.md.algorithms[i].create()}else t=i;if(null===a)a=e;else{if("string"==typeof a)a=n.util.createBuffer(a);else if(n.util.isArray(a)){var s=a;a=n.util.createBuffer();for(var l=0;l<s.length;++l)a.putByte(s[l])}var p=a.length();p>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=n.util.createBuffer(),o=n.util.createBuffer(),p=a.length();for(l=0;l<p;++l){s=a.at(l);r.putByte(54^s),o.putByte(92^s)}if(p<t.blockLength)for(s=t.blockLength-p,l=0;l<s;++l)r.putByte(54),o.putByte(92);e=a,r=r.bytes(),o=o.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(o),t.update(e),t.digest()}};return i.digest=i.getMac,i}},function(e,t,r){var n=r(5);r(55),r(8);var o=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=o,o.create=function(){a||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),o={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,i=0;i<r;++i)o.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},o}};return o.start(),o.update=function(i,a){"utf8"===a&&(i=n.util.encodeUtf8(i));var l=i.length;o.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var p=o.fullMessageLength.length-1;p>=0;--p)o.fullMessageLength[p]+=l[1],l[1]=l[0]+(o.fullMessageLength[p]/4294967296>>>0),o.fullMessageLength[p]=o.fullMessageLength[p]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(i),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var l,p=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;a.putBytes(i.substr(0,o.blockLength-p));for(var c=8*o.fullMessageLength[0],u=0;u<o.fullMessageLength.length-1;++u)c+=(l=8*o.fullMessageLength[u+1])/4294967296>>>0,a.putInt32(c>>>0),c=l>>>0;a.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h},o};var i=null,a=!1;function s(e,t,r){for(var n,o,i,a,s,l,p,c=r.length();c>=64;){for(o=e.h0,i=e.h1,a=e.h2,s=e.h3,l=e.h4,p=0;p<16;++p)n=r.getInt32(),t[p]=n,n=(o<<5|o>>>27)+(s^i&(a^s))+l+1518500249+n,l=s,s=a,a=(i<<30|i>>>2)>>>0,i=o,o=n;for(;p<20;++p)n=(n=t[p-3]^t[p-8]^t[p-14]^t[p-16])<<1|n>>>31,t[p]=n,n=(o<<5|o>>>27)+(s^i&(a^s))+l+1518500249+n,l=s,s=a,a=(i<<30|i>>>2)>>>0,i=o,o=n;for(;p<32;++p)n=(n=t[p-3]^t[p-8]^t[p-14]^t[p-16])<<1|n>>>31,t[p]=n,n=(o<<5|o>>>27)+(i^a^s)+l+1859775393+n,l=s,s=a,a=(i<<30|i>>>2)>>>0,i=o,o=n;for(;p<40;++p)n=(n=t[p-6]^t[p-16]^t[p-28]^t[p-32])<<2|n>>>30,t[p]=n,n=(o<<5|o>>>27)+(i^a^s)+l+1859775393+n,l=s,s=a,a=(i<<30|i>>>2)>>>0,i=o,o=n;for(;p<60;++p)n=(n=t[p-6]^t[p-16]^t[p-28]^t[p-32])<<2|n>>>30,t[p]=n,n=(o<<5|o>>>27)+(i&a|s&(i^a))+l+2400959708+n,l=s,s=a,a=(i<<30|i>>>2)>>>0,i=o,o=n;for(;p<80;++p)n=(n=t[p-6]^t[p-16]^t[p-28]^t[p-32])<<2|n>>>30,t[p]=n,n=(o<<5|o>>>27)+(i^a^s)+l+3395469782+n,l=s,s=a,a=(i<<30|i>>>2)>>>0,i=o,o=n;e.h0=e.h0+o|0,e.h1=e.h1+i|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+l|0,c-=64}}},function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(129),a=r(130),s=(t=e.exports={}).re=[],l=t.safeRe=[],p=t.src=[],c=t.safeSrc=[],u=t.t={};let d=0;const h=[["\\s",1],["\\d",i],["[a-zA-Z0-9-]",o]],f=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(t+"*").join(`${t}{0,${r}}`).split(t+"+").join(`${t}{1,${r}}`);return e})(t),o=d++;a(e,o,t),u[e]=o,p[o]=t,c[o]=n,s[o]=new RegExp(t,r?"g":void 0),l[o]=new RegExp(n,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),f("MAINVERSION",`(${p[u.NUMERICIDENTIFIER]})\\.(${p[u.NUMERICIDENTIFIER]})\\.(${p[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${p[u.NUMERICIDENTIFIERLOOSE]})\\.(${p[u.NUMERICIDENTIFIERLOOSE]})\\.(${p[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${p[u.NUMERICIDENTIFIER]}|${p[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${p[u.NUMERICIDENTIFIERLOOSE]}|${p[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${p[u.PRERELEASEIDENTIFIER]}(?:\\.${p[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${p[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),f("BUILD",`(?:\\+(${p[u.BUILDIDENTIFIER]}(?:\\.${p[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${p[u.MAINVERSION]}${p[u.PRERELEASE]}?${p[u.BUILD]}?`),f("FULL",`^${p[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${p[u.MAINVERSIONLOOSE]}${p[u.PRERELEASELOOSE]}?${p[u.BUILD]}?`),f("LOOSE",`^${p[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",p[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),f("XRANGEIDENTIFIER",p[u.NUMERICIDENTIFIER]+"|x|X|\\*"),f("XRANGEPLAIN",`[v=\\s]*(${p[u.XRANGEIDENTIFIER]})(?:\\.(${p[u.XRANGEIDENTIFIER]})(?:\\.(${p[u.XRANGEIDENTIFIER]})(?:${p[u.PRERELEASE]})?${p[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${p[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[u.XRANGEIDENTIFIERLOOSE]})(?:${p[u.PRERELEASELOOSE]})?${p[u.BUILD]}?)?)?`),f("XRANGE",`^${p[u.GTLT]}\\s*${p[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${p[u.GTLT]}\\s*${p[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),f("COERCE",p[u.COERCEPLAIN]+"(?:$|[^\\d])"),f("COERCEFULL",p[u.COERCEPLAIN]+`(?:${p[u.PRERELEASE]})?`+`(?:${p[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",p[u.COERCE],!0),f("COERCERTLFULL",p[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${p[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${p[u.LONETILDE]}${p[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${p[u.LONETILDE]}${p[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${p[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${p[u.LONECARET]}${p[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${p[u.LONECARET]}${p[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${p[u.GTLT]}\\s*(${p[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${p[u.GTLT]}\\s*(${p[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${p[u.GTLT]}\\s*(${p[u.LOOSEPLAIN]}|${p[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${p[u.XRANGEPLAIN]})\\s+-\\s+(${p[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${p[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t,r){const n=r(183)("jwks"),{retrieveSigningKeys:o}=r(306),{request:i,cacheSigningKey:a,rateLimitSigningKey:s,getKeysInterceptor:l,callbackSupport:p}=r(589),c=r(195),u=r(339);e.exports={JwksClient:class{constructor(e){this.options={rateLimit:!1,cache:!0,timeout:3e4,...e},this.options.getKeysInterceptor&&(this.getSigningKey=l(this,e)),this.options.rateLimit&&(this.getSigningKey=s(this,e)),this.options.cache&&(this.getSigningKey=a(this,e)),this.getSigningKey=p(this,e)}async getKeys(){n(`Fetching keys from '${this.options.jwksUri}'`);try{const e=await i({uri:this.options.jwksUri,headers:this.options.requestHeaders,agent:this.options.requestAgent,timeout:this.options.timeout,fetcher:this.options.fetcher});return n("Keys:",e.keys),e.keys}catch(e){const{errorMsg:t}=e;throw n("Failure:",t||e),t?new c(t):e}}async getSigningKeys(){const e=await this.getKeys();if(!e||!e.length)throw new c("The JWKS endpoint did not contain any keys");const t=await o(e);if(!t.length)throw new c("The JWKS endpoint did not contain any signing keys");return n("Signing Keys:",t),t}async getSigningKey(e){n(`Fetching signing key for '${e}'`);const t=await this.getSigningKeys(),r=null!=e;if(!r&&t.length>1)throw n("No KID specified and JWKS endpoint returned more than 1 key"),new u("No KID specified and JWKS endpoint returned more than 1 key");const o=t.find(t=>!r||t.kid===e);if(o)return o;throw n(`Unable to find a signing key that matches '${e}'`),new u(`Unable to find a signing key that matches '${e}'`)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.default=function(e,t,r,o,i){if(void 0!==i.crit&&void 0===o.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of o.crit){if(!a.has(t))throw new n.JOSENotSupported(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(a.get(t)&&void 0===o[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(o.crit)}},function(e,t,r){e.exports={ArgumentError:r(604),JwksError:r(195),JwksRateLimitError:r(338),SigningKeyNotFoundError:r(339)}},function(e,t,r){t.getPackageJSON=function(){return r(641)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.RETRYABLE_ERR_FN_DEFAULT=t.MAX_RETRY_DELAY_DEFAULT=t.TOTAL_TIMEOUT_DEFAULT=t.RETRY_DELAY_MULTIPLIER_DEFAULT=t.MAX_RETRY_DEFAULT=t.AUTO_RETRY_DEFAULT=t.PROTOCOL_REGEX=t.StorageExceptionMessages=t.ExceptionMessages=t.IdempotencyStrategy=void 0;const n=r(74),o=r(354),i=r(57),a=r(1),s=r(202),l=r(362),p=r(110),c=r(56),u=r(108),d=r(363),h=r(111),f=r(52);var g,m,y;!function(e){e[e.RetryAlways=0]="RetryAlways",e[e.RetryConditional=1]="RetryConditional",e[e.RetryNever=2]="RetryNever"}(g||(t.IdempotencyStrategy=g={})),function(e){e.EXPIRATION_DATE_INVALID="The expiration date provided was invalid.",e.EXPIRATION_DATE_PAST="An expiration date cannot be in the past."}(m||(t.ExceptionMessages=m={})),function(e){e.BUCKET_NAME_REQUIRED="A bucket name is needed to use Cloud Storage.",e.BUCKET_NAME_REQUIRED_CREATE="A name is required to create a bucket.",e.HMAC_SERVICE_ACCOUNT="The first argument must be a service account email to create an HMAC key.",e.HMAC_ACCESS_ID="An access ID is needed to create an HmacKey object."}(y||(t.StorageExceptionMessages=y={})),t.PROTOCOL_REGEX=/^(\w*):\/\//,t.AUTO_RETRY_DEFAULT=!0,t.MAX_RETRY_DEFAULT=3,t.RETRY_DELAY_MULTIPLIER_DEFAULT=2,t.TOTAL_TIMEOUT_DEFAULT=600,t.MAX_RETRY_DELAY_DEFAULT=64;const v=g.RetryConditional;t.RETRYABLE_ERR_FN_DEFAULT=function(e){var t;const r=e=>e.includes("eai_again")||"econnreset"===e||"unexpected connection closure"===e||"epipe"===e||"socket connection timeout"===e;if(e){if(-1!==[408,429,500,502,503,504].indexOf(e.code))return!0;if("string"==typeof e.code){if(-1!==["408","429","500","502","503","504"].indexOf(e.code))return!0;if(r(e.code.toLowerCase()))return!0}if(e.errors)for(const n of e.errors){const e=null===(t=null==n?void 0:n.reason)||void 0===t?void 0:t.toString().toLowerCase();if(e&&r(e))return!0}}return!1};
/*! Developer Documentation
 *
 * Invoke this method to create a new Storage object bound with pre-determined
 * configuration options. For each object that can be created (e.g., a bucket),
 * there is an equivalent static and instance method. While they are classes,
 * they can be instantiated without use of the `new` keyword.
 */
class b extends n.Service{getBucketsStream(){return new a.Readable}getHmacKeysStream(){return new a.Readable}constructor(e={}){var r,n,i,a,s,l,p,c,d,g,m,y,E,_;let O="https://storage."+(e.universeDomain||f.DEFAULT_UNIVERSE),w=!1;const S=process.env.STORAGE_EMULATOR_HOST;"string"==typeof S&&(O=b.sanitizeEndpoint(S),w=!0),e.apiEndpoint&&e.apiEndpoint!==O&&(O=b.sanitizeEndpoint(e.apiEndpoint),w=!0),e=Object.assign({},e,{apiEndpoint:O});const T=S||e.apiEndpoint+"/storage/v1",A={apiEndpoint:e.apiEndpoint,retryOptions:{autoRetry:void 0!==(null===(r=e.retryOptions)||void 0===r?void 0:r.autoRetry)?null===(n=e.retryOptions)||void 0===n?void 0:n.autoRetry:t.AUTO_RETRY_DEFAULT,maxRetries:(null===(i=e.retryOptions)||void 0===i?void 0:i.maxRetries)?null===(a=e.retryOptions)||void 0===a?void 0:a.maxRetries:t.MAX_RETRY_DEFAULT,retryDelayMultiplier:(null===(s=e.retryOptions)||void 0===s?void 0:s.retryDelayMultiplier)?null===(l=e.retryOptions)||void 0===l?void 0:l.retryDelayMultiplier:t.RETRY_DELAY_MULTIPLIER_DEFAULT,totalTimeout:(null===(p=e.retryOptions)||void 0===p?void 0:p.totalTimeout)?null===(c=e.retryOptions)||void 0===c?void 0:c.totalTimeout:t.TOTAL_TIMEOUT_DEFAULT,maxRetryDelay:(null===(d=e.retryOptions)||void 0===d?void 0:d.maxRetryDelay)?null===(g=e.retryOptions)||void 0===g?void 0:g.maxRetryDelay:t.MAX_RETRY_DELAY_DEFAULT,retryableErrorFn:(null===(m=e.retryOptions)||void 0===m?void 0:m.retryableErrorFn)?null===(y=e.retryOptions)||void 0===y?void 0:y.retryableErrorFn:t.RETRYABLE_ERR_FN_DEFAULT,idempotencyStrategy:void 0!==(null===(E=e.retryOptions)||void 0===E?void 0:E.idempotencyStrategy)?null===(_=e.retryOptions)||void 0===_?void 0:_.idempotencyStrategy:v},baseUrl:T,customEndpoint:w,useAuthWithCustomEndpoint:null==e?void 0:e.useAuthWithCustomEndpoint,projectIdRequired:!1,scopes:["https://www.googleapis.com/auth/iam","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/devstorage.full_control"],packageJson:(0,u.getPackageJSON)()};super(A,e),this.acl=b.acl,this.crc32cGenerator=e.crc32cGenerator||h.CRC32C_DEFAULT_VALIDATOR_GENERATOR,this.retryOptions=A.retryOptions,this.getBucketsStream=o.paginator.streamify("getBuckets"),this.getHmacKeysStream=o.paginator.streamify("getHmacKeys")}static sanitizeEndpoint(e){return t.PROTOCOL_REGEX.test(e)||(e="https://"+e),e.replace(/\/+$/,"")}bucket(e,t){if(!e)throw new Error(y.BUCKET_NAME_REQUIRED);return new s.Bucket(this,e,t)}channel(e,t){return new l.Channel(this,e,t)}createBucket(e,t,r){if(!e)throw new Error(y.BUCKET_NAME_REQUIRED_CREATE);let n;r?n=t:(r=t,n={});const o={...n,name:e},i={archive:"ARCHIVE",coldline:"COLDLINE",dra:"DURABLE_REDUCED_AVAILABILITY",multiRegional:"MULTI_REGIONAL",nearline:"NEARLINE",regional:"REGIONAL",standard:"STANDARD"},a=Object.keys(i);for(const e of a)if(o[e]){if(n.storageClass&&n.storageClass!==e)throw new Error(`Both \`${e}\` and \`storageClass\` were provided.`);o.storageClass=i[e],delete o[e]}o.requesterPays&&(o.billing={requesterPays:o.requesterPays},delete o.requesterPays);const s={project:this.projectId};o.userProject&&(s.userProject=o.userProject,delete o.userProject),o.enableObjectRetention&&(s.enableObjectRetention=o.enableObjectRetention,delete o.enableObjectRetention),o.predefinedAcl&&(s.predefinedAcl=o.predefinedAcl,delete o.predefinedAcl),o.predefinedDefaultObjectAcl&&(s.predefinedDefaultObjectAcl=o.predefinedDefaultObjectAcl,delete o.predefinedDefaultObjectAcl),o.projection&&(s.projection=o.projection,delete o.projection),this.request({method:"POST",uri:"/b",qs:s,json:o},(t,n)=>{if(t)return void r(t,null,n);const o=this.bucket(e);o.metadata=n,r(null,o,n)})}createHmacKey(e,t,r){if("string"!=typeof e)throw new Error(y.HMAC_SERVICE_ACCOUNT);const{options:n,callback:o}=(0,c.normalize)(t,r),i=Object.assign({},n,{serviceAccountEmail:e}),a=i.projectId||this.projectId;delete i.projectId,this.request({method:"POST",uri:`/projects/${a}/hmacKeys`,qs:i,maxRetries:0},(e,t)=>{if(e)return void o(e,null,null,t);const r=t.metadata,n=this.hmacKey(r.accessId,{projectId:r.projectId});n.metadata=t.metadata,o(null,n,t.secret,t)})}getBuckets(e,t){const{options:r,callback:n}=(0,c.normalize)(e,t);r.project=r.project||this.projectId,this.request({uri:"/b",qs:r},(e,t)=>{if(e)return void n(e,null,null,t);const o=(t.items?t.items:[]).map(e=>{const t=this.bucket(e.id);return t.metadata=e,t}),i=t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null;n(null,o,i,t)})}getHmacKeys(e,t){const{options:r,callback:n}=(0,c.normalize)(e,t),o=Object.assign({},r),i=o.projectId||this.projectId;delete o.projectId,this.request({uri:`/projects/${i}/hmacKeys`,qs:o},(e,t)=>{if(e)return void n(e,null,null,t);const o=(t.items?t.items:[]).map(e=>{const t=this.hmacKey(e.accessId,{projectId:e.projectId});return t.metadata=e,t}),i=t.nextPageToken?Object.assign({},r,{pageToken:t.nextPageToken}):null;n(null,o,i,t)})}getServiceAccount(e,t){const{options:r,callback:n}=(0,c.normalize)(e,t);this.request({uri:`/projects/${this.projectId}/serviceAccount`,qs:r},(e,t)=>{if(e)return void n(e,null,t);const r={};for(const e in t)if(t.hasOwnProperty(e)){r[e.replace(/_(\w)/g,(e,t)=>t.toUpperCase())]=t[e]}n(null,r,t)})}hmacKey(e,t){if(!e)throw new Error(y.HMAC_ACCESS_ID);return new d.HmacKey(this,e,t)}}t.Storage=b,b.Bucket=s.Bucket,b.Channel=l.Channel,b.File=p.File,b.HmacKey=d.HmacKey,b.acl={OWNER_ROLE:"OWNER",READER_ROLE:"READER",WRITER_ROLE:"WRITER"},
/*! Developer Documentation
 *
 * These methods can be auto-paginated.
 */
o.paginator.extend(b,["getBuckets","getHmacKeys"]),
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,i.promisifyAll)(b,{exclude:["bucket","channel","hmacKey"]})},function(e,t,r){"use strict";var n,o,i,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&a(t,e,r[o]);return s(t,e),t}),p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.File=t.FileExceptionMessages=t.RequestError=t.STORAGE_POST_POLICY_BASE_URL=t.ActionToHTTPMethod=void 0;const u=r(74),d=r(57),h=l(r(0)),f=l(r(17)),g=c(r(355)),m=l(r(664)),y=r(1),v=l(r(22)),b=r(109),E=r(202),_=r(357),O=r(358),w=r(87),S=c(r(200)),T=r(56),A=r(111),C=r(359),I=c(r(142));var N;!function(e){e.read="GET",e.write="PUT",e.delete="DELETE",e.resumable="POST"}(N||(t.ActionToHTTPMethod=N={})),t.STORAGE_POST_POLICY_BASE_URL="https://storage.googleapis.com";const P=/^gs:\/\/([a-z0-9_.-]+)\/(.+)$/,R=new RegExp([/^text\/|application\/ecmascript|application\/javascript|application\/json/,/|application\/postscript|application\/rtf|application\/toml|application\/vnd.dart/,/|application\/vnd.ms-fontobject|application\/wasm|application\/x-httpd-php|application\/x-ns-proxy-autoconfig/,/|application\/x-sh(?!ockwave-flash)|application\/x-tar|application\/x-virtualbox-hdd|application\/x-virtualbox-ova|application\/x-virtualbox-ovf/,/|^application\/x-virtualbox-vbox$|application\/x-virtualbox-vdi|application\/x-virtualbox-vhd|application\/x-virtualbox-vmdk/,/|application\/xml|application\/xml-dtd|font\/otf|font\/ttf|image\/bmp|image\/vnd.adobe.photoshop|image\/vnd.microsoft.icon/,/|image\/vnd.ms-dds|image\/x-icon|image\/x-ms-bmp|message\/rfc822|model\/gltf-binary|\+json|\+text|\+xml|\+yaml/].map(e=>e.source).join(""),"i");class D extends Error{}t.RequestError=D;const k=/(gs):\/\/([a-z0-9_.-]+)\/(.+)/g,x=/(https):\/\/(storage\.googleapis\.com)\/([a-z0-9_.-]+)\/(.+)/g;var j;!function(e){e.EXPIRATION_TIME_NA="An expiration time is not available.",e.DESTINATION_NO_NAME="Destination file should have a name.",e.INVALID_VALIDATION_FILE_RANGE="Cannot use validation with file ranges (start/end).",e.MD5_NOT_AVAILABLE="MD5 verification was specified, but is not available for the requested object. MD5 is not available for composite objects.",e.EQUALS_CONDITION_TWO_ELEMENTS="Equals condition must be an array of 2 elements.",e.STARTS_WITH_TWO_ELEMENTS="StartsWith condition must be an array of 2 elements.",e.CONTENT_LENGTH_RANGE_MIN_MAX="ContentLengthRange must have numeric min & max fields.",e.DOWNLOAD_MISMATCH="The downloaded data did not match the data from the server. To be sure the content is the same, you should download the file again.",e.UPLOAD_MISMATCH_DELETE_FAIL="The uploaded data did not match the data from the server.\n    As a precaution, we attempted to delete the file, but it was not successful.\n    To be sure the content is the same, you should try removing the file manually,\n    then uploading the file again.\n    \n\nThe delete attempt failed with this message:\n\n  ",e.UPLOAD_MISMATCH="The uploaded data did not match the data from the server.\n    As a precaution, the file has been deleted.\n    To be sure the content is the same, you should try uploading the file again.",e.MD5_RESUMED_UPLOAD="MD5 cannot be used with a continued resumable upload as MD5 cannot be extended from an existing value",e.MISSING_RESUME_CRC32C_FINAL_UPLOAD="The CRC32C is missing for the final portion of a resumed upload, which is required for validation. Please provide `resumeCRC32C` if validation is required, or disable `validation`."}(j||(t.FileExceptionMessages=j={}));class L extends u.ServiceObject{constructor(e,t,r={}){var n,i;const a={};let s;null!==r.generation&&(s="string"==typeof r.generation?Number(r.generation):r.generation,isNaN(s)||(a.generation=s)),Object.assign(a,r.preconditionOpts);const l=r.userProject||e.userProject;"string"==typeof l&&(a.userProject=l);const p={delete:{reqOpts:{qs:a}},exists:{reqOpts:{qs:a}},get:{reqOpts:{qs:a}},getMetadata:{reqOpts:{qs:a}},setMetadata:{reqOpts:{qs:a}}};if(super({parent:e,baseUrl:"/o",id:encodeURIComponent(t),methods:p}),o.add(this),this.bucket=e,this.storage=e.parent,null!==r.generation){let e;e="string"==typeof r.generation?Number(r.generation):r.generation,isNaN(e)||(this.generation=e)}this.kmsKeyName=r.kmsKeyName,this.userProject=l,this.name=t,r.encryptionKey&&this.setEncryptionKey(r.encryptionKey),this.acl=new _.Acl({request:this.request.bind(this),pathPrefix:"/acl"}),this.crc32cGenerator=r.crc32cGenerator||this.bucket.crc32cGenerator,this.instanceRetryValue=null===(i=null===(n=this.storage)||void 0===n?void 0:n.retryOptions)||void 0===i?void 0:i.autoRetry,this.instancePreconditionOpts=null==r?void 0:r.preconditionOpts}get cloudStorageURI(){const e=this.bucket.cloudStorageURI;return e.pathname=this.name,e}shouldRetryBasedOnPreconditionAndIdempotencyStrat(e){var t;return!(void 0===(null==e?void 0:e.ifGenerationMatch)&&void 0===(null===(t=this.instancePreconditionOpts)||void 0===t?void 0:t.ifGenerationMatch)&&this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryNever)}copy(e,t,r){var n,o;const i=new Error(j.DESTINATION_NO_NAME);if(!e)throw i;let a,s,l,p={};if("function"==typeof t?r=t:t&&(p={...t}),r=r||u.util.noop,"string"==typeof e){const t=P.exec(e);null!==t&&3===t.length?(a=this.storage.bucket(t[1]),s=t[2]):(a=this.bucket,s=e)}else if(e instanceof E.Bucket)a=e,s=this.name;else{if(!(e instanceof L))throw i;a=e.bucket,s=e.name,l=e}const c={};void 0!==this.generation&&(c.sourceGeneration=this.generation),void 0!==p.token&&(c.rewriteToken=p.token),void 0!==p.userProject&&(c.userProject=p.userProject,delete p.userProject),void 0!==p.predefinedAcl&&(c.destinationPredefinedAcl=p.predefinedAcl,delete p.predefinedAcl),l=l||a.file(s);const d={};if(void 0!==this.encryptionKey&&(d["x-goog-copy-source-encryption-algorithm"]="AES256",d["x-goog-copy-source-encryption-key"]=this.encryptionKeyBase64,d["x-goog-copy-source-encryption-key-sha256"]=this.encryptionKeyHash),void 0!==l.encryptionKey?this.setEncryptionKey(l.encryptionKey):void 0!==p.destinationKmsKeyName?(c.destinationKmsKeyName=p.destinationKmsKeyName,delete p.destinationKmsKeyName):void 0!==l.kmsKeyName&&(c.destinationKmsKeyName=l.kmsKeyName),c.destinationKmsKeyName){this.kmsKeyName=c.destinationKmsKeyName;const e=this.interceptors.indexOf(this.encryptionKeyInterceptor);e>-1&&this.interceptors.splice(e,1)}this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(null==p?void 0:p.preconditionOpts)||(this.storage.retryOptions.autoRetry=!1),void 0!==(null===(n=p.preconditionOpts)||void 0===n?void 0:n.ifGenerationMatch)&&(c.ifGenerationMatch=null===(o=p.preconditionOpts)||void 0===o?void 0:o.ifGenerationMatch,delete p.preconditionOpts),this.request({method:"POST",uri:`/rewriteTo/b/${a.name}/o/${encodeURIComponent(l.name)}`,qs:c,json:p,headers:d},(e,t)=>{if(this.storage.retryOptions.autoRetry=this.instanceRetryValue,e)r(e,null,t);else{if(t.rewriteToken){const e={token:t.rewriteToken};return c.userProject&&(e.userProject=c.userProject),c.destinationKmsKeyName&&(e.destinationKmsKeyName=c.destinationKmsKeyName),void this.copy(l,e,r)}r(null,l,t)}})}createReadStream(e={}){const t="number"==typeof(e=Object.assign({decompress:!0},e)).start||"number"==typeof e.end,r=e.end<0;let n=void 0,o=void 0;const i=new T.PassThroughShim;let a=!0,s=!1;if("string"==typeof e.validation){const t=e.validation.toLowerCase().trim();a="crc32c"===t,s="md5"===t}else!1===e.validation&&(a=!1);const l=!t&&(a||s);if(t){if("string"==typeof e.validation||!0===e.validation)throw new Error(j.INVALID_VALIDATION_FILE_RANGE);a=!1,s=!1}const p=e=>{e&&((null==o?void 0:o.agent)&&o.agent.destroy(),i.destroy(e))},c=(t,r,c)=>{if(t)return void this.getBufferFromReadable(c).then(e=>{t.message=e.toString("utf8"),i.destroy(t)});o=c.request;const u=c.toJSON().headers,d="gzip"===u["content-encoding"],h={},f="gzip"===u["x-goog-stored-content-encoding"]&&d||"identity"===u["x-goog-stored-content-encoding"],g=[];if(l&&("string"==typeof u["x-goog-hash"]&&u["x-goog-hash"].split(",").forEach(e=>{const t=e.indexOf("="),r=e.substring(0,t),n=e.substring(t+1);h[r]=n}),n=new C.HashStreamValidator({crc32c:a,md5:s,crc32cGenerator:this.crc32cGenerator,crc32cExpected:h.crc32c,md5Expected:h.md5})),s&&!h.md5){const e=new D(j.MD5_NOT_AVAILABLE);return e.code="MD5_NOT_AVAILABLE",void i.destroy(e)}f&&l&&n&&g.push(n),d&&e.decompress&&g.push(v.createGunzip()),(0,y.pipeline)(c,...g,i,p)};return i.on("reading",()=>{const n={alt:"media"};this.generation&&(n.generation=this.generation),e.userProject&&(n.userProject=e.userProject);const o={"Accept-Encoding":"gzip","Cache-Control":"no-store"};if(t){const t="number"==typeof e.start?e.start:"0",n="number"==typeof e.end?e.end:"";o.Range="bytes="+(r?n:`${t}-${n}`)}const a={uri:"",headers:o,qs:n};e[w.GCCL_GCS_CMD_KEY]&&(a[w.GCCL_GCS_CMD_KEY]=e[w.GCCL_GCS_CMD_KEY]),this.requestStream(a).on("error",e=>{i.destroy(e)}).on("response",e=>{i.emit("response",e),u.util.handleResp(null,e,null,c)}).resume()}),i}createResumableUpload(e,t){var r,n;const o="object"==typeof e?e:{};t="function"==typeof e?e:t;const i=this.storage.retryOptions;(void 0===(null===(r=null==o?void 0:o.preconditionOpts)||void 0===r?void 0:r.ifGenerationMatch)&&void 0===(null===(n=this.instancePreconditionOpts)||void 0===n?void 0:n.ifGenerationMatch)&&this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryNever)&&(i.autoRetry=!1),m.createURI({authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,customRequestOptions:this.getRequestInterceptors().reduce((e,t)=>t(e),{}),file:this.name,generation:this.generation,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:o.metadata,offset:o.offset,origin:o.origin,predefinedAcl:o.predefinedAcl,private:o.private,public:o.public,userProject:o.userProject||this.userProject,retryOptions:i,params:(null==o?void 0:o.preconditionOpts)||this.instancePreconditionOpts,universeDomain:this.bucket.storage.universeDomain,[w.GCCL_GCS_CMD_KEY]:o[w.GCCL_GCS_CMD_KEY]},t),this.storage.retryOptions.autoRetry=this.instanceRetryValue}createWriteStream(e={}){var t;if(null!==(t=e.metadata)&&void 0!==t||(e.metadata={}),e.contentType&&(e.metadata.contentType=e.contentType),!e.metadata.contentType||"auto"===e.metadata.contentType){const t=g.default.getType(this.name);t&&(e.metadata.contentType=t)}let r=e.gzip;"auto"===r&&(r=R.test(e.metadata.contentType||"")),r&&(e.metadata.contentEncoding="gzip");let n=!0,a=!1;if("string"==typeof e.validation?(e.validation=e.validation.toLowerCase(),n="crc32c"===e.validation,a="md5"===e.validation):!1===e.validation&&(n=!1,a=!1),e.offset){if(a)throw new RangeError(j.MD5_RESUMED_UPLOAD);if(n&&!e.isPartialUpload&&!e.resumeCRC32C)throw new RangeError(j.MISSING_RESUME_CRC32C_FINAL_UPLOAD)}let s=e=>{l.destroy(e||void 0)};const l=new y.Writable({final(e){s=e,u.end()},write(e,t,r){u.write(e,t,r)}});l.once("error",e=>{u.destroy(e)}),l.once("close",()=>{u.destroy()});const c=[];r&&c.push(v.createGzip());const u=new T.PassThroughShim;let d=null;if(n||a){const t=e.resumeCRC32C?A.CRC32C.from(e.resumeCRC32C):void 0;d=new C.HashStreamValidator({crc32c:n,crc32cInstance:t,md5:a,crc32cGenerator:this.crc32cGenerator,updateHashesOnly:!0}),c.push(d)}const h=(0,S.default)();let f=!1;return u.on("reading",()=>l.emit("reading")),u.on("writing",()=>l.emit("writing")),h.on("uri",e=>l.emit("uri",e)),h.on("progress",e=>l.emit("progress",e)),h.on("response",e=>l.emit("response",e)),h.once("metadata",()=>{f=!0}),l.once("writing",()=>{!1===e.resumable?this.startSimpleUpload_(h,e):this.startResumableUpload_(h,e),(0,y.pipeline)(u,...c,h,async t=>{if(t)return s(t);if(!f)try{await new Promise((e,t)=>{h.once("metadata",e),h.once("error",t)})}catch(t){return s(t)}(null==d?void 0:d.crc32c)&&l.emit("crc32c",d.crc32c);try{const t=e.isPartialUpload&&!this.metadata;d&&!t&&await p(this,o,"m",i).call(this,d,{crc32c:n,md5:a}),s()}catch(t){s(t)}})}),l}delete(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,this.disableAutoRetryConditionallyIdempotent_(this.methods.delete,E.AvailableServiceObjectMethods.delete,r),super.delete(r).then(e=>t(null,...e)).catch(t).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}download(e,t){let r;"function"==typeof e?(t=e,r={}):r=e;let n=!1;const o=(...e)=>{n||t(...e),n=!0},i=r.destination;delete r.destination;const a=this.createReadStream(r);let s=!1;i?a.on("error",o).once("data",e=>{s=!0;const t=f.createWriteStream(i);t.write(e),a.pipe(t).on("error",e=>{o(e,Buffer.from(""))}).on("finish",()=>{o(null,e)})}).on("end",()=>{if(!s){const e=Buffer.alloc(0);try{f.writeFileSync(i,e),o(null,e)}catch(t){o(t,e)}}}):this.getBufferFromReadable(a).then(e=>null==o?void 0:o(null,e)).catch(o)}setEncryptionKey(e){return this.encryptionKey=e,this.encryptionKeyBase64=Buffer.from(e).toString("base64"),this.encryptionKeyHash=h.createHash("sha256").update(this.encryptionKeyBase64,"base64").digest("base64"),this.encryptionKeyInterceptor={request:e=>(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryptionKeyBase64,e.headers["x-goog-encryption-key-sha256"]=this.encryptionKeyHash,e)},this.interceptors.push(this.encryptionKeyInterceptor),this}static from(e,t,r){const n=[...e.matchAll(k)],o=[...e.matchAll(x)];if(n.length>0){const e=new E.Bucket(t,n[0][2]);return new L(e,n[0][3],r)}if(o.length>0){const e=new E.Bucket(t,o[0][3]);return new L(e,o[0][4],r)}throw new Error("URL string must be of format gs://bucket/file or https://storage.googleapis.com/bucket/file")}get(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,super.get(r).then(e=>t(null,...e)).catch(t)}getExpirationDate(e){this.getMetadata((t,r,n)=>{if(t)e(t,null,n);else if(r.retentionExpirationTime)e(null,new Date(r.retentionExpirationTime),n);else{const t=new Error(j.EXPIRATION_TIME_NA);e(t,null,n)}})}generateSignedPostPolicyV2(e,t){const r=(0,T.normalize)(e,t);let n=r.options;const o=r.callback,i=new Date(n.expires);if(isNaN(i.getTime()))throw new Error(b.ExceptionMessages.EXPIRATION_DATE_INVALID);if(i.valueOf()<Date.now())throw new Error(b.ExceptionMessages.EXPIRATION_DATE_PAST);n=Object.assign({},n);const a=[["eq","$key",this.name],{bucket:this.bucket.name}];if(Array.isArray(n.equals)&&(Array.isArray(n.equals[0])||(n.equals=[n.equals]),n.equals.forEach(e=>{if(!Array.isArray(e)||2!==e.length)throw new Error(j.EQUALS_CONDITION_TWO_ELEMENTS);a.push(["eq",e[0],e[1]])})),Array.isArray(n.startsWith)&&(Array.isArray(n.startsWith[0])||(n.startsWith=[n.startsWith]),n.startsWith.forEach(e=>{if(!Array.isArray(e)||2!==e.length)throw new Error(j.STARTS_WITH_TWO_ELEMENTS);a.push(["starts-with",e[0],e[1]])})),n.acl&&a.push({acl:n.acl}),n.successRedirect&&a.push({success_action_redirect:n.successRedirect}),n.successStatus&&a.push({success_action_status:n.successStatus}),n.contentLengthRange){const e=n.contentLengthRange.min,t=n.contentLengthRange.max;if("number"!=typeof e||"number"!=typeof t)throw new Error(j.CONTENT_LENGTH_RANGE_MIN_MAX);a.push(["content-length-range",e,t])}const s={expiration:i.toISOString(),conditions:a},l=JSON.stringify(s),p=Buffer.from(l).toString("base64");this.storage.authClient.sign(p,n.signingEndpoint).then(e=>{o(null,{string:l,base64:p,signature:e})},e=>{o(new O.SigningError(e.message))})}generateSignedPostPolicyV4(e,t){const r=(0,T.normalize)(e,t);let n=r.options;const o=r.callback,i=new Date(n.expires);if(isNaN(i.getTime()))throw new Error(b.ExceptionMessages.EXPIRATION_DATE_INVALID);if(i.valueOf()<Date.now())throw new Error(b.ExceptionMessages.EXPIRATION_DATE_PAST);if(i.valueOf()-Date.now()>6048e5)throw new Error("Max allowed expiration is seven days (604800 seconds).");n=Object.assign({},n);let a=Object.assign({},n.fields);const s=new Date,l=(0,T.formatAsUTCISO)(s,!0),p=(0,T.formatAsUTCISO)(s);(async()=>{const{client_email:e}=await this.storage.authClient.getCredentials(),t=`${e}/${p}/auto/storage/goog4_request`;a={...a,bucket:this.bucket.name,key:this.name,"x-goog-date":l,"x-goog-credential":t,"x-goog-algorithm":"GOOG4-RSA-SHA256"};const r=n.conditions||[];Object.entries(a).forEach(([e,t])=>{e.startsWith("x-ignore-")||r.push({[e]:t})}),delete a.bucket;const o=(0,T.formatAsUTCISO)(i,!0,"-",":"),s={conditions:r,expiration:o},c=(0,T.unicodeJSONStringify)(s),u=Buffer.from(c).toString("base64");try{const e=await this.storage.authClient.sign(u,n.signingEndpoint),t=Buffer.from(e,"base64").toString("hex"),r=this.parent.storage.universeDomain;let o;return a.policy=u,a["x-goog-signature"]=t,o=this.storage.customEndpoint?this.storage.apiEndpoint:n.virtualHostedStyle?`https://${this.bucket.name}.storage.${r}/`:n.bucketBoundHostname?n.bucketBoundHostname+"/":`https://storage.${r}/${this.bucket.name}/`,{url:o,fields:a}}catch(e){throw new O.SigningError(e.message)}})().then(e=>o(null,e),o)}getSignedUrl(e,t){const r=N[e.action],n=(0,T.objectKeyToLowercase)(e.extensionHeaders||{});"resumable"===e.action&&(n["x-goog-resumable"]="start");const o=Object.assign({},e.queryParams);"string"==typeof e.responseType&&(o["response-content-type"]=e.responseType),"string"==typeof e.promptSaveAs&&(o["response-content-disposition"]='attachment; filename="'+e.promptSaveAs+'"'),"string"==typeof e.responseDisposition&&(o["response-content-disposition"]=e.responseDisposition),this.generation&&(o.generation=this.generation.toString());const i={method:r,expires:e.expires,accessibleAt:e.accessibleAt,extensionHeaders:n,queryParams:o,contentMd5:e.contentMd5,contentType:e.contentType,host:e.host};e.cname&&(i.cname=e.cname),e.version&&(i.version=e.version),e.virtualHostedStyle&&(i.virtualHostedStyle=e.virtualHostedStyle),this.signer||(this.signer=new O.URLSigner(this.storage.authClient,this.bucket,this,this.storage)),this.signer.getSignedUrl(i).then(e=>t(null,e),t)}isPublic(e){var t;const r=(null===(t=this.storage)||void 0===t?void 0:t.interceptors)||[],n=this.interceptors||[],o=r.concat(n).reduce((e,t)=>{const r=t.request({uri:`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`});return Object.assign(e,r.headers),e},{});u.util.makeRequest({method:"GET",uri:`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`,headers:o},{retryOptions:this.storage.retryOptions},t=>{if(t){403===t.code?e(null,!1):e(t)}else e(null,!0)})}makePrivate(e,t){var r,n;const o="object"==typeof e?e:{};t="function"==typeof e?e:t;const i={predefinedAcl:o.strict?"private":"projectPrivate"};void 0!==(null===(r=o.preconditionOpts)||void 0===r?void 0:r.ifMetagenerationMatch)&&(i.ifMetagenerationMatch=null===(n=o.preconditionOpts)||void 0===n?void 0:n.ifMetagenerationMatch,delete o.preconditionOpts),o.userProject&&(i.userProject=o.userProject);const a={...o.metadata,acl:null};this.setMetadata(a,i,t)}makePublic(e){e=e||u.util.noop,this.acl.add({entity:"allUsers",role:"READER"},(t,r,n)=>{e(t,n)})}publicUrl(){return`${this.storage.apiEndpoint}/${this.bucket.name}/${encodeURIComponent(this.name)}`}move(e,t,r){const n="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||u.util.noop,this.copy(e,n,(e,t,o)=>{if(e)return e.message="file#copy failed with an error - "+e.message,void r(e,null,o);this.name!==t.name||this.bucket.name!==t.bucket.name?this.delete(n,(e,n)=>{if(e)return e.message="file#delete failed with an error - "+e.message,void r(e,t,n);r(null,t,o)}):r(null,t,o)})}rename(e,t,r){const n="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||u.util.noop,this.move(e,n,r)}async restore(e){const[t]=await this.request({method:"POST",uri:"/restore",qs:e});return t}request(e,t){return this.parent.request.call(this,e,t)}rotateEncryptionKey(e,t){var r;t="function"==typeof e?e:t;let n={};"string"==typeof e||e instanceof Buffer?n={encryptionKey:e}:"object"==typeof e&&(n=e);const o=this.bucket.file(this.id,n),i=void 0!==(null===(r=n.preconditionOpts)||void 0===r?void 0:r.ifGenerationMatch)?{preconditionOpts:n.preconditionOpts}:{};this.copy(o,i,t)}save(e,t,r){r="function"==typeof t?t:r;const n="object"==typeof t?t:{};let o=this.storage.retryOptions.maxRetries;this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(null==n?void 0:n.preconditionOpts)||(o=0);const i=(0,I.default)(async t=>new Promise((r,i)=>{0===o&&(this.storage.retryOptions.autoRetry=!1);const a=this.createWriteStream(n);n.onUploadProgress&&a.on("progress",n.onUploadProgress);const s=e=>this.storage.retryOptions.autoRetry&&this.storage.retryOptions.retryableErrorFn(e)?i(e):t(e);"string"==typeof e||Buffer.isBuffer(e)||e instanceof Uint8Array?a.on("error",s).on("finish",()=>r()).end(e):(0,y.pipeline)(e,a,n=>{if(n){if("function"!=typeof e)return t(n);s(n)}else r()})}),{retries:o,factor:this.storage.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.storage.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.storage.retryOptions.totalTimeout});return r?i.then(()=>{if(r)return r()}).catch(r):i}setMetadata(e,t,r){const n="object"==typeof t?t:{};r="function"==typeof t?t:r,this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,E.AvailableServiceObjectMethods.setMetadata,n),super.setMetadata(e,n).then(e=>r(null,...e)).catch(r).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}setStorageClass(e,t,r){r="function"==typeof t?t:r;const n={..."object"==typeof t?t:{},storageClass:e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(e,t,r)=>t+"_"+r).toUpperCase()};this.copy(this,n,(e,t,n)=>{e?r(e,n):(this.metadata=t.metadata,r(null,n))})}setUserProject(e){this.bucket.setUserProject.call(this,e)}startResumableUpload_(e,t={}){var r;null!==(r=t.metadata)&&void 0!==r||(t.metadata={});const n=this.storage.retryOptions;this.shouldRetryBasedOnPreconditionAndIdempotencyStrat(t.preconditionOpts)||(n.autoRetry=!1);const o={authClient:this.storage.authClient,apiEndpoint:this.storage.apiEndpoint,bucket:this.bucket.name,customRequestOptions:this.getRequestInterceptors().reduce((e,t)=>t(e),{}),file:this.name,generation:this.generation,isPartialUpload:t.isPartialUpload,key:this.encryptionKey,kmsKeyName:this.kmsKeyName,metadata:t.metadata,offset:t.offset,predefinedAcl:t.predefinedAcl,private:t.private,public:t.public,uri:t.uri,userProject:t.userProject||this.userProject,retryOptions:{...n},params:(null==t?void 0:t.preconditionOpts)||this.instancePreconditionOpts,chunkSize:null==t?void 0:t.chunkSize,highWaterMark:null==t?void 0:t.highWaterMark,universeDomain:this.bucket.storage.universeDomain,[w.GCCL_GCS_CMD_KEY]:t[w.GCCL_GCS_CMD_KEY]};let i;try{i=m.upload(o)}catch(t){return e.destroy(t),void(this.storage.retryOptions.autoRetry=this.instanceRetryValue)}i.on("response",t=>{e.emit("response",t)}).on("uri",t=>{e.emit("uri",t)}).on("metadata",t=>{this.metadata=t,e.emit("metadata")}).on("finish",()=>{e.emit("complete")}).on("progress",t=>e.emit("progress",t)),e.setWritable(i),this.storage.retryOptions.autoRetry=this.instanceRetryValue}startSimpleUpload_(e,t={}){var r;null!==(r=t.metadata)&&void 0!==r||(t.metadata={});const n=`${this.storage.apiEndpoint}/upload/storage/v1/b/${this.bucket.name}/o`,o={qs:{name:this.name},uri:n,[w.GCCL_GCS_CMD_KEY]:t[w.GCCL_GCS_CMD_KEY]};void 0!==this.generation&&(o.qs.ifGenerationMatch=this.generation),void 0!==this.kmsKeyName&&(o.qs.kmsKeyName=this.kmsKeyName),"number"==typeof t.timeout&&(o.timeout=t.timeout),(t.userProject||this.userProject)&&(o.qs.userProject=t.userProject||this.userProject),t.predefinedAcl?o.qs.predefinedAcl=t.predefinedAcl:t.private?o.qs.predefinedAcl="private":t.public&&(o.qs.predefinedAcl="publicRead"),Object.assign(o.qs,this.instancePreconditionOpts,t.preconditionOpts),u.util.makeWritableStream(e,{makeAuthenticatedRequest:t=>{this.request(t,(t,r,n)=>{t?e.destroy(t):(this.metadata=r,e.emit("metadata",r),e.emit("response",n),e.emit("complete"))})},metadata:t.metadata,request:o})}disableAutoRetryConditionallyIdempotent_(e,t,r){var n,o,i,a;("object"==typeof e&&void 0===(null===(o=null===(n=null==e?void 0:e.reqOpts)||void 0===n?void 0:n.qs)||void 0===o?void 0:o.ifGenerationMatch)&&void 0===(null==r?void 0:r.ifGenerationMatch)&&t===E.AvailableServiceObjectMethods.delete&&this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryNever)&&(this.storage.retryOptions.autoRetry=!1),("object"==typeof e&&void 0===(null===(a=null===(i=null==e?void 0:e.reqOpts)||void 0===i?void 0:i.qs)||void 0===a?void 0:a.ifMetagenerationMatch)&&void 0===(null==r?void 0:r.ifMetagenerationMatch)&&t===E.AvailableServiceObjectMethods.setMetadata&&this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===b.IdempotencyStrategy.RetryNever)&&(this.storage.retryOptions.autoRetry=!1)}async getBufferFromReadable(e){const t=[];for await(const r of e)t.push(r);return Buffer.concat(t)}}t.File=L,o=new WeakSet,i=async function(e,t={}){const r=this.metadata;let n=!(!t.crc32c&&!t.md5);if(t.crc32c&&r.crc32c&&(n=!e.test("crc32c",r.crc32c)),t.md5&&r.md5Hash&&(n=!e.test("md5",r.md5Hash)),n){const e=[];let n="",o="";try{await this.delete(),t.md5&&!r.md5Hash?(n="MD5_NOT_AVAILABLE",o=j.MD5_NOT_AVAILABLE):(n="FILE_NO_UPLOAD",o=j.UPLOAD_MISMATCH)}catch(t){const r=t;n="FILE_NO_UPLOAD_DELETE",o=`${j.UPLOAD_MISMATCH_DELETE_FAIL}${r.message}`,e.push(r)}const i=new D(o);throw i.code=n,i.errors=e,i}return!0},
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,d.promisifyAll)(L,{exclude:["cloudStorageURI","publicUrl","request","save","setEncryptionKey","shouldRetryBasedOnPreconditionAndIdempotencyStrat","getBufferFromReadable","restore"]})},function(e,t,r){"use strict";var n,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.CRC32C_EXTENSION_TABLE=t.CRC32C_EXTENSIONS=t.CRC32C_EXCEPTION_MESSAGES=t.CRC32C_DEFAULT_VALIDATOR_GENERATOR=t.CRC32C=void 0;const a=r(17),s=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697];t.CRC32C_EXTENSIONS=s;const l=new Int32Array(s);t.CRC32C_EXTENSION_TABLE=l;t.CRC32C_DEFAULT_VALIDATOR_GENERATOR=()=>new c;const p={INVALID_INIT_BASE64_RANGE:e=>"base64-encoded data expected to equal 4 bytes, not "+e,INVALID_INIT_BUFFER_LENGTH:e=>"Buffer expected to equal 4 bytes, not "+e,INVALID_INIT_INTEGER:e=>"Number expected to be a safe, unsigned 32-bit integer, not "+e};t.CRC32C_EXCEPTION_MESSAGES=p;class c{constructor(e=0){n.set(this,0),o(this,n,e,"f")}update(e){let t=4294967295^i(this,n,"f");for(const r of e){t=c.CRC32C_EXTENSION_TABLE[255&(r^t)]^t>>>8}o(this,n,4294967295^t,"f")}validate(e){return"number"==typeof e?e===i(this,n,"f"):"string"==typeof e?e===this.toString():Buffer.isBuffer(e)?0===Buffer.compare(e,this.toBuffer()):e.toString()===this.toString()}toBuffer(){const e=Buffer.alloc(4);return e.writeInt32BE(i(this,n,"f")),e}toJSON(){return this.toString()}toString(){return this.toBuffer().toString("base64")}valueOf(){return i(this,n,"f")}static fromBuffer(e){let t;if(t=Buffer.isBuffer(e)?e:"buffer"in e?Buffer.from(e.buffer):Buffer.from(e),4!==t.byteLength)throw new RangeError(p.INVALID_INIT_BUFFER_LENGTH(t.byteLength));return new c(t.readInt32BE())}static async fromFile(e){const t=new c;return await new Promise((r,n)=>{(0,a.createReadStream)(e).on("data",e=>{"string"==typeof e?t.update(Buffer.from(e)):t.update(e)}).on("end",()=>r()).on("error",n)}),t}static fromString(e){const t=Buffer.from(e,"base64");if(4!==t.byteLength)throw new RangeError(p.INVALID_INIT_BASE64_RANGE(t.byteLength));return this.fromBuffer(t)}static fromNumber(e){if(!Number.isSafeInteger(e)||e>2**32||e<-(2**32))throw new RangeError(p.INVALID_INIT_INTEGER(e));return new c(e)}static from(e){return"number"==typeof e?this.fromNumber(e):"string"==typeof e?this.fromString(e):"byteLength"in e?this.fromBuffer(e):this.fromString(e.toString())}}t.CRC32C=c,n=new WeakMap,c.CRC32C_EXTENSIONS=s,c.CRC32C_EXTENSION_TABLE=l},function(e,t,r){"use strict";e.exports=u;var n=r(90);((u.prototype=Object.create(n.prototype)).constructor=u).className="Namespace";var o,i,a,s=r(77),l=r(16),p=r(113);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function u(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function d(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=c,u.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),u.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:u.fromJSON)(r[n],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof o||e instanceof p||e instanceof a||e instanceof i||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},u.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),d(this)},u.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof u))throw Error("path conflicts with non-namespace objects")}else r.add(r=new u(n))}return t&&r.addJSON(t),r},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof u&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof u&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,r){o=e,i=t,a=r}},function(e,t,r){"use strict";e.exports=a;var n=r(90);((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var o=r(77),i=r(16);function a(e,t,r,o){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createApiCall=function(e,t,r,p){const c="function"==typeof e?Promise.resolve(e):e,u=(0,n.createAPICaller)(t,r);return(e,r,p)=>{var d,h;let f,g=u;if(g instanceof s.StreamingApiCaller){const e=null!==(h=null===(d=g.descriptor)||void 0===d?void 0:d.gaxStreamingRetries)&&void 0!==h&&h,n=(0,o.convertRetryOptions)(r,e);f=t.merge(n)}else f=t.merge(r);t.isBundling&&!f.isBundling&&(g=(0,n.createAPICaller)(t,void 0));const m=g.init(p);return c.then(e=>{var t,r,n;e=g.wrap(e);const o=null===(t=g.descriptor)||void 0===t?void 0:t.streaming,s=f.retry;if(o&&s&&(s.retryCodes.length>0&&s.shouldRetryFn&&((0,l.warn)("either_retrycodes_or_shouldretryfn","Only one of retryCodes or shouldRetryFn may be defined. Ignoring retryCodes."),s.retryCodes=[]),!g.descriptor.gaxStreamingRetries&&s.getResumptionRequestFn))throw new Error("getResumptionRequestFn can only be used when gaxStreamingRetries is set to true.");if(!o&&s){if(s.shouldRetryFn)throw new Error("Using a function to determine retry eligibility is only supported with server streaming calls");if(s.getResumptionRequestFn)throw new Error("Resumption strategy can only be used with server streaming retries");if(s.retryCodes&&s.retryCodes.length>0)return null!==(r=(n=s.backoffSettings).initialRpcTimeoutMillis)&&void 0!==r||(n.initialRpcTimeoutMillis=f.timeout),(0,i.retryable)(e,f.retry,f.otherArgs,f.apiName)}return(0,a.addTimeoutArg)(e,f.timeout,f.otherArgs)}).then(t=>{g.call(t,e,f,m)}).catch(e=>{g.fail(m,e)}),g.result(m)}};const n=r(692),o=r(64),i=r(694),a=r(387),s=r(388),l=r(78)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OngoingCallPromise=t.OngoingCall=void 0;const n=r(39),o=r(40);class i{constructor(e){this.callback=e,this.completed=!1}cancel(){if(!this.completed)if(this.completed=!0,this.cancelFunc)this.cancelFunc();else{const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,this.callback(e)}}call(e,t){if(this.completed)return;const r=e(t,(e,t,r,n)=>{this.completed=!0,setImmediate(this.callback,e,t,r,n)});r instanceof Promise&&r.catch(e=>{setImmediate(this.callback,new o.GoogleError(e),null,null,null)}),this.cancelFunc=()=>r.cancel()}}t.OngoingCall=i;t.OngoingCallPromise=class extends i{constructor(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});super((r,n,i,a)=>{if(r)r.metadata?t(o.GoogleError.parseGRPCStatusDetails(r)):t(r);else{if(void 0===n)throw new o.GoogleError("Neither error nor response are defined");e([n,i||null,a||null])}}),this.promise=r,this.promise.cancel=()=>{this.cancel()}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;const n=r(1),o=r(400),i=r(58),a=r(403),s=r(716),l=r(717),p=r(221),c=r(79),u=r(222),d=r(96),h=r(152),f=r(405),g=r(15),m=r(153),y=r(14),v=r(402),b=r(406),E=r(401),_=r(408),O=r(80),w=r(42);class S{constructor(e,t){this._firestore=e,this._queryOptions=t,this._serializer=new d.Serializer(e),this._allowUndefined=!!this._firestore._settings.ignoreUndefinedProperties,this._queryUtil=new o.QueryUtil(e,t,this._serializer)}static _extractFieldValues(e,t){const r=[];for(const n of t)if(i.FieldPath.documentId().isEqual(n.field))r.push(e.ref);else{const t=e.get(n.field);if(void 0===t)throw new Error(`Field "${n.field}" is missing in the provided DocumentSnapshot. Please provide a document that contains values for all specified orderBy() and where() constraints.`);r.push(t)}return r}get firestore(){return this._firestore}where(e,t,r){let n;if(n=e instanceof i.Filter?e:i.Filter.where(e,t,r),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify a where() filter after calling startAt(), startAfter(), endBefore() or endAt().");const o=this._parseFilter(n);if(0===o.getFilters().length)return this;const a=this._queryOptions.with({filters:this._queryOptions.filters.concat(o)});return new S(this._firestore,a)}_parseFilter(e){return e instanceof f.UnaryFilter?this._parseFieldFilter(e):this._parseCompositeFilter(e)}_parseFieldFilter(e){let t=e._getValue(),r=e._getOperator();const n=e._getField();(0,g.validateFieldPath)("fieldPath",n),r=(0,m.validateQueryOperator)("opStr",r,t),(0,m.validateQueryValue)("value",t,this._allowUndefined);const o=i.FieldPath.fromArgument(n);if(i.FieldPath.documentId().isEqual(o)){if("array-contains"===r||"array-contains-any"===r)throw new Error(`Invalid Query. You can't perform '${r}' queries on FieldPath.documentId().`);if("in"===r||"not-in"===r){if(!Array.isArray(t)||0===t.length)throw new Error(`Invalid Query. A non-empty array is required for '${r}' filters.`);t=t.map(e=>this.validateReference(e))}else t=this.validateReference(t)}return new s.FieldFilterInternal(this._serializer,o,p.comparisonOperators[r],t)}_parseCompositeFilter(e){const t=e._getFilters().map(e=>this._parseFilter(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:new l.CompositeFilterInternal(t,"AND"===e._getOperator()?"AND":"OR")}select(...e){const t=[];if(0===e.length)t.push({fieldPath:i.FieldPath.documentId().formattedName});else for(let r=0;r<e.length;++r)(0,g.validateFieldPath)(r,e[r]),t.push({fieldPath:i.FieldPath.fromArgument(e[r]).formattedName});const r=this._queryOptions.with({projection:{fields:t}});return new S(this._firestore,r)}orderBy(e,t){if((0,g.validateFieldPath)("fieldPath",e),t=(0,m.validateQueryOrder)("directionStr",t),this._queryOptions.startAt||this._queryOptions.endAt)throw new Error("Cannot specify an orderBy() constraint after calling startAt(), startAfter(), endBefore() or endAt().");const r=new a.FieldOrder(i.FieldPath.fromArgument(e),p.directionOperators[t||"asc"]),n=this._queryOptions.with({fieldOrders:this._queryOptions.fieldOrders.concat(r)});return new S(this._firestore,n)}limit(e){(0,y.validateInteger)("limit",e);const t=this._queryOptions.with({limit:e,limitType:v.LimitType.First});return new S(this._firestore,t)}limitToLast(e){(0,y.validateInteger)("limitToLast",e);const t=this._queryOptions.with({limit:e,limitType:v.LimitType.Last});return new S(this._firestore,t)}offset(e){(0,y.validateInteger)("offset",e);const t=this._queryOptions.with({offset:e});return new S(this._firestore,t)}count(){return this.aggregate({count:i.AggregateField.count()})}aggregate(e){return new b.AggregateQuery(this,e)}findNearest(e,t,r){if("string"==typeof e||e instanceof i.FieldPath){const n={distanceMeasure:r.distanceMeasure,limit:r.limit,queryVector:t,vectorField:e};return this._findNearest(n)}return this._findNearest(e)}_findNearest(e){if((0,g.validateFieldPath)("vectorField",e.vectorField),e.limit<=0)throw(0,y.invalidArgumentMessage)("limit","positive limit number");if(0===(Array.isArray(e.queryVector)?e.queryVector.length:e.queryVector.toArray().length))throw(0,y.invalidArgumentMessage)("queryVector","vector size must be larger than 0");return new E.VectorQuery(this,e)}isEqual(e){return this===e||e instanceof S&&this._queryOptions.isEqual(e._queryOptions)}getInequalityFilterFields(){const e=[];for(const t of this._queryOptions.filters)for(const r of t.getFlattenedFilters())r.isInequalityFilter()&&e.push(r.field);return e.sort((e,t)=>e.compareTo(t))}createImplicitOrderBy(e){if(1!==e.length||!(e[0]instanceof i.DocumentSnapshot))return this._queryOptions.fieldOrders;const t=this._queryOptions.fieldOrders.slice(),r=new Set([...t.map(e=>e.field.toString())]),n=0===t.length?p.directionOperators.ASC:t[t.length-1].direction,o=this.getInequalityFilterFields();for(const e of o)r.has(e.toString())||e.isEqual(i.FieldPath.documentId())||(t.push(new a.FieldOrder(e,n)),r.add(e.toString()));return r.has(i.FieldPath.documentId().toString())||t.push(new a.FieldOrder(i.FieldPath.documentId(),n)),t}createCursor(e,t,r){let n;if(n=1===t.length&&t[0]instanceof i.DocumentSnapshot?S._extractFieldValues(t[0],e):t,n.length>e.length)throw new Error("Too many cursor values specified. The specified values must match the orderBy() constraints of the query.");const o={values:[],before:r};for(let t=0;t<n.length;++t){let r=n[t];i.FieldPath.documentId().isEqual(e[t].field)&&(r=this.validateReference(r)),(0,m.validateQueryValue)(t,r,this._allowUndefined),o.values.push(this._serializer.encodeValue(r))}return o}validateReference(e){const t=this._queryOptions.allDescendants?this._queryOptions.parentPath:this._queryOptions.parentPath.append(this._queryOptions.collectionId);let r;if("string"==typeof e){const n=t.append(e);if(this._queryOptions.allDescendants){if(!n.isDocument)throw new Error(`When querying a collection group and ordering by FieldPath.documentId(), the corresponding value must result in a valid document path, but '${e}' is not because it contains an odd number of segments.`)}else if(-1!==e.indexOf("/"))throw new Error(`When querying a collection and ordering by FieldPath.documentId(), the corresponding value must be a plain document ID, but '${e}' contains a slash.`);r=new c.DocumentReference(this._firestore,t.append(e),this._queryOptions.converter)}else{if(!(e instanceof c.DocumentReference))throw new Error(`The corresponding value for FieldPath.documentId() must be a string or a DocumentReference, but was "${e}".`);if(r=e,!t.isPrefixOf(r._path))throw new Error(`"${r.path}" is not part of the query result set and cannot be used as a query boundary.`)}if(!this._queryOptions.allDescendants&&0!==r._path.parent().compareTo(t))throw new Error(`Only a direct child can be used as a query boundary. Found: "${r.path}".`);return r}startAt(...e){(0,y.validateMinNumberOfArguments)("Query.startAt",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!0),n=this._queryOptions.with({fieldOrders:t,startAt:r});return new S(this._firestore,n)}startAfter(...e){(0,y.validateMinNumberOfArguments)("Query.startAfter",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!1),n=this._queryOptions.with({fieldOrders:t,startAt:r});return new S(this._firestore,n)}endBefore(...e){(0,y.validateMinNumberOfArguments)("Query.endBefore",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!0),n=this._queryOptions.with({fieldOrders:t,endAt:r});return new S(this._firestore,n)}endAt(...e){(0,y.validateMinNumberOfArguments)("Query.endAt",e,1);const t=this.createImplicitOrderBy(e),r=this.createCursor(t,e,!1),n=this._queryOptions.with({fieldOrders:t,endAt:r});return new S(this._firestore,n)}async get(){return this._firestore._traceUtil.startActiveSpan(w.SPAN_NAME_QUERY_GET,async()=>{const{result:e}=await this._get();return e})}async explain(e){void 0===e&&(e={});const{result:t,explainMetrics:r}=await this._getResponse(void 0,e);if(!r)throw new Error("No explain results");return new h.ExplainResults(r,t||null)}async _get(e){const t=await this._getResponse(e);if(!t.result)throw new Error("No QuerySnapshot result");return t}_getResponse(e,t){return this._queryUtil._getResponse(this,e,!0,t)}stream(){return this._queryUtil.stream(this)}explainStream(e){if(void 0===e&&(e={}),this._queryOptions.limitType===v.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.explain() instead.");const t=this._stream(void 0,e),r=new n.Transform({objectMode:!0,transform(e,t,r){(e.document||e.explainMetrics)&&r(void 0,{document:e.document,metrics:e.explainMetrics})}});return t.pipe(r),t.on("error",e=>r.destroy(e)),r}toCursor(e){if(e)return e.before?{before:!0,values:e.values}:{values:e.values}}toProto(e,t){const r=this.firestore.projectId,n=this.firestore.databaseId,o=this._queryOptions.parentPath.toQualifiedResourcePath(r,n),s=this.toStructuredQuery();if(this._queryOptions.limitType===v.LimitType.Last){if(!this._queryOptions.hasFieldOrders())throw new Error("limitToLast() queries require specifying at least one orderBy() clause.");s.orderBy=this._queryOptions.fieldOrders.map(e=>{const t="DESCENDING"===e.direction?"ASCENDING":"DESCENDING";return new a.FieldOrder(e.field,t).toProto()}),s.startAt=this._queryOptions.endAt?this.toCursor({values:this._queryOptions.endAt.values,before:!this._queryOptions.endAt.before}):void 0,s.endAt=this._queryOptions.startAt?this.toCursor({values:this._queryOptions.startAt.values,before:!this._queryOptions.startAt.before}):void 0}const l={parent:o.formattedName,structuredQuery:s};return e instanceof Uint8Array?l.transaction=e:e instanceof i.Timestamp?l.readTime=e.toProto().timestampValue:e&&(l.newTransaction=e),t&&(l.explainOptions=t),l}_toBundledQuery(){const e=this.firestore.projectId,t=this.firestore.databaseId,r=this._queryOptions.parentPath.toQualifiedResourcePath(e,t),n=this.toStructuredQuery(),o={parent:r.formattedName,structuredQuery:n};return this._queryOptions.limitType===v.LimitType.First?o.limitType="FIRST":this._queryOptions.limitType===v.LimitType.Last&&(o.limitType="LAST"),o}toStructuredQuery(){const e={from:[{}]};return this._queryOptions.allDescendants&&(e.from[0].allDescendants=!0),this._queryOptions.kindless||(e.from[0].collectionId=this._queryOptions.collectionId),this._queryOptions.filters.length>=1&&(e.where=new l.CompositeFilterInternal(this._queryOptions.filters,"AND").toProto()),this._queryOptions.hasFieldOrders()&&(e.orderBy=this._queryOptions.fieldOrders.map(e=>e.toProto())),e.startAt=this.toCursor(this._queryOptions.startAt),e.endAt=this.toCursor(this._queryOptions.endAt),this._queryOptions.limit&&(e.limit={value:this._queryOptions.limit}),e.offset=this._queryOptions.offset,e.select=this._queryOptions.projection,e}_isPermanentRpcError(e,t){return this._queryUtil._isPermanentRpcError(e,t)}_hasRetryTimedOut(e,t){return this._queryUtil._hasRetryTimedOut(e,t)}_stream(e,t){return this._queryUtil._stream(this,e,!0,t)}onSnapshot(e,t){(0,y.validateFunction)("onNext",e),(0,y.validateFunction)("onError",t,{optional:!0});return new(r(409).QueryWatch)(this.firestore,this,this._queryOptions.converter).onSnapshot((t,r,n,o)=>{e(new u.QuerySnapshot(this,t,r,n,o))},t||console.error)}comparator(){return(e,t)=>{const r=this._queryOptions.hasFieldOrders()?this._queryOptions.fieldOrders[this._queryOptions.fieldOrders.length-1].direction:"ASCENDING",n=this._queryOptions.fieldOrders.concat(new a.FieldOrder(i.FieldPath.documentId(),r));for(const r of n){let n;if(i.FieldPath.documentId().isEqual(r.field))n=e.ref._path.compareTo(t.ref._path);else{const o=e.protoField(r.field),i=t.protoField(r.field);if(void 0===o||void 0===i)throw new Error("Trying to compare documents on fields that don't exist. Please include the fields you are ordering on in your select() call.");n=(0,_.compare)(o,i)}if(0!==n){return("ASCENDING"===r.direction?1:-1)*n}}return 0}}withConverter(e){return new S(this.firestore,this._queryOptions.withConverter(null!=e?e:(0,O.defaultConverter)()))}_createSnapshot(e,t,r,n){return new u.QuerySnapshot(this,e,t,r,n)}}t.Query=S},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.gcpResidencyCache=t.METADATA_SERVER_DETECTION=t.HEADERS=t.HEADER_VALUE=t.HEADER_NAME=t.SECONDARY_HOST_ADDRESS=t.HOST_ADDRESS=t.BASE_PATH=void 0,t.instance=function(e){return u("instance",e)},t.project=function(e){return u("project",e)},t.universe=function(e){return u("universe",e)},t.bulk=async function(e){const t={};return await Promise.all(e.map(e=>(async()=>{const r=await u(e),n=e.metadataKey;t[n]=r})())),t},t.isAvailable=async function(){if(process.env.METADATA_SERVER_DETECTION){const e=process.env.METADATA_SERVER_DETECTION.trim().toLocaleLowerCase();if(!(e in t.METADATA_SERVER_DETECTION))throw new RangeError(`Unknown \`METADATA_SERVER_DETECTION\` env variable. Got \`${e}\`, but it should be \`${Object.keys(t.METADATA_SERVER_DETECTION).join("`, `")}\`, or unset`);switch(e){case"assume-present":return!0;case"none":return!1;case"bios-only":return f()}}try{return void 0===h&&(h=u("instance",void 0,process.env.DETECT_GCP_RETRIES?Number(process.env.DETECT_GCP_RETRIES):0,!(process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST))),await h,!0}catch(e){const t=e;if(process.env.DEBUG_AUTH&&console.info(t),"request-timeout"===t.type)return!1;if(t.response&&404===t.response.status)return!1;if(!(t.response&&404===t.response.status||t.code&&["EHOSTDOWN","EHOSTUNREACH","ENETUNREACH","ENOENT","ENOTFOUND","ECONNREFUSED"].includes(t.code))){let e="UNKNOWN";t.code&&(e=t.code),process.emitWarning(`received unexpected error = ${t.message} code = ${e}`,"MetadataLookupWarning")}return!1}},t.resetIsAvailableCache=function(){h=void 0},t.getGCPResidency=f,t.setGCPResidency=g,t.requestTimeout=m;const i=r(30),a=r(468),s=r(250),l=r(471);t.BASE_PATH="/computeMetadata/v1",t.HOST_ADDRESS="http://169.254.169.254",t.SECONDARY_HOST_ADDRESS="http://metadata.google.internal.",t.HEADER_NAME="Metadata-Flavor",t.HEADER_VALUE="Google",t.HEADERS=Object.freeze({[t.HEADER_NAME]:t.HEADER_VALUE});const p=l.log("gcp metadata");function c(e){return e||(e=process.env.GCE_METADATA_IP||process.env.GCE_METADATA_HOST||t.HOST_ADDRESS),/^https?:\/\//.test(e)||(e="http://"+e),new URL(t.BASE_PATH,e).href}async function u(e,r={},n=3,o=!1){let s="",l={},u={};if("object"==typeof e){const t=e;s=t.metadataKey,l=t.params||l,u=t.headers||u,n=t.noResponseRetries||n,o=t.fastFail||o}else s=e;"string"==typeof r?s+="/"+r:(!function(e){Object.keys(e).forEach(e=>{switch(e){case"params":case"property":case"headers":break;case"qs":throw new Error("'qs' is not a valid configuration option. Please use 'params' instead.");default:throw new Error(`'${e}' is not a valid configuration option.`)}})}(r),r.property&&(s+="/"+r.property),u=r.headers||u,l=r.params||l);const h=o?d:i.request,f={url:`${c()}/${s}`,headers:{...t.HEADERS,...u},retryConfig:{noResponseRetries:n},params:l,responseType:"text",timeout:m()};p.info("instance request %j",f);const g=await h(f);if(p.info("instance metadata is %s",g.data),g.headers[t.HEADER_NAME.toLowerCase()]!==t.HEADER_VALUE)throw new Error(`Invalid response from metadata service: incorrect ${t.HEADER_NAME} header. Expected '${t.HEADER_VALUE}', got ${g.headers[t.HEADER_NAME.toLowerCase()]?`'${g.headers[t.HEADER_NAME.toLowerCase()]}'`:"no header"}`);if("string"==typeof g.data)try{return a.parse(g.data)}catch(e){}return g.data}async function d(e){var r;const n={...e,url:null===(r=e.url)||void 0===r?void 0:r.toString().replace(c(),c(t.SECONDARY_HOST_ADDRESS))};let o=!1;const a=(0,i.request)(e).then(e=>(o=!0,e)).catch(e=>{if(o)return s;throw o=!0,e}),s=(0,i.request)(n).then(e=>(o=!0,e)).catch(e=>{if(o)return a;throw o=!0,e});return Promise.race([a,s])}let h;function f(){return null===t.gcpResidencyCache&&g(),t.gcpResidencyCache}function g(e=null){t.gcpResidencyCache=null!==e?e:(0,s.detectGCPResidency)()}function m(){return f()?0:3e3}t.METADATA_SERVER_DETECTION=Object.freeze({"assume-present":"don't try to ping the metadata server, but assume it's present",none:"don't try to ping the metadata server, but don't try to use it either","bios-only":"treat the result of a BIOS probe as canonical (don't fall back to pinging)","ping-only":"skip the BIOS probe, and go straight to pinging"}),t.gcpResidencyCache=null,o(r(250),t)},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},l=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,r=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)},p=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,a,u=arguments[0],d=1,h=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},d=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});d<h;++d)if(null!=(t=arguments[d]))for(r in t)n=c(u,r),u!==(o=c(t,r))&&(f&&o&&(l(o)||(i=s(o)))?(i?(i=!1,a=n&&s(n)?n:[]):a=n&&l(n)?n:{},p(u,{name:r,newValue:e(f,a,o)})):void 0!==o&&p(u,{name:r,newValue:o}));return u}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(67),o=r(464),i=process.env;let a;function s(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==a)return 0;const t=a?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in i)||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,t)}(e))}o("no-color")||o("no-colors")||o("color=false")?a=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=!0),"FORCE_COLOR"in i&&(a=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),e.exports={supportsColor:s,stdout:s(process.stdout),stderr:s(process.stderr)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTransporter=void 0;const n=r(30),o=r(481),i=r(251);class a{constructor(){this.instance=new n.Gaxios}configure(e={}){if(e.headers=e.headers||{},"undefined"==typeof window){const t=e.headers["User-Agent"];if(t?t.includes("google-api-nodejs-client/")||(e.headers["User-Agent"]=`${t} ${a.USER_AGENT}`):e.headers["User-Agent"]=a.USER_AGENT,!e.headers["x-goog-api-client"]){const t=process.version.replace(/^v/,"");e.headers["x-goog-api-client"]="gl-node/"+t}}return e}request(e){return e=this.configure(e),(0,o.validate)(e),this.instance.request(e).catch(e=>{throw this.processError(e)})}get defaults(){return this.instance.defaults}set defaults(e){this.instance.defaults=e}processError(e){const t=e.response,r=e,n=t?t.data:null;return t&&n&&n.error&&200!==t.status?"string"==typeof n.error?(r.message=n.error,r.status=t.status):Array.isArray(n.error.errors)?(r.message=n.error.errors.map(e=>e.message).join("\n"),r.code=n.error.code,r.errors=n.error.errors):(r.message=n.error.message,r.code=n.error.code):t&&t.status>=400&&(r.message=n,r.status=t.status),r}}t.DefaultTransporter=a,a.USER_AGENT="google-api-nodejs-client/"+i.version},function(e,t,r){var n=r(5);function o(e,t){n.cipher.registerAlgorithm(e,(function(){return new n.des.Algorithm(e,t)}))}r(164),r(272),r(8),e.exports=n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var o=f({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return o.start(t),o},n.des.createEncryptionCipher=function(e,t){return f({key:e,output:null,decrypt:!1,mode:t})},n.des.startDecrypting=function(e,t,r,n){var o=f({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return o.start(t),o},n.des.createDecryptionCipher=function(e,t){return f({key:e,output:null,decrypt:!0,mode:t})},n.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return h(r._keys,e,t,!1)},decrypt:function(e,t){return h(r._keys,e,t,!0)}}}),r._init=!1},n.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=n.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],o=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],p=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],f=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,y=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,E=0;E<m;E++){var _=e.getInt32(),O=e.getInt32();_^=(t=252645135&(_>>>4^O))<<4,_^=t=65535&((O^=t)>>>-16^_),_^=(t=858993459&(_>>>2^(O^=t<<-16)))<<2,_^=t=65535&((O^=t)>>>-16^_),_^=(t=1431655765&(_>>>1^(O^=t<<-16)))<<1,_^=t=16711935&((O^=t)>>>8^_),t=(_^=(t=1431655765&(_>>>1^(O^=t<<8)))<<1)<<8|(O^=t)>>>20&240,_=O<<24|O<<8&16711680|O>>>8&65280|O>>>24&240,O=t;for(var w=0;w<v.length;++w){v[w]?(_=_<<2|_>>>26,O=O<<2|O>>>26):(_=_<<1|_>>>27,O=O<<1|O>>>27);var S=r[(_&=-15)>>>28]|n[_>>>24&15]|o[_>>>20&15]|i[_>>>16&15]|a[_>>>12&15]|s[_>>>8&15]|l[_>>>4&15],T=p[(O&=-15)>>>28]|c[O>>>24&15]|u[O>>>20&15]|d[O>>>16&15]|h[O>>>12&15]|f[O>>>8&15]|g[O>>>4&15];t=65535&(T>>>16^S),y[b++]=S^t,y[b++]=T^t<<16}}return y}(t),this._init=!0}},o("DES-ECB",n.cipher.modes.ecb),o("DES-CBC",n.cipher.modes.cbc),o("DES-CFB",n.cipher.modes.cfb),o("DES-OFB",n.cipher.modes.ofb),o("DES-CTR",n.cipher.modes.ctr),o("3DES-ECB",n.cipher.modes.ecb),o("3DES-CBC",n.cipher.modes.cbc),o("3DES-CFB",n.cipher.modes.cfb),o("3DES-OFB",n.cipher.modes.ofb),o("3DES-CTR",n.cipher.modes.ctr);var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],p=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],c=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],u=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(e,t,r,n){var o,h,f=32===e.length?3:9;o=3===f?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=t[0],m=t[1];g^=(h=252645135&(g>>>4^m))<<4,g^=(h=65535&(g>>>16^(m^=h)))<<16,g^=h=858993459&((m^=h)>>>2^g),g^=h=16711935&((m^=h<<2)>>>8^g),g=(g^=(h=1431655765&(g>>>1^(m^=h<<8)))<<1)<<1|g>>>31,m=(m^=h)<<1|m>>>31;for(var y=0;y<f;y+=3){for(var v=o[y+1],b=o[y+2],E=o[y];E!=v;E+=b){var _=m^e[E],O=(m>>>4|m<<28)^e[E+1];h=g,g=m,m=h^(a[_>>>24&63]|l[_>>>16&63]|c[_>>>8&63]|d[63&_]|i[O>>>24&63]|s[O>>>16&63]|p[O>>>8&63]|u[63&O])}h=g,g=m,m=h}m=m>>>1|m<<31,m^=h=1431655765&((g=g>>>1|g<<31)>>>1^m),m^=(h=16711935&(m>>>8^(g^=h<<1)))<<8,m^=(h=858993459&(m>>>2^(g^=h)))<<2,m^=h=65535&((g^=h)>>>16^m),m^=h=252645135&((g^=h<<16)>>>4^m),g^=h<<4,r[0]=g,r[1]=m}function f(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),o=(t=e.decrypt?n.cipher.createDecipher(r,e.key):n.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof n.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,o.call(t,r)},t}},function(e,t,r){var n=r(5);if(r(48),r(124),r(72),r(279),r(280),r(32),r(8),void 0===o)var o=n.jsbn.BigInteger;var i=n.util.isNodejs?r(0):null,a=n.asn1,s=n.util;n.pki=n.pki||{},e.exports=n.pki.rsa=n.rsa=n.rsa||{};var l=n.pki,p=[6,4,2,4,2,4,6,2],c={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=n.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},f={name:"DigestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},g=function(e){var t;if(!(e.algorithm in l.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=l.oids[e.algorithm];var n=a.oidToDer(t).getBytes(),o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);i.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,n)),i.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var s=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return o.value.push(i),o.value.push(s),a.toDer(o).getBytes()},m=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var i;t.dP||(t.dP=t.d.mod(t.p.subtract(o.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(o.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{i=new o(n.util.bytesToHex(n.random.getBytes(t.n.bitLength()/8)),16)}while(i.compareTo(t.n)>=0||!i.gcd(t.n).equals(o.ONE));for(var a=(e=e.multiply(i.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(s)<0;)a=a.add(t.p);var l=a.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return l=l.multiply(i.modInverse(t.n)).mod(t.n)};function y(e,t,r){var o=n.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}o.putByte(0),o.putByte(r);var s,l=i-3-e.length;if(0===r||1===r){s=0===r?0:255;for(var p=0;p<l;++p)o.putByte(s)}else for(;l>0;){var c=0,u=n.random.getBytes(l);for(p=0;p<l;++p)0===(s=u.charCodeAt(p))?++c:o.putByte(s);l=c}return o.putByte(0),o.putBytes(e),o}function v(e,t,r,o){var i=Math.ceil(t.n.bitLength()/8),a=n.util.createBuffer(e),s=a.getByte(),l=a.getByte();if(0!==s||r&&0!==l&&1!==l||!r&&2!=l||r&&0===l&&void 0===o)throw new Error("Encryption block is invalid.");var p=0;if(0===l){p=i-3-o;for(var c=0;c<p;++c)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===l)for(p=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++p}else if(2===l)for(p=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++p}if(0!==a.getByte()||p!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function b(e,t,r){"function"==typeof t&&(r=t,t={});var i={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){s(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?p(t,e.q):void s(e.qBits,p))}))}function s(e,t){n.prime.generateProbablePrime(e,i,t)}function p(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var i=e.p;e.p=e.q,e.q=i}if(0!==e.p.subtract(o.ONE).gcd(e.e).compareTo(o.ONE))return e.p=null,void a();if(0!==e.q.subtract(o.ONE).gcd(e.e).compareTo(o.ONE))return e.q=null,void s(e.qBits,p);if(e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(o.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void s(e.qBits,p);var c=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(i.prng=t.prng),a()}function E(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=n.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function _(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function O(e){return n.util.isNodejs&&"function"==typeof i[e]}function w(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.crypto&&"object"==typeof s.globalScope.crypto.subtle&&"function"==typeof s.globalScope.crypto.subtle[e]}function S(e){return void 0!==s.globalScope&&"object"==typeof s.globalScope.msCrypto&&"object"==typeof s.globalScope.msCrypto.subtle&&"function"==typeof s.globalScope.msCrypto.subtle[e]}function T(e){for(var t=n.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),o=0;o<t.length;++o)r[o]=t.charCodeAt(o);return r}l.rsa.encrypt=function(e,t,r){var i,a=r,s=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(a=2===r,i=y(e,t,r)):(i=n.util.createBuffer()).putBytes(e);for(var l=new o(i.toHex(),16),p=m(l,t,a).toString(16),c=n.util.createBuffer(),u=s-Math.ceil(p.length/2);u>0;)c.putByte(0),--u;return c.putBytes(n.util.hexToBytes(p)),c.getBytes()},l.rsa.decrypt=function(e,t,r,i){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=a,s}var l=new o(n.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var p=m(l,t,r).toString(16),c=n.util.createBuffer(),u=a-Math.ceil(p.length/2);u>0;)c.putByte(0),--u;return c.putBytes(n.util.hexToBytes(p)),!1!==i?v(c.getBytes(),t,r):c.getBytes()},l.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var i,a=(r=r||{}).prng||n.random,s={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},l=r.algorithm||"PRIMEINC";if("PRIMEINC"!==l)throw new Error("Invalid key generation algorithm: "+l);return(i={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new o(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(i.eInt),i},l.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new o(null);r.fromInt(30);for(var n,i=0,a=function(e,t){return e|t},s=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var u=null===e.p?e.pBits:e.qBits,d=u-1;0===e.pqState?(e.num=new o(u,e.rng),e.num.testBit(d)||e.num.bitwiseTo(o.ONE.shiftLeft(d),a,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),i=0,++e.pqState):1===e.pqState?e.num.bitLength()>u?e.pqState=0:e.num.isProbablePrime(_(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(p[i++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(o.ONE).gcd(e.e).compareTo(o.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(o.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var h=e.e.modInverse(e.phi);e.keys={privateKey:l.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:l.rsa.setPublicKey(e.n,e.e)}}c+=(n=+new Date)-s,s=n}return null!==e.keys},l.rsa.generateKeyPair=function(e,t,r,o){if(1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(o=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(o=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,o=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(o=r,r=void 0):(o=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!n.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(o){if(O("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,r){if(e)return o(e);o(null,{privateKey:l.privateKeyFromPem(r),publicKey:l.publicKeyFromPem(t)})}));if(w("generateKey")&&w("exportKey"))return s.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:T(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return s.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){o(e)})).then((function(e){if(e){var t=l.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(e)));o(null,{privateKey:t,publicKey:l.setRsaPublicKey(t.n,t.e)})}}));if(S("generateKey")&&S("exportKey")){var p=s.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:T(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return p.oncomplete=function(e){var t=e.target.result,r=s.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=l.privateKeyFromAsn1(a.fromDer(n.util.createBuffer(t)));o(null,{privateKey:r,publicKey:l.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){o(e)}},void(p.onerror=function(e){o(e)})}}else if(O("generateKeyPairSync")){var c=i.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:l.privateKeyFromPem(c.privateKey),publicKey:l.publicKeyFromPem(c.publicKey)}}var u=l.rsa.createKeyPairGenerationState(e,t,r);if(!o)return l.rsa.stepKeyPairGenerationState(u,0),u.keys;b(u,r,o)},l.setRsaPublicKey=l.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,o){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return n.pkcs1.encode_rsa_oaep(t,e,o)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var i=t.encode(e,r,!0);return l.rsa.encrypt(i,r,!0)},verify:function(e,t,o,i){"string"==typeof o?o=o.toUpperCase():void 0===o&&(o="RSASSA-PKCS1-V1_5"),void 0===i&&(i={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in i||(i._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===o?o={verify:function(e,t){t=v(t,r,!0);var o=a.fromDer(t,{parseAllBytes:i._parseAllDigestBytes}),s={},l=[];if(!a.validate(o,f,s,l))throw(p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=l,p;var p,c=a.derToOid(s.algorithmIdentifier);if(c!==n.oids.md2&&c!==n.oids.md5&&c!==n.oids.sha1&&c!==n.oids.sha224&&c!==n.oids.sha256&&c!==n.oids.sha384&&c!==n.oids.sha512&&c!==n.oids["sha512-224"]&&c!==n.oids["sha512-256"])throw(p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=c,p;if((c===n.oids.md2||c===n.oids.md5)&&!("parameters"in s))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return e===s.digest}}:"NONE"!==o&&"NULL"!==o&&null!==o||(o={verify:function(e,t){return e===(t=v(t,r,!0))}});var s=l.rsa.decrypt(t,r,!0,!1);return o.verify(e,s,r.n.bitLength())}};return r},l.setRsaPrivateKey=l.rsa.setPrivateKey=function(e,t,r,o,i,a,s,p){var c={n:e,e:t,d:r,p:o,q:i,dP:a,dQ:s,qInv:p,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var o=l.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:v};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return n.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(o,c,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:g},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,c.n.bitLength());return l.rsa.encrypt(n,c,r)}};return c},l.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(l.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},l.privateKeyFromAsn1=function(e){var t,r,i,s,p,d,h,f,g={},m=[];if(a.validate(e,c,g,m)&&(e=a.fromDer(n.util.createBuffer(g.privateKey))),g={},m=[],!a.validate(e,u,g,m)){var y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw y.errors=m,y}return t=n.util.createBuffer(g.privateKeyModulus).toHex(),r=n.util.createBuffer(g.privateKeyPublicExponent).toHex(),i=n.util.createBuffer(g.privateKeyPrivateExponent).toHex(),s=n.util.createBuffer(g.privateKeyPrime1).toHex(),p=n.util.createBuffer(g.privateKeyPrime2).toHex(),d=n.util.createBuffer(g.privateKeyExponent1).toHex(),h=n.util.createBuffer(g.privateKeyExponent2).toHex(),f=n.util.createBuffer(g.privateKeyCoefficient).toHex(),l.setRsaPrivateKey(new o(t,16),new o(r,16),new o(i,16),new o(s,16),new o(p,16),new o(d,16),new o(h,16),new o(f,16))},l.privateKeyToAsn1=l.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.qInv))])},l.publicKeyFromAsn1=function(e){var t={},r=[];if(a.validate(e,h,t,r)){var i,s=a.derToOid(t.publicKeyOid);if(s!==l.oids.rsaEncryption)throw(i=new Error("Cannot read public key. Unknown OID.")).oid=s,i;e=t.rsaPublicKey}if(r=[],!a.validate(e,d,t,r))throw(i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,i;var p=n.util.createBuffer(t.publicKeyModulus).toHex(),c=n.util.createBuffer(t.publicKeyExponent).toHex();return l.setRsaPublicKey(new o(p,16),new o(c,16))},l.publicKeyToAsn1=l.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(l.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[l.publicKeyToRSAPublicKey(e)])])},l.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,E(e.e))])}},function(e,t,r){var n,o=r(5);e.exports=o.jsbn=o.jsbn||{};function i(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new i(null)}function s(e,t,r,n,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var l=16383&this.data[e],p=this.data[e++]>>14,c=s*l+p*a;o=((l=a*l+((16383&c)<<14)+r.data[n]+o)>>28)+(c>>14)+s*p,r.data[n++]=268435455&l}return o}o.jsbn.BigInteger=i,"undefined"==typeof navigator?(i.prototype.am=s,n=28):"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=function(e,t,r,n,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var l=32767&this.data[e],p=this.data[e++]>>15,c=s*l+p*a;o=((l=a*l+((32767&c)<<15)+r.data[n]+(1073741823&o))>>>30)+(c>>>15)+s*p+(o>>>30),r.data[n++]=1073741823&l}return o},n=30):"Netscape"!=navigator.appName?(i.prototype.am=function(e,t,r,n,o,i){for(;--i>=0;){var a=t*this.data[e++]+r.data[n]+o;o=Math.floor(a/67108864),r.data[n++]=67108863&a}return o},n=26):(i.prototype.am=s,n=28),i.prototype.DB=n,i.prototype.DM=(1<<n)-1,i.prototype.DV=1<<n;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-n,i.prototype.F2=2*n-52;var l,p,c=new Array;for(l="0".charCodeAt(0),p=0;p<=9;++p)c[l++]=p;for(l="a".charCodeAt(0),p=10;p<36;++p)c[l++]=p;for(l="A".charCodeAt(0),p=10;p<36;++p)c[l++]=p;function u(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var r=c[e.charCodeAt(t)];return null==r?-1:r}function h(e){var t=a();return t.fromInt(e),t}function f(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function g(e){this.m=e}function m(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function y(e,t){return e&t}function v(e,t){return e|t}function b(e,t){return e^t}function E(e,t){return e&~t}function _(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function O(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function w(){}function S(e){return e}function T(e){this.r2=a(),this.q3=a(),i.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}g.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},g.prototype.revert=function(e){return e},g.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},g.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},m.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(i.ZERO)>0&&this.m.subTo(t,t),t},m.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},m.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},i.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},i.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},i.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,o=!1,a=0;--n>=0;){var s=8==r?255&e[n]:d(e,n);s<0?"-"==e.charAt(n)&&(o=!0):(o=!1,0==a?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},i.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},i.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},i.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,o=this.DB-n,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>o|s,s=(this.data[r]&i)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},i.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,o=this.DB-n,i=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&i)<<o,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&i)<<o),t.t=this.t-r,t.clamp()}},i.prototype.subTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},i.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),o=r.t;for(t.t=o+n.t;--o>=0;)t.data[o]=0;for(o=0;o<n.t;++o)t.data[o+r.t]=r.am(0,n.data[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&i.ZERO.subTo(t,t)},i.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},i.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var s=a(),l=this.s,p=e.s,c=this.DB-f(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),o.lShiftTo(c,r)):(n.copyTo(s),o.copyTo(r));var u=s.t,d=s.data[u-1];if(0!=d){var h=d*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),g=this.FV/h,m=(1<<this.F1)/h,y=1<<this.F2,v=r.t,b=v-u,E=null==t?a():t;for(s.dlShiftTo(b,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),i.ONE.dlShiftTo(u,E),E.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--b>=0;){var _=r.data[--v]==d?this.DM:Math.floor(r.data[v]*g+(r.data[v-1]+y)*m);if((r.data[v]+=s.am(0,_,r,b,0,u))<_)for(s.dlShiftTo(b,E),r.subTo(E,r);r.data[v]<--_;)r.subTo(E,r)}null!=t&&(r.drShiftTo(u,t),l!=p&&i.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),l<0&&i.ZERO.subTo(r,r)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},i.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},i.prototype.exp=function(e,t){if(e>4294967295||e<1)return i.ONE;var r=a(),n=a(),o=t.convert(this),s=f(e)-1;for(o.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,o,r);else{var l=r;r=n,n=l}return t.revert(r)},i.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(o=!0,i=u(r));a>=0;)s<t?(r=(this.data[a]&(1<<s)-1)<<t-s,r|=this.data[--a]>>(s+=this.DB-t)):(r=this.data[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(o=!0),o&&(i+=u(r));return o?i:"0"},i.prototype.negate=function(){var e=a();return i.ZERO.subTo(this,e),e},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+f(this.data[this.t-1]^this.s&this.DM)},i.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(i.ZERO)>0&&e.subTo(t,t),t},i.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new g(t):new m(t),this.exp(e,r)},i.ZERO=h(0),i.ONE=h(1),w.prototype.convert=S,w.prototype.revert=S,w.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},T.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var A=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],C=(1<<26)/A[A.length-1];i.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},i.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=h(r),o=a(),i=a(),s="";for(this.divRemTo(n,o,i);o.signum()>0;)s=(r+i.intValue()).toString(e).substr(1)+s,o.divRemTo(n,o,i);return i.intValue().toString(e)+s},i.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),o=!1,a=0,s=0,l=0;l<e.length;++l){var p=d(e,l);p<0?"-"==e.charAt(l)&&0==this.signum()&&(o=!0):(s=t*s+p,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),o&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(i.ONE.shiftLeft(e-1),v,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(i.ONE.shiftLeft(e-1),this);else{var n=new Array,o=7&e;n.length=1+(e>>3),t.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}},i.prototype.bitwiseTo=function(e,t,r){var n,o,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(o=e.s&this.DM,n=i;n<this.t;++n)r.data[n]=t(this.data[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=i;n<e.t;++n)r.data[n]=t(o,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},i.prototype.changeBit=function(e,t){var r=i.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},i.prototype.addTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},i.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},i.prototype.multiplyLowerTo=function(e,t,r){var n,o=Math.min(this.t+e.t,t);for(r.s=0,r.t=o;o>0;)r.data[--o]=0;for(n=r.t-this.t;o<n;++o)r.data[o+this.t]=this.am(0,e.data[o],r,o,0,this.t);for(n=Math.min(e.t,t);o<n;++o)this.am(0,e.data[o],r,o,0,t-o);r.clamp()},i.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},i.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},i.prototype.millerRabin=function(e){var t=this.subtract(i.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,o=t.shiftRight(r),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},s=0;s<e;++s){do{n=new i(this.bitLength(),a)}while(n.compareTo(i.ONE)<=0||n.compareTo(t)>=0);var l=n.modPow(o,this);if(0!=l.compareTo(i.ONE)&&0!=l.compareTo(t)){for(var p=1;p++<r&&0!=l.compareTo(t);)if(0==(l=l.modPowInt(2,this)).compareTo(i.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0},i.prototype.clone=function(){var e=a();return this.copyTo(e),e},i.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},i.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},i.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},i.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,o=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[o++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(t[o++]=r);return t},i.prototype.equals=function(e){return 0==this.compareTo(e)},i.prototype.min=function(e){return this.compareTo(e)<0?this:e},i.prototype.max=function(e){return this.compareTo(e)>0?this:e},i.prototype.and=function(e){var t=a();return this.bitwiseTo(e,y,t),t},i.prototype.or=function(e){var t=a();return this.bitwiseTo(e,v,t),t},i.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,b,t),t},i.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,E,t),t},i.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},i.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},i.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},i.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+_(this.data[e]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=O(this.data[r]^t);return e},i.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},i.prototype.setBit=function(e){return this.changeBit(e,v)},i.prototype.clearBit=function(e){return this.changeBit(e,E)},i.prototype.flipBit=function(e){return this.changeBit(e,b)},i.prototype.add=function(e){var t=a();return this.addTo(e,t),t},i.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},i.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},i.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},i.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},i.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},i.prototype.modPow=function(e,t){var r,n,o=e.bitLength(),i=h(1);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new g(t):t.isEven()?new T(t):new m(t);var s=new Array,l=3,p=r-1,c=(1<<r)-1;if(s[1]=n.convert(this),r>1){var u=a();for(n.sqrTo(s[1],u);l<=c;)s[l]=a(),n.mulTo(u,s[l-2],s[l]),l+=2}var d,y,v=e.t-1,b=!0,E=a();for(o=f(e.data[v])-1;v>=0;){for(o>=p?d=e.data[v]>>o-p&c:(d=(e.data[v]&(1<<o+1)-1)<<p-o,v>0&&(d|=e.data[v-1]>>this.DB+o-p)),l=r;0==(1&d);)d>>=1,--l;if((o-=l)<0&&(o+=this.DB,--v),b)s[d].copyTo(i),b=!1;else{for(;l>1;)n.sqrTo(i,E),n.sqrTo(E,i),l-=2;l>0?n.sqrTo(i,E):(y=i,i=E,E=y),n.mulTo(E,s[d],i)}for(;v>=0&&0==(e.data[v]&1<<o);)n.sqrTo(i,E),y=i,i=E,E=y,--o<0&&(o=this.DB-1,--v)}return n.revert(i)},i.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return i.ZERO;for(var r=e.clone(),n=this.clone(),o=h(1),a=h(0),s=h(0),l=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);r.compareTo(n)>=0?(r.subTo(n,r),t&&o.subTo(s,o),a.subTo(l,a)):(n.subTo(r,n),t&&s.subTo(o,s),l.subTo(a,l))}return 0!=n.compareTo(i.ONE)?i.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l},i.prototype.pow=function(e){return this.exp(e,new w)},i.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var o=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(o<i&&(i=o),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},i.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=A[A.length-1]){for(t=0;t<A.length;++t)if(r.data[0]==A[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<A.length;){for(var n=A[t],o=t+1;o<A.length&&n<C;)n*=A[o++];for(n=r.modInt(n);t<o;)if(n%A[t++]==0)return!1}return r.millerRabin(e)}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.TenantAwareAuthRequestHandler=t.AuthRequestHandler=t.AbstractAuthRequestHandler=t.FIREBASE_AUTH_SIGN_UP_NEW_USER=t.FIREBASE_AUTH_SET_ACCOUNT_INFO=t.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=t.FIREBASE_AUTH_DELETE_ACCOUNT=t.FIREBASE_AUTH_GET_ACCOUNTS_INFO=t.FIREBASE_AUTH_GET_ACCOUNT_INFO=t.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=t.FIREBASE_AUTH_UPLOAD_ACCOUNT=t.FIREBASE_AUTH_CREATE_SESSION_COOKIE=t.EMAIL_ACTION_REQUEST_TYPES=t.RESERVED_CLAIMS=void 0,t.useEmulator=G;const n=r(4),o=r(26),i=r(2),a=r(27),s=r(9),l=r(514),p=r(515),c=r(172),u=r(289),d=r(126),h=r(173),f={"X-Client-Version":"Node/Admin/"+s.getSdkVersion()};t.RESERVED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce","sub","firebase"],t.EMAIL_ACTION_REQUEST_TYPES=["PASSWORD_RESET","VERIFY_EMAIL","EMAIL_SIGNIN","VERIFY_AND_CHANGE_EMAIL"];const g="https://identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}".replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}"),m="http://{host}/identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}".replace("projects/{projectId}","projects/{projectId}/tenants/{tenantId}");var y;!function(e){e.Create="create",e.Update="update",e.Upload="upload"}(y||(y={}));class v{constructor(e,t="v1"){this.app=e,this.version=t,G()?this.urlFormat=s.formatString("http://{host}/identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}",{host:q()}):this.urlFormat="https://identitytoolkit.googleapis.com/{version}/projects/{projectId}{api}"}getUrl(e,t){return this.getProjectId().then(r=>{const n={version:this.version,projectId:r,api:e||""},o=s.formatString(this.urlFormat,n);return s.formatString(o,t||{})})}getProjectId(){return this.projectId?Promise.resolve(this.projectId):s.findProjectId(this.app).then(e=>{if(!n.isNonEmptyString(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CREDENTIAL,"Failed to determine project ID for Auth. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=e,e})}}class b extends v{constructor(e,t,r){super(e,t),this.app=e,this.version=t,this.tenantId=r,G()?this.urlFormat=s.formatString(m,{host:q()}):this.urlFormat=g}getUrl(e,t){return super.getUrl(e,t).then(e=>s.formatString(e,{tenantId:this.tenantId}))}}class E extends a.AuthorizedHttpClient{getToken(){return G()?Promise.resolve("owner"):super.getToken()}}function _(e){const t={rawId:!0,providerId:!0,email:!0,displayName:!0,photoUrl:!0};for(const r in e)r in t||delete e[r];if(!n.isNonEmptyString(e.providerId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID);if(void 0!==e.displayName&&"string"!=typeof e.displayName)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_DISPLAY_NAME,`The provider "displayName" for "${e.providerId}" must be a valid string.`);if(!n.isNonEmptyString(e.rawId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID,`The provider "uid" for "${e.providerId}" must be a valid non-empty string.`);if(void 0!==e.email&&!n.isEmail(e.email))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_EMAIL,`The provider "email" for "${e.providerId}" must be a valid email string.`);if(void 0!==e.photoUrl&&!n.isURL(e.photoUrl))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PHOTO_URL,`The provider "photoURL" for "${e.providerId}" must be a valid URL string.`)}function O(e,r){const o=r===y.Upload,a={displayName:!0,localId:!0,email:!0,password:!0,rawPassword:!0,emailVerified:!0,photoUrl:!0,disabled:!0,disableUser:!0,deleteAttribute:!0,deleteProvider:!0,sanityCheck:!0,phoneNumber:!0,customAttributes:!0,validSince:!0,linkProviderUserInfo:!o,tenantId:o,passwordHash:o,salt:o,createdAt:o,lastLoginAt:o,providerUserInfo:o,mfaInfo:o,mfa:!o};for(const t in e)t in a||delete e[t];if(void 0!==e.tenantId&&!n.isNonEmptyString(e.tenantId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TENANT_ID);if(void 0!==e.displayName&&!n.isString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_DISPLAY_NAME);if((void 0!==e.localId||o)&&!n.isUid(e.localId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID);if(void 0!==e.email&&!n.isEmail(e.email))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_EMAIL);if(void 0!==e.phoneNumber&&!n.isPhoneNumber(e.phoneNumber))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PHONE_NUMBER);if(void 0!==e.password&&!n.isPassword(e.password))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PASSWORD);if(void 0!==e.rawPassword&&!n.isPassword(e.rawPassword))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PASSWORD);if(void 0!==e.emailVerified&&"boolean"!=typeof e.emailVerified)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_EMAIL_VERIFIED);if(void 0!==e.photoUrl&&!n.isURL(e.photoUrl))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PHOTO_URL);if(void 0!==e.disabled&&"boolean"!=typeof e.disabled)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(void 0!==e.validSince&&!n.isNumber(e.validSince))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TOKENS_VALID_AFTER_TIME);if(void 0!==e.createdAt&&!n.isNumber(e.createdAt))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CREATION_TIME);if(void 0!==e.lastLoginAt&&!n.isNumber(e.lastLoginAt))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_LAST_SIGN_IN_TIME);if(void 0!==e.disableUser&&"boolean"!=typeof e.disableUser)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_DISABLED_FIELD);if(void 0!==e.customAttributes){let r;try{r=JSON.parse(e.customAttributes)}catch(e){throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CLAIMS,e.message)}const n=[];if(t.RESERVED_CLAIMS.forEach(e=>{Object.prototype.hasOwnProperty.call(r,e)&&n.push(e)}),n.length>0)throw new i.FirebaseAuthError(i.AuthClientErrorCode.FORBIDDEN_CLAIM,n.length>1?`Developer claims "${n.join('", "')}" are reserved and cannot be specified.`:`Developer claim "${n[0]}" is reserved and cannot be specified.`);if(e.customAttributes.length>1e3)throw new i.FirebaseAuthError(i.AuthClientErrorCode.CLAIMS_TOO_LARGE,"Developer claims payload should not exceed 1000 characters.")}if(void 0!==e.passwordHash&&!n.isString(e.passwordHash))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PASSWORD_HASH);if(void 0!==e.salt&&!n.isString(e.salt))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PASSWORD_SALT);if(void 0!==e.providerUserInfo&&!n.isArray(e.providerUserInfo))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_DATA);n.isArray(e.providerUserInfo)&&e.providerUserInfo.forEach(e=>{_(e)}),void 0!==e.linkProviderUserInfo&&_(e.linkProviderUserInfo);let s=null;if(e.mfaInfo?s=e.mfaInfo:e.mfa&&e.mfa.enrollments&&(s=e.mfa.enrollments),s){if(!n.isArray(s))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ENROLLED_FACTORS);s.forEach(e=>{!function(e){const t={mfaEnrollmentId:!0,displayName:!0,phoneInfo:!0,enrolledAt:!0};for(const r in e)r in t||delete e[r];const r=e.mfaEnrollmentId||e.phoneInfo||JSON.stringify(e);if(void 0!==e.mfaEnrollmentId&&!n.isNonEmptyString(e.mfaEnrollmentId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID,'The second factor "uid" must be a valid non-empty string.');if(void 0!==e.displayName&&!n.isString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_DISPLAY_NAME,`The second factor "displayName" for "${r}" must be a valid string.`);if(void 0!==e.enrolledAt&&!n.isISODateString(e.enrolledAt))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,`The second factor "enrollmentTime" for "${r}" must be a valid UTC date string.`);if(void 0===e.phoneInfo)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ENROLLED_FACTORS,"MFAInfo object provided is invalid.");if(!n.isPhoneNumber(e.phoneInfo))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PHONE_NUMBER,`The second factor "phoneNumber" for "${r}" must be a non-empty E.164 standard compliant identifier string.`)}(e)})}}t.FIREBASE_AUTH_CREATE_SESSION_COOKIE=new a.ApiSettings(":createSessionCookie","POST").setRequestValidator(e=>{if(!n.isNonEmptyString(e.idToken))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ID_TOKEN);if(!n.isNumber(e.validDuration)||e.validDuration<300||e.validDuration>1209600)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)}).setResponseValidator(e=>{if(!n.isNonEmptyString(e.sessionCookie))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR)}),t.FIREBASE_AUTH_UPLOAD_ACCOUNT=new a.ApiSettings("/accounts:batchCreate","POST"),t.FIREBASE_AUTH_DOWNLOAD_ACCOUNT=new a.ApiSettings("/accounts:batchGet","GET").setRequestValidator(e=>{if(void 0!==e.nextPageToken&&!n.isNonEmptyString(e.nextPageToken))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!n.isNumber(e.maxResults)||e.maxResults<=0||e.maxResults>1e3)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed 1000.')}),t.FIREBASE_AUTH_GET_ACCOUNT_INFO=new a.ApiSettings("/accounts:lookup","POST").setRequestValidator(e=>{if(!(e.localId||e.email||e.phoneNumber||e.federatedUserId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}).setResponseValidator(e=>{if(!e.users||!e.users.length)throw new i.FirebaseAuthError(i.AuthClientErrorCode.USER_NOT_FOUND)}),t.FIREBASE_AUTH_GET_ACCOUNTS_INFO=new a.ApiSettings("/accounts:lookup","POST").setRequestValidator(e=>{if(!(e.localId||e.email||e.phoneNumber||e.federatedUserId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}),t.FIREBASE_AUTH_DELETE_ACCOUNT=new a.ApiSettings("/accounts:delete","POST").setRequestValidator(e=>{if(!e.localId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier")}),t.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS=new a.ApiSettings("/accounts:batchDelete","POST").setRequestValidator(e=>{if(!e.localIds)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifiers");if(void 0===e.force||!0!==e.force)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing force=true field")}).setResponseValidator(e=>{(e.errors||[]).forEach(e=>{if(void 0===e.index)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.index field");if(!e.localId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server BatchDeleteAccountResponse is missing an errors.localId field")})}),t.FIREBASE_AUTH_SET_ACCOUNT_INFO=new a.ApiSettings("/accounts:update","POST").setRequestValidator(e=>{if(void 0===e.localId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Server request is missing user identifier");if(void 0!==e.tenantId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "UpdateRequest" property.');O(e,y.Update)}).setResponseValidator(e=>{if(!e.localId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.USER_NOT_FOUND)}),t.FIREBASE_AUTH_SIGN_UP_NEW_USER=new a.ApiSettings("/accounts","POST").setRequestValidator(e=>{if(void 0!==e.customAttributes)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"customAttributes" cannot be set when creating a new user.');if(void 0!==e.validSince)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"validSince" cannot be set when creating a new user.');if(void 0!==e.tenantId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"tenantId" is an invalid "CreateRequest" property.');O(e,y.Create)}).setResponseValidator(e=>{if(!e.localId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new user")});const w=new a.ApiSettings("/accounts:sendOobCode","POST").setRequestValidator(e=>{if(!n.isEmail(e.email))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_EMAIL);if(void 0!==e.newEmail&&!n.isEmail(e.newEmail))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_NEW_EMAIL);if(-1===t.EMAIL_ACTION_REQUEST_TYPES.indexOf(e.requestType))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,`"${e.requestType}" is not a supported email action request type.`)}).setResponseValidator(e=>{if(!e.oobLink)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create the email action link")}),S=new a.ApiSettings("/oauthIdpConfigs/{providerId}","GET").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get OIDC configuration")}),T=new a.ApiSettings("/oauthIdpConfigs/{providerId}","DELETE"),A=new a.ApiSettings("/oauthIdpConfigs?oauthIdpConfigId={providerId}","POST").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC configuration")}),C=new a.ApiSettings("/oauthIdpConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC configuration")}),I=new a.ApiSettings("/oauthIdpConfigs","GET").setRequestValidator(e=>{if(void 0!==e.pageToken&&!n.isNonEmptyString(e.pageToken))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!n.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>100)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed 100.')}),N=new a.ApiSettings("/inboundSamlConfigs/{providerId}","GET").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get SAML configuration")}),P=new a.ApiSettings("/inboundSamlConfigs/{providerId}","DELETE"),R=new a.ApiSettings("/inboundSamlConfigs?inboundSamlConfigId={providerId}","POST").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML configuration")}),D=new a.ApiSettings("/inboundSamlConfigs/{providerId}?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML configuration")}),k=new a.ApiSettings("/inboundSamlConfigs","GET").setRequestValidator(e=>{if(void 0!==e.pageToken&&!n.isNonEmptyString(e.pageToken))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!n.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>100)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive integer that does not exceed 100.')});class x{static getErrorCode(e){return n.isNonNullObject(e)&&e.error&&e.error.message||null}static addUidToRequest(e,t){if(!n.isUid(e.uid))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID);return t.localId?t.localId.push(e.uid):t.localId=[e.uid],t}static addEmailToRequest(e,t){if(!n.isEmail(e.email))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_EMAIL);return t.email?t.email.push(e.email):t.email=[e.email],t}static addPhoneToRequest(e,t){if(!n.isPhoneNumber(e.phoneNumber))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PHONE_NUMBER);return t.phoneNumber?t.phoneNumber.push(e.phoneNumber):t.phoneNumber=[e.phoneNumber],t}static addProviderToRequest(e,t){if(!n.isNonEmptyString(e.providerId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID);if(!n.isNonEmptyString(e.providerUid))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_UID);const r={providerId:e.providerId,rawId:e.providerUid};return t.federatedUserId?t.federatedUserId.push(r):t.federatedUserId=[r],t}constructor(e){if(this.app=e,"object"!=typeof e||null===e||!("options"in e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.auth() must be a valid Firebase app instance.");this.httpClient=new E(e)}createSessionCookie(e,r){const n={idToken:e,validDuration:Math.floor(r/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_CREATE_SESSION_COOKIE,n).then(e=>e.sessionCookie)}getAccountInfoByUid(e){if(!n.isUid(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID));const r={localId:[e]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)}getAccountInfoByEmail(e){if(!n.isEmail(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_EMAIL));const r={email:[e]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)}getAccountInfoByPhoneNumber(e){if(!n.isPhoneNumber(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PHONE_NUMBER));const r={phoneNumber:[e]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,r)}getAccountInfoByFederatedUid(e,r){if(!n.isNonEmptyString(e)||!n.isNonEmptyString(r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID);const o={federatedUserId:[{providerId:e,rawId:r}]};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNT_INFO,o)}getAccountInfoByIdentifiers(e){if(0===e.length)return Promise.resolve({users:[]});if(e.length>100)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`identifiers` parameter must have <= 100 entries.");let r={};for(const t of e)if((0,u.isUidIdentifier)(t))r=x.addUidToRequest(t,r);else if((0,u.isEmailIdentifier)(t))r=x.addEmailToRequest(t,r);else if((0,u.isPhoneIdentifier)(t))r=x.addPhoneToRequest(t,r);else{if(!(0,u.isProviderIdentifier)(t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"Unrecognized identifier: "+t);r=x.addProviderToRequest(t,r)}return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_GET_ACCOUNTS_INFO,r)}downloadAccount(e=1e3,r){const n={maxResults:e,nextPageToken:r};return void 0===n.nextPageToken&&delete n.nextPageToken,this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_DOWNLOAD_ACCOUNT,n).then(e=>(e.users||(e.users=[]),e))}uploadAccount(e,r){const o=new l.UserImportBuilder(e,r,e=>{O(e,y.Upload)}),a=o.buildRequest();if(n.isArray(e)&&e.length>1e3)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"A maximum of 1000 users can be imported at once.");return a.users&&0!==a.users.length?this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_UPLOAD_ACCOUNT,a).then(e=>{const t=e.error||[];return o.buildResponse(t)}):Promise.resolve(o.buildResponse([]))}deleteAccount(e){if(!n.isUid(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID));const r={localId:e};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_DELETE_ACCOUNT,r)}deleteAccounts(e,r){if(0===e.length)return Promise.resolve({});if(e.length>1e3)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MAXIMUM_USER_COUNT_EXCEEDED,"`uids` parameter must have <= 1000 entries.");const o={localIds:[],force:r};return e.forEach(e=>{if(!n.isUid(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID);o.localIds.push(e)}),this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_BATCH_DELETE_ACCOUNTS,o)}setCustomUserClaims(e,r){if(!n.isUid(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID));if(!n.isObject(r))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"CustomUserClaims argument must be an object or null."));null===r&&(r={});const o={localId:e,customAttributes:JSON.stringify(r)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SET_ACCOUNT_INFO,o).then(e=>e.localId)}updateExistingAccount(e,r){if(!n.isUid(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID));if(!n.isNonNullObject(r))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));if(n.isNonNullObject(r.providerToLink)){if(!n.isNonEmptyString(r.providerToLink.providerId))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.providerId of properties argument must be a non-empty string.");if(!n.isNonEmptyString(r.providerToLink.uid))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"providerToLink.uid of properties argument must be a non-empty string.")}else if(void 0!==r.providersToUnlink){if(!n.isArray(r.providersToUnlink))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.");r.providersToUnlink.forEach(e=>{if(!n.isNonEmptyString(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"providersToUnlink of properties argument must be an array of strings.")})}const a=(0,o.deepCopy)(r);a.localId=e;const s={displayName:"DISPLAY_NAME",photoURL:"PHOTO_URL"};a.deleteAttribute=[];for(const e in s)null===a[e]&&(a.deleteAttribute.push(s[e]),delete a[e]);if(0===a.deleteAttribute.length&&delete a.deleteAttribute,null===a.phoneNumber&&(a.deleteProvider?a.deleteProvider.push("phone"):a.deleteProvider=["phone"],delete a.phoneNumber),void 0!==a.providerToLink&&(a.linkProviderUserInfo=(0,o.deepCopy)(a.providerToLink),delete a.providerToLink,a.linkProviderUserInfo.rawId=a.linkProviderUserInfo.uid,delete a.linkProviderUserInfo.uid),void 0!==a.providersToUnlink&&(n.isArray(a.deleteProvider)||(a.deleteProvider=[]),a.deleteProvider=a.deleteProvider.concat(a.providersToUnlink),delete a.providersToUnlink),void 0!==a.photoURL&&(a.photoUrl=a.photoURL,delete a.photoURL),void 0!==a.disabled&&(a.disableUser=a.disabled,delete a.disabled),n.isNonNullObject(a.multiFactor)){if(null===a.multiFactor.enrolledFactors)a.mfa={};else if(n.isArray(a.multiFactor.enrolledFactors)){a.mfa={enrollments:[]};try{a.multiFactor.enrolledFactors.forEach(e=>{a.mfa.enrollments.push((0,l.convertMultiFactorInfoToServerFormat)(e))})}catch(e){return Promise.reject(e)}0===a.mfa.enrollments.length&&delete a.mfa.enrollments}delete a.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SET_ACCOUNT_INFO,a).then(e=>e.localId)}revokeRefreshTokens(e){if(!n.isUid(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_UID));const r={localId:e,validSince:Math.floor((new Date).getTime()/1e3)};return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SET_ACCOUNT_INFO,r).then(e=>e.localId)}createNewAccount(e){if(!n.isNonNullObject(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"Properties argument must be a non-null object."));const r=(0,o.deepCopy)(e);if(void 0!==r.photoURL&&(r.photoUrl=r.photoURL,delete r.photoURL),void 0!==r.uid&&(r.localId=r.uid,delete r.uid),n.isNonNullObject(r.multiFactor)){if(n.isNonEmptyArray(r.multiFactor.enrolledFactors)){const e=[];try{r.multiFactor.enrolledFactors.forEach(t=>{if("enrollmentTime"in t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"enrollmentTime" is not supported when adding second factors via "createUser()"');if("uid"in t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"uid" is not supported when adding second factors via "createUser()"');e.push((0,l.convertMultiFactorInfoToServerFormat)(t))})}catch(e){return Promise.reject(e)}r.mfaInfo=e}delete r.multiFactor}return this.invokeRequestHandler(this.getAuthUrlBuilder(),t.FIREBASE_AUTH_SIGN_UP_NEW_USER,r).then(e=>e.localId)}getEmailActionLink(e,t,r,n){let a={requestType:e,email:t,returnOobLink:!0,...void 0!==n&&{newEmail:n}};if(void 0===r&&"EMAIL_SIGNIN"===e)return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"`actionCodeSettings` is required when `requestType` === 'EMAIL_SIGNIN'"));if(void 0!==r||"EMAIL_SIGNIN"===e)try{const e=new p.ActionCodeSettingsBuilder(r);a=(0,o.deepExtend)(a,e.buildRequest())}catch(e){return Promise.reject(e)}return"VERIFY_AND_CHANGE_EMAIL"===e&&void 0===n?Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,"`newEmail` is required when `requestType` === 'VERIFY_AND_CHANGE_EMAIL'")):this.invokeRequestHandler(this.getAuthUrlBuilder(),w,a).then(e=>e.oobLink)}getOAuthIdpConfig(e){return d.OIDCConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),S,{},{providerId:e}):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID))}listOAuthIdpConfigs(e=100,t){const r={pageSize:e};return void 0!==t&&(r.pageToken=t),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),I,r).then(e=>(e.oauthIdpConfigs||(e.oauthIdpConfigs=[],delete e.nextPageToken),e))}deleteOAuthIdpConfig(e){return d.OIDCConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),T,{},{providerId:e}).then(()=>{}):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID))}createOAuthIdpConfig(e){let t;try{t=d.OIDCConfig.buildServerRequest(e)||{}}catch(e){return Promise.reject(e)}const r=e.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),A,t,{providerId:r}).then(e=>{if(!d.OIDCConfig.getProviderIdFromResourceName(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new OIDC provider configuration");return e})}updateOAuthIdpConfig(e,t){if(!d.OIDCConfig.isProviderId(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID));let r;try{r=d.OIDCConfig.buildServerRequest(t,!0)||{}}catch(e){return Promise.reject(e)}const n=s.generateUpdateMask(r);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),C,r,{providerId:e,updateMask:n.join(",")}).then(e=>{if(!d.OIDCConfig.getProviderIdFromResourceName(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update OIDC provider configuration");return e})}getInboundSamlConfig(e){return d.SAMLConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),N,{},{providerId:e}):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID))}listInboundSamlConfigs(e=100,t){const r={pageSize:e};return void 0!==t&&(r.pageToken=t),this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),k,r).then(e=>(e.inboundSamlConfigs||(e.inboundSamlConfigs=[],delete e.nextPageToken),e))}deleteInboundSamlConfig(e){return d.SAMLConfig.isProviderId(e)?this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),P,{},{providerId:e}).then(()=>{}):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID))}createInboundSamlConfig(e){let t;try{t=d.SAMLConfig.buildServerRequest(e)||{}}catch(e){return Promise.reject(e)}const r=e.providerId;return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),R,t,{providerId:r}).then(e=>{if(!d.SAMLConfig.getProviderIdFromResourceName(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new SAML provider configuration");return e})}updateInboundSamlConfig(e,t){if(!d.SAMLConfig.isProviderId(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID));let r;try{r=d.SAMLConfig.buildServerRequest(t,!0)||{}}catch(e){return Promise.reject(e)}const n=s.generateUpdateMask(r);return this.invokeRequestHandler(this.getProjectConfigUrlBuilder(),D,r,{providerId:e,updateMask:n.join(",")}).then(e=>{if(!d.SAMLConfig.getProviderIdFromResourceName(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update SAML provider configuration");return e})}invokeRequestHandler(e,t,r,n){return e.getUrl(t.getEndpoint(),n).then(e=>{if(r){t.getRequestValidator()(r)}const n={method:t.getHttpMethod(),url:e,headers:f,data:r,timeout:25e3};return this.httpClient.send(n)}).then(e=>(t.getResponseValidator()(e.data),e.data)).catch(e=>{if(e instanceof a.RequestResponseError){const t=e.response.data,r=x.getErrorCode(t);if(!r)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+t+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.");throw i.FirebaseAuthError.fromServerError(r,void 0,t)}throw e})}getAuthUrlBuilder(){return this.authUrlBuilder||(this.authUrlBuilder=this.newAuthUrlBuilder()),this.authUrlBuilder}getProjectConfigUrlBuilder(){return this.projectConfigUrlBuilder||(this.projectConfigUrlBuilder=this.newProjectConfigUrlBuilder()),this.projectConfigUrlBuilder}}t.AbstractAuthRequestHandler=x;const j=new a.ApiSettings("/config","GET").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get project config")}),L=new a.ApiSettings("/config?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update project config")}),F=new a.ApiSettings("/tenants/{tenantId}","GET").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to get tenant")}),M=new a.ApiSettings("/tenants/{tenantId}","DELETE"),U=new a.ApiSettings("/tenants/{tenantId}?updateMask={updateMask}","PATCH").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name)||!c.Tenant.getTenantIdFromResourceName(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to update tenant")}),B=new a.ApiSettings("/tenants","GET").setRequestValidator(e=>{if(void 0!==e.pageToken&&!n.isNonEmptyString(e.pageToken))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PAGE_TOKEN);if(!n.isNumber(e.pageSize)||e.pageSize<=0||e.pageSize>1e3)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'Required "maxResults" must be a positive non-zero number that does not exceed the allowed 1000.')}),V=new a.ApiSettings("/tenants","POST").setResponseValidator(e=>{if(!n.isNonEmptyString(e.name)||!c.Tenant.getTenantIdFromResourceName(e.name))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Unable to create new tenant")});t.AuthRequestHandler=class extends x{constructor(e){super(e),this.authResourceUrlBuilder=new v(e,"v2")}newAuthUrlBuilder(){return new v(this.app,"v1")}newProjectConfigUrlBuilder(){return new v(this.app,"v2")}getProjectConfig(){return this.invokeRequestHandler(this.authResourceUrlBuilder,j,{},{}).then(e=>e)}updateProjectConfig(e){try{const t=h.ProjectConfig.buildServerRequest(e),r=s.generateUpdateMask(t);return this.invokeRequestHandler(this.authResourceUrlBuilder,L,t,{updateMask:r.join(",")}).then(e=>e)}catch(e){return Promise.reject(e)}}getTenant(e){return n.isNonEmptyString(e)?this.invokeRequestHandler(this.authResourceUrlBuilder,F,{},{tenantId:e}).then(e=>e):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TENANT_ID))}listTenants(e=1e3,t){const r={pageSize:e,pageToken:t};return void 0===r.pageToken&&delete r.pageToken,this.invokeRequestHandler(this.authResourceUrlBuilder,B,r).then(e=>(e.tenants||(e.tenants=[],delete e.nextPageToken),e))}deleteTenant(e){return n.isNonEmptyString(e)?this.invokeRequestHandler(this.authResourceUrlBuilder,M,void 0,{tenantId:e}).then(()=>{}):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TENANT_ID))}createTenant(e){try{const t=c.Tenant.buildServerRequest(e,!0);return this.invokeRequestHandler(this.authResourceUrlBuilder,V,t).then(e=>e)}catch(e){return Promise.reject(e)}}updateTenant(e,t){if(!n.isNonEmptyString(e))return Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TENANT_ID));try{const r=c.Tenant.buildServerRequest(t,!1),n=s.generateUpdateMask(r,["testPhoneNumbers"]);return this.invokeRequestHandler(this.authResourceUrlBuilder,U,r,{tenantId:e,updateMask:n.join(",")}).then(e=>e)}catch(e){return Promise.reject(e)}}};function q(){return process.env.FIREBASE_AUTH_EMULATOR_HOST}function G(){return!!q()}t.TenantAwareAuthRequestHandler=class extends x{constructor(e,t){super(e),this.tenantId=t}newAuthUrlBuilder(){return new b(this.app,"v1",this.tenantId)}newProjectConfigUrlBuilder(){return new b(this.app,"v2",this.tenantId)}uploadAccount(e,t){return e.forEach((e,t)=>{if(n.isNonEmptyString(e.tenantId)&&e.tenantId!==this.tenantId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MISMATCHING_TENANT_ID,`UserRecord of index "${t}" has mismatching tenant ID "${e.tenantId}"`)}),super.uploadAccount(e,t)}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.EmailPrivacyAuthConfig=t.PasswordPolicyAuthConfig=t.MobileLinksAuthConfig=t.RecaptchaAuthConfig=t.SmsRegionsAuthConfig=t.OIDCConfig=t.SAMLConfig=t.EmailSignInConfig=t.MultiFactorAuthConfig=t.MAXIMUM_TEST_PHONE_NUMBERS=void 0,t.validateTestPhoneNumbers=function(e){if(!n.isObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"testPhoneNumbers" must be a map of phone number / code pairs.');if(Object.keys(e).length>t.MAXIMUM_TEST_PHONE_NUMBERS)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MAXIMUM_TEST_PHONE_NUMBER_EXCEEDED);for(const t in e){if(!n.isPhoneNumber(t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,`"${t}" is not a valid E.164 standard compliant phone number.`);if(!n.isString(e[t])||!/^[\d]{6}$/.test(e[t]))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TESTING_PHONE_NUMBER,`"${e[t]}" is not a valid 6 digit code string.`)}};const n=r(4),o=r(26),i=r(2);t.MAXIMUM_TEST_PHONE_NUMBERS=10;const a={phone:"PHONE_SMS"},s=Object.keys(a).reduce((e,t)=>(e[a[t]]=t,e),{});class l{static buildServerRequest(e){const t={};return l.validate(e),Object.prototype.hasOwnProperty.call(e,"state")&&(t.state=e.state),Object.prototype.hasOwnProperty.call(e,"factorIds")&&((e.factorIds||[]).forEach(e=>{void 0===t.enabledProviders&&(t.enabledProviders=[]),t.enabledProviders.push(a[e])}),e.factorIds&&0===e.factorIds.length&&(t.enabledProviders=[])),Object.prototype.hasOwnProperty.call(e,"providerConfigs")&&(t.providerConfigs=e.providerConfigs),t}static validate(e){const t={state:!0,factorIds:!0,providerConfigs:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig" must be a non-null object.');for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid MultiFactorConfig parameter.`);if(void 0!==e.state&&"ENABLED"!==e.state&&"DISABLED"!==e.state)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.state" must be either "ENABLED" or "DISABLED".');if(void 0!==e.factorIds){if(!n.isArray(e.factorIds))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.factorIds" must be an array of valid "AuthFactorTypes".');e.factorIds.forEach(e=>{if(void 0===a[e])throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${e}" is not a valid "AuthFactorType".`)})}if(void 0!==e.providerConfigs){if(!n.isArray(e.providerConfigs))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs" must be an array of valid "MultiFactorProviderConfig."');e.providerConfigs.forEach(e=>{if(void 0===e||!n.isObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${e}" is not a valid "MultiFactorProviderConfig" type.`);const t={state:!0,totpProviderConfig:!0};for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid ProviderConfig parameter.`);if(void 0===e.state||"ENABLED"!==e.state&&"DISABLED"!==e.state)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs.state" must be either "ENABLED" or "DISABLED".');if(void 0===e.totpProviderConfig)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MultiFactorConfig.providerConfigs.totpProviderConfig" must be defined.');const r={adjacentIntervals:!0};for(const t in e.totpProviderConfig)if(!(t in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${t}" is not a valid TotpProviderConfig parameter.`);const o=e.totpProviderConfig.adjacentIntervals;if(void 0!==o&&(!Number.isInteger(o)||o<0||o>10))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"MultiFactorConfig.providerConfigs.totpProviderConfig.adjacentIntervals" must be a valid number between 0 and 10 (both inclusive).')})}}constructor(e){if(void 0===e.state)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.state=e.state,this.factorIds=[],(e.enabledProviders||[]).forEach(e=>{void 0!==s[e]&&this.factorIds.push(s[e])}),this.providerConfigs=[],(e.providerConfigs||[]).forEach(e=>{if(void 0!==e){if(void 0===e.state||void 0===e.totpProviderConfig||void 0!==e.totpProviderConfig.adjacentIntervals&&"number"!=typeof e.totpProviderConfig.adjacentIntervals)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor configuration response");this.providerConfigs.push(e)}})}toJSON(){return{state:this.state,factorIds:this.factorIds,providerConfigs:this.providerConfigs}}}t.MultiFactorAuthConfig=l;class p{static buildServerRequest(e){const t={};return p.validate(e),Object.prototype.hasOwnProperty.call(e,"enabled")&&(t.allowPasswordSignup=e.enabled),Object.prototype.hasOwnProperty.call(e,"passwordRequired")&&(t.enableEmailLinkSignin=!e.passwordRequired),t}static validate(e){const t={enabled:!0,passwordRequired:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig" must be a non-null object.');for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,`"${r}" is not a valid EmailSignInConfig parameter.`);if(void 0!==e.enabled&&!n.isBoolean(e.enabled))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.enabled" must be a boolean.');if(void 0!==e.passwordRequired&&!n.isBoolean(e.passwordRequired))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"EmailSignInConfig.passwordRequired" must be a boolean.')}constructor(e){if(void 0===e.allowPasswordSignup)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid email sign-in configuration response");this.enabled=e.allowPasswordSignup,this.passwordRequired=!e.enableEmailLinkSignin}toJSON(){return{enabled:this.enabled,passwordRequired:this.passwordRequired}}}t.EmailSignInConfig=p;class c{static buildServerRequest(e,t=!1){if(!(n.isNonNullObject(e)&&(e.providerId||t)))return null;const r={};if(c.validate(e,t),r.enabled=e.enabled,r.displayName=e.displayName,(e.idpEntityId||e.ssoURL||e.x509Certificates)&&(r.idpConfig={idpEntityId:e.idpEntityId,ssoUrl:e.ssoURL,signRequest:e.enableRequestSigning,idpCertificates:void 0===e.x509Certificates?void 0:[]},e.x509Certificates))for(const t of e.x509Certificates||[])r.idpConfig.idpCertificates.push({x509Certificate:t});return(e.callbackURL||e.rpEntityId)&&(r.spConfig={spEntityId:e.rpEntityId,callbackUri:e.callbackURL}),r}static getProviderIdFromResourceName(e){const t=e.match(/\/inboundSamlConfigs\/(saml\..*)$/);return!t||t.length<2?null:t[1]}static isProviderId(e){return n.isNonEmptyString(e)&&0===e.indexOf("saml.")}static validate(e,t=!1){const r={enabled:!0,displayName:!0,providerId:!0,idpEntityId:!0,ssoURL:!0,x509Certificates:!0,rpEntityId:!0,callbackURL:!0,enableRequestSigning:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig" must be a valid non-null object.');for(const t in e)if(!(t in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${t}" is not a valid SAML config parameter.`);if(n.isNonEmptyString(e.providerId)){if(0!==e.providerId.indexOf("saml."))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".')}else if(!t)throw new i.FirebaseAuthError(e.providerId?i.AuthClientErrorCode.INVALID_PROVIDER_ID:i.AuthClientErrorCode.MISSING_PROVIDER_ID,'"SAMLAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "saml.".');if(!(t&&void 0===e.idpEntityId||n.isNonEmptyString(e.idpEntityId)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.idpEntityId" must be a valid non-empty string.');if(!(t&&void 0===e.ssoURL||n.isURL(e.ssoURL)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.ssoURL" must be a valid URL string.');if(!(t&&void 0===e.rpEntityId||n.isNonEmptyString(e.rpEntityId)))throw new i.FirebaseAuthError(e.rpEntityId?i.AuthClientErrorCode.INVALID_CONFIG:i.AuthClientErrorCode.MISSING_SAML_RELYING_PARTY_CONFIG,'"SAMLAuthProviderConfig.rpEntityId" must be a valid non-empty string.');if(!(t&&void 0===e.callbackURL||n.isURL(e.callbackURL)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.callbackURL" must be a valid URL string.');if(!(t&&void 0===e.x509Certificates||n.isArray(e.x509Certificates)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.');if((e.x509Certificates||[]).forEach(e=>{if(!n.isNonEmptyString(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.x509Certificates" must be a valid array of X509 certificate strings.')}),void 0!==e.enableRequestSigning&&!n.isBoolean(e.enableRequestSigning))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enableRequestSigning" must be a boolean.');if(void 0!==e.enabled&&!n.isBoolean(e.enabled))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.enabled" must be a boolean.');if(void 0!==e.displayName&&!n.isString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SAMLAuthProviderConfig.displayName" must be a valid string.')}constructor(e){if(!(e&&e.idpConfig&&e.idpConfig.idpEntityId&&e.idpConfig.ssoUrl&&e.spConfig&&e.spConfig.spEntityId&&e.name&&n.isString(e.name)&&c.getProviderIdFromResourceName(e.name)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");const t=c.getProviderIdFromResourceName(e.name);if(!t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=t,this.rpEntityId=e.spConfig.spEntityId,this.callbackURL=e.spConfig.callbackUri,this.idpEntityId=e.idpConfig.idpEntityId,this.ssoURL=e.idpConfig.ssoUrl,this.enableRequestSigning=!!e.idpConfig.signRequest;const r=[];for(const t of e.idpConfig.idpCertificates||[])t.x509Certificate&&r.push(t.x509Certificate);this.x509Certificates=r,this.enabled=!!e.enabled,this.displayName=e.displayName}toJSON(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,idpEntityId:this.idpEntityId,ssoURL:this.ssoURL,x509Certificates:(0,o.deepCopy)(this.x509Certificates),rpEntityId:this.rpEntityId,callbackURL:this.callbackURL,enableRequestSigning:this.enableRequestSigning}}}t.SAMLConfig=c;class u{static buildServerRequest(e,t=!1){if(!(n.isNonNullObject(e)&&(e.providerId||t)))return null;const r={};return u.validate(e,t),r.enabled=e.enabled,r.displayName=e.displayName,r.issuer=e.issuer,r.clientId=e.clientId,void 0!==e.clientSecret&&(r.clientSecret=e.clientSecret),void 0!==e.responseType&&(r.responseType=e.responseType),r}static getProviderIdFromResourceName(e){const t=e.match(/\/oauthIdpConfigs\/(oidc\..*)$/);return!t||t.length<2?null:t[1]}static isProviderId(e){return n.isNonEmptyString(e)&&0===e.indexOf("oidc.")}static validate(e,t=!1){const r={enabled:!0,displayName:!0,providerId:!0,clientId:!0,issuer:!0,clientSecret:!0,responseType:!0},o={idToken:!0,code:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig" must be a valid non-null object.');for(const t in e)if(!(t in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${t}" is not a valid OIDC config parameter.`);if(n.isNonEmptyString(e.providerId)){if(0!==e.providerId.indexOf("oidc."))throw new i.FirebaseAuthError(e.providerId?i.AuthClientErrorCode.INVALID_PROVIDER_ID:i.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".')}else if(!t)throw new i.FirebaseAuthError(e.providerId?i.AuthClientErrorCode.INVALID_PROVIDER_ID:i.AuthClientErrorCode.MISSING_PROVIDER_ID,'"OIDCAuthProviderConfig.providerId" must be a valid non-empty string prefixed with "oidc.".');if(!(t&&void 0===e.clientId||n.isNonEmptyString(e.clientId)))throw new i.FirebaseAuthError(e.clientId?i.AuthClientErrorCode.INVALID_OAUTH_CLIENT_ID:i.AuthClientErrorCode.MISSING_OAUTH_CLIENT_ID,'"OIDCAuthProviderConfig.clientId" must be a valid non-empty string.');if(!(t&&void 0===e.issuer||n.isURL(e.issuer)))throw new i.FirebaseAuthError(e.issuer?i.AuthClientErrorCode.INVALID_CONFIG:i.AuthClientErrorCode.MISSING_ISSUER,'"OIDCAuthProviderConfig.issuer" must be a valid URL string.');if(void 0!==e.enabled&&!n.isBoolean(e.enabled))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.enabled" must be a boolean.');if(void 0!==e.displayName&&!n.isString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.displayName" must be a valid string.');if(void 0!==e.clientSecret&&!n.isNonEmptyString(e.clientSecret))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"OIDCAuthProviderConfig.clientSecret" must be a valid string.');if(n.isNonNullObject(e.responseType)&&void 0!==e.responseType){Object.keys(e.responseType).forEach(e=>{if(!(e in o))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${e}" is not a valid OAuthResponseType parameter.`)});const t=e.responseType.idToken;if(void 0!==t&&!n.isBoolean(t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"OIDCAuthProviderConfig.responseType.idToken" must be a boolean.');const r=e.responseType.code;if(void 0!==r){if(!n.isBoolean(r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"OIDCAuthProviderConfig.responseType.code" must be a boolean.');if(r&&void 0===e.clientSecret)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MISSING_OAUTH_CLIENT_SECRET,"The OAuth configuration client secret is required to enable OIDC code flow.")}const a=Object.keys(e.responseType).length,s=Object.values(e.responseType).filter(Boolean).length;if(a>1&&1!==s)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_OAUTH_RESPONSETYPE,"Only exactly one OAuth responseType should be set to true.")}}constructor(e){if(!(e&&e.issuer&&e.clientId&&e.name&&n.isString(e.name)&&u.getProviderIdFromResourceName(e.name)))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid OIDC configuration response");const t=u.getProviderIdFromResourceName(e.name);if(!t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid SAML configuration response");this.providerId=t,this.clientId=e.clientId,this.issuer=e.issuer,this.enabled=!!e.enabled,this.displayName=e.displayName,void 0!==e.clientSecret&&(this.clientSecret=e.clientSecret),void 0!==e.responseType&&(this.responseType=e.responseType)}toJSON(){return{enabled:this.enabled,displayName:this.displayName,providerId:this.providerId,issuer:this.issuer,clientId:this.clientId,clientSecret:(0,o.deepCopy)(this.clientSecret),responseType:(0,o.deepCopy)(this.responseType)}}}t.OIDCConfig=u;t.SmsRegionsAuthConfig=class{static validate(e){if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig" must be a non-null object.');const t={allowlistOnly:!0,allowByDefault:!0};for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid SmsRegionConfig parameter.`);if(void 0!==e.allowByDefault&&void 0!==e.allowlistOnly)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'SmsRegionConfig cannot have both "allowByDefault" and "allowlistOnly" parameters.');if(void 0!==e.allowByDefault){const t={disallowedRegions:!0};for(const r in e.allowByDefault)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid SmsRegionConfig.allowByDefault parameter.`);if(void 0!==e.allowByDefault.disallowedRegions&&!n.isArray(e.allowByDefault.disallowedRegions))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig.allowByDefault.disallowedRegions" must be a valid string array.')}if(void 0!==e.allowlistOnly){const t={allowedRegions:!0};for(const r in e.allowlistOnly)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid SmsRegionConfig.allowlistOnly parameter.`);if(void 0!==e.allowlistOnly.allowedRegions&&!n.isArray(e.allowlistOnly.allowedRegions))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"SmsRegionConfig.allowlistOnly.allowedRegions" must be a valid string array.')}}};class d{constructor(e){const t=Object.fromEntries(Object.entries(e).filter(([,e])=>void 0!==e));void 0!==t.tollFraudManagedRules&&(this.smsTollFraudManagedRules=t.tollFraudManagedRules,delete t.tollFraudManagedRules),Object.assign(this,t)}static buildServerRequest(e){d.validate(e);const t={};return void 0!==e.emailPasswordEnforcementState&&(t.emailPasswordEnforcementState=e.emailPasswordEnforcementState),void 0!==e.phoneEnforcementState&&(t.phoneEnforcementState=e.phoneEnforcementState),void 0!==e.managedRules&&(t.managedRules=e.managedRules),void 0!==e.recaptchaKeys&&(t.recaptchaKeys=e.recaptchaKeys),void 0!==e.useAccountDefender&&(t.useAccountDefender=e.useAccountDefender),void 0!==e.useSmsBotScore&&(t.useSmsBotScore=e.useSmsBotScore),void 0!==e.useSmsTollFraudProtection&&(t.useSmsTollFraudProtection=e.useSmsTollFraudProtection),void 0!==e.smsTollFraudManagedRules&&(t.tollFraudManagedRules=e.smsTollFraudManagedRules),t}static validate(e){const t={emailPasswordEnforcementState:!0,phoneEnforcementState:!0,managedRules:!0,recaptchaKeys:!0,useAccountDefender:!0,useSmsBotScore:!0,useSmsTollFraudProtection:!0,smsTollFraudManagedRules:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig" must be a non-null object.');for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid RecaptchaConfig parameter.`);if(void 0!==e.emailPasswordEnforcementState){if(!n.isNonEmptyString(e.emailPasswordEnforcementState))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"RecaptchaConfig.emailPasswordEnforcementState" must be a valid non-empty string.');if("OFF"!==e.emailPasswordEnforcementState&&"AUDIT"!==e.emailPasswordEnforcementState&&"ENFORCE"!==e.emailPasswordEnforcementState)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.emailPasswordEnforcementState" must be either "OFF", "AUDIT" or "ENFORCE".')}if(void 0!==e.phoneEnforcementState){if(!n.isNonEmptyString(e.phoneEnforcementState))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,'"RecaptchaConfig.phoneEnforcementState" must be a valid non-empty string.');if("OFF"!==e.phoneEnforcementState&&"AUDIT"!==e.phoneEnforcementState&&"ENFORCE"!==e.phoneEnforcementState)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.phoneEnforcementState" must be either "OFF", "AUDIT" or "ENFORCE".')}if(void 0!==e.managedRules){if(!n.isArray(e.managedRules))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.managedRules" must be an array of valid "RecaptchaManagedRule".');e.managedRules.forEach(e=>{d.validateManagedRule(e)})}if(void 0!==e.useAccountDefender&&!n.isBoolean(e.useAccountDefender))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useAccountDefender" must be a boolean value".');if(void 0!==e.useSmsBotScore&&!n.isBoolean(e.useSmsBotScore))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useSmsBotScore" must be a boolean value".');if(void 0!==e.useSmsTollFraudProtection&&!n.isBoolean(e.useSmsTollFraudProtection))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.useSmsTollFraudProtection" must be a boolean value".');if(void 0!==e.smsTollFraudManagedRules){if(!n.isArray(e.smsTollFraudManagedRules))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaConfig.smsTollFraudManagedRules" must be an array of valid "RecaptchaTollFraudManagedRule".');e.smsTollFraudManagedRules.forEach(e=>{d.validateTollFraudManagedRule(e)})}}static validateManagedRule(e){const t={endScore:!0,action:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaManagedRule" must be a non-null object.');for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid RecaptchaManagedRule parameter.`);if(void 0!==e.action&&"BLOCK"!==e.action)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaManagedRule.action" must be "BLOCK".')}static validateTollFraudManagedRule(e){const t={startScore:!0,action:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaTollFraudManagedRule" must be a non-null object.');for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid RecaptchaTollFraudManagedRule parameter.`);if(void 0!==e.action&&"BLOCK"!==e.action)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"RecaptchaTollFraudManagedRule.action" must be "BLOCK".')}}t.RecaptchaAuthConfig=d;t.MobileLinksAuthConfig=class{static validate(e){if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MobileLinksConfig" must be a non-null object.');const t={domain:!0};for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid "MobileLinksConfig" parameter.`);if(void 0!==e.domain&&"HOSTING_DOMAIN"!==e.domain&&"FIREBASE_DYNAMIC_LINK_DOMAIN"!==e.domain)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"MobileLinksConfig.domain" must be either "HOSTING_DOMAIN" or "FIREBASE_DYNAMIC_LINK_DOMAIN".')}};class h{static buildServerRequest(e){const t={};h.validate(e),Object.prototype.hasOwnProperty.call(e,"enforcementState")&&(t.passwordPolicyEnforcementState=e.enforcementState),t.forceUpgradeOnSignin=!1,Object.prototype.hasOwnProperty.call(e,"forceUpgradeOnSignin")&&(t.forceUpgradeOnSignin=e.forceUpgradeOnSignin);const r={containsUppercaseCharacter:!1,containsLowercaseCharacter:!1,containsNonAlphanumericCharacter:!1,containsNumericCharacter:!1,minPasswordLength:6,maxPasswordLength:4096};var n,o,i,a,s,l;(t.passwordPolicyVersions=[],Object.prototype.hasOwnProperty.call(e,"constraints"))&&(e&&(void 0!==(null===(n=e.constraints)||void 0===n?void 0:n.requireUppercase)&&(r.containsUppercaseCharacter=e.constraints.requireUppercase),void 0!==(null===(o=e.constraints)||void 0===o?void 0:o.requireLowercase)&&(r.containsLowercaseCharacter=e.constraints.requireLowercase),void 0!==(null===(i=e.constraints)||void 0===i?void 0:i.requireNonAlphanumeric)&&(r.containsNonAlphanumericCharacter=e.constraints.requireNonAlphanumeric),void 0!==(null===(a=e.constraints)||void 0===a?void 0:a.requireNumeric)&&(r.containsNumericCharacter=e.constraints.requireNumeric),void 0!==(null===(s=e.constraints)||void 0===s?void 0:s.minLength)&&(r.minPasswordLength=e.constraints.minLength),void 0!==(null===(l=e.constraints)||void 0===l?void 0:l.maxLength)&&(r.maxPasswordLength=e.constraints.maxLength)));return t.passwordPolicyVersions.push({customStrengthOptions:r}),t}static validate(e){const t={enforcementState:!0,forceUpgradeOnSignin:!0,constraints:!0};if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig" must be a non-null object.');for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid PasswordPolicyConfig parameter.`);if(void 0===e.enforcementState||"ENFORCE"!==e.enforcementState&&"OFF"!==e.enforcementState)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.enforcementState" must be either "ENFORCE" or "OFF".');if(void 0!==e.forceUpgradeOnSignin&&!n.isBoolean(e.forceUpgradeOnSignin))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.forceUpgradeOnSignin" must be a boolean.');if(void 0!==e.constraints){if("ENFORCE"===e.enforcementState&&!n.isNonNullObject(e.constraints))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints" must be a non-empty object.');const t={requireUppercase:!0,requireLowercase:!0,requireNumeric:!0,requireNonAlphanumeric:!0,minLength:!0,maxLength:!0};for(const r in e.constraints)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid PasswordPolicyConfig.constraints parameter.`);if(void 0!==e.constraints.requireUppercase&&!n.isBoolean(e.constraints.requireUppercase))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireUppercase" must be a boolean.');if(void 0!==e.constraints.requireLowercase&&!n.isBoolean(e.constraints.requireLowercase))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireLowercase" must be a boolean.');if(void 0!==e.constraints.requireNonAlphanumeric&&!n.isBoolean(e.constraints.requireNonAlphanumeric))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireNonAlphanumeric" must be a boolean.');if(void 0!==e.constraints.requireNumeric&&!n.isBoolean(e.constraints.requireNumeric))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.requireNumeric" must be a boolean.');if(void 0===e.constraints.minLength)e.constraints.minLength=6;else{if(!n.isNumber(e.constraints.minLength))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.minLength" must be a number.');if(!(e.constraints.minLength>=6&&e.constraints.minLength<=30))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.minLength" must be an integer between 6 and 30, inclusive.')}if(void 0===e.constraints.maxLength)e.constraints.maxLength=4096;else{if(!n.isNumber(e.constraints.maxLength))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.maxLength" must be a number.');if(!(e.constraints.maxLength>=e.constraints.minLength&&e.constraints.maxLength<=4096))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints.maxLength" must be greater than or equal to minLength and at max 4096.')}}else if("ENFORCE"===e.enforcementState)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"PasswordPolicyConfig.constraints" must be defined.')}constructor(e){if(void 0===e.passwordPolicyEnforcementState)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid password policy configuration response");this.enforcementState=e.passwordPolicyEnforcementState;let t={};void 0!==e.passwordPolicyVersions&&(e.passwordPolicyVersions||[]).forEach(e=>{var r,n,o,i,a,s;t={requireLowercase:null===(r=e.customStrengthOptions)||void 0===r?void 0:r.containsLowercaseCharacter,requireUppercase:null===(n=e.customStrengthOptions)||void 0===n?void 0:n.containsUppercaseCharacter,requireNonAlphanumeric:null===(o=e.customStrengthOptions)||void 0===o?void 0:o.containsNonAlphanumericCharacter,requireNumeric:null===(i=e.customStrengthOptions)||void 0===i?void 0:i.containsNumericCharacter,minLength:null===(a=e.customStrengthOptions)||void 0===a?void 0:a.minPasswordLength,maxLength:null===(s=e.customStrengthOptions)||void 0===s?void 0:s.maxPasswordLength}}),this.constraints=t,this.forceUpgradeOnSignin=!!e.forceUpgradeOnSignin}}t.PasswordPolicyAuthConfig=h;t.EmailPrivacyAuthConfig=class{static validate(e){if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"EmailPrivacyConfig" must be a non-null object.');const t={enableImprovedEmailPrivacy:!0};for(const r in e)if(!(r in t))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,`"${r}" is not a valid "EmailPrivacyConfig" parameter.`);if(void 0!==e.enableImprovedEmailPrivacy&&!n.isBoolean(e.enableImprovedEmailPrivacy))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_CONFIG,'"EmailPrivacyConfig.enableImprovedEmailPrivacy" must be a valid boolean value.')}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoSignerErrorCode=t.CryptoSignerError=t.IAMSigner=t.ServiceAccountSigner=void 0,t.cryptoSignerFromApp=function(e){const t=e.options.credential;if(t instanceof n.ServiceAccountCredential)return new s(t);return new l(new o.AuthorizedHttpClient(e),e)};const n=r(62),o=r(27),i=r(9),a=r(4);class s{constructor(e){if(this.credential=e,this.algorithm="RS256",!e)throw new p({code:c.INVALID_CREDENTIAL,message:"INTERNAL ASSERT: Must provide a service account credential to initialize ServiceAccountSigner."})}sign(e){const t=r(0).createSign("RSA-SHA256");return t.update(e),Promise.resolve(t.sign(this.credential.privateKey))}getAccountId(){return Promise.resolve(this.credential.clientEmail)}}t.ServiceAccountSigner=s;class l{constructor(e,t){if(this.algorithm="RS256",!e)throw new p({code:c.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Must provide a HTTP client to initialize IAMSigner."});if(t&&("object"!=typeof t||null===t||!("options"in t)))throw new p({code:c.INVALID_ARGUMENT,message:"INTERNAL ASSERT: Must provide a valid Firebase app instance."});this.httpClient=e,this.app=t}sign(e){return this.getAccountId().then(t=>{const r={method:"POST",url:`https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/${t}:signBlob`,data:{payload:e.toString("base64")}};return this.httpClient.send(r)}).then(e=>Buffer.from(e.data.signedBlob,"base64")).catch(e=>{if(e instanceof o.RequestResponseError)throw new p({code:c.SERVER_ERROR,message:e.message,cause:e});throw e})}async getAccountId(){if(a.isNonEmptyString(this.serviceAccountId))return this.serviceAccountId;if(this.app){const e=await i.findServiceAccountEmail(this.app);if(e)return this.serviceAccountId=e,e}return(new o.HttpClient).send({method:"GET",url:"http://metadata/computeMetadata/v1/instance/service-accounts/default/email",headers:{"Metadata-Flavor":"Google"}}).then(e=>{if(!e.text)throw new p({code:c.INTERNAL_ERROR,message:"HTTP Response missing payload"});return this.serviceAccountId=e.text,e.text}).catch(e=>{throw new p({code:c.INVALID_CREDENTIAL,message:"Failed to determine service account. Make sure to initialize the SDK with a service account credential. Alternatively specify a service account with iam.serviceAccounts.signBlob permission. Original error: "+e})})}}t.IAMSigner=l;class p extends Error{constructor(e){super(e.message),this.errorInfo=e,this.__proto__=p.prototype}get code(){return this.errorInfo.code}get message(){return this.errorInfo.message}get cause(){return this.errorInfo.cause}}t.CryptoSignerError=p;class c{}t.CryptoSignerErrorCode=c,c.INVALID_ARGUMENT="invalid-argument",c.INTERNAL_ERROR="internal-error",c.INVALID_CREDENTIAL="invalid-credential",c.SERVER_ERROR="server-error"},function(e,t){var r=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(r.prototype=Object.create(Error.prototype)).constructor=r,e.exports=r},function(e,t){const r=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t){const r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=r},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>n(e,t,r)>0},function(e,t,r){const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),p("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(p("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(e.value,t).test(this.value):""===e.operator?""===e.value||new u(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=o;const i=r(177),{safeRe:a,t:s}=r(103),l=r(303),p=r(130),c=r(19),u=r(34)},function(e,t,r){const n=r(34);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(0);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.randomFillSync}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurve=t.weakMap=void 0;const n=r(18),o=r(0),i=r(3),a=r(36),s=r(35),l=r(37),p=r(38),c=n.Buffer.from([42,134,72,206,61,3,1,7]),u=n.Buffer.from([43,129,4,0,34]),d=n.Buffer.from([43,129,4,0,35]),h=n.Buffer.from([43,129,4,0,10]);t.weakMap=new WeakMap;const f=(e,r)=>{var n;let g;if((0,a.isCryptoKey)(e))g=o.KeyObject.from(e);else{if(!(0,s.default)(e))throw new TypeError((0,l.default)(e,...p.types));g=e}if("secret"===g.type)throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(g.asymmetricKeyType){case"ed25519":case"ed448":return"Ed"+g.asymmetricKeyType.slice(2);case"x25519":case"x448":return"X"+g.asymmetricKeyType.slice(1);case"ec":{if(t.weakMap.has(g))return t.weakMap.get(g);let e=null===(n=g.asymmetricKeyDetails)||void 0===n?void 0:n.namedCurve;if(e||"private"!==g.type){if(!e){const t=g.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],o=t.slice(r+1,r+1+n);if(o.equals(c))e="prime256v1";else if(o.equals(u))e="secp384r1";else if(o.equals(d))e="secp521r1";else{if(!o.equals(h))throw new i.JOSENotSupported("Unsupported key curve for this operation");e="secp256k1"}}}else e=f((0,o.createPublicKey)(g),!0);if(r)return e;const a=(e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new i.JOSENotSupported("Unsupported key curve for this operation")}})(e);return t.weakMap.set(g,a),a}default:throw new TypeError("Invalid asymmetric key type for this operation")}};t.setCurve=function(e,r){t.weakMap.set(e,r)},t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setModulusLength=t.weakMap=void 0,t.weakMap=new WeakMap;const n=(e,t)=>{let r=e.readUInt8(1);if(0==(128&r))return 0===t?r:n(e.subarray(2+r),t-1);const o=127&r;r=0;for(let t=0;t<o;t++){r<<=8;r|=e.readUInt8(2+t)}return 0===t?r:n(e.subarray(2+r),t-1)},o=e=>{var r,o;if(t.weakMap.has(e))return t.weakMap.get(e);const i=null!==(o=null===(r=e.asymmetricKeyDetails)||void 0===r?void 0:r.modulusLength)&&void 0!==o?o:((e,t)=>{const r=e.readUInt8(1);if(0==(128&r))return n(e.subarray(2),t);const o=127&r;return n(e.subarray(2+o),t)})(e.export({format:"der",type:"pkcs1"}),"private"===e.type?1:0)-1<<3;return t.weakMap.set(e,i),i};t.setModulusLength=(e,r)=>{t.weakMap.set(e,r)},t.default=(e,t)=>{if(o(e)<2048)throw new TypeError(t+" requires key modulusLength to be 2048 bits or larger")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;const n=r(3),o=r(134);function i(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported("Unsupported JWE Algorithm: "+e)}}t.bitLength=i,t.default=e=>(0,o.default)(new Uint8Array(i(e)>>3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importJWK=t.importPKCS8=t.importX509=t.importSPKI=void 0;const n=r(20),o=r(188),i=r(564),a=r(3),s=r(24);t.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return(0,o.fromSPKI)(e,t,r)},t.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');return(0,o.fromX509)(e,t,r)},t.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,o.fromPKCS8)(e,t,r)},t.importJWK=async function(e,t,r){var o;if(!(0,s.default)(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?(0,i.default)({...e,alg:t,ext:null!==(o=e.ext)&&void 0!==o&&o}):(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new a.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,i.default)({...e,alg:t});default:throw new a.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwkImport=t.jwkExport=t.rsaPssParams=t.oneShotCallback=void 0;const[n,o]=process.versions.node.split(".").map(e=>parseInt(e,10));t.oneShotCallback=n>=16||15===n&&o>=13,t.rsaPssParams=!("electron"in process.versions)&&(n>=17||16===n&&o>=9),t.jwkExport=n>=16||15===n&&o>=9,t.jwkImport=n>=16||15===n&&o>=12},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(37),o=r(38);t.default=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,o.default)(t))throw new TypeError((0,n.withAlg)(e,t,...o.types,"Uint8Array"));if("secret"!==t.type)throw new TypeError(o.types.join(" or ")+' instances for symmetric algorithms must be of type "secret"')}})(e,t):((e,t,r)=>{if(!(0,o.default)(t))throw new TypeError((0,n.withAlg)(e,t,...o.types));if("secret"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithms must not be of type "secret"');if("sign"===r&&"public"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===r&&"public"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm decryption must be of type "private"');if(t.algorithm&&"verify"===r&&"private"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm verifying must be of type "public"');if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm encryption must be of type "public"')})(e,t,r)}},function(e,t){e.exports=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES256K","ES384","ES512","EdDSA"]},function(e,t,r){var n=r(661);e.exports=function(e,t){return new Promise((function(r,o){var i,a=t||{};function s(e){o(e||new Error("Aborted"))}function l(e,t){e.bail?s(e):i.retry(e)?a.onRetry&&a.onRetry(e,t):o(i.mainError())}"randomize"in a||(a.randomize=!0),(i=n.operation(a)).attempt((function(t){var n;try{n=e(s,t)}catch(e){return void l(e,t)}Promise.resolve(n).then(r).catch((function(e){l(e,t)}))}))}))}},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ExponentialBackoff=t.delayExecution=t.MAX_RETRY_ATTEMPTS=t.DEFAULT_BACKOFF_FACTOR=t.DEFAULT_BACKOFF_MAX_DELAY_MS=t.DEFAULT_BACKOFF_INITIAL_DELAY_MS=void 0,t.setTimeoutHandler=function(e){t.delayExecution=(t,r)=>{e(t,r);return{hasRef:()=>{throw new Error("For tests only. Not Implemented")},ref:()=>{throw new Error("For tests only. Not Implemented")},refresh:()=>{throw new Error("For tests only. Not Implemented")},unref:()=>{throw new Error("For tests only. Not Implemented")},[Symbol.toPrimitive]:()=>{throw new Error("For tests only. Not Implemented")}}}};const n=r(25);
/*!
 * The default initial backoff time in milliseconds after an error.
 * Set to 1s according to https://cloud.google.com/apis/design/errors.
 */t.DEFAULT_BACKOFF_INITIAL_DELAY_MS=1e3,
/*!
 * The default maximum backoff time in milliseconds.
 */
t.DEFAULT_BACKOFF_MAX_DELAY_MS=6e4,
/*!
 * The default factor to increase the backup by after each failed attempt.
 */
t.DEFAULT_BACKOFF_FACTOR=1.5;
/*!
 * The maximum number of retries that will be attempted by backoff
 * before stopping all retry attempts.
 */
t.MAX_RETRY_ATTEMPTS=10,
/*!
 * The timeout handler used by `ExponentialBackoff` and `BulkWriter`.
 */
t.delayExecution=setTimeout;t.ExponentialBackoff=class{constructor(e={}){this._retryCount=0,this.currentBaseMs=0,this.awaitingBackoffCompletion=!1,this.initialDelayMs=void 0!==e.initialDelayMs?e.initialDelayMs:t.DEFAULT_BACKOFF_INITIAL_DELAY_MS,this.backoffFactor=void 0!==e.backoffFactor?e.backoffFactor:t.DEFAULT_BACKOFF_FACTOR,this.maxDelayMs=void 0!==e.maxDelayMs?e.maxDelayMs:t.DEFAULT_BACKOFF_MAX_DELAY_MS,this.jitterFactor=void 0!==e.jitterFactor?e.jitterFactor:1}reset(){this._retryCount=0,this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndWait(){if(this.awaitingBackoffCompletion)return Promise.reject(new Error("A backoff operation is already in progress."));if(this.retryCount>t.MAX_RETRY_ATTEMPTS)return Promise.reject(new Error("Exceeded maximum number of retries allowed."));const e=this.currentBaseMs+this.jitterDelayMs();return this.currentBaseMs>0&&(0,n.logger)("ExponentialBackoff.backoffAndWait",null,`Backing off for ${e} ms (base delay: ${this.currentBaseMs} ms)`),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs=Math.max(this.currentBaseMs,this.initialDelayMs),this.currentBaseMs=Math.min(this.currentBaseMs,this.maxDelayMs),this._retryCount+=1,new Promise(r=>{this.awaitingBackoffCompletion=!0,(0,t.delayExecution)(()=>{this.awaitingBackoffCompletion=!1,r()},e)})}get retryCount(){return this._retryCount}jitterDelayMs(){return(Math.random()-.5)*this.jitterFactor*this.currentBaseMs}}},function(e){e.exports=JSON.parse('{"interfaces":{"google.firestore.v1.Firestore":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"deadline_exceeded_resource_exhausted_internal_unavailable":["DEADLINE_EXCEEDED","RESOURCE_EXHAUSTED","INTERNAL","UNAVAILABLE"],"resource_exhausted_unavailable":["RESOURCE_EXHAUSTED","UNAVAILABLE"],"resource_exhausted_aborted_unavailable":["RESOURCE_EXHAUSTED","ABORTED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"GetDocument":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"ListDocuments":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"UpdateDocument":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_unavailable","retry_params_name":"default"},"DeleteDocument":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"BatchGetDocuments":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"BeginTransaction":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"Commit":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_unavailable","retry_params_name":"default"},"Rollback":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"RunQuery":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"RunAggregationQuery":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"PartitionQuery":{"timeout_millis":300000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"Write":{"timeout_millis":86400000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Listen":{"timeout_millis":86400000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"ListCollectionIds":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_resource_exhausted_internal_unavailable","retry_params_name":"default"},"BatchWrite":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_aborted_unavailable","retry_params_name":"default"},"CreateDocument":{"timeout_millis":60000,"retry_codes_name":"resource_exhausted_unavailable","retry_params_name":"default"}}}}}')},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.hasWindowFetch=function(){return o.windowFetch},t.isNodeJS=function(){return o.nodeJS},t.hasAbortController=function(){return o.abortController};const o={windowFetch:"undefined"!=typeof window&&(null===window||void 0===window?void 0:window.fetch)&&"function"==typeof(null===window||void 0===window?void 0:window.fetch),textEncoder:"undefined"!=typeof TextEncoder,textDecoder:"undefined"!=typeof TextDecoder,nodeJS:"undefined"!=typeof process&&(null===(n=null===process||void 0===process?void 0:process.versions)||void 0===n?void 0:n.node),abortController:"undefined"!=typeof AbortController}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromParams=function(e){return n.stringify(e)};const n=r(63)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperationsClientBuilder=t.OperationsClient=t.ALL_SCOPES=t.SERVICE_ADDRESS=void 0;const n=r(114),o=r(215),i=r(64),a=r(706),s=r(707),l=r(390);t.SERVICE_ADDRESS="longrunning.googleapis.com";const p=r(94).version;t.ALL_SCOPES=[];class c{constructor(e,r,i){const s=Object.assign({servicePath:t.SERVICE_ADDRESS,port:443,clientConfig:{}},i),l=["gl-node/"+process.versions.node];s.libName&&s.libVersion&&l.push(s.libName+"/"+s.libVersion),l.push("gapic/0.7.1","gax/"+p),s.fallback?l.push("gl-web/"+p):l.push("grpc/"+e.grpcVersion);const c=e.constructSettings("google.longrunning.Operations",a,s.clientConfig||{},{"x-goog-api-client":l.join(" ")});this.auth=e.auth,this.innerApiCalls={},this.descriptor={listOperations:new o.PageDescriptor("pageToken","nextPageToken","operations")},this.operationsStub=e.createStub(s.fallback?r.lookupService("google.longrunning.Operations"):r.google.longrunning.Operations,s);const u=["getOperation","listOperations","cancelOperation","deleteOperation"];for(const e of u){const t=this.operationsStub.then(t=>(...r)=>t[e].apply(t,r),e=>()=>{throw e});this.innerApiCalls[e]=(0,n.createApiCall)(t,c[e],this.descriptor[e])}}close(){this.operationsStub.then(e=>e.close())}getProjectId(e){return this.auth&&"getProjectId"in this.auth?this.auth.getProjectId(e):e?void e(new Error("Cannot determine project ID.")):Promise.reject("Cannot determine project ID.")}getOperationInternal(e,t,r){return e=e||{},t=t||{},this.innerApiCalls.getOperation(e,t,r)}getOperation(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.getOperation(e,n,r)}listOperations(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.listOperations(e,n,r)}listOperationsStream(e,t){const r=new i.CallSettings(t);return this.descriptor.listOperations.createStream(this.innerApiCalls.listOperations,e,r)}listOperationsAsync(e,t){e=e||{},t=t||{};const r=new i.CallSettings(t);return this.descriptor.listOperations.asyncIterate(this.innerApiCalls.listOperations,e,r)}cancelOperation(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.cancelOperation(e,n,r)}deleteOperation(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},this.innerApiCalls.deleteOperation(e,n,r)}}t.OperationsClient=c;t.OperationsClientBuilder=class{constructor(e,t){t&&e.httpRules&&(0,l.overrideHttpRules)(e.httpRules,t);const r=null!=t?t:e.loadProtoJSON(s);this.operationsClient=t=>(e.fallback&&(t.fallback=e.fallback),new c(e,r,t)),Object.assign(this.operationsClient,c)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=t.wrapperTypes=t.getFullyQualifiedTypeName=void 0,t.getFullyQualifiedTypeName=function(e){let t="";for(;e.parent;)t=`.${e.name}${t}`,e=e.parent;return t},t.wrapperTypes=new Set([".google.protobuf.DoubleValue",".google.protobuf.FloatValue",".google.protobuf.Int64Value",".google.protobuf.UInt64Value",".google.protobuf.Int32Value",".google.protobuf.UInt32Value",".google.protobuf.BoolValue",".google.protobuf.StringValue",".google.protobuf.BytesValue"]),t.assert=function(e,t){if(!e)throw new Error(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamProxy=t.StreamType=void 0;const n=r(40),o=r(695),i=r(39),a=r(200),s=r(343);var l;!function(e){e[e.SERVER_STREAMING=1]="SERVER_STREAMING",e[e.CLIENT_STREAMING=2]="CLIENT_STREAMING",e[e.BIDI_STREAMING=3]="BIDI_STREAMING"}(l||(t.StreamType=l={}));t.StreamProxy=class extends a{constructor(e,t,r,n){super(void 0,void 0,{objectMode:!0,readable:e!==l.CLIENT_STREAMING,writable:e!==l.SERVER_STREAMING}),this.retries=0,this.type=e,this._callback=t,this._isCancelCalled=!1,this._responseHasSent=!1,this.rest=r,this.gaxServerStreamingRetries=n}shouldRetryRequest(e,t){const r=n.GoogleError.parseGRPCStatusDetails(e);let o=this.defaultShouldRetry(r,t);return t.shouldRetryFn&&(o=t.shouldRetryFn(r)),o}cancel(){this.stream?this.stream.cancel():this._isCancelCalled=!0}retry(e,t){let r=this.argument;if("function"==typeof t.getResumptionRequestFn){const e=t.getResumptionRequestFn(r);void 0!==e&&(r=e)}this.resetStreams(e);const n=this.apiCall(r,this._callback);return this.stream=n,this.streamHandoffHelper(n,t),n}throwIfMaxRetriesOrTotalTimeoutExceeded(e,t,r){const o=new Date;if(void 0!==this.prevDeadline&&e&&o.getTime()>=this.prevDeadline){const e=new n.GoogleError(`Total timeout of API exceeded ${r} milliseconds before any response was received.`);throw e.code=i.Status.DEADLINE_EXCEEDED,this.emit("error",e),this.destroy(),e}if(this.retries&&this.retries>=t){const e=new n.GoogleError("Exceeded maximum number of retries before any response was received");throw e.code=i.Status.DEADLINE_EXCEEDED,this.emit("error",e),this.destroy(),e}}streamHandoffErrorHandler(e,t,r){let o=this.stream;const i=t.backoffSettings.retryDelayMultiplier,a=t.backoffSettings.maxRetryDelayMillis,s=t.backoffSettings.rpcTimeoutMultiplier,l=t.backoffSettings.maxRpcTimeoutMillis;let p=t.backoffSettings.initialRetryDelayMillis,c=t.backoffSettings.initialRpcTimeoutMillis,u=new Date,d=0;t.backoffSettings.totalTimeoutMillis&&(d=u.getTime()+t.backoffSettings.totalTimeoutMillis);const h=t.backoffSettings.maxRetries;try{this.throwIfMaxRetriesOrTotalTimeoutExceeded(d,h,t.backoffSettings.totalTimeoutMillis)}catch(r){return}if(this.retries++,!this.shouldRetryRequest(r,t)){const e=n.GoogleError.parseGRPCStatusDetails(r);return e.note="Exception occurred in retry method that was not classified as transient",this.emit("error",e),void this.destroy()}{const e=Math.random()*p;setTimeout(()=>{u=new Date,p=Math.min(p*i,a);const e=c&&s?c*s:0,t=l||0;this.prevDeadline=d;const r=d?d-u.getTime():0;c=Math.min(e,t,r)},e)}o=this.retry(e,t),this.stream=o}streamHandoffHelper(e,t){let r=!1;this.eventForwardHelper(e),e.on("error",n=>{r=!0,this.streamHandoffErrorHandler(e,t,n)}),e.on("data",e=>{this.retries=0,this.emit.bind(this,"data")(e)}),e.on("end",()=>{r||(r=!0,this.emit("end"),this.cancel())})}eventForwardHelper(e){["metadata","response","status"].forEach(t=>{e.on(t,this.emit.bind(this,t))})}statusMetadataHelper(e){e.on("status",()=>{this._responseHasSent||e.emit("response",{code:200,details:"",message:"OK"})}),e.on("metadata",t=>{e.emit("response",{code:200,details:"",message:"OK",metadata:t}),this._responseHasSent=!0})}forwardEvents(e){this.eventForwardHelper(e),this.statusMetadataHelper(e),e.on("error",e=>{n.GoogleError.parseGRPCStatusDetails(e)})}defaultShouldRetry(e,t){return!(t.retryCodes.length>0&&t.retryCodes.indexOf(e.code)<0||0===t.retryCodes.length)}forwardEventsWithRetries(e,t){let r=this.stream;return this.eventForwardHelper(e),this.statusMetadataHelper(e),e.on("error",o=>{const a=t.backoffSettings.totalTimeoutMillis,s=t.backoffSettings.maxRetries;if(s&&s>0||a&&a>0){if(this.shouldRetryRequest(o,t)){if(s&&a){const e=new n.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");return e.code=i.Status.INVALID_ARGUMENT,this.emit("error",e),void this.destroy()}return this.retries++,r=this.retry(e,t),this.stream=r,r}{const e=n.GoogleError.parseGRPCStatusDetails(o);return e.note="Exception occurred in retry method that was not classified as transient",void this.destroy(e)}}if(0===s){const e=n.GoogleError.parseGRPCStatusDetails(o);return e.note="Max retries is set to zero.",void this.destroy(e)}return n.GoogleError.parseGRPCStatusDetails(o)}),r}resetStreams(e){e&&(e.cancel&&e.cancel(),e.destroy?e.destroy():e.end&&e.end())}setStream(e,t,r={},n){if(this.apiCall=e,this.argument=t,this.type===l.SERVER_STREAMING){if(this.rest){const r=e(t,this._callback);this.stream=r,this.setReadable(r)}else if(this.gaxServerStreamingRetries){const r=(0,o.streamingRetryRequest)({request:()=>{if(this._isCancelCalled)return void(this.stream&&this.stream.cancel());const r=e(t,this._callback);return this.stream=r,this.stream=this.forwardEventsWithRetries(r,n),this.stream}});this.setReadable(r)}else{const n=s(null,{objectMode:!0,request:()=>{if(this._isCancelCalled)return void(this.stream&&this.stream.cancel());const r=e(t,this._callback);return this.stream=r,this.forwardEvents(r),r},retries:r.retries,currentRetryAttempt:r.currentRetryAttempt,noResponseRetries:r.noResponseRetries,shouldRetryFn:r.shouldRetryFn});this.setReadable(n)}return}const i=e(t,this._callback);this.stream=i,this.forwardEvents(i),this.type===l.CLIENT_STREAMING&&this.setWritable(i),this.type===l.BIDI_STREAMING&&(this.setReadable(i),this.setWritable(i)),this._isCancelCalled&&this.stream&&this.stream.cancel()}}},function(e,t,r){"use strict";
/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBatch=t.WriteResult=void 0,t.validateSetOptions=g,t.validateDocumentData=m,t.validateFieldValue=y;const n=r(65),o=r(25),i=r(15),a=r(153),s=r(96),l=r(41),p=r(13),c=r(14),u=r(42);class d{constructor(e){this._writeTime=e}get writeTime(){return this._writeTime}isEqual(e){return this===e||e instanceof d&&this._writeTime.isEqual(e._writeTime)}}t.WriteResult=d;function h(e,t,r){if("object"!=typeof t||null===t)throw new Error("Input is not an object.");const n=t;let o=0;if(void 0!==n.exists){if(++o,"boolean"!=typeof n.exists)throw new Error((0,c.invalidArgumentMessage)(e,"precondition")+' "exists" is not a boolean.\'');if((null==r?void 0:r.allowedExistsValues)&&r.allowedExistsValues.indexOf(n.exists)<0)throw new Error((0,c.invalidArgumentMessage)(e,"precondition")+" "+`"exists" is not allowed to have the value ${n.exists} `+`(allowed values: ${r.allowedExistsValues.join(", ")})`)}if(void 0!==n.lastUpdateTime&&(++o,!(n.lastUpdateTime instanceof l.Timestamp)))throw new Error((0,c.invalidArgumentMessage)(e,"precondition")+' "lastUpdateTime" is not a Firestore Timestamp.');if(o>1)throw new Error((0,c.invalidArgumentMessage)(e,"precondition")+" Input specifies more than one precondition.")}function f(e,t,r){(0,c.validateOptional)(t,r)||h(e,t,{allowedExistsValues:[!0]})}function g(e,t,r){if(!(0,c.validateOptional)(t,r)){if(!(0,p.isObject)(t))throw new Error((0,c.invalidArgumentMessage)(e,"set() options argument")+" Input is not an object.");const r=t;if("mergeFields"in r)for(let t=0;t<r.mergeFields.length;++t)try{(0,i.validateFieldPath)(t,r.mergeFields[t])}catch(t){throw new Error(`${(0,c.invalidArgumentMessage)(e,"set() options argument")} "mergeFields" is not valid: ${t.message}`)}if("merge"in r&&"mergeFields"in r)throw new Error((0,c.invalidArgumentMessage)(e,"set() options argument")+' You cannot specify both "merge" and "mergeFields".')}}function m(e,t,r,n){if(!(0,p.isPlainObject)(t))throw new Error((0,c.customObjectMessage)(e,t));(0,s.validateUserInput)(e,t,"Firestore document",{allowDeletes:r?"all":"none",allowTransforms:!0,allowUndefined:n})}function y(e,t,r,n){(0,s.validateUserInput)(e,t,"Firestore value",{allowDeletes:"root",allowTransforms:!0,allowUndefined:r},n)}t.WriteBatch=class{get _opCount(){return this._ops.length}constructor(e){this._ops=[],this._committed=!1,this._firestore=e,this._serializer=new s.Serializer(e),this._allowUndefined=!!e._settings.ignoreUndefinedProperties}get isEmpty(){return 0===this._ops.length}verifyNotCommitted(){if(this._committed)throw new Error("Cannot modify a WriteBatch that has been committed.")}create(e,t){const r=(0,a.validateDocumentReference)("documentRef",e),o=r._converter.toFirestore(t);m("data",o,!1,this._allowUndefined),this.verifyNotCommitted();const i=n.DocumentTransform.fromObject(r,o);i.validate();const s=new n.Precondition({exists:!1});return this._ops.push({docPath:e.path,op:()=>{const e=n.DocumentSnapshot.fromObject(r,o).toWriteProto();return i.isEmpty||(e.updateTransforms=i.toProto(this._serializer)),e.currentDocument=s.toProto(),e}}),this}delete(e,t){const r=(0,a.validateDocumentReference)("documentRef",e);var o,i,s;o="precondition",i=t,s={optional:!0},(0,c.validateOptional)(i,s)||h(o,i),this.verifyNotCommitted();const l=new n.Precondition(t);return this._ops.push({docPath:e.path,op:()=>{const e={delete:r.formattedName};return l.isEmpty||(e.currentDocument=l.toProto()),e}}),this}set(e,t,r){g("options",r,{optional:!0});const o=r&&"merge"in r&&r.merge,i=r&&"mergeFields"in r,s=(0,a.validateDocumentReference)("documentRef",e);let l,p;l=o||i?s._converter.toFirestore(t,r):s._converter.toFirestore(t),m("data",l,!(!i&&!o),this._allowUndefined),this.verifyNotCommitted(),i&&(p=n.DocumentMask.fromFieldMask(r.mergeFields),l=p.applyTo(l));const c=n.DocumentTransform.fromObject(s,l);c.validate();return this._ops.push({docPath:e.path,op:()=>{const e=n.DocumentSnapshot.fromObject(s,l);i?p.removeFields(c.fields):o&&(p=n.DocumentMask.fromObject(l));const t=e.toWriteProto();return c.isEmpty||(t.updateTransforms=c.toProto(this._serializer)),(i||o)&&(t.updateMask=p.toProto()),t}}),this}update(e,t,...r){(0,c.validateMinNumberOfArguments)("WriteBatch.update",arguments,2),(0,a.validateDocumentReference)("documentRef",e),this.verifyNotCommitted();const s=new Map;let l=new n.Precondition({exists:!0});const u="Update() requires either a single JavaScript object or an alternating list of field/value pairs that can be followed by an optional precondition.";if("string"==typeof t||t instanceof i.FieldPath){const e=1,a=[t,...r];try{for(let t=0;t<a.length;t+=2)if(t===a.length-1){const r=a[t];f(t+e,r),l=new n.Precondition(r)}else{const r=a[t];(0,i.validateFieldPath)(t+e,r),(0,c.validateMinNumberOfArguments)("update",a,t+1);const n=i.FieldPath.fromArgument(r);y(t+e,a[t+1],this._allowUndefined,n),s.set(n,a[t+1])}}catch(e){throw(0,o.logger)("WriteBatch.update",null,"Varargs validation failed:",e),new Error(`${u} ${e.message}`)}}else try{!function(e,t,r){if(!(0,p.isPlainObject)(t))throw new Error((0,c.customObjectMessage)(e,t));if(0===Object.keys(t).length)throw new Error("At least one field must be updated.");y(e,t,r)}("dataOrField",t,this._allowUndefined),(0,c.validateMaxNumberOfArguments)("update",arguments,3),Object.entries(t).forEach(([e,t])=>{void 0!==t&&((0,i.validateFieldPath)(e,e),s.set(i.FieldPath.fromArgument(e),t))}),r.length>0&&(f("preconditionOrValues",r[0]),l=new n.Precondition(r[0]))}catch(e){throw(0,o.logger)("WriteBatch.update",null,"Non-varargs validation failed:",e),new Error(`${u} ${e.message}`)}!function(e,t){const r=[];t.forEach((e,t)=>{r.push(t)}),r.sort((e,t)=>e.compareTo(t));for(let t=1;t<r.length;++t)if(r[t-1].isPrefixOf(r[t]))throw new Error(`${(0,c.invalidArgumentMessage)(e,"update map")} Field "${r[t-1]}" was specified multiple times.`)}("dataOrField",s);const d=n.DocumentTransform.fromUpdateMap(e,s);d.validate();const h=n.DocumentMask.fromUpdateMap(s);return this._ops.push({docPath:e.path,op:()=>{const t=n.DocumentSnapshot.fromUpdateMap(e,s).toWriteProto();return t.updateMask=h.toProto(),d.isEmpty||(t.updateTransforms=d.toProto(this._serializer)),t.currentDocument=l.toProto(),t}}),this}commit(){return this._firestore._traceUtil.startActiveSpan(u.SPAN_NAME_BATCH_COMMIT,async()=>{const e=Error().stack,t=[10,...(0,p.getRetryCodes)("commit")];return this._commit({retryCodes:t}).then(e=>(e.writeResults||[]).map(t=>new d(l.Timestamp.fromProto(t.updateTime||e.commitTime)))).catch(t=>{throw(0,p.wrapError)(t,e)})},{[u.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!1,[u.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}async _commit(e){var t;this._committed=!0;const r=null!==(t=null==e?void 0:e.requestTag)&&void 0!==t?t:(0,p.requestTag)();await this._firestore.initializeIfNeeded(r);const n={database:this._firestore.formattedName,writes:this._ops.map(e=>e.op())};return(null==e?void 0:e.transactionId)&&(n.transaction=e.transactionId),(0,o.logger)("WriteBatch.commit",r,"Sending %d writes",n.writes.length),this._firestore.request((null==e?void 0:e.methodName)||"commit",n,r,null==e?void 0:e.retryCodes)}_reset(){this._ops.splice(0),this._committed=!1}}},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteTransform=t.FieldTransform=t.FieldValue=t.VectorValue=void 0;const n=r(95),o=r(96),i=r(13),a=r(14);class s{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}_toProto(e){return e.encodeVector(this._values)}static _fromProto(e){var t,r;const n=null===(r=null===(t=e.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(e=>e.doubleValue);return new s(n)}isEqual(e){return(0,i.isPrimitiveArrayEqual)(this._values,e._values)}}t.VectorValue=s;class l{constructor(){}static vector(e){return new s(e)}static delete(){return c.DELETE_SENTINEL}static serverTimestamp(){return u.SERVER_TIMESTAMP_SENTINEL}static increment(e){return(0,a.validateMinNumberOfArguments)("FieldValue.increment",arguments,1),new d(e)}static arrayUnion(...e){return(0,a.validateMinNumberOfArguments)("FieldValue.arrayUnion",e,1),new h(e)}static arrayRemove(...e){return(0,a.validateMinNumberOfArguments)("FieldValue.arrayRemove",e,1),new f(e)}isEqual(e){return this===e}}t.FieldValue=l;class p extends l{}t.FieldTransform=p;class c extends p{constructor(){super()}get includeInDocumentMask(){return!0}get includeInDocumentTransform(){return!1}get methodName(){return"FieldValue.delete"}validate(){}toProto(){throw new Error("FieldValue.delete() should not be included in a FieldTransform")}}t.DeleteTransform=c,c.DELETE_SENTINEL=new c;class u extends p{constructor(){super()}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.serverTimestamp"}validate(){}toProto(e,t){return{fieldPath:t.formattedName,setToServerValue:"REQUEST_TIME"}}}u.SERVER_TIMESTAMP_SENTINEL=new u;class d extends p{constructor(e){super(),this.operand=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.increment"}validate(){(0,a.validateNumber)("FieldValue.increment()",this.operand)}toProto(e,t){const r=e.encodeValue(this.operand);return{fieldPath:t.formattedName,increment:r}}isEqual(e){return this===e||e instanceof d&&this.operand===e.operand}}class h extends p{constructor(e){super(),this.elements=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayUnion"}validate(e){for(let t=0;t<this.elements.length;++t)g(t,this.elements[t],e)}toProto(e,t){const r=e.encodeValue(this.elements).arrayValue;return{fieldPath:t.formattedName,appendMissingElements:r}}isEqual(e){return this===e||e instanceof h&&n(this.elements,e.elements)}}class f extends p{constructor(e){super(),this.elements=e}get includeInDocumentMask(){return!1}get includeInDocumentTransform(){return!0}get methodName(){return"FieldValue.arrayRemove"}validate(e){for(let t=0;t<this.elements.length;++t)g(t,this.elements[t],e)}toProto(e,t){const r=e.encodeValue(this.elements).arrayValue;return{fieldPath:t.formattedName,removeAllFromArray:r}}isEqual(e){return this===e||e instanceof f&&n(this.elements,e.elements)}}function g(e,t,r){if(Array.isArray(t))throw new Error((0,a.invalidArgumentMessage)(e,"array element")+" Nested arrays are not supported.");(0,o.validateUserInput)(e,t,"array element",{allowDeletes:"none",allowTransforms:!1,allowUndefined:r},void 0,0,!0)}},function(e,t,r){"use strict";
/*!
 * Copyright 2024 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ExplainResults=t.ExplainMetrics=t.ExecutionStats=t.PlanSummary=void 0;class n{constructor(e){this.indexesUsed=e}static _fromProto(e,t){const r=[];if(e&&e.indexesUsed)for(const n of e.indexesUsed)r.push(t.decodeGoogleProtobufStruct(n));return new n(r)}}t.PlanSummary=n;class o{constructor(e,t,r,n){this.resultsReturned=e,this.executionDuration=t,this.readOperations=r,this.debugStats=n}static _fromProto(e,t){var r,n;return e?new o(Number(e.resultsReturned),{seconds:Number(null===(r=e.executionDuration)||void 0===r?void 0:r.seconds),nanoseconds:Number(null===(n=e.executionDuration)||void 0===n?void 0:n.nanos)},Number(e.readOperations),t.decodeGoogleProtobufStruct(e.debugStats)):null}}t.ExecutionStats=o;class i{constructor(e,t){this.planSummary=e,this.executionStats=t}static _fromProto(e,t){return new i(n._fromProto(e.planSummary,t),o._fromProto(e.executionStats,t))}}t.ExplainMetrics=i;t.ExplainResults=class{constructor(e,t){this.metrics=e,this.snapshot=t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateQueryOrder=function(e,t){return t="string"==typeof t?t.toLowerCase():t,(0,n.validateEnumValue)(e,t,Object.keys(a.directionOperators),{optional:!0}),t},t.validateQueryOperator=function(e,t,r){"="===t&&(t="==");if((0,n.validateEnumValue)(e,t,Object.keys(a.comparisonOperators)),"number"==typeof r&&isNaN(r)&&"=="!==t&&"!="!==t)throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on NaN.");if(null===r&&"=="!==t&&"!="!==t)throw new Error("Invalid query. You can only perform '==' and '!=' comparisons on Null.");return t},t.validateDocumentReference=function(e,t){if(!(t instanceof i.DocumentReference))throw new Error((0,n.invalidArgumentMessage)(e,"DocumentReference"));return t},t.validateQueryValue=function(e,t,r){(0,o.validateUserInput)(e,t,"query constraint",{allowDeletes:"none",allowTransforms:!1,allowUndefined:r})},t.coalesce=function(...e){return e.find(e=>void 0!==e)};const n=r(14),o=r(96),i=r(79),a=r(221)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0,t.createCertificateProviderChannelCredentials=function(e,t,r){return new c(e,t,null!=r?r:null)};const n=r(66),o=r(410),i=r(412);function a(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(t+", if provided, must be a Buffer.")}class s{constructor(e){this.callCredentials=e||o.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}_ref(){}_unref(){}static createSsl(e,t,r,o){var s;if(a(e,"Root certificate"),a(t,"Private key"),a(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");const l=(0,n.createSecureContext)({ca:null!==(s=null!=e?e:(0,i.getDefaultRootsData)())&&void 0!==s?s:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:i.CIPHER_SUITES});return new p(l,null!=o?o:{})}static createFromSecureContext(e,t){return new p(e,null!=t?t:{})}static createInsecure(){return new l}}t.ChannelCredentials=s;class l extends s{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return{}}_isSecure(){return!1}_equals(e){return e instanceof l}}class p extends s{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity),void 0!==(null==t?void 0:t.rejectUnauthorized)&&(this.connectionOptions.rejectUnauthorized=t.rejectUnauthorized)}compose(e){const t=this.callCredentials.compose(e);return new u(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof p&&(this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity)}}class c extends s{constructor(e,t,r){super(),this.caCertificateProvider=e,this.identityCertificateProvider=t,this.verifyOptions=r,this.refcount=0,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}compose(e){const t=this.callCredentials.compose(e);return new u(this,t)}_getConnectionOptions(){var e,t,r;if(null===this.latestCaUpdate)return null;if(null!==this.identityCertificateProvider&&null===this.latestIdentityUpdate)return null;const o={secureContext:(0,n.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:null===(e=this.latestIdentityUpdate)||void 0===e?void 0:e.privateKey,cert:null===(t=this.latestIdentityUpdate)||void 0===t?void 0:t.certificate,ciphers:i.CIPHER_SUITES})};return(null===(r=this.verifyOptions)||void 0===r?void 0:r.checkServerIdentity)&&(o.checkServerIdentity=this.verifyOptions.checkServerIdentity),o}_isSecure(){return!0}_equals(e){var t,r;return this===e||e instanceof c&&(this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&(null===(t=this.verifyOptions)||void 0===t?void 0:t.checkServerIdentity)===(null===(r=e.verifyOptions)||void 0===r?void 0:r.checkServerIdentity))}_ref(){var e;0===this.refcount&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),null===(e=this.identityCertificateProvider)||void 0===e||e.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}_unref(){var e;this.refcount-=1,0===this.refcount&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),null===(e=this.identityCertificateProvider)||void 0===e||e.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}handleCaCertificateUpdate(e){this.latestCaUpdate=e}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e}}class u extends s{constructor(e,t){if(super(t),this.channelCredentials=e,!e._isSecure())throw new Error("Cannot compose insecure credentials")}compose(e){const t=this.callCredentials.compose(e);return new u(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&(this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);const e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;var r,n;this.nextDelay=e+(r=-t,n=t,Math.random()*(n-r)+r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){const e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.minDeadline=function(...e){let t=1/0;for(const r of e){const e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t},t.getDeadlineTimeoutString=function(e){const t=(new Date).getTime();e instanceof Date&&(e=e.getTime());const r=Math.max(e-t,0);for(const[e,t]of n){const n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw new Error("Deadline is too far in the future")},t.getRelativeTimeout=function(e){const t=e instanceof Date?e.getTime():e,r=(new Date).getTime(),n=t-r;return n<0?0:n>2147483647?1/0:n},t.deadlineToString=function(e){if(e instanceof Date)return e.toISOString();{const t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}},t.formatDateDifference=function(e,t){return((t.getTime()-e.getTime())/1e3).toFixed(3)+"s"};const n=[["m",1],["S",1e3],["M",6e4],["H",36e5]]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryOptions=void 0;const n=r(95),o=r(15),i=r(80),a=r(153);class s{constructor(e,t,r,n,o,i,a,s,l,p,c,u,d=!1,h=!0){this.parentPath=e,this.collectionId=t,this.converter=r,this.allDescendants=n,this.filters=o,this.fieldOrders=i,this.startAt=a,this.endAt=s,this.limit=l,this.limitType=p,this.offset=c,this.projection=u,this.kindless=d,this.requireConsistency=h}static forCollectionGroupQuery(e,t=(0,i.defaultConverter)()){return new s(o.ResourcePath.EMPTY,e,t,!0,[],[])}static forCollectionQuery(e,t=(0,i.defaultConverter)()){return new s(e.parent(),e.id,t,!1,[],[])}static forKindlessAllDescendants(e,t,r=!0){let n=new s(e,t,(0,i.defaultConverter)(),!0,[],[]);return n=n.with({kindless:!0,requireConsistency:r}),n}with(e){return new s((0,a.coalesce)(e.parentPath,this.parentPath),(0,a.coalesce)(e.collectionId,this.collectionId),this.converter,(0,a.coalesce)(e.allDescendants,this.allDescendants),(0,a.coalesce)(e.filters,this.filters),(0,a.coalesce)(e.fieldOrders,this.fieldOrders),(0,a.coalesce)(e.startAt,this.startAt),(0,a.coalesce)(e.endAt,this.endAt),(0,a.coalesce)(e.limit,this.limit),(0,a.coalesce)(e.limitType,this.limitType),(0,a.coalesce)(e.offset,this.offset),(0,a.coalesce)(e.projection,this.projection),(0,a.coalesce)(e.kindless,this.kindless),(0,a.coalesce)(e.requireConsistency,this.requireConsistency))}withConverter(e){return new s(this.parentPath,this.collectionId,e,this.allDescendants,this.filters,this.fieldOrders,this.startAt,this.endAt,this.limit,this.limitType,this.offset,this.projection)}hasFieldOrders(){return this.fieldOrders.length>0}isEqual(e){return this===e||e instanceof s&&this.parentPath.isEqual(e.parentPath)&&this.filtersEqual(e.filters)&&this.collectionId===e.collectionId&&this.converter===e.converter&&this.allDescendants===e.allDescendants&&this.limit===e.limit&&this.offset===e.offset&&n(this.fieldOrders,e.fieldOrders)&&n(this.startAt,e.startAt)&&n(this.endAt,e.endAt)&&n(this.projection,e.projection)&&this.kindless===e.kindless&&this.requireConsistency===e.requireConsistency}filtersEqual(e){if(this.filters.length!==e.length)return!1;for(let t=0;t<e.length;t++)if(!this.filters[t].isEqual(e[t]))return!1;return!0}}t.QueryOptions=s},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AppPlatform=void 0,function(e){e.PLATFORM_UNKNOWN="PLATFORM_UNKNOWN",e.IOS="IOS",e.ANDROID="ANDROID"}(n||(t.AppPlatform=n={}))},function(e,t){e.exports=require("child_process")},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return P})),r.d(t,"Request",(function(){return W})),r.d(t,"Response",(function(){return M})),r.d(t,"FetchError",(function(){return h})),r.d(t,"AbortError",(function(){return J}));var n=r(1),o=r(51),i=r(11),a=r(242),s=r(61),l=r(22);const p=n.Readable,c=Symbol("buffer"),u=Symbol("type");class d{constructor(){this[u]="";const e=arguments[0],t=arguments[1],r=[];let n=0;if(e){const t=e,o=Number(t.length);for(let e=0;e<o;e++){const o=t[e];let i;i=o instanceof Buffer?o:ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof d?o[c]:Buffer.from("string"==typeof o?o:String(o)),n+=i.length,r.push(i)}}this[c]=Buffer.concat(r);let o=t&&void 0!==t.type&&String(t.type).toLowerCase();o&&!/[^\u0020-\u007E]/.test(o)&&(this[u]=o)}get size(){return this[c].length}get type(){return this[u]}text(){return Promise.resolve(this[c].toString())}arrayBuffer(){const e=this[c],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new p;return e._read=function(){},e.push(this[c]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],r=arguments[1];let n,o;n=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),o=void 0===r?e:r<0?Math.max(e+r,0):Math.min(r,e);const i=Math.max(o-n,0),a=this[c].slice(n,n+i),s=new d([],{type:arguments[2]});return s[c]=a,s}}function h(e,t,r){Error.call(this,e),this.message=e,this.type=t,r&&(this.code=this.errno=r.code),Error.captureStackTrace(this,this.constructor)}let f;Object.defineProperties(d.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(d.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="FetchError";try{f=require("encoding").convert}catch(e){}const g=Symbol("Body internals"),m=n.PassThrough;function y(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.size;let i=void 0===o?0:o;var a=r.timeout;let s=void 0===a?0:a;null==e?e=null:b(e)?e=Buffer.from(e.toString()):E(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof n||(e=Buffer.from(String(e)))),this[g]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=s,e instanceof n&&e.on("error",(function(e){const r="AbortError"===e.name?e:new h(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[g].error=r}))}function v(){var e=this;if(this[g].disturbed)return y.Promise.reject(new TypeError("body used already for: "+this.url));if(this[g].disturbed=!0,this[g].error)return y.Promise.reject(this[g].error);let t=this.body;if(null===t)return y.Promise.resolve(Buffer.alloc(0));if(E(t)&&(t=t.stream()),Buffer.isBuffer(t))return y.Promise.resolve(t);if(!(t instanceof n))return y.Promise.resolve(Buffer.alloc(0));let r=[],o=0,i=!1;return new y.Promise((function(n,a){let s;e.timeout&&(s=setTimeout((function(){i=!0,a(new h(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,a(t)):a(new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&o+t.length>e.size)return i=!0,void a(new h(`content size at ${e.url} over limit: ${e.size}`,"max-size"));o+=t.length,r.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(s);try{n(Buffer.concat(r,o))}catch(t){a(new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function b(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function E(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function _(e){let t,r,o=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof n&&"function"!=typeof o.getBoundary&&(t=new m,r=new m,o.pipe(t),o.pipe(r),e[g].body=t,o=r),o}function O(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":b(e)?"application/x-www-form-urlencoded;charset=UTF-8":E(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?"multipart/form-data;boundary="+e.getBoundary():e instanceof n?null:"text/plain;charset=UTF-8"}function w(e){const t=e.body;return null===t?0:E(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}y.prototype={get body(){return this[g].body},get bodyUsed(){return this[g].disturbed},arrayBuffer(){return v.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return v.call(this).then((function(t){return Object.assign(new d([],{type:e.toLowerCase()}),{[c]:t})}))},json(){var e=this;return v.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return y.Promise.reject(new h(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return v.call(this).then((function(e){return e.toString()}))},buffer(){return v.call(this)},textConverted(){var e=this;return v.call(this).then((function(t){return function(e,t){if("function"!=typeof f)throw new Error("The package `encoding` must be installed to use the textConverted() function");const r=t.get("content-type");let n,o,i="utf-8";r&&(n=/charset=([^;]*)/i.exec(r));o=e.slice(0,1024).toString(),!n&&o&&(n=/<meta.+?charset=(['"])(.+?)\1/i.exec(o));!n&&o&&(n=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o),n||(n=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o),n&&n.pop()),n&&(n=/charset=(.*)/i.exec(n.pop())));!n&&o&&(n=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o));n&&(i=n.pop(),"gb2312"!==i&&"gbk"!==i||(i="gb18030"));return f(e,"UTF-8",i).toString()}(t,e.headers)}))}},Object.defineProperties(y.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),y.mixIn=function(e){for(const t of Object.getOwnPropertyNames(y.prototype))if(!(t in e)){const r=Object.getOwnPropertyDescriptor(y.prototype,t);Object.defineProperty(e,t,r)}},y.Promise=global.Promise;const S=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,T=/[^\t\x20-\x7e\x80-\xff]/;function A(e){if(e=""+e,S.test(e)||""===e)throw new TypeError(e+" is not a legal HTTP header name")}function C(e){if(e=""+e,T.test(e))throw new TypeError(e+" is not a legal HTTP header value")}function I(e,t){t=t.toLowerCase();for(const r in e)if(r.toLowerCase()===t)return r}const N=Symbol("map");class P{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[N]=Object.create(null),e instanceof P){const t=e.raw(),r=Object.keys(t);for(const e of r)for(const r of t[e])this.append(e,r)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const r=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");r.push(Array.from(t))}for(const e of r){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const r=e[t];this.append(t,r)}}}}get(e){A(e=""+e);const t=I(this[N],e);return void 0===t?null:this[N][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=R(this),n=0;for(;n<r.length;){var o=r[n];const i=o[0],a=o[1];e.call(t,a,i,this),r=R(this),n++}}set(e,t){t=""+t,A(e=""+e),C(t);const r=I(this[N],e);this[N][void 0!==r?r:e]=[t]}append(e,t){t=""+t,A(e=""+e),C(t);const r=I(this[N],e);void 0!==r?this[N][r].push(t):this[N][e]=[t]}has(e){return A(e=""+e),void 0!==I(this[N],e)}delete(e){A(e=""+e);const t=I(this[N],e);void 0!==t&&delete this[N][t]}raw(){return this[N]}keys(){return k(this,"key")}values(){return k(this,"value")}[Symbol.iterator](){return k(this,"key+value")}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const r=Object.keys(e[N]).sort();return r.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[N][t].join(", ")}:function(t){return[t.toLowerCase(),e[N][t].join(", ")]})}P.prototype.entries=P.prototype[Symbol.iterator],Object.defineProperty(P.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(P.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const D=Symbol("internal");function k(e,t){const r=Object.create(x);return r[D]={target:e,kind:t,index:0},r}const x=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==x)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[D];const t=e.target,r=e.kind,n=e.index,o=R(t,r);return n>=o.length?{value:void 0,done:!0}:(this[D].index=n+1,{value:o[n],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function j(e){const t=Object.assign({__proto__:null},e[N]),r=I(e[N],"Host");return void 0!==r&&(t[r]=t[r][0]),t}Object.defineProperty(x,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const L=Symbol("Response internals"),F=o.STATUS_CODES;class M{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y.call(this,e,t);const r=t.status||200,n=new P(t.headers);if(null!=e&&!n.has("Content-Type")){const t=O(e);t&&n.append("Content-Type",t)}this[L]={url:t.url,status:r,statusText:t.statusText||F[r],headers:n,counter:t.counter}}get url(){return this[L].url||""}get status(){return this[L].status}get ok(){return this[L].status>=200&&this[L].status<300}get redirected(){return this[L].counter>0}get statusText(){return this[L].statusText}get headers(){return this[L].headers}clone(){return new M(_(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}y.mixIn(M.prototype),Object.defineProperties(M.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(M.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const U=Symbol("Request internals"),B=i.URL||a.URL,V=i.parse,q=i.format;function G(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new B(e).toString()),V(e)}const H="destroy"in n.Readable.prototype;function z(e){return"object"==typeof e&&"object"==typeof e[U]}class W{constructor(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z(e)?t=G(e.url):(t=e&&e.href?G(e.href):G(""+e),e={});let n=r.method||e.method||"GET";if(n=n.toUpperCase(),(null!=r.body||z(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");let o=null!=r.body?r.body:z(e)&&null!==e.body?_(e):null;y.call(this,o,{timeout:r.timeout||e.timeout||0,size:r.size||e.size||0});const i=new P(r.headers||e.headers||{});if(null!=o&&!i.has("Content-Type")){const e=O(o);e&&i.append("Content-Type",e)}let a=z(e)?e.signal:null;if("signal"in r&&(a=r.signal),null!=a&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(a))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[U]={method:n,redirect:r.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:a},this.follow=void 0!==r.follow?r.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==r.compress?r.compress:void 0===e.compress||e.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent}get method(){return this[U].method}get url(){return q(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}clone(){return new W(this)}}function J(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}y.mixIn(W.prototype),Object.defineProperty(W.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(W.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J.prototype.name="AbortError";const K=i.URL||a.URL,Y=n.PassThrough;function $(e,t){if(!$.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return y.Promise=$.Promise,new $.Promise((function(r,i){const a=new W(e,t),p=function(e){const t=e[U].parsedURL,r=new P(e[U].headers);if(r.has("Accept")||r.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof n.Readable&&!H)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let o=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(o="0"),null!=e.body){const t=w(e);"number"==typeof t&&(o=String(t))}o&&r.set("Content-Length",o),r.has("User-Agent")||r.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),Object.assign({},t,{method:e.method,headers:j(r),agent:i})}(a),c=("https:"===p.protocol?s:o).request,u=a.signal;let d=null;const f=function(){let e=new J("The user aborted a request.");i(e),a.body&&a.body instanceof n.Readable&&Q(a.body,e),d&&d.body&&d.body.emit("error",e)};if(u&&u.aborted)return void f();const g=function(){f(),v()},m=c(p);let y;function v(){m.abort(),u&&u.removeEventListener("abort",g),clearTimeout(y)}u&&u.addEventListener("abort",g),a.timeout&&m.once("socket",(function(e){y=setTimeout((function(){i(new h("network timeout at: "+a.url,"request-timeout")),v()}),a.timeout)})),m.on("error",(function(e){i(new h(`request to ${a.url} failed, reason: ${e.message}`,"system",e)),d&&d.body&&Q(d.body,e),v()})),function(e,t){let r;e.on("socket",(function(e){r=e})),e.on("response",(function(e){const n=e.headers;"chunked"!==n["transfer-encoding"]||n["content-length"]||e.once("close",(function(e){if(r&&r.listenerCount("data")>0&&!e){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}}))}))}(m,(function(e){u&&u.aborted||d&&d.body&&Q(d.body,e)})),parseInt(process.version.substring(1))<14&&m.on("socket",(function(e){e.addListener("close",(function(t){const r=e.listenerCount("data")>0;if(d&&r&&!t&&(!u||!u.aborted)){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",e)}}))})),m.on("response",(function(e){clearTimeout(y);const t=function(e){const t=new P;for(const r of Object.keys(e))if(!S.test(r))if(Array.isArray(e[r]))for(const n of e[r])T.test(n)||(void 0===t[N][r]?t[N][r]=[n]:t[N][r].push(n));else T.test(e[r])||(t[N][r]=[e[r]]);return t}(e.headers);if($.isRedirect(e.statusCode)){const o=t.get("Location");let s=null;try{s=null===o?null:new K(o,a.url).toString()}catch(e){if("manual"!==a.redirect)return i(new h("uri requested responds with an invalid redirect URL: "+o,"invalid-redirect")),void v()}switch(a.redirect){case"error":return i(new h("uri requested responds with a redirect, redirect mode is set to error: "+a.url,"no-redirect")),void v();case"manual":if(null!==s)try{t.set("Location",s)}catch(e){i(e)}break;case"follow":if(null===s)break;if(a.counter>=a.follow)return i(new h("maximum redirect reached at: "+a.url,"max-redirect")),void v();const o={headers:new P(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:a.body,signal:a.signal,timeout:a.timeout,size:a.size};if(!function(e,t){const r=new K(t).hostname,n=new K(e).hostname;return r===n||"."===r[r.length-n.length-1]&&r.endsWith(n)}(a.url,s)||(n=a.url,new K(s).protocol!==new K(n).protocol))for(const e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);return 303!==e.statusCode&&a.body&&null===w(a)?(i(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void v()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==a.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length")),r($(new W(s,o))),void v())}}var n;e.once("end",(function(){u&&u.removeEventListener("abort",g)}));let o=e.pipe(new Y);const s={url:a.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:a.size,timeout:a.timeout,counter:a.counter},p=t.get("Content-Encoding");if(!a.compress||"HEAD"===a.method||null===p||204===e.statusCode||304===e.statusCode)return d=new M(o,s),void r(d);const c={flush:l.Z_SYNC_FLUSH,finishFlush:l.Z_SYNC_FLUSH};if("gzip"==p||"x-gzip"==p)return o=o.pipe(l.createGunzip(c)),d=new M(o,s),void r(d);if("deflate"==p||"x-deflate"==p){const t=e.pipe(new Y);return t.once("data",(function(e){o=8==(15&e[0])?o.pipe(l.createInflate()):o.pipe(l.createInflateRaw()),d=new M(o,s),r(d)})),void t.on("end",(function(){d||(d=new M(o,s),r(d))}))}if("br"==p&&"function"==typeof l.createBrotliDecompress)return o=o.pipe(l.createBrotliDecompress()),d=new M(o,s),void r(d);d=new M(o,s),r(d)})),function(e,t){const r=t.body;null===r?e.end():E(r)?r.stream().pipe(e):Buffer.isBuffer(r)?(e.write(r),e.end()):r.pipe(e)}(m,a)}))}function Q(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}$.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},$.Promise=global.Promise,t.default=$},function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,o,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function p(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var o,i,a,s;if(p(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=d.bind(n);return o.listener=r,n.wrapFn=o,o}function f(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):m(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var p=l.length,c=m(l,p);for(r=0;r<p;++r)i(c[r],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return p(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return p(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,i,a;if(p(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(47).Buffer,o=r(482);function i(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=i(e);var r=o(t),a=r+1,s=e.length,l=0;if(48!==e[l++])throw new Error('Could not find expected "seq"');var p=e[l++];if(129===p&&(p=e[l++]),s-l<p)throw new Error('"seq" specified length of "'+p+'", only "'+(s-l)+'" remaining');if(2!==e[l++])throw new Error('Could not find expected "int" for "r"');var c=e[l++];if(s-l-2<c)throw new Error('"r" specified length of "'+c+'", only "'+(s-l-2)+'" available');if(a<c)throw new Error('"r" specified length of "'+c+'", max of "'+a+'" is acceptable');var u=l;if(l+=c,2!==e[l++])throw new Error('Could not find expected "int" for "s"');var d=e[l++];if(s-l!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(s-l)+'"');if(a<d)throw new Error('"s" specified length of "'+d+'", max of "'+a+'" is acceptable');var h=l;if((l+=d)!==s)throw new Error('Expected to consume entire buffer, but "'+(s-l)+'" bytes remain');var f=r-c,g=r-d,m=n.allocUnsafe(f+c+g+d);for(l=0;l<f;++l)m[l]=0;e.copy(m,l,u+Math.max(-f,0),u+c);for(var y=l=r;l<y+g;++l)m[l]=0;return e.copy(m,l,h+Math.max(-g,0),h+d),m=(m=m.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=i(e);var r=o(t),s=e.length;if(s!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+s+'"');var l=a(e,0,r),p=a(e,r,e.length),c=r-l,u=r-p,d=2+c+1+1+u,h=d<128,f=n.allocUnsafe((h?2:3)+d),g=0;return f[g++]=48,h?f[g++]=d:(f[g++]=129,f[g++]=255&d),f[g++]=2,f[g++]=c,l<0?(f[g++]=0,g+=e.copy(f,g,0,r)):g+=e.copy(f,g,l,r),f[g++]=2,f[g++]=u,p<0?(f[g++]=0,e.copy(f,g,r)):e.copy(f,g,r+p),f}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluggableAuthClient=t.ExecutableError=void 0;const n=r(70),o=r(271),i=r(489);class a extends Error{constructor(e,t){super(`The executable failed with exit code: ${t} and error message: ${e}.`),this.code=t,Object.setPrototypeOf(this,new.target.prototype)}}t.ExecutableError=a;class s extends n.BaseExternalAccountClient{constructor(e,t){if(super(e,t),!e.credential_source.executable)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(this.command=e.credential_source.executable.command,!this.command)throw new Error('No valid Pluggable Auth "credential_source" provided.');if(void 0===e.credential_source.executable.timeout_millis)this.timeoutMillis=3e4;else if(this.timeoutMillis=e.credential_source.executable.timeout_millis,this.timeoutMillis<5e3||this.timeoutMillis>12e4)throw new Error("Timeout must be between 5000 and 120000 milliseconds.");this.outputFile=e.credential_source.executable.output_file,this.handler=new i.PluggableAuthHandler({command:this.command,timeoutMillis:this.timeoutMillis,outputFile:this.outputFile}),this.credentialSourceType="executable"}async retrieveSubjectToken(){if("1"!==process.env.GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES)throw new Error("Pluggable Auth executables need to be explicitly allowed to run by setting the GOOGLE_EXTERNAL_ACCOUNT_ALLOW_EXECUTABLES environment Variable to 1.");let e=void 0;if(this.outputFile&&(e=await this.handler.retrieveCachedResponse()),!e){const t=new Map;t.set("GOOGLE_EXTERNAL_ACCOUNT_AUDIENCE",this.audience),t.set("GOOGLE_EXTERNAL_ACCOUNT_TOKEN_TYPE",this.subjectTokenType),t.set("GOOGLE_EXTERNAL_ACCOUNT_INTERACTIVE","0"),this.outputFile&&t.set("GOOGLE_EXTERNAL_ACCOUNT_OUTPUT_FILE",this.outputFile);const r=this.getServiceAccountEmail();r&&t.set("GOOGLE_EXTERNAL_ACCOUNT_IMPERSONATED_EMAIL",r),e=await this.handler.retrieveResponseFromExecutable(t)}if(e.version>1)throw new Error("Version of executable is not currently supported, maximum supported version is 1.");if(!e.success)throw new a(e.errorMessage,e.errorCode);if(this.outputFile&&!e.expirationTime)throw new o.InvalidExpirationTimeFieldError("The executable response must contain the `expiration_time` field for successful responses when an output_file has been specified in the configuration.");if(e.isExpired())throw new Error("Executable response is expired.");return e.subjectToken}}t.PluggableAuthClient=s},function(e,t,r){var n=r(5);r(8),e.exports=n.cipher=n.cipher||{},n.cipher.algorithms=n.cipher.algorithms||{},n.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},n.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=n.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new n.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},n.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),n.cipher.algorithms[e]=t},n.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in n.cipher.algorithms?n.cipher.algorithms[e]:null};var o=n.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};o.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=n.util.createBuffer(),this.output=e.output||n.util.createBuffer(),this.mode.start(t)},o.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},o.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,r){var n=r(5);r(55),r(8);var o=e.exports=n.md5=n.md5||{};n.md.md5=n.md.algorithms.md5=o,o.create=function(){p||function(){i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=new Array(64);for(var e=0;e<64;++e)l[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));p=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),o={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,i=0;i<r;++i)o.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},o}};return o.start(),o.update=function(i,a){"utf8"===a&&(i=n.util.encodeUtf8(i));var s=i.length;o.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=o.fullMessageLength.length-1;l>=0;--l)o.fullMessageLength[l]+=s[1],s[1]=s[0]+(o.fullMessageLength[l]/4294967296>>>0),o.fullMessageLength[l]=o.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),c(e,r,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;a.putBytes(i.substr(0,o.blockLength-s));for(var l,p=0,u=o.fullMessageLength.length-1;u>=0;--u)p=(l=8*o.fullMessageLength[u]+p)/4294967296>>>0,a.putInt32Le(l>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};c(d,r,a);var h=n.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},o};var i=null,a=null,s=null,l=null,p=!1;function c(e,t,r){for(var n,o,i,p,c,u,d,h=r.length();h>=64;){for(o=e.h0,i=e.h1,p=e.h2,c=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),n=o+(c^i&(p^c))+l[d]+t[d],o=c,c=p,p=i,i+=n<<(u=s[d])|n>>>32-u;for(;d<32;++d)n=o+(p^c&(i^p))+l[d]+t[a[d]],o=c,c=p,p=i,i+=n<<(u=s[d])|n>>>32-u;for(;d<48;++d)n=o+(i^p^c)+l[d]+t[a[d]],o=c,c=p,p=i,i+=n<<(u=s[d])|n>>>32-u;for(;d<64;++d)n=o+(p^(i|~c))+l[d]+t[a[d]],o=c,c=p,p=i,i+=n<<(u=s[d])|n>>>32-u;e.h0=e.h0+o|0,e.h1=e.h1+i|0,e.h2=e.h2+p|0,e.h3=e.h3+c|0,h-=64}}},function(e,t,r){var n=r(5);r(101),r(55),r(8);var o,i=n.pkcs5=n.pkcs5||{};n.util.isNodejs&&!n.options.usePureJavaScript&&(o=r(0)),e.exports=n.pbkdf2=i.pbkdf2=function(e,t,r,i,a,s){if("function"==typeof a&&(s=a,a=null),n.util.isNodejs&&!n.options.usePureJavaScript&&o.pbkdf2&&(null===a||"object"!=typeof a)&&(o.pbkdf2Sync.length>4||!a||"sha1"===a))return"string"!=typeof a&&(a="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?4===o.pbkdf2Sync.length?o.pbkdf2(e,t,r,i,(function(e,t){if(e)return s(e);s(null,t.toString("binary"))})):o.pbkdf2(e,t,r,i,a,(function(e,t){if(e)return s(e);s(null,t.toString("binary"))})):4===o.pbkdf2Sync.length?o.pbkdf2Sync(e,t,r,i).toString("binary"):o.pbkdf2Sync(e,t,r,i,a).toString("binary");if(null==a&&(a="sha1"),"string"==typeof a){if(!(a in n.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=n.md[a].create()}var l=a.digestLength;if(i>4294967295*l){var p=new Error("Derived key is too long.");if(s)return s(p);throw p}var c=Math.ceil(i/l),u=i-(c-1)*l,d=n.hmac.create();d.start(a,e);var h,f,g,m="";if(!s){for(var y=1;y<=c;++y){d.start(null,null),d.update(t),d.update(n.util.int32ToBytes(y)),h=g=d.digest().getBytes();for(var v=2;v<=r;++v)d.start(null,null),d.update(g),f=d.digest().getBytes(),h=n.util.xorBytes(h,f,l),g=f;m+=y<c?h:h.substr(0,u)}return m}y=1;function b(){if(y>c)return s(null,m);d.start(null,null),d.update(t),d.update(n.util.int32ToBytes(y)),h=g=d.digest().getBytes(),v=2,E()}function E(){if(v<=r)return d.start(null,null),d.update(g),f=d.digest().getBytes(),h=n.util.xorBytes(h,f,l),g=f,++v,n.util.setImmediate(E);m+=y<c?h:h.substr(0,u),++y,b()}b()}},function(e,t,r){var n=r(5);r(71),r(48),r(122),r(55),r(497),r(72),r(84),r(168),r(123),r(8);var o=n.asn1,i=e.exports=n.pki=n.pki||{},a=i.oids,s={};s.CN=a.commonName,s.commonName="CN",s.C=a.countryName,s.countryName="C",s.L=a.localityName,s.localityName="L",s.ST=a.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=a.organizationName,s.organizationName="O",s.OU=a.organizationalUnitName,s.organizationalUnitName="OU",s.E=a.emailAddress,s.emailAddress="E";var l=n.pki.rsa.publicKeyValidator,p={name:"Certificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:o.Class.UNIVERSAL,type:o.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:o.Class.UNIVERSAL,type:o.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},l,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c={name:"rsapss",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:o.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:o.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:o.Class.UNIVERSAL,type:o.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},l,{name:"CertificationRequestInfo.attributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,o=0;null===n&&o<e.attributes.length;++o)r=e.attributes[o],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}i.RDNAttributesAsArray=function(e,t){for(var r,n,i,l=[],p=0;p<e.value.length;++p){r=e.value[p];for(var c=0;c<r.value.length;++c)i={},n=r.value[c],i.type=o.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in a&&(i.name=a[i.type],i.name in s&&(i.shortName=s[i.name])),t&&(t.update(i.type),t.update(i.value)),l.push(i)}return l},i.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],l=o.derToOid(n.value[0].value),p=n.value[1].value,c=0;c<p.length;++c){var u={};if(u.type=l,u.value=p[c].value,u.valueTagClass=p[c].type,u.type in a&&(u.name=a[u.type],u.name in s&&(u.shortName=s[u.name])),u.type===a.extensionRequest){u.extensions=[];for(var d=0;d<u.value.length;++d)u.extensions.push(i.certificateExtensionFromAsn1(u.value[d]))}t.push(u)}return t};var f=function(e,t,r){var n={};if(e!==a["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var i={},s=[];if(!o.validate(t,c,i,s)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=s,l}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=o.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=o.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=o.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n},g=function(e){switch(a[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return n.md.sha1.create();case"md5WithRSAEncryption":return n.md.md5.create();case"sha256WithRSAEncryption":return n.md.sha256.create();case"sha384WithRSAEncryption":return n.md.sha384.create();case"sha512WithRSAEncryption":return n.md.sha512.create();case"RSASSA-PSS":return n.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},m=function(e){var t,r=e.certificate;switch(r.signatureOid){case a.sha1WithRSAEncryption:case a.sha1WithRSASignature:break;case a["RSASSA-PSS"]:var o,i,s;if(void 0===(o=a[r.signatureParameters.mgf.hash.algorithmOid])||void 0===n.md[o])throw(s=new Error("Unsupported MGF hash function.")).oid=r.signatureParameters.mgf.hash.algorithmOid,s.name=o,s;if(void 0===(i=a[r.signatureParameters.mgf.algorithmOid])||void 0===n.mgf[i])throw(s=new Error("Unsupported MGF function.")).oid=r.signatureParameters.mgf.algorithmOid,s.name=i,s;if(i=n.mgf[i].create(n.md[o].create()),void 0===(o=a[r.signatureParameters.hash.algorithmOid])||void 0===n.md[o])throw(s=new Error("Unsupported RSASSA-PSS hash function.")).oid=r.signatureParameters.hash.algorithmOid,s.name=o,s;t=n.pss.create(n.md[o].create(),i,r.signatureParameters.saltLength)}return r.publicKey.verify(e.md.digest().getBytes(),e.signature,t)};function y(e){for(var t,r,i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),a=e.attributes,s=0;s<a.length;++s){var l=(t=a[s]).value,p=o.Type.PRINTABLESTRING;"valueTagClass"in t&&(p=t.valueTagClass)===o.Type.UTF8&&(l=n.util.encodeUtf8(l)),r=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.type).getBytes()),o.create(o.Class.UNIVERSAL,p,!1,l)])]),i.value.push(r)}return i}function v(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in i.oids?t.name=i.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=i.oids[s[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in i.oids))throw(l=new Error("Attribute type not specified.")).attribute=t,l;t.type=i.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=o.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var n=0;n<t.extensions.length;++n)t.value.push(i.certificateExtensionToAsn1(b(t.extensions[n])))}var l;if(void 0===t.value)throw(l=new Error("Attribute value not specified.")).attribute=t,l}}function b(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in i.oids&&(e.name=i.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in i.oids))throw(_=new Error("Extension ID not specified.")).extension=e,_;e.id=i.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var r=0,s=0,l=0;e.digitalSignature&&(s|=128,r=7),e.nonRepudiation&&(s|=64,r=6),e.keyEncipherment&&(s|=32,r=5),e.dataEncipherment&&(s|=16,r=4),e.keyAgreement&&(s|=8,r=3),e.keyCertSign&&(s|=4,r=2),e.cRLSign&&(s|=2,r=1),e.encipherOnly&&(s|=1,r=0),e.decipherOnly&&(l|=128,r=7);var p=String.fromCharCode(r);0!==l?p+=String.fromCharCode(s)+String.fromCharCode(l):0!==s&&(p+=String.fromCharCode(s)),e.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,p)}else if("basicConstraints"===e.name)e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var u in e)!0===e[u]&&(u in a?c.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a[u]).getBytes())):-1!==u.indexOf(".")&&c.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(u).getBytes())))}else if("nsCertType"===e.name){r=0,s=0;e.client&&(s|=128,r=7),e.server&&(s|=64,r=6),e.email&&(s|=32,r=5),e.objsign&&(s|=16,r=4),e.reserved&&(s|=8,r=3),e.sslCA&&(s|=4,r=2),e.emailCA&&(s|=2,r=1),e.objCA&&(s|=1,r=0);p=String.fromCharCode(r);0!==s&&(p+=String.fromCharCode(s)),e.value=o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,p)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);for(var d=0;d<e.altNames.length;++d){p=(v=e.altNames[d]).value;if(7===v.type&&v.ip){if(null===(p=n.util.bytesFromIP(v.ip)))throw(_=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,_}else 8===v.type&&(p=v.oid?o.oidToDer(o.oidToDer(v.oid)):o.oidToDer(p));e.value.value.push(o.create(o.Class.CONTEXT_SPECIFIC,v.type,!1,p))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=o.create(o.Class.UNIVERSAL,o.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,h.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);c=e.value.value;if(e.keyIdentifier){var f=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!1,f))}if(e.authorityCertIssuer){var g=[o.create(o.Class.CONTEXT_SPECIFIC,4,!0,[y(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];c.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,g))}if(e.serialNumber){var m=n.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);c.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if("cRLDistributionPoints"===e.name){e.value=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);c=e.value.value;var v,b=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),E=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(d=0;d<e.altNames.length;++d){p=(v=e.altNames[d]).value;if(7===v.type&&v.ip){if(null===(p=n.util.bytesFromIP(v.ip)))throw(_=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,_}else 8===v.type&&(p=v.oid?o.oidToDer(o.oidToDer(v.oid)):o.oidToDer(p));E.value.push(o.create(o.Class.CONTEXT_SPECIFIC,v.type,!1,p))}b.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[E])),c.push(b)}var _;if(void 0===e.value)throw(_=new Error("Extension value not specified.")).extension=e,_;return e}function E(e,t){switch(e){case a["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.mgf.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.mgf.hash.algorithmOid).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.saltLength).getBytes())])),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,r);default:return o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")}}function _(e){var t=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,i=0;i<r.length;++i){var a=r[i],s=a.value,l=o.Type.UTF8;"valueTagClass"in a&&(l=a.valueTagClass),l===o.Type.UTF8&&(s=n.util.encodeUtf8(s));var p=!1;"valueConstructed"in a&&(p=a.valueConstructed);var c=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,l,p,s)])]);t.value.push(c)}return t}i.certificateFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=o.fromDer(a.body,r);return i.certificateFromAsn1(l,t)},i.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:o.toDer(i.certificateToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.publicKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=o.fromDer(t.body);return i.publicKeyFromAsn1(a)},i.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:o.toDer(i.publicKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:o.toDer(i.publicKeyToRSAPublicKey(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.getPublicKeyFingerprint=function(e,t){var r,a=(t=t||{}).md||n.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":r=o.toDer(i.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":r=o.toDer(i.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(r);var s=a.digest();if("hex"===t.encoding){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s},i.certificationRequestFromPem=function(e,t,r){var a=n.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=o.fromDer(a.body,r);return i.certificationRequestFromAsn1(l,t)},i.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:o.toDer(i.certificationRequestToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h(e.issuer,t)},e.issuer.addField=function(t){v([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){v(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){v(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)b(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,o=0;null===n&&o<e.extensions.length;++o)r=e.extensions[o],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var l=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=i.getTBSCertificate(e);var p=o.toDer(e.tbsCertificate);e.md.update(p.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,a=e.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=a.attributes,s.actualIssuer=n.attributes,s}var l=t.md;if(null===l){l=g({signatureOid:t.signatureOid,type:"certificate"});var p=t.tbsCertificate||i.getTBSCertificate(t),c=o.toDer(p);l.update(c.getBytes())}return null!==l&&(r=m({certificate:e,md:l,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,o=t.subject;if(n.hash&&o.hash)r=n.hash===o.hash;else if(n.attributes.length===o.attributes.length){var i,a;r=!0;for(var s=0;r&&s<n.attributes.length;++s)i=n.attributes[s],a=o.attributes[s],i.type===a.type&&i.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var o=e.extensions[r];if(o.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return n.util.hexToBytes(o.subjectKeyIdentifier)===i}}return!1},e},i.certificateFromAsn1=function(e,t){var r={},a=[];if(!o.validate(e,p,r,a)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=a,s}if(o.derToOid(r.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=i.createCertificate();l.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=n.util.createBuffer(r.certSerialNumber);l.serialNumber=c.toHex(),l.signatureOid=n.asn1.derToOid(r.certSignatureOid),l.signatureParameters=f(l.signatureOid,r.certSignatureParams,!0),l.siginfo.algorithmOid=n.asn1.derToOid(r.certinfoSignatureOid),l.siginfo.parameters=f(l.siginfo.algorithmOid,r.certinfoSignatureParams,!1),l.signature=r.certSignature;var u=[];if(void 0!==r.certValidity1UTCTime&&u.push(o.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&u.push(o.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&u.push(o.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&u.push(o.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=u[0],l.validity.notAfter=u[1],l.tbsCertificate=r.tbsCertificate,t){l.md=g({signatureOid:l.signatureOid,type:"certificate"});var d=o.toDer(l.tbsCertificate);l.md.update(d.getBytes())}var m=n.md.sha1.create(),y=o.toDer(r.certIssuer);m.update(y.getBytes()),l.issuer.getField=function(e){return h(l.issuer,e)},l.issuer.addField=function(e){v([e]),l.issuer.attributes.push(e)},l.issuer.attributes=i.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(l.issuer.uniqueId=r.certIssuerUniqueId),l.issuer.hash=m.digest().toHex();var b=n.md.sha1.create(),E=o.toDer(r.certSubject);return b.update(E.getBytes()),l.subject.getField=function(e){return h(l.subject,e)},l.subject.addField=function(e){v([e]),l.subject.attributes.push(e)},l.subject.attributes=i.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(l.subject.uniqueId=r.certSubjectUniqueId),l.subject.hash=b.digest().toHex(),r.certExtensions?l.extensions=i.certificateExtensionsFromAsn1(r.certExtensions):l.extensions=[],l.publicKey=i.publicKeyFromAsn1(r.subjectPublicKeyInfo),l},i.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],o=0;o<n.value.length;++o)t.push(i.certificateExtensionFromAsn1(n.value[o]));return t},i.certificateExtensionFromAsn1=function(e){var t={};if(t.id=o.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===o.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var r=0,i=0;(l=o.fromDer(t.value)).value.length>1&&(r=l.value.charCodeAt(1),i=l.value.length>2?l.value.charCodeAt(2):0),t.digitalSignature=128==(128&r),t.nonRepudiation=64==(64&r),t.keyEncipherment=32==(32&r),t.dataEncipherment=16==(16&r),t.keyAgreement=8==(8&r),t.keyCertSign=4==(4&r),t.cRLSign=2==(2&r),t.encipherOnly=1==(1&r),t.decipherOnly=128==(128&i)}else if("basicConstraints"===t.name){(l=o.fromDer(t.value)).value.length>0&&l.value[0].type===o.Type.BOOLEAN?t.cA=0!==l.value[0].value.charCodeAt(0):t.cA=!1;var s=null;l.value.length>0&&l.value[0].type===o.Type.INTEGER?s=l.value[0].value:l.value.length>1&&(s=l.value[1].value),null!==s&&(t.pathLenConstraint=o.derToInteger(s))}else if("extKeyUsage"===t.name)for(var l=o.fromDer(t.value),p=0;p<l.value.length;++p){var c=o.derToOid(l.value[p].value);c in a?t[a[c]]=!0:t[c]=!0}else if("nsCertType"===t.name){r=0;(l=o.fromDer(t.value)).value.length>1&&(r=l.value.charCodeAt(1)),t.client=128==(128&r),t.server=64==(64&r),t.email=32==(32&r),t.objsign=16==(16&r),t.reserved=8==(8&r),t.sslCA=4==(4&r),t.emailCA=2==(2&r),t.objCA=1==(1&r)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var u;t.altNames=[];l=o.fromDer(t.value);for(var d=0;d<l.value.length;++d){var h={type:(u=l.value[d]).type,value:u.value};switch(t.altNames.push(h),u.type){case 1:case 2:case 6:break;case 7:h.ip=n.util.bytesToIP(u.value);break;case 8:h.oid=o.derToOid(u.value)}}}else if("subjectKeyIdentifier"===t.name){l=o.fromDer(t.value);t.subjectKeyIdentifier=n.util.bytesToHex(l.value)}return t},i.certificationRequestFromAsn1=function(e,t){var r={},a=[];if(!o.validate(e,d,r,a)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=a,s}if(o.derToOid(r.publicKeyOid)!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=i.createCertificationRequest();if(l.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,l.signatureOid=n.asn1.derToOid(r.csrSignatureOid),l.signatureParameters=f(l.signatureOid,r.csrSignatureParams,!0),l.siginfo.algorithmOid=n.asn1.derToOid(r.csrSignatureOid),l.siginfo.parameters=f(l.siginfo.algorithmOid,r.csrSignatureParams,!1),l.signature=r.csrSignature,l.certificationRequestInfo=r.certificationRequestInfo,t){l.md=g({signatureOid:l.signatureOid,type:"certification request"});var p=o.toDer(l.certificationRequestInfo);l.md.update(p.getBytes())}var c=n.md.sha1.create();return l.subject.getField=function(e){return h(l.subject,e)},l.subject.addField=function(e){v([e]),l.subject.attributes.push(e)},l.subject.attributes=i.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),l.subject.hash=c.digest().toHex(),l.publicKey=i.publicKeyFromAsn1(r.subjectPublicKeyInfo),l.getAttribute=function(e){return h(l,e)},l.addAttribute=function(e){v([e]),l.attributes.push(e)},l.attributes=i.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),l},i.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){v([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h(e,t)},e.addAttribute=function(t){v([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){v(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){v(t),e.attributes=t},e.sign=function(t,r){e.md=r||n.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var l=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=i.getCertificationRequestInfo(e);var p=o.toDer(e.certificationRequestInfo);e.md.update(p.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){r=g({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||i.getCertificationRequestInfo(e),a=o.toDer(n);r.update(a.getBytes())}return null!==r&&(t=m({certificate:e,md:r,signature:e.signature})),t},e};var O=new Date("1950-01-01T00:00:00Z"),w=new Date("2050-01-01T00:00:00Z");function S(e){return e>=O&&e<w?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(e)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(e))}i.getTBSCertificate=function(e){var t=S(e.validity.notBefore),r=S(e.validity.notAfter),a=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.siginfo.algorithmOid).getBytes()),E(e.siginfo.algorithmOid,e.siginfo.parameters)]),y(e.issuer),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t,r]),y(e.subject),i.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(o.create(o.Class.CONTEXT_SPECIFIC,2,!0,[o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(i.certificateExtensionsToAsn1(e.extensions)),a},i.getCertificationRequestInfo=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),y(e.subject),i.publicKeyToAsn1(e.publicKey),_(e)])},i.distinguishedNameToAsn1=function(e){return y(e)},i.certificateToAsn1=function(e){var t=e.tbsCertificate||i.getTBSCertificate(e);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.signatureOid).getBytes()),E(e.signatureOid,e.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},i.certificateExtensionsToAsn1=function(e){var t=o.create(o.Class.CONTEXT_SPECIFIC,3,!0,[]),r=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(i.certificateExtensionToAsn1(e[n]));return t},i.certificateExtensionToAsn1=function(e){var t=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);t.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.id).getBytes())),e.critical&&t.value.push(o.create(o.Class.UNIVERSAL,o.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return"string"!=typeof e.value&&(r=o.toDer(r).getBytes()),t.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r)),t},i.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||i.getCertificationRequestInfo(e);return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[t,o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.signatureOid).getBytes()),E(e.signatureOid,e.signatureParameters)]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},i.createCaStore=function(e){var t={certs:{}};function r(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=n.md.sha1.create();e.attributes=i.RDNAttributesAsArray(y(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return r(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var r=t.certs[e.subject.hash];n.util.isArray(r)||(r=[r]),r.push(e),t.certs[e.subject.hash]=r}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=n.pki.certificateFromPem(e));var t=r(e.subject);if(!t)return!1;n.util.isArray(t)||(t=[t]);for(var a=o.toDer(i.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s){if(a===o.toDer(i.certificateToAsn1(t[s])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var r in t.certs)if(t.certs.hasOwnProperty(r)){var o=t.certs[r];if(n.util.isArray(o))for(var i=0;i<o.length;++i)e.push(o[i]);else e.push(o)}return e},t.removeCertificate=function(e){var s;if("string"==typeof e&&(e=n.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var l=r(e.subject);if(!n.util.isArray(l))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var p=o.toDer(i.certificateToAsn1(e)).getBytes(),c=0;c<l.length;++c){p===o.toDer(i.certificateToAsn1(l[c])).getBytes()&&(s=l[c],l.splice(c,1))}return 0===l.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(e,t,r){"function"==typeof r&&(r={verify:r}),r=r||{};var o=(t=t.slice(0)).slice(0),a=r.validityCheckDate;void 0===a&&(a=new Date);var s=!0,l=null,p=0;do{var c=t.shift(),u=null,d=!1;if(a&&(a<c.validity.notBefore||a>c.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:a}),null===l){if(null===(u=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(d=!0,u=c),u){var h=u;n.util.isArray(h)||(h=[h]);for(var f=!1;!f&&h.length>0;){u=h.shift();try{f=u.verify(c)}catch(e){}}f||(l={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}null!==l||u&&!d||e.hasCertificate(c)||(l={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(null===l&&u&&!c.isIssuer(u)&&(l={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),null===l)for(var g={keyUsage:!0,basicConstraints:!0},m=0;null===l&&m<c.extensions.length;++m){var y=c.extensions[m];y.critical&&!(y.name in g)&&(l={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(null===l&&(!s||0===t.length&&(!u||d))){var v=c.getExtension("basicConstraints"),b=c.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==v||(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate})),null!==l||null===v||v.cA||(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),null===l&&null!==b&&"pathLenConstraint"in v)p-1>v.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate})}var E=null===l||l.error,_=r.verify?r.verify(E,p,o):E;if(!0!==_)throw!0===E&&(l={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(_||0===_)&&("object"!=typeof _||n.util.isArray(_)?"string"==typeof _&&(l.error=_):(_.message&&(l.message=_.message),_.error&&(l.error=_.error))),l;l=null,s=!1,++p}while(t.length>0);return!0}},function(e,t,r){var n=r(5);r(32),r(8),(e.exports=n.pss=n.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,o=e.mgf,i=r.digestLength,a=e.salt||null;if("string"==typeof a&&(a=n.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||n.random,l={encode:function(e,l){var p,c,u=l-1,d=Math.ceil(u/8),h=e.digest().getBytes();if(d<i+t+2)throw new Error("Message is too long to encrypt.");c=null===a?s.getBytesSync(t):a.bytes();var f=new n.util.ByteBuffer;f.fillWithByte(0,8),f.putBytes(h),f.putBytes(c),r.start(),r.update(f.getBytes());var g=r.digest().getBytes(),m=new n.util.ByteBuffer;m.fillWithByte(0,d-t-i-2),m.putByte(1),m.putBytes(c);var y=m.getBytes(),v=d-i-1,b=o.generate(g,v),E="";for(p=0;p<v;p++)E+=String.fromCharCode(y.charCodeAt(p)^b.charCodeAt(p));var _=65280>>8*d-u&255;return(E=String.fromCharCode(E.charCodeAt(0)&~_)+E.substr(1))+g+String.fromCharCode(188)},verify:function(e,a,s){var l,p=s-1,c=Math.ceil(p/8);if(a=a.substr(-c),c<i+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(c-1))throw new Error("Encoded message does not end in 0xBC.");var u=c-i-1,d=a.substr(0,u),h=a.substr(u,i),f=65280>>8*c-p&255;if(0!=(d.charCodeAt(0)&f))throw new Error("Bits beyond keysize not zero as expected.");var g=o.generate(h,u),m="";for(l=0;l<u;l++)m+=String.fromCharCode(d.charCodeAt(l)^g.charCodeAt(l));m=String.fromCharCode(m.charCodeAt(0)&~f)+m.substr(1);var y=c-i-t-2;for(l=0;l<y;l++)if(0!==m.charCodeAt(l))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=m.substr(-t),b=new n.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(v),r.start(),r.update(b.getBytes()),h===r.digest().getBytes()}};return l}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Auth=void 0;const n=r(125),o=r(290),i=r(174),a=r(341);class s extends i.BaseAuth{constructor(e){super(e,new n.AuthRequestHandler(e)),this.app_=e,this.tenantManager_=new o.TenantManager(e),this.projectConfigManager_=new a.ProjectConfigManager(e)}get app(){return this.app_}tenantManager(){return this.tenantManager_}projectConfigManager(){return this.projectConfigManager_}}t.Auth=s},function(e,t,r){"use strict";e.exports=function(e,t,r){if(!e||void 0===e[t]||null===e[t])return r;if("number"!=typeof e[t]||isNaN(e[t]))throw new TypeError("Limit "+t+" is not a valid number");return e[t]}},function(e,t,r){"use strict";const n=new TextDecoder("utf-8"),o=new Map([["utf-8",n],["utf8",n]]);const i={utf8:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.utf8Slice(0,e.length)),latin1:(e,t)=>0===e.length?"":"string"==typeof e?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.ucs2Slice(0,e.length)),base64:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,t)),e.base64Slice(0,e.length)),other:(e,t)=>{if(0===e.length)return"";if("string"==typeof e&&(e=Buffer.from(e,t)),o.has(this.toString()))try{return o.get(this).decode(e)}catch{}return"string"==typeof e?e:e.toString()}};e.exports=function(e,t,r){return e?function(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return i.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return i.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return i.utf16le;case"base64":return i.base64;default:if(void 0===t){t=!0,e=e.toLowerCase();continue}return i.other.bind(e)}}(r)(e,t):e}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Tenant=void 0;const n=r(4),o=r(26),i=r(2),a=r(126);class s{static buildServerRequest(e,t){s.validate(e,t);let r={};var n;(void 0!==e.emailSignInConfig&&(r=a.EmailSignInConfig.buildServerRequest(e.emailSignInConfig)),void 0!==e.displayName&&(r.displayName=e.displayName),void 0!==e.anonymousSignInEnabled&&(r.enableAnonymousUser=e.anonymousSignInEnabled),void 0!==e.multiFactorConfig&&(r.mfaConfig=a.MultiFactorAuthConfig.buildServerRequest(e.multiFactorConfig)),void 0!==e.testPhoneNumbers)&&(r.testPhoneNumbers=null!==(n=e.testPhoneNumbers)&&void 0!==n?n:{});return void 0!==e.smsRegionConfig&&(r.smsRegionConfig=e.smsRegionConfig),void 0!==e.recaptchaConfig&&(r.recaptchaConfig=a.RecaptchaAuthConfig.buildServerRequest(e.recaptchaConfig)),void 0!==e.passwordPolicyConfig&&(r.passwordPolicyConfig=a.PasswordPolicyAuthConfig.buildServerRequest(e.passwordPolicyConfig)),void 0!==e.emailPrivacyConfig&&(r.emailPrivacyConfig=e.emailPrivacyConfig),r}static getTenantIdFromResourceName(e){const t=e.match(/\/tenants\/(.*)$/);return!t||t.length<2?null:t[1]}static validate(e,t){const r={displayName:!0,emailSignInConfig:!0,anonymousSignInEnabled:!0,multiFactorConfig:!0,testPhoneNumbers:!0,smsRegionConfig:!0,recaptchaConfig:!0,passwordPolicyConfig:!0,emailPrivacyConfig:!0},o=t?"CreateTenantRequest":"UpdateTenantRequest";if(!n.isNonNullObject(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,`"${o}" must be a valid non-null object.`);for(const t in e)if(!(t in r))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,`"${t}" is not a valid ${o} parameter.`);if(void 0!==e.displayName&&!n.isNonEmptyString(e.displayName))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,`"${o}.displayName" must be a valid non-empty string.`);if(void 0!==e.emailSignInConfig&&a.EmailSignInConfig.buildServerRequest(e.emailSignInConfig),void 0!==e.testPhoneNumbers&&null!==e.testPhoneNumbers)(0,a.validateTestPhoneNumbers)(e.testPhoneNumbers);else if(null===e.testPhoneNumbers&&t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ARGUMENT,`"${o}.testPhoneNumbers" must be a non-null object.`);void 0!==e.multiFactorConfig&&a.MultiFactorAuthConfig.buildServerRequest(e.multiFactorConfig),void 0!==e.smsRegionConfig&&a.SmsRegionsAuthConfig.validate(e.smsRegionConfig),void 0!==e.recaptchaConfig&&a.RecaptchaAuthConfig.buildServerRequest(e.recaptchaConfig),void 0!==e.passwordPolicyConfig&&a.PasswordPolicyAuthConfig.buildServerRequest(e.passwordPolicyConfig),void 0!==e.emailPrivacyConfig&&a.EmailPrivacyAuthConfig.validate(e.emailPrivacyConfig)}constructor(e){const t=s.getTenantIdFromResourceName(e.name);if(!t)throw new i.FirebaseAuthError(i.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid tenant response");this.tenantId=t,this.displayName=e.displayName;try{this.emailSignInConfig_=new a.EmailSignInConfig(e)}catch(e){this.emailSignInConfig_=new a.EmailSignInConfig({allowPasswordSignup:!1})}this.anonymousSignInEnabled=!!e.enableAnonymousUser,void 0!==e.mfaConfig&&(this.multiFactorConfig_=new a.MultiFactorAuthConfig(e.mfaConfig)),void 0!==e.testPhoneNumbers&&(this.testPhoneNumbers=(0,o.deepCopy)(e.testPhoneNumbers||{})),void 0!==e.smsRegionConfig&&(this.smsRegionConfig=(0,o.deepCopy)(e.smsRegionConfig)),void 0!==e.recaptchaConfig&&(this.recaptchaConfig_=new a.RecaptchaAuthConfig(e.recaptchaConfig)),void 0!==e.passwordPolicyConfig&&(this.passwordPolicyConfig=new a.PasswordPolicyAuthConfig(e.passwordPolicyConfig)),void 0!==e.emailPrivacyConfig&&(this.emailPrivacyConfig=(0,o.deepCopy)(e.emailPrivacyConfig))}get emailSignInConfig(){return this.emailSignInConfig_}get multiFactorConfig(){return this.multiFactorConfig_}get recaptchaConfig(){return this.recaptchaConfig_}toJSON(){var e,t;const r={tenantId:this.tenantId,displayName:this.displayName,emailSignInConfig:null===(e=this.emailSignInConfig_)||void 0===e?void 0:e.toJSON(),multiFactorConfig:null===(t=this.multiFactorConfig_)||void 0===t?void 0:t.toJSON(),anonymousSignInEnabled:this.anonymousSignInEnabled,testPhoneNumbers:this.testPhoneNumbers,smsRegionConfig:(0,o.deepCopy)(this.smsRegionConfig),recaptchaConfig:(0,o.deepCopy)(this.recaptchaConfig),passwordPolicyConfig:(0,o.deepCopy)(this.passwordPolicyConfig),emailPrivacyConfig:(0,o.deepCopy)(this.emailPrivacyConfig)};return void 0===r.multiFactorConfig&&delete r.multiFactorConfig,void 0===r.testPhoneNumbers&&delete r.testPhoneNumbers,void 0===r.smsRegionConfig&&delete r.smsRegionConfig,void 0===r.recaptchaConfig&&delete r.recaptchaConfig,void 0===r.passwordPolicyConfig&&delete r.passwordPolicyConfig,void 0===r.emailPrivacyConfig&&delete r.emailPrivacyConfig,r}}t.Tenant=s},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectConfig=void 0;
/*!
 * Copyright 2022 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=r(4),o=r(2),i=r(126),a=r(26);class s{get multiFactorConfig(){return this.multiFactorConfig_}get recaptchaConfig(){return this.recaptchaConfig_}static validate(e){if(!n.isNonNullObject(e))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"UpdateProjectConfigRequest" must be a valid non-null object.');const t={smsRegionConfig:!0,multiFactorConfig:!0,recaptchaConfig:!0,passwordPolicyConfig:!0,emailPrivacyConfig:!0,mobileLinksConfig:!0};for(const r in e)if(!(r in t))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,`"${r}" is not a valid UpdateProjectConfigRequest parameter.`);void 0!==e.smsRegionConfig&&i.SmsRegionsAuthConfig.validate(e.smsRegionConfig),void 0!==e.multiFactorConfig&&i.MultiFactorAuthConfig.validate(e.multiFactorConfig),void 0!==e.recaptchaConfig&&i.RecaptchaAuthConfig.validate(e.recaptchaConfig),void 0!==e.passwordPolicyConfig&&i.PasswordPolicyAuthConfig.validate(e.passwordPolicyConfig),void 0!==e.emailPrivacyConfig&&i.EmailPrivacyAuthConfig.validate(e.emailPrivacyConfig),void 0!==e.mobileLinksConfig&&i.MobileLinksAuthConfig.validate(e.mobileLinksConfig)}static buildServerRequest(e){s.validate(e);const t={};return void 0!==e.smsRegionConfig&&(t.smsRegionConfig=e.smsRegionConfig),void 0!==e.multiFactorConfig&&(t.mfa=i.MultiFactorAuthConfig.buildServerRequest(e.multiFactorConfig)),void 0!==e.recaptchaConfig&&(t.recaptchaConfig=i.RecaptchaAuthConfig.buildServerRequest(e.recaptchaConfig)),void 0!==e.passwordPolicyConfig&&(t.passwordPolicyConfig=i.PasswordPolicyAuthConfig.buildServerRequest(e.passwordPolicyConfig)),void 0!==e.emailPrivacyConfig&&(t.emailPrivacyConfig=e.emailPrivacyConfig),void 0!==e.mobileLinksConfig&&(t.mobileLinksConfig=e.mobileLinksConfig),t}constructor(e){void 0!==e.smsRegionConfig&&(this.smsRegionConfig=e.smsRegionConfig),void 0!==e.mfa&&(this.multiFactorConfig_=new i.MultiFactorAuthConfig(e.mfa)),void 0!==e.recaptchaConfig&&(this.recaptchaConfig_=new i.RecaptchaAuthConfig(e.recaptchaConfig)),void 0!==e.passwordPolicyConfig&&(this.passwordPolicyConfig=new i.PasswordPolicyAuthConfig(e.passwordPolicyConfig)),void 0!==e.emailPrivacyConfig&&(this.emailPrivacyConfig=e.emailPrivacyConfig),void 0!==e.mobileLinksConfig&&(this.mobileLinksConfig=e.mobileLinksConfig)}toJSON(){const e={smsRegionConfig:(0,a.deepCopy)(this.smsRegionConfig),multiFactorConfig:(0,a.deepCopy)(this.multiFactorConfig),recaptchaConfig:(0,a.deepCopy)(this.recaptchaConfig),passwordPolicyConfig:(0,a.deepCopy)(this.passwordPolicyConfig),emailPrivacyConfig:(0,a.deepCopy)(this.emailPrivacyConfig),mobileLinksConfig:(0,a.deepCopy)(this.mobileLinksConfig)};return void 0===e.smsRegionConfig&&delete e.smsRegionConfig,void 0===e.multiFactorConfig&&delete e.multiFactorConfig,void 0===e.recaptchaConfig&&delete e.recaptchaConfig,void 0===e.passwordPolicyConfig&&delete e.passwordPolicyConfig,void 0===e.emailPrivacyConfig&&delete e.emailPrivacyConfig,void 0===e.mobileLinksConfig&&delete e.mobileLinksConfig,e}}t.ProjectConfig=s},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAuth=void 0,t.createFirebaseTokenGenerator=h;const n=r(2),o=r(26),i=r(4),a=r(125),s=r(516),l=r(517),p=r(126),c=r(340),u=r(289),d=r(127);function h(e,t){try{const r=(0,a.useEmulator)()?new s.EmulatedSigner:(0,d.cryptoSignerFromApp)(e);return new s.FirebaseTokenGenerator(r,t)}catch(e){throw(0,s.handleCryptoSignerError)(e)}}t.BaseAuth=class{constructor(e,t,r){this.authRequestHandler=t,this.tokenGenerator=r||h(e),this.sessionCookieVerifier=(0,l.createSessionCookieVerifier)(e),this.idTokenVerifier=(0,l.createIdTokenVerifier)(e),this.authBlockingTokenVerifier=(0,l.createAuthBlockingTokenVerifier)(e)}createCustomToken(e,t){return this.tokenGenerator.createCustomToken(e,t)}verifyIdToken(e,t=!1){const r=(0,a.useEmulator)();return this.idTokenVerifier.verifyJWT(e,r).then(e=>t||r?this.verifyDecodedJWTNotRevokedOrDisabled(e,n.AuthClientErrorCode.ID_TOKEN_REVOKED):e)}getUser(e){return this.authRequestHandler.getAccountInfoByUid(e).then(e=>new c.UserRecord(e.users[0]))}getUserByEmail(e){return this.authRequestHandler.getAccountInfoByEmail(e).then(e=>new c.UserRecord(e.users[0]))}getUserByPhoneNumber(e){return this.authRequestHandler.getAccountInfoByPhoneNumber(e).then(e=>new c.UserRecord(e.users[0]))}getUserByProviderUid(e,t){return"phone"===e?this.getUserByPhoneNumber(t):"email"===e?this.getUserByEmail(t):this.authRequestHandler.getAccountInfoByFederatedUid(e,t).then(e=>new c.UserRecord(e.users[0]))}getUsers(e){if(!i.isArray(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"`identifiers` parameter must be an array");return this.authRequestHandler.getAccountInfoByIdentifiers(e).then(t=>{const r=t.users?t.users.map(e=>new c.UserRecord(e)):[],o=e.filter(e=>!((e,t)=>!!t.find(t=>{if((0,u.isUidIdentifier)(e))return e.uid===t.uid;if((0,u.isEmailIdentifier)(e))return e.email===t.email;if((0,u.isPhoneIdentifier)(e))return e.phoneNumber===t.phoneNumber;if((0,u.isProviderIdentifier)(e)){const r=t.providerData.find(t=>e.providerId===t.providerId);return!!r&&e.providerUid===r.uid}throw new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,"Unhandled identifier type")}))(e,r));return{users:r,notFound:o}})}listUsers(e,t){return this.authRequestHandler.downloadAccount(e,t).then(e=>{const t=[];e.users.forEach(e=>{t.push(new c.UserRecord(e))});const r={users:t,pageToken:e.nextPageToken};return void 0===r.pageToken&&delete r.pageToken,r})}createUser(e){return this.authRequestHandler.createNewAccount(e).then(e=>this.getUser(e)).catch(e=>{if("auth/user-not-found"===e.code)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,"Unable to create the user record provided.");throw e})}deleteUser(e){return this.authRequestHandler.deleteAccount(e).then(()=>{})}deleteUsers(e){if(!i.isArray(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"`uids` parameter must be an array");return this.authRequestHandler.deleteAccounts(e,!0).then(t=>{const r={failureCount:0,successCount:e.length,errors:[]};return i.isNonEmptyArray(t.errors)?(r.failureCount=t.errors.length,r.successCount=e.length-t.errors.length,r.errors=t.errors.map(e=>{if(void 0===e.index)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,"Corrupt BatchDeleteAccountsResponse detected");return{index:e.index,error:(t=>{const r=t&&t.startsWith("NOT_DISABLED")?n.AuthClientErrorCode.USER_NOT_DISABLED:n.AuthClientErrorCode.INTERNAL_ERROR;return new n.FirebaseAuthError(r,e.message)})(e.message)}}),r):r})}updateUser(e,t){var r,i;if(null!==(r=t=(0,o.deepCopy)(t))&&void 0!==r&&r.providerToLink)if("email"===t.providerToLink.providerId){if(void 0!==t.email)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.email and UpdateRequest.providerToLink.providerId='email' were set. To link to the email/password provider, only specify the UpdateRequest.email field.");t.email=t.providerToLink.uid,delete t.providerToLink}else if("phone"===t.providerToLink.providerId){if(void 0!==t.phoneNumber)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber and UpdateRequest.providerToLink.providerId='phone' were set. To link to a phone provider, only specify the UpdateRequest.phoneNumber field.");t.phoneNumber=t.providerToLink.uid,delete t.providerToLink}if(null!==(i=t)&&void 0!==i&&i.providersToUnlink&&-1!==t.providersToUnlink.indexOf("phone")&&null===t.phoneNumber)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"Both UpdateRequest.phoneNumber=null and UpdateRequest.providersToUnlink=['phone'] were set. To unlink from a phone provider, only specify the UpdateRequest.phoneNumber=null field.");return this.authRequestHandler.updateExistingAccount(e,t).then(e=>this.getUser(e))}setCustomUserClaims(e,t){return this.authRequestHandler.setCustomUserClaims(e,t).then(()=>{})}revokeRefreshTokens(e){return this.authRequestHandler.revokeRefreshTokens(e).then(()=>{})}importUsers(e,t){return this.authRequestHandler.uploadAccount(e,t)}createSessionCookie(e,t){return i.isNonNullObject(t)&&i.isNumber(t.expiresIn)?this.authRequestHandler.createSessionCookie(e,t.expiresIn):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION))}verifySessionCookie(e,t=!1){const r=(0,a.useEmulator)();return this.sessionCookieVerifier.verifyJWT(e,r).then(e=>t||r?this.verifyDecodedJWTNotRevokedOrDisabled(e,n.AuthClientErrorCode.SESSION_COOKIE_REVOKED):e)}generatePasswordResetLink(e,t){return this.authRequestHandler.getEmailActionLink("PASSWORD_RESET",e,t)}generateEmailVerificationLink(e,t){return this.authRequestHandler.getEmailActionLink("VERIFY_EMAIL",e,t)}generateVerifyAndChangeEmailLink(e,t,r){return this.authRequestHandler.getEmailActionLink("VERIFY_AND_CHANGE_EMAIL",e,r,t)}generateSignInWithEmailLink(e,t){return this.authRequestHandler.getEmailActionLink("EMAIL_SIGNIN",e,t)}listProviderConfigs(e){const t=(e,t)=>{const r={providerConfigs:t};return Object.prototype.hasOwnProperty.call(e,"nextPageToken")&&(r.pageToken=e.nextPageToken),r};return e&&"oidc"===e.type?this.authRequestHandler.listOAuthIdpConfigs(e.maxResults,e.pageToken).then(e=>{const r=[];return e.oauthIdpConfigs.forEach(e=>{r.push(new p.OIDCConfig(e))}),t(e,r)}):e&&"saml"===e.type?this.authRequestHandler.listInboundSamlConfigs(e.maxResults,e.pageToken).then(e=>{const r=[];return e.inboundSamlConfigs.forEach(e=>{r.push(new p.SAMLConfig(e))}),t(e,r)}):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,'"AuthProviderConfigFilter.type" must be either "saml" or "oidc"'))}getProviderConfig(e){return p.OIDCConfig.isProviderId(e)?this.authRequestHandler.getOAuthIdpConfig(e).then(e=>new p.OIDCConfig(e)):p.SAMLConfig.isProviderId(e)?this.authRequestHandler.getInboundSamlConfig(e).then(e=>new p.SAMLConfig(e)):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_PROVIDER_ID))}deleteProviderConfig(e){return p.OIDCConfig.isProviderId(e)?this.authRequestHandler.deleteOAuthIdpConfig(e):p.SAMLConfig.isProviderId(e)?this.authRequestHandler.deleteInboundSamlConfig(e):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_PROVIDER_ID))}updateProviderConfig(e,t){return i.isNonNullObject(t)?p.OIDCConfig.isProviderId(e)?this.authRequestHandler.updateOAuthIdpConfig(e,t).then(e=>new p.OIDCConfig(e)):p.SAMLConfig.isProviderId(e)?this.authRequestHandler.updateInboundSamlConfig(e,t).then(e=>new p.SAMLConfig(e)):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "UpdateAuthProviderRequest" configuration.'))}createProviderConfig(e){return i.isNonNullObject(e)?p.OIDCConfig.isProviderId(e.providerId)?this.authRequestHandler.createOAuthIdpConfig(e).then(e=>new p.OIDCConfig(e)):p.SAMLConfig.isProviderId(e.providerId)?this.authRequestHandler.createInboundSamlConfig(e).then(e=>new p.SAMLConfig(e)):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_PROVIDER_ID)):Promise.reject(new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CONFIG,'Request is missing "AuthProviderConfig" configuration.'))}_verifyAuthBlockingToken(e,t){const r=(0,a.useEmulator)();return this.authBlockingTokenVerifier._verifyAuthBlockingToken(e,r,t).then(e=>e)}verifyDecodedJWTNotRevokedOrDisabled(e,t){return this.getUser(e.sub).then(r=>{if(r.disabled)throw new n.FirebaseAuthError(n.AuthClientErrorCode.USER_DISABLED,"The user record is disabled.");if(r.tokensValidAfterTime){if(1e3*e.auth_time<new Date(r.tokensValidAfterTime).getTime())throw new n.FirebaseAuthError(t)}return e})}}},function(e,t,r){var n=r(519),o=r(520);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=o.verify,t.decode=o.decode,t.isValid=o.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new o(e)}},function(e,t,r){const n=r(103),o=r(129),i=r(19),a=r(300),s=r(86),l=r(524),p=r(525),c=r(526),u=r(527),d=r(528),h=r(529),f=r(530),g=r(531),m=r(33),y=r(532),v=r(533),b=r(178),E=r(534),_=r(535),O=r(131),w=r(179),S=r(301),T=r(302),A=r(180),C=r(181),I=r(303),N=r(536),P=r(132),R=r(34),D=r(133),k=r(538),x=r(539),j=r(540),L=r(541),F=r(542),M=r(182),U=r(543),B=r(544),V=r(545),q=r(546),G=r(547);e.exports={parse:s,valid:l,clean:p,inc:c,diff:u,major:d,minor:h,patch:f,prerelease:g,compare:m,rcompare:y,compareLoose:v,compareBuild:b,sort:E,rsort:_,gt:O,lt:w,eq:S,neq:T,gte:A,lte:C,cmp:I,coerce:N,Comparator:P,Range:R,satisfies:D,toComparators:k,maxSatisfying:x,minSatisfying:j,minVersion:L,validRange:F,outside:M,gtr:U,ltr:B,intersects:V,simplifyRange:q,subset:G,SemVer:i,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},function(e,t){const r=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?r:e:n},function(e,t,r){const n=r(19);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>n(e,t,r)<0},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>n(e,t,r)>=0},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>n(e,t,r)<=0},function(e,t,r){const n=r(19),o=r(132),{ANY:i}=o,a=r(34),s=r(133),l=r(131),p=r(179),c=r(181),u=r(180);e.exports=(e,t,r,d)=>{let h,f,g,m,y;switch(e=new n(e,d),t=new a(t,d),r){case">":h=l,f=c,g=p,m=">",y=">=";break;case"<":h=p,f=u,g=l,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let a=null,s=null;if(n.forEach(e=>{e.semver===i&&(e=new o(">=0.0.0")),a=a||e,s=s||e,h(e.semver,a.semver,d)?a=e:g(e.semver,s.semver,d)&&(s=e)}),a.operator===m||a.operator===y)return!1;if((!s.operator||s.operator===m)&&f(e,s.semver))return!1;if(s.operator===y&&g(e,s.semver))return!1}return!0}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(558):e.exports=r(560)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedDecrypt=void 0;const n=r(20),o=r(310),i=r(314),a=r(3),s=r(105),l=r(24),p=r(562),c=r(12),u=r(137),d=r(106),h=r(320);t.flattenedDecrypt=async function(e,t,r){var f;if(!(0,l.default)(e))throw new a.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new a.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new a.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new a.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new a.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new a.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new a.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new a.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new a.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,l.default)(e.unprotected))throw new a.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let g;if(e.protected)try{const t=(0,n.decode)(e.protected);g=JSON.parse(c.decoder.decode(t))}catch{throw new a.JWEInvalid("JWE Protected Header is invalid")}if(!(0,s.default)(g,e.header,e.unprotected))throw new a.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const m={...g,...e.header,...e.unprotected};if((0,d.default)(a.JWEInvalid,new Map,null==r?void 0:r.crit,g,m),void 0!==m.zip){if(!g||!g.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==m.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:y,enc:v}=m;if("string"!=typeof y||!y)throw new a.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof v||!v)throw new a.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const b=r&&(0,h.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),E=r&&(0,h.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(b&&!b.has(y))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(E&&!E.has(v))throw new a.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let _;if(void 0!==e.encrypted_key)try{_=(0,n.decode)(e.encrypted_key)}catch{throw new a.JWEInvalid("Failed to base64url decode the encrypted_key")}let O,w,S,T=!1;"function"==typeof t&&(t=await t(g,e),T=!0);try{O=await(0,p.default)(y,t,_,m,r)}catch(e){if(e instanceof TypeError||e instanceof a.JWEInvalid||e instanceof a.JOSENotSupported)throw e;O=(0,u.default)(v)}try{w=(0,n.decode)(e.iv)}catch{throw new a.JWEInvalid("Failed to base64url decode the iv")}try{S=(0,n.decode)(e.tag)}catch{throw new a.JWEInvalid("Failed to base64url decode the tag")}const A=c.encoder.encode(null!==(f=e.protected)&&void 0!==f?f:"");let C,I;C=void 0!==e.aad?(0,c.concat)(A,c.encoder.encode("."),c.encoder.encode(e.aad)):A;try{I=(0,n.decode)(e.ciphertext)}catch{throw new a.JWEInvalid("Failed to base64url decode the ciphertext")}let N=await(0,o.default)(v,O,I,w,S,C);"DEF"===m.zip&&(N=await((null==r?void 0:r.inflateRaw)||i.inflate)(N));const P={plaintext:N};if(void 0!==e.protected&&(P.protectedHeader=g),void 0!==e.aad)try{P.additionalAuthenticatedData=(0,n.decode)(e.aad)}catch{throw new a.JWEInvalid("Failed to base64url decode the aad")}return void 0!==e.unprotected&&(P.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(P.unprotectedHeader=e.header),T?{...P,key:t}:P}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;const n=r(3),o=r(134);function i(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported("Unsupported JWE Algorithm: "+e)}}t.bitLength=i,t.default=e=>(0,o.default)(new Uint8Array(i(e)>>3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);let o;t.default=e=>(o||(o=new Set((0,n.getCiphers)())),o.has(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;const n=r(18),o=r(0),i=r(3),a=r(12),s=r(36),l=r(73),p=r(35),c=r(37),u=r(186),d=r(38);function h(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw new TypeError("Invalid key size for alg: "+t)}function f(e,t,r){if((0,p.default)(e))return e;if(e instanceof Uint8Array)return(0,o.createSecretKey)(e);if((0,s.isCryptoKey)(e))return(0,l.checkEncCryptoKey)(e,t,r),o.KeyObject.from(e);throw new TypeError((0,c.default)(e,...d.types,"Uint8Array"))}t.wrap=(e,t,r)=>{const s=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,u.default)(s))throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);const l=f(t,e,"wrapKey");h(l,e);const p=(0,o.createCipheriv)(s,l,n.Buffer.alloc(8,166));return(0,a.concat)(p.update(r),p.final())};t.unwrap=(e,t,r)=>{const s=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,u.default)(s))throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);const l=f(t,e,"unwrapKey");h(l,e);const p=(0,o.createDecipheriv)(s,l,n.Buffer.alloc(8,166));return(0,a.concat)(p.update(r),p.final())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromX509=t.fromSPKI=t.fromPKCS8=t.toPKCS8=t.toSPKI=void 0;const n=r(0),o=r(18),i=r(36),a=r(35),s=r(37),l=r(38),p=(e,t,r)=>{let o;if((0,i.isCryptoKey)(r)){if(!r.extractable)throw new TypeError("CryptoKey is not extractable");o=n.KeyObject.from(r)}else{if(!(0,a.default)(r))throw new TypeError((0,s.default)(r,...l.types));o=r}if(o.type!==e)throw new TypeError(`key is not a ${e} key`);return o.export({format:"pem",type:t})};t.toSPKI=e=>p("public","spki",e);t.toPKCS8=e=>p("private","pkcs8",e);t.fromPKCS8=e=>(0,n.createPrivateKey)({key:o.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});t.fromSPKI=e=>(0,n.createPublicKey)({key:o.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});t.fromX509=e=>(0,n.createPublicKey)({key:e,type:"spki",format:"pem"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedEncrypt=t.unprotected=void 0;const n=r(20),o=r(319),i=r(314),a=r(185),s=r(321),l=r(3),p=r(105),c=r(12),u=r(106);t.unprotected=Symbol();t.FlattenedEncrypt=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new l.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,p.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new l.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const d={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,u.default)(l.JWEInvalid,new Map,null==r?void 0:r.crit,this._protectedHeader,d),void 0!==d.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new l.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==d.zip)throw new l.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:h,enc:f}=d;if("string"!=typeof h||!h)throw new l.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof f||!f)throw new l.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let g,m,y,v,b,E,_;if("dir"===h){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===h&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:m,encryptedKey:g,parameters:n}=await(0,s.default)(h,f,e,this._cek,this._keyManagementParameters)),n&&(r&&t.unprotected in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=(0,a.default)(f)),v=this._protectedHeader?c.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):c.encoder.encode(""),this._aad?(b=(0,n.encode)(this._aad),y=(0,c.concat)(v,c.encoder.encode("."),c.encoder.encode(b))):y=v,"DEF"===d.zip){const e=await((null==r?void 0:r.deflateRaw)||i.deflate)(this._plaintext);({ciphertext:E,tag:_}=await(0,o.default)(f,e,m,this._iv,y))}else({ciphertext:E,tag:_}=await(0,o.default)(f,this._plaintext,m,this._iv,y));const O={ciphertext:(0,n.encode)(E),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(_)};return g&&(O.encrypted_key=(0,n.encode)(g)),b&&(O.aad=b),this._protectedHeader&&(O.protected=c.decoder.decode(v)),this._sharedUnprotectedHeader&&(O.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(O.header=this._unprotectedHeader),O}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedVerify=void 0;const n=r(20),o=r(570),i=r(3),a=r(12),s=r(105),l=r(24),p=r(140),c=r(106),u=r(320);t.flattenedVerify=async function(e,t,r){var d;if(!(0,l.default)(e))throw new i.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new i.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new i.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new i.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new i.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new i.JWSInvalid("JWS Unprotected Header incorrect type");let h={};if(e.protected)try{const t=(0,n.decode)(e.protected);h=JSON.parse(a.decoder.decode(t))}catch{throw new i.JWSInvalid("JWS Protected Header is invalid")}if(!(0,s.default)(h,e.header))throw new i.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const f={...h,...e.header};let g=!0;if((0,c.default)(i.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,h,f).has("b64")&&(g=h.b64,"boolean"!=typeof g))throw new i.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:m}=f;if("string"!=typeof m||!m)throw new i.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const y=r&&(0,u.default)("algorithms",r.algorithms);if(y&&!y.has(m))throw new i.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(g){if("string"!=typeof e.payload)throw new i.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new i.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let v=!1;"function"==typeof t&&(t=await t(h,e),v=!0),(0,p.default)(m,t,"verify");const b=(0,a.concat)(a.encoder.encode(null!==(d=e.protected)&&void 0!==d?d:""),a.encoder.encode("."),"string"==typeof e.payload?a.encoder.encode(e.payload):e.payload);let E,_;try{E=(0,n.decode)(e.signature)}catch{throw new i.JWSInvalid("Failed to base64url decode the signature")}if(!await(0,o.default)(m,t,E,b))throw new i.JWSSignatureVerificationFailed;if(g)try{_=(0,n.decode)(e.payload)}catch{throw new i.JWSInvalid("Failed to base64url decode the payload")}else _="string"==typeof e.payload?a.encoder.encode(e.payload):e.payload;const O={payload:_};return void 0!==e.protected&&(O.protectedHeader=h),void 0!==e.header&&(O.unprotectedHeader=e.header),v?{...O,key:t}:O}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o=r(12),i=r(328),a=r(329),s=r(24),l=e=>e.toLowerCase().replace(/^application\//,"");t.default=(e,t,r={})=>{const{typ:p}=r;if(p&&("string"!=typeof e.typ||l(e.typ)!==l(p)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let c;try{c=JSON.parse(o.decoder.decode(t))}catch{}if(!(0,s.default)(c))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");const{requiredClaims:u=[],issuer:d,subject:h,audience:f,maxTokenAge:g}=r;void 0!==g&&u.push("iat"),void 0!==f&&u.push("aud"),void 0!==h&&u.push("sub"),void 0!==d&&u.push("iss");for(const e of new Set(u.reverse()))if(!(e in c))throw new n.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(d&&!(Array.isArray(d)?d:[d]).includes(c.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(h&&c.sub!==h)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(f&&(m=c.aud,y="string"==typeof f?[f]:f,!("string"==typeof m?y.includes(m):Array.isArray(m)&&y.some(Set.prototype.has.bind(new Set(m))))))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");var m,y;let v;switch(typeof r.clockTolerance){case"string":v=(0,a.default)(r.clockTolerance);break;case"number":v=r.clockTolerance;break;case"undefined":v=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:b}=r,E=(0,i.default)(b||new Date);if((void 0!==c.iat||g)&&"number"!=typeof c.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==c.nbf){if("number"!=typeof c.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(c.nbf>E+v)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==c.exp){if("number"!=typeof c.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(c.exp<=E-v)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(g){const e=E-c.iat;if(e-v>("number"==typeof g?g:(0,a.default)(g)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-v)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedSign=void 0;const n=r(20),o=r(326),i=r(105),a=r(3),s=r(12),l=r(140),p=r(106);t.FlattenedSign=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new a.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,i.default)(this._protectedHeader,this._unprotectedHeader))throw new a.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader};let c=!0;if((0,p.default)(a.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,r).has("b64")&&(c=this._protectedHeader.b64,"boolean"!=typeof c))throw new a.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:u}=r;if("string"!=typeof u||!u)throw new a.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,l.default)(u,e,"sign");let d,h=this._payload;c&&(h=s.encoder.encode((0,n.encode)(h))),d=this._protectedHeader?s.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):s.encoder.encode("");const f=(0,s.concat)(d,s.encoder.encode("."),h),g=await(0,o.default)(u,e,f),m={signature:(0,n.encode)(g),payload:""};return c&&(m.payload=s.decoder.decode(h)),this._unprotectedHeader&&(m.header=this._unprotectedHeader),this._protectedHeader&&(m.protected=s.decoder.decode(d)),m}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProduceJWT=void 0;const n=r(328),o=r(24),i=r(329);t.ProduceJWT=class{constructor(e){if(!(0,o.default)(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:(0,n.default)(new Date)+(0,i.default)(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:(0,n.default)(new Date)+(0,i.default)(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:(0,n.default)(new Date)}:{...this._payload,iat:e},this}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const n=r(20);t.encode=n.encode,t.decode=n.decode},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(18),i=r(23),a=r(1),s=r(0),l=r(11),p=r(31),c=r(66),u=r(241),d=r(609),h=r(610);function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var g=f(n),m=f(o),y=f(i),v=f(a),b=f(s),E=f(l),_=f(p),O=f(c),w=f(u),S=f(d),T=f(h);function A(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var C={},I={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */!function(e,t){var r=m.default,n=r.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=i),i.prototype=Object.create(n.prototype),o(n,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=n(e);return void 0!==t?"string"==typeof r?o.fill(t,r):o.fill(t):o.fill(0),o},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(I,I.exports);var N={},P=v.default.Stream,R=g.default,D=function(e){this.readable=this.writable=!0,this._paused=!1,this._driver=e};R.inherits(D,P),D.prototype.pause=function(){this._paused=!0,this._driver.messages._paused=!0},D.prototype.resume=function(){this._paused=!1,this.emit("drain");var e=this._driver.messages;e._paused=!1,e.emit("drain")},D.prototype.write=function(e){return!!this.writable&&(this._driver.parse(e),!this._paused)},D.prototype.end=function(e){if(this.writable){void 0!==e&&this.write(e),this.writable=!1;var t=this._driver.messages;t.readable&&(t.readable=t.writable=!1,t.emit("end"))}},D.prototype.destroy=function(){this.end()};var k=function(e){this.readable=this.writable=!0,this._paused=!1,this._driver=e};R.inherits(k,P),k.prototype.pause=function(){this._driver.io._paused=!0},k.prototype.resume=function(){this._driver.io._paused=!1,this._driver.io.emit("drain")},k.prototype.write=function(e){return!!this.writable&&("string"==typeof e?this._driver.text(e):this._driver.binary(e),!this._paused)},k.prototype.end=function(e){void 0!==e&&this.write(e)},k.prototype.destroy=function(){},N.IO=D,N.Messages=k;var x=function(){this.clear()};x.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"],x.prototype.clear=function(){this._sent={},this._lines=[]},x.prototype.set=function(e,t){if(void 0!==t){e=this._strip(e),t=this._strip(t);var r=e.toLowerCase();(!this._sent.hasOwnProperty(r)||this.ALLOWED_DUPLICATES.indexOf(r)>=0)&&(this._sent[r]=!0,this._lines.push(e+": "+t+"\r\n"))}},x.prototype.toString=function(){return this._lines.join("")},x.prototype._strip=function(e){return e.toString().replace(/^ */,"").replace(/ *$/,"")};var j=x,L=I.exports.Buffer,F=function(){this._queue=[],this._queueSize=0,this._offset=0};F.prototype.put=function(e){e&&0!==e.length&&(L.isBuffer(e)||(e=L.from(e)),this._queue.push(e),this._queueSize+=e.length)},F.prototype.read=function(e){if(e>this._queueSize)return null;if(0===e)return L.alloc(0);this._queueSize-=e;var t,r,n=this._queue,o=e,i=n[0];if(i.length>=e)return i.length===e?n.shift():(r=i.slice(0,e),n[0]=i.slice(e),r);for(var a=0,s=n.length;a<s&&!(o<n[a].length);a++)o-=n[a].length;return t=n.splice(0,a),o>0&&n.length>0&&(t.push(n[0].slice(0,o)),n[0]=n[0].slice(o)),L.concat(t,e)},F.prototype.eachByte=function(e,t){for(var r,n,o;this._queue.length>0;){for(n=(r=this._queue[0]).length;this._offset<n;)o=this._offset,this._offset+=1,e.call(t,r[o]);this._offset=0,this._queue.shift()}};var M=F,U=I.exports.Buffer,B=y.default.EventEmitter,V=g.default,q=N,G=j,H=M,z=function(e,t,r){B.call(this),z.validateOptions(r||{},["maxLength","masking","requireMasking","protocols"]),this._request=e,this._reader=new H,this._options=r||{},this._maxLength=this._options.maxLength||this.MAX_LENGTH,this._headers=new G,this.__queue=[],this.readyState=0,this.url=t,this.io=new q.IO(this),this.messages=new q.Messages(this),this._bindEventListeners()};V.inherits(z,B),z.isWebSocket=function(e){var t=e.headers.connection||"",r=e.headers.upgrade||"";return"GET"===e.method&&t.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&"websocket"===r.toLowerCase()},z.validateOptions=function(e,t){for(var r in e)if(t.indexOf(r)<0)throw new Error("Unrecognized option: "+r)};var W={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var e=this;this.messages.on("error",(function(){})),this.on("message",(function(t){var r=e.messages;r.readable&&r.emit("data",t.data)})),this.on("error",(function(t){var r=e.messages;r.readable&&r.emit("error",t)})),this.on("close",(function(){var t=e.messages;t.readable&&(t.readable=t.writable=!1,t.emit("end"))}))},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(e){return!1},setHeader:function(e,t){return!(this.readyState>0)&&(this._headers.set(e,t),!0)},start:function(){if(0!==this.readyState)return!1;if(!z.isWebSocket(this._request))return this._failHandshake(new Error("Not a WebSocket request"));var e;try{e=this._handshakeResponse()}catch(e){return this._failHandshake(e)}return this._write(e),-1!==this._stage&&this._open(),!0},_failHandshake:function(e){var t=new G;return t.set("Content-Type","text/plain"),t.set("Content-Length",U.byteLength(e.message,"utf8")),t=["HTTP/1.1 400 Bad Request",t.toString(),e.message],this._write(U.from(t.join("\r\n"),"utf8")),this._fail("protocol_error",e.message),!1},text:function(e){return this.frame(e)},binary:function(e){return!1},ping:function(){return!1},pong:function(){return!1},close:function(e,t){return 1===this.readyState&&(this.readyState=3,this.emit("close",new z.CloseEvent(null,null)),!0)},_open:function(){this.readyState=1,this.__queue.forEach((function(e){this.frame.apply(this,e)}),this),this.__queue=[],this.emit("open",new z.OpenEvent)},_queue:function(e){return this.__queue.push(e),!0},_write:function(e){var t=this.io;t.readable&&t.emit("data",e)},_fail:function(e,t){this.readyState=2,this.emit("error",new Error(t)),this.close()}};for(var J in W)z.prototype[J]=W[J];z.ConnectEvent=function(){},z.OpenEvent=function(){},z.CloseEvent=function(e,t){this.code=e,this.reason=t},z.MessageEvent=function(e){this.data=e},z.PingEvent=function(e){this.data=e},z.PongEvent=function(e){this.data=e};var K=z,Y={};function $(e){if(void 0!==e&&e!==$.REQUEST&&e!==$.RESPONSE)throw new Error("type must be REQUEST or RESPONSE");void 0===e||this.initialize(e),this.maxHeaderSize=$.maxHeaderSize}Y.HTTPParser=$,$.prototype.initialize=function(e,t){if(e!==$.REQUEST&&e!==$.RESPONSE)throw new Error("type must be REQUEST or RESPONSE");this.type=e,this.state=e+"_LINE",this.info={headers:[],upgrade:!1},this.trailers=[],this.line="",this.isChunked=!1,this.connection="",this.headerSize=0,this.body_bytes=null,this.isUserCall=!1,this.hadError=!1},$.encoding="ascii",$.maxHeaderSize=81920,$.REQUEST="REQUEST",$.RESPONSE="RESPONSE";var Q=$.kOnHeaders=1,X=$.kOnHeadersComplete=2,Z=$.kOnBody=3,ee=$.kOnMessageComplete=4;$.prototype[Q]=$.prototype[X]=$.prototype[Z]=$.prototype[ee]=function(){};var te=!0;Object.defineProperty($,"kOnExecute",{get:function(){return te=!1,99}});var re=Y.methods=$.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK","SOURCE"],ne=re.indexOf("CONNECT");$.prototype.reinitialize=$,$.prototype.close=$.prototype.pause=$.prototype.resume=$.prototype.remove=$.prototype.free=function(){},$.prototype._compatMode0_11=!1,$.prototype.getAsyncId=function(){return 0};var oe={REQUEST_LINE:!0,RESPONSE_LINE:!0,HEADER:!0};$.prototype.execute=function(e,t,r){if(!(this instanceof $))throw new TypeError("not a HTTPParser");t=t||0,r="number"==typeof r?r:e.length,this.chunk=e,this.offset=t;var n=this.end=t+r;try{for(;this.offset<n&&!this[this.state](););}catch(e){if(this.isUserCall)throw e;return this.hadError=!0,e}return this.chunk=null,r=this.offset-t,oe[this.state]&&(this.headerSize+=r,this.headerSize>(this.maxHeaderSize||$.maxHeaderSize))?new Error("max header size exceeded"):r};var ie={REQUEST_LINE:!0,RESPONSE_LINE:!0,BODY_RAW:!0};$.prototype.finish=function(){if(!this.hadError)return ie[this.state]?void("BODY_RAW"===this.state&&this.userCall()(this[ee]())):new Error("invalid state for EOF")},$.prototype.consume=$.prototype.unconsume=$.prototype.getCurrentBuffer=function(){},$.prototype.userCall=function(){this.isUserCall=!0;var e=this;return function(t){return e.isUserCall=!1,t}},$.prototype.nextRequest=function(){this.userCall()(this[ee]()),this.reinitialize(this.type)},$.prototype.consumeLine=function(){for(var e=this.end,t=this.chunk,r=this.offset;r<e;r++)if(10===t[r]){var n=this.line+t.toString($.encoding,this.offset,r);return"\r"===n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),this.line="",this.offset=r+1,n}this.line+=t.toString($.encoding,this.offset,this.end),this.offset=this.end};var ae=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/,se=/^[ \t]+(.*[^ \t])/;$.prototype.parseHeader=function(e,t){if(-1!==e.indexOf("\r"))throw ce("HPE_LF_EXPECTED");var r=ae.exec(e),n=r&&r[1];if(n)t.push(n),t.push(r[2]);else{var o=se.exec(e);o&&t.length&&(t[t.length-1]&&(t[t.length-1]+=" "),t[t.length-1]+=o[1])}};var le=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;$.prototype.REQUEST_LINE=function(){var e=this.consumeLine();if(e){var t=le.exec(e);if(null===t)throw ce("HPE_INVALID_CONSTANT");if(this.info.method=this._compatMode0_11?t[1]:re.indexOf(t[1]),-1===this.info.method)throw new Error("invalid request method");this.info.url=t[2],this.info.versionMajor=+t[3],this.info.versionMinor=+t[4],this.body_bytes=0,this.state="HEADER"}};var pe=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;function ce(e){var t=new Error("Parse Error");return t.code=e,t}$.prototype.RESPONSE_LINE=function(){var e=this.consumeLine();if(e){var t=pe.exec(e);if(null===t)throw ce("HPE_INVALID_CONSTANT");this.info.versionMajor=+t[1],this.info.versionMinor=+t[2];var r=this.info.statusCode=+t[3];this.info.statusMessage=t[4],1!=(r/100|0)&&204!==r&&304!==r||(this.body_bytes=0),this.state="HEADER"}},$.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(-1!==this.connection.indexOf("close"))return!1}else if(-1===this.connection.indexOf("keep-alive"))return!1;return!(null===this.body_bytes&&!this.isChunked)},$.prototype.HEADER=function(){var e=this.consumeLine();if(void 0!==e){var t=this.info;if(e)this.parseHeader(e,t.headers);else{for(var r,n,o=t.headers,i=!1,a=!1,s=0;s<o.length;s+=2)switch(o[s].toLowerCase()){case"transfer-encoding":this.isChunked="chunked"===o[s+1].toLowerCase();break;case"content-length":if(r=+o[s+1],i){if(r!==this.body_bytes)throw ce("HPE_UNEXPECTED_CONTENT_LENGTH")}else i=!0,this.body_bytes=r;break;case"connection":this.connection+=o[s+1].toLowerCase();break;case"upgrade":a=!0}if(this.isChunked&&i&&(i=!1,this.body_bytes=null),a&&-1!=this.connection.indexOf("upgrade")?t.upgrade=this.type===$.REQUEST||101===t.statusCode:t.upgrade=t.method===ne,this.isChunked&&t.upgrade&&(this.isChunked=!1),t.shouldKeepAlive=this.shouldKeepAlive(),2===(n=te?this.userCall()(this[X](t)):this.userCall()(this[X](t.versionMajor,t.versionMinor,t.headers,t.method,t.url,t.statusCode,t.statusMessage,t.upgrade,t.shouldKeepAlive))))return this.nextRequest(),!0;if(this.isChunked&&!n)this.state="BODY_CHUNKHEAD";else{if(n||0===this.body_bytes)return this.nextRequest(),t.upgrade;null===this.body_bytes?this.state="BODY_RAW":this.state="BODY_SIZED"}}}},$.prototype.BODY_CHUNKHEAD=function(){var e=this.consumeLine();void 0!==e&&(this.body_bytes=parseInt(e,16),this.body_bytes?this.state="BODY_CHUNK":this.state="BODY_CHUNKTRAILERS")},$.prototype.BODY_CHUNK=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[Z](this.chunk.slice(this.offset,this.offset+e),0,e)),this.offset+=e,this.body_bytes-=e,this.body_bytes||(this.state="BODY_CHUNKEMPTYLINE")},$.prototype.BODY_CHUNKEMPTYLINE=function(){var e=this.consumeLine();if(void 0!==e){if(""!==e)throw new Error("Expected empty line");this.state="BODY_CHUNKHEAD"}},$.prototype.BODY_CHUNKTRAILERS=function(){var e=this.consumeLine();void 0!==e&&(e?this.parseHeader(e,this.trailers):(this.trailers.length&&this.userCall()(this[Q](this.trailers,"")),this.nextRequest()))},$.prototype.BODY_RAW=function(){this.userCall()(this[Z](this.chunk.slice(this.offset,this.end),0,this.end-this.offset)),this.offset=this.end},$.prototype.BODY_SIZED=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[Z](this.chunk.slice(this.offset,this.offset+e),0,e)),this.offset+=e,this.body_bytes-=e,this.body_bytes||this.nextRequest()},["Headers","HeadersComplete","Body","MessageComplete"].forEach((function(e){var t=$["kOn"+e];Object.defineProperty($.prototype,"on"+e,{get:function(){return this[t]},set:function(e){return this._compatMode0_11=!0,ne="CONNECT",this[t]=e}})}));var ue=Y.HTTPParser,de=I.exports.Buffer,he={request:ue.REQUEST||"request",response:ue.RESPONSE||"response"},fe=function(e){this._type=e,this._parser=new ue(he[e]),this._complete=!1,this.headers={};var t=null,r=this;this._parser.onHeaderField=function(e,r,n){t=e.toString("utf8",r,r+n).toLowerCase()},this._parser.onHeaderValue=function(e,n,o){var i=e.toString("utf8",n,n+o);r.headers.hasOwnProperty(t)?r.headers[t]+=", "+i:r.headers[t]=i},this._parser.onHeadersComplete=this._parser[ue.kOnHeadersComplete]=function(e,t,n,o,i,a){var s=arguments[0];if("object"==typeof s&&(o=s.method,i=s.url,a=s.statusCode,n=s.headers),r.method="number"==typeof o?fe.METHODS[o]:o,r.statusCode=a,r.url=i,n){for(var l,p,c=0,u=n.length;c<u;c+=2)l=n[c].toLowerCase(),p=n[c+1],r.headers.hasOwnProperty(l)?r.headers[l]+=", "+p:r.headers[l]=p;r._complete=!0}}};fe.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var ge=process.version?process.version.match(/[0-9]+/g).map((function(e){return parseInt(e,10)})):[];0===ge[0]&&12===ge[1]&&(fe.METHODS[16]="REPORT",fe.METHODS[17]="MKACTIVITY",fe.METHODS[18]="CHECKOUT",fe.METHODS[19]="MERGE",fe.METHODS[20]="M-SEARCH",fe.METHODS[21]="NOTIFY",fe.METHODS[22]="SUBSCRIBE",fe.METHODS[23]="UNSUBSCRIBE",fe.METHODS[24]="PATCH",fe.METHODS[25]="PURGE"),fe.prototype.isComplete=function(){return this._complete},fe.prototype.parse=function(e){var t=this._parser.execute(e,0,e.length);if("number"!=typeof t)return this.error=t,void(this._complete=!0);this._complete&&(this.body=t<e.length?e.slice(t):de.alloc(0))};var me=fe,ye=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,ve=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,be=new RegExp(ye.source+"(?:=(?:"+ye.source+"|"+/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/.source+"))?"),Ee=new RegExp(ye.source+"(?: *; *"+be.source+")*","g"),_e=new RegExp("^"+Ee.source+"(?: *, *"+Ee.source+")*$"),Oe=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/,we=Object.prototype.hasOwnProperty,Se={parseHeader:function(e){var t=new Te;if(""===e||void 0===e)return t;if(!_e.test(e))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+e);return e.match(Ee).forEach((function(e){var r=e.match(new RegExp(be.source,"g")),n=r.shift(),o={};r.forEach((function(e){var t,r=e.match(be),n=r[1];t=void 0!==r[2]?r[2]:void 0===r[3]||r[3].replace(/\\/g,""),Oe.test(t)&&(t=parseFloat(t)),we.call(o,n)?(o[n]=[].concat(o[n]),o[n].push(t)):o[n]=t}),this),t.push(n,o)}),this),t},serializeParams:function(e,t){var r=[],n=function(e,t){t instanceof Array?t.forEach((function(t){n(e,t)})):!0===t?r.push(e):"number"==typeof t?r.push(e+"="+t):ve.test(t)?r.push(e+'="'+t.replace(/"/g,'\\"')+'"'):r.push(e+"="+t)};for(var o in t)n(o,t[o]);return[e].concat(r).join("; ")}},Te=function(){this._byName={},this._inOrder=[]};Te.prototype.push=function(e,t){we.call(this._byName,e)||(this._byName[e]=[]),this._byName[e].push(t),this._inOrder.push({name:e,params:t})},Te.prototype.eachOffer=function(e,t){for(var r=this._inOrder,n=0,o=r.length;n<o;n++)e.call(t,r[n].name,r[n].params)},Te.prototype.byName=function(e){return this._byName[e]||[]},Te.prototype.toArray=function(){return this._inOrder.slice()};var Ae=Se,Ce=function(e){this._bufferSize=e,this.clear()};Ce.prototype.clear=function(){this._buffer=new Array(this._bufferSize),this._ringOffset=0,this._ringSize=this._bufferSize,this._head=0,this._tail=0,this.length=0},Ce.prototype.push=function(e){var t=!1,r=!1;this._ringSize<this._bufferSize?t=0===this._tail:this._ringOffset===this._ringSize&&(t=!0,r=0===this._tail),t&&(this._tail=this._bufferSize,this._buffer=this._buffer.concat(new Array(this._bufferSize)),this._bufferSize=this._buffer.length,r&&(this._ringSize=this._bufferSize)),this._buffer[this._tail]=e,this.length+=1,this._tail<this._ringSize&&(this._ringOffset+=1),this._tail=(this._tail+1)%this._bufferSize},Ce.prototype.peek=function(){if(0!==this.length)return this._buffer[this._head]},Ce.prototype.shift=function(){if(0!==this.length){var e=this._buffer[this._head];return this._buffer[this._head]=void 0,this.length-=1,this._ringOffset-=1,0===this._ringOffset&&this.length>0?(this._head=this._ringSize,this._ringOffset=this.length,this._ringSize=this._bufferSize):this._head=(this._head+1)%this._ringSize,e}};var Ie=Ce,Ne=Ie,Pe=function(e,t){this._session=e,this._method=t,this._queue=new Ne(Pe.QUEUE_SIZE),this._stopped=!1,this.pending=0};Pe.QUEUE_SIZE=8,Pe.prototype.call=function(e,t,r,n){if(!this._stopped){var o={error:e,message:t,callback:r,context:n,done:!1},i=!1,a=this;if(this._queue.push(o),o.error)return o.done=!0,this._stop(),this._flushQueue();var s=function(e,t){i^(i=!0)&&(e?(a._stop(),o.error=e,o.message=null):o.message=t,o.done=!0,a._flushQueue())};try{this._session[this._method](t,s)}catch(e){s(e)}}},Pe.prototype._stop=function(){this.pending=this._queue.length,this._stopped=!0},Pe.prototype._flushQueue=function(){for(var e,t=this._queue;t.length>0&&t.peek().done;)(e=t.shift()).error?(this.pending=0,t.clear()):this.pending-=1,e.callback.call(e.context,e.error,e.message)};var Re=Pe,De=Ie,ke=function(){this._complete=!1,this._callbacks=new De(ke.QUEUE_SIZE)};ke.QUEUE_SIZE=4,ke.all=function(e){var t=new ke,r=e.length,n=r;for(0===r&&t.done();n--;)e[n].then((function(){0===(r-=1)&&t.done()}));return t},ke.prototype.then=function(e){this._complete?e():this._callbacks.push(e)},ke.prototype.done=function(){this._complete=!0;for(var e,t=this._callbacks;e=t.shift();)e()};var xe=ke,je=Re,Le=xe,Fe=function(e){this._ext=e[0],this._session=e[1],this._functors={incoming:new je(this._session,"processIncomingMessage"),outgoing:new je(this._session,"processOutgoingMessage")}};Fe.prototype.pending=function(e){var t=this._functors[e];t._stopped||(t.pending+=1)},Fe.prototype.incoming=function(e,t,r,n){this._exec("incoming",e,t,r,n)},Fe.prototype.outgoing=function(e,t,r,n){this._exec("outgoing",e,t,r,n)},Fe.prototype.close=function(){return this._closed=this._closed||new Le,this._doClose(),this._closed},Fe.prototype._exec=function(e,t,r,n,o){this._functors[e].call(t,r,(function(e,t){e&&(e.message=this._ext.name+": "+e.message),n.call(o,e,t),this._doClose()}),this)},Fe.prototype._doClose=function(){var e=this._functors.incoming,t=this._functors.outgoing;this._closed&&e.pending+t.pending===0&&(this._session&&this._session.close(),this._session=null,this._closed.done())};var Me=Fe,Ue=xe,Be=function(e){this._cells=e.map((function(e){return new Me(e)})),this._stopped={incoming:!1,outgoing:!1}};Be.prototype.processIncomingMessage=function(e,t,r){this._stopped.incoming||this._loop("incoming",this._cells.length-1,-1,-1,e,t,r)},Be.prototype.processOutgoingMessage=function(e,t,r){this._stopped.outgoing||this._loop("outgoing",0,this._cells.length,1,e,t,r)},Be.prototype.close=function(e,t){this._stopped={incoming:!0,outgoing:!0};var r=this._cells.map((function(e){return e.close()}));e&&Ue.all(r).then((function(){e.call(t)}))},Be.prototype._loop=function(e,t,r,n,o,i,a){for(var s=this._cells,l=s.length,p=this;l--;)s[l].pending(e);var c=function(t,o,l){if(t===r)return i.call(a,o,l);s[t][e](o,l,(function(r,o){r&&(p._stopped[e]=!0),c(t+n,r,o)}))};c(t,null,o)};var Ve=Ae,qe=Be,Ge=function(){this._rsv1=this._rsv2=this._rsv3=null,this._byName={},this._inOrder=[],this._sessions=[],this._index={}};Ge.MESSAGE_OPCODES=[1,2];var He={add:function(e){if("string"!=typeof e.name)throw new TypeError("extension.name must be a string");if("permessage"!==e.type)throw new TypeError('extension.type must be "permessage"');if("boolean"!=typeof e.rsv1)throw new TypeError("extension.rsv1 must be true or false");if("boolean"!=typeof e.rsv2)throw new TypeError("extension.rsv2 must be true or false");if("boolean"!=typeof e.rsv3)throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(e.name))throw new TypeError('An extension with name "'+e.name+'" is already registered');this._byName[e.name]=e,this._inOrder.push(e)},generateOffer:function(){var e=[],t=[],r={};return this._inOrder.forEach((function(n){var o=n.createClientSession();if(o){var i=[n,o];e.push(i),r[n.name]=i;var a=o.generateOffer();(a=a?[].concat(a):[]).forEach((function(e){t.push(Ve.serializeParams(n.name,e))}),this)}}),this),this._sessions=e,this._index=r,t.length>0?t.join(", "):null},activate:function(e){var t=Ve.parseHeader(e),r=[];t.eachOffer((function(e,t){var n=this._index[e];if(!n)throw new Error('Server sent an extension response for unknown extension "'+e+'"');var o=n[0],i=n[1],a=this._reserved(o);if(a)throw new Error("Server sent two extension responses that use the RSV"+a[0]+' bit: "'+a[1]+'" and "'+o.name+'"');if(!0!==i.activate(t))throw new Error("Server sent unacceptable extension parameters: "+Ve.serializeParams(e,t));this._reserve(o),r.push(n)}),this),this._sessions=r,this._pipeline=new qe(r)},generateResponse:function(e){var t=[],r=[],n=Ve.parseHeader(e);return this._inOrder.forEach((function(e){var o=n.byName(e.name);if(0!==o.length&&!this._reserved(e)){var i=e.createServerSession(o);i&&(this._reserve(e),t.push([e,i]),r.push(Ve.serializeParams(e.name,i.generateResponse())))}}),this),this._sessions=t,this._pipeline=new qe(t),r.length>0?r.join(", "):null},validFrameRsv:function(e){var t,r={rsv1:!1,rsv2:!1,rsv3:!1};if(Ge.MESSAGE_OPCODES.indexOf(e.opcode)>=0)for(var n=0,o=this._sessions.length;n<o;n++)t=this._sessions[n][0],r.rsv1=r.rsv1||t.rsv1,r.rsv2=r.rsv2||t.rsv2,r.rsv3=r.rsv3||t.rsv3;return(r.rsv1||!e.rsv1)&&(r.rsv2||!e.rsv2)&&(r.rsv3||!e.rsv3)},processIncomingMessage:function(e,t,r){this._pipeline.processIncomingMessage(e,t,r)},processOutgoingMessage:function(e,t,r){this._pipeline.processOutgoingMessage(e,t,r)},close:function(e,t){if(!this._pipeline)return e.call(t);this._pipeline.close(e,t)},_reserve:function(e){this._rsv1=this._rsv1||e.rsv1&&e.name,this._rsv2=this._rsv2||e.rsv2&&e.name,this._rsv3=this._rsv3||e.rsv3&&e.name},_reserved:function(e){return this._rsv1&&e.rsv1?[1,this._rsv1]:this._rsv2&&e.rsv2?[2,this._rsv2]:!(!this._rsv3||!e.rsv3)&&[3,this._rsv3]}};for(var ze in He)Ge.prototype[ze]=He[ze];var We=Ge,Je=function(){},Ke={final:!1,rsv1:!1,rsv2:!1,rsv3:!1,opcode:null,masked:!1,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var Ye in Ke)Je.prototype[Ye]=Ke[Ye];var $e=Je,Qe=I.exports.Buffer,Xe=function(){this.rsv1=!1,this.rsv2=!1,this.rsv3=!1,this.opcode=null,this.length=0,this._chunks=[]},Ze={read:function(){return this.data=this.data||Qe.concat(this._chunks,this.length)},pushFrame:function(e){this.rsv1=this.rsv1||e.rsv1,this.rsv2=this.rsv2||e.rsv2,this.rsv3=this.rsv3||e.rsv3,null===this.opcode&&(this.opcode=e.opcode),this._chunks.push(e.payload),this.length+=e.length}};for(var et in Ze)Xe.prototype[et]=Ze[et];var tt=Xe,rt=I.exports.Buffer,nt=b.default,ot=g.default,it=We,at=K,st=$e,lt=tt,pt=function(e,t,r){if(at.apply(this,arguments),this._extensions=new it,this._stage=0,this._masking=this._options.masking,this._protocols=this._options.protocols||[],this._requireMasking=this._options.requireMasking,this._pingCallbacks={},"string"==typeof this._protocols&&(this._protocols=this._protocols.split(/ *, */)),this._request){var n=this._request.headers["sec-websocket-protocol"],o=this._protocols;void 0!==n&&("string"==typeof n&&(n=n.split(/ *, */)),this.protocol=n.filter((function(e){return o.indexOf(e)>=0}))[0]),this.version="hybi-"+pt.VERSION}};ot.inherits(pt,at),pt.VERSION="13",pt.mask=function(e,t,r){if(!t||0===t.length)return e;r=r||0;for(var n=0,o=e.length-r;n<o;n++)e[r+n]=e[r+n]^t[n%4];return e},pt.generateAccept=function(e){var t=nt.createHash("sha1");return t.update(e+pt.GUID),t.digest("base64")},pt.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var ct={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(e){return this._extensions.add(e),!0},parse:function(e){this._reader.put(e);for(var t=!0;t;)switch(this._stage){case 0:(t=this._reader.read(1))&&this._parseOpcode(t[0]);break;case 1:(t=this._reader.read(1))&&this._parseLength(t[0]);break;case 2:(t=this._reader.read(this._frame.lengthBytes))&&this._parseExtendedLength(t);break;case 3:(t=this._reader.read(4))&&(this._stage=4,this._frame.maskingKey=t);break;case 4:(t=this._reader.read(this._frame.length))&&(this._stage=0,this._emitFrame(t));break;default:t=null}},text:function(e){return!(this.readyState>1)&&this.frame(e,"text")},binary:function(e){return!(this.readyState>1)&&this.frame(e,"binary")},ping:function(e,t){return!(this.readyState>1)&&(e=e||"",t&&(this._pingCallbacks[e]=t),this.frame(e,"ping"))},pong:function(e){return!(this.readyState>1)&&(e=e||"",this.frame(e,"pong"))},close:function(e,t){return e=e||"",t=t||this.ERRORS.normal_closure,this.readyState<=0?(this.readyState=3,this.emit("close",new at.CloseEvent(t,e)),!0):1===this.readyState&&(this.readyState=2,this._extensions.close((function(){this.frame(e,"close",t)}),this),!0)},frame:function(e,t,r){if(this.readyState<=0)return this._queue([e,t,r]);if(this.readyState>2)return!1;e instanceof Array&&(e=rt.from(e)),"number"==typeof e&&(e=e.toString());var n,o,i=new lt,a="string"==typeof e;i.rsv1=i.rsv2=i.rsv3=!1,i.opcode=this.OPCODES[t||(a?"text":"binary")],n=a?rt.from(e,"utf8"):e,r&&(o=n,(n=rt.allocUnsafe(2+o.length)).writeUInt16BE(r,0),o.copy(n,2)),i.data=n;var s=function(e){var t=new st;t.final=!0,t.rsv1=e.rsv1,t.rsv2=e.rsv2,t.rsv3=e.rsv3,t.opcode=e.opcode,t.masked=!!this._masking,t.length=e.data.length,t.payload=e.data,t.masked&&(t.maskingKey=nt.randomBytes(4)),this._sendFrame(t)};return this.MESSAGE_OPCODES.indexOf(i.opcode)>=0?this._extensions.processOutgoingMessage(i,(function(e,t){if(e)return this._fail("extension_error",e.message);s.call(this,t)}),this):s.call(this,i),!0},_sendFrame:function(e){var t=e.length,r=t<=125?2:t<=65535?4:10,n=r+(e.masked?4:0),o=rt.allocUnsafe(n+t),i=e.masked?this.MASK:0;o[0]=(e.final?this.FIN:0)|(e.rsv1?this.RSV1:0)|(e.rsv2?this.RSV2:0)|(e.rsv3?this.RSV3:0)|e.opcode,t<=125?o[1]=i|t:t<=65535?(o[1]=126|i,o.writeUInt16BE(t,2)):(o[1]=127|i,o.writeUInt32BE(Math.floor(t/4294967296),2),o.writeUInt32BE(t%4294967296,6)),e.payload.copy(o,n),e.masked&&(e.maskingKey.copy(o,r),pt.mask(o,e.maskingKey,n)),this._write(o)},_handshakeResponse:function(){var e=this._request.headers["sec-websocket-key"],t=this._request.headers["sec-websocket-version"];if(t!==pt.VERSION)throw new Error("Unsupported WebSocket version: "+t);if("string"!=typeof e)throw new Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Accept",pt.generateAccept(e)),this.protocol&&this._headers.set("Sec-WebSocket-Protocol",this.protocol);var r=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);r&&this._headers.set("Sec-WebSocket-Extensions",r);var n=["HTTP/1.1 101 Switching Protocols",this._headers.toString(),""];return rt.from(n.join("\r\n"),"utf8")},_shutdown:function(e,t,r){delete this._frame,delete this._message,this._stage=5;var n=1===this.readyState;this.readyState=2,this._extensions.close((function(){n&&this.frame(t,"close",e),this.readyState=3,r&&this.emit("error",new Error(t)),this.emit("close",new at.CloseEvent(e,t))}),this)},_fail:function(e,t){this.readyState>1||this._shutdown(this.ERRORS[e],t,!0)},_parseOpcode:function(e){var t=[this.RSV1,this.RSV2,this.RSV3].map((function(t){return(e&t)===t})),r=this._frame=new st;return r.final=(e&this.FIN)===this.FIN,r.rsv1=t[0],r.rsv2=t[1],r.rsv3=t[2],r.opcode=e&this.OPCODE,this._stage=1,this._extensions.validFrameRsv(r)?this.OPCODE_CODES.indexOf(r.opcode)<0?this._fail("protocol_error","Unrecognized frame opcode: "+r.opcode):this.MESSAGE_OPCODES.indexOf(r.opcode)<0&&!r.final?this._fail("protocol_error","Received fragmented control frame: opcode = "+r.opcode):this._message&&this.OPENING_OPCODES.indexOf(r.opcode)>=0?this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished"):void 0:this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(r.rsv1?1:0)+", reserved2 = "+(r.rsv2?1:0)+", reserved3 = "+(r.rsv3?1:0))},_parseLength:function(e){var t=this._frame;if(t.masked=(e&this.MASK)===this.MASK,t.length=e&this.LENGTH,t.length>=0&&t.length<=125){if(this._stage=t.masked?3:4,!this._checkFrameLength())return}else this._stage=2,t.lengthBytes=126===t.length?2:8;if(this._requireMasking&&!t.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(e){var t=this._frame;if(t.length=this._readUInt(e),this._stage=t.masked?3:4,this.MESSAGE_OPCODES.indexOf(t.opcode)<0&&t.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+t.length);this._checkFrameLength()},_checkFrameLength:function(){return!((this._message?this._message.length:0)+this._frame.length>this._maxLength)||(this._fail("too_large","WebSocket frame length too large"),!1)},_emitFrame:function(e){var t,r,n,o,i,a=this._frame,s=a.payload=pt.mask(e,a.maskingKey),l=a.opcode;if(delete this._frame,l===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(a)}if(l!==this.OPCODES.text&&l!==this.OPCODES.binary||(this._message=new lt,this._message.pushFrame(a)),a.final&&this.MESSAGE_OPCODES.indexOf(l)>=0)return this._emitMessage(this._message);l===this.OPCODES.close&&(r=s.length>=2?s.readUInt16BE(0):null,n=s.length>2?this._encode(s.slice(2)):null,0!==s.length&&!(null!==r&&r>=this.MIN_RESERVED_ERROR&&r<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(r)<0&&(r=this.ERRORS.protocol_error),(s.length>125||s.length>2&&!n)&&(r=this.ERRORS.protocol_error),this._shutdown(r||this.DEFAULT_ERROR_CODE,n||"")),l===this.OPCODES.ping&&(this.frame(s,"pong"),this.emit("ping",new at.PingEvent(s.toString()))),l===this.OPCODES.pong&&(i=(o=this._pingCallbacks)[t=this._encode(s)],delete o[t],i&&i(),this.emit("pong",new at.PongEvent(s.toString())))},_emitMessage:function(e){(e=this._message).read(),delete this._message,this._extensions.processIncomingMessage(e,(function(e,t){if(e)return this._fail("extension_error",e.message);var r=t.data;if(t.opcode===this.OPCODES.text&&(r=this._encode(r)),null===r)return this._fail("encoding_error","Could not decode a text frame as UTF-8");this.emit("message",new at.MessageEvent(r))}),this)},_encode:function(e){try{var t=e.toString("binary",0,e.length);if(!this.UTF8_MATCH.test(t))return null}catch(e){}return e.toString("utf8",0,e.length)},_readUInt:function(e){return 2===e.length?e.readUInt16BE(0):4294967296*e.readUInt32BE(0)+e.readUInt32BE(4)}};for(var ut in ct)pt.prototype[ut]=ct[ut];var dt=pt,ht=I.exports.Buffer,ft=v.default.Stream,gt=E.default,mt=g.default,yt=K,vt=j,bt=me,Et={"ws:":80,"wss:":443},_t=function(e,t,r){this._client=e,this._http=new bt("response"),this._origin="object"==typeof e.url?e.url:gt.parse(e.url),this._url="object"==typeof t?t:gt.parse(t),this._options=r||{},this._state=0,this.readable=this.writable=!0,this._paused=!1,this._headers=new vt,this._headers.set("Host",this._origin.host),this._headers.set("Connection","keep-alive"),this._headers.set("Proxy-Connection","keep-alive");var n=this._url.auth&&ht.from(this._url.auth,"utf8").toString("base64");n&&this._headers.set("Proxy-Authorization","Basic "+n)};mt.inherits(_t,ft);var Ot={setHeader:function(e,t){return 0===this._state&&(this._headers.set(e,t),!0)},start:function(){if(0!==this._state)return!1;this._state=1;var e=this._origin,t=e.port||Et[e.protocol],r=["CONNECT "+e.hostname+":"+t+" HTTP/1.1",this._headers.toString(),""];return this.emit("data",ht.from(r.join("\r\n"),"utf8")),!0},pause:function(){this._paused=!0},resume:function(){this._paused=!1,this.emit("drain")},write:function(e){if(!this.writable)return!1;if(this._http.parse(e),!this._http.isComplete())return!this._paused;if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,200===this.statusCode)this.emit("connect",new yt.ConnectEvent);else{var t="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(t))}return this.end(),!this._paused},end:function(e){this.writable&&(void 0!==e&&this.write(e),this.readable=this.writable=!1,this.emit("close"),this.emit("end"))},destroy:function(){this.end()}};for(var wt in Ot)_t.prototype[wt]=Ot[wt];var St=_t,Tt=I.exports.Buffer,At=b.default,Ct=E.default,It=g.default,Nt=me,Pt=K,Rt=dt,Dt=St,kt=function(e,t){this.version="hybi-"+Rt.VERSION,Rt.call(this,null,e,t),this.readyState=-1,this._key=kt.generateKey(),this._accept=Rt.generateAccept(this._key),this._http=new Nt("response");var r=Ct.parse(this.url),n=r.auth&&Tt.from(r.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(r.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(r.pathname||"/")+(r.search||""),this._headers.set("Host",r.host),this._headers.set("Upgrade","websocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Key",this._key),this._headers.set("Sec-WebSocket-Version",Rt.VERSION),this._protocols.length>0&&this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", ")),n&&this._headers.set("Authorization","Basic "+n)};It.inherits(kt,Rt),kt.generateKey=function(){return At.randomBytes(16).toString("base64")};var xt={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(e,t){return new Dt(this,e,t)},start:function(){return-1===this.readyState&&(this._write(this._handshakeRequest()),this.readyState=0,!0)},parse:function(e){if(3!==this.readyState){if(this.readyState>0)return Rt.prototype.parse.call(this,e);this._http.parse(e),this._http.isComplete()&&(this._validateHandshake(),3!==this.readyState&&(this._open(),this.parse(this._http.body)))}},_handshakeRequest:function(){var e=this._extensions.generateOffer();e&&this._headers.set("Sec-WebSocket-Extensions",e);var t=["GET "+this._pathname+" HTTP/1.1",this._headers.toString(),""];return Tt.from(t.join("\r\n"),"utf8")},_failHandshake:function(e){e="Error during WebSocket handshake: "+e,this.readyState=3,this.emit("error",new Error(e)),this.emit("close",new Pt.CloseEvent(this.ERRORS.protocol_error,e))},_validateHandshake:function(){if(this.statusCode=this._http.statusCode,this.headers=this._http.headers,this._http.error)return this._failHandshake(this._http.error.message);if(101!==this._http.statusCode)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var e=this._http.headers,t=e.upgrade||"",r=e.connection||"",n=e["sec-websocket-accept"]||"",o=e["sec-websocket-protocol"]||"";if(""===t)return this._failHandshake("'Upgrade' header is missing");if("websocket"!==t.toLowerCase())return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(""===r)return this._failHandshake("'Connection' header is missing");if("upgrade"!==r.toLowerCase())return this._failHandshake("'Connection' header value is not 'Upgrade'");if(n!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");if(this.protocol=null,""!==o){if(this._protocols.indexOf(o)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");this.protocol=o}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(e){return this._failHandshake(e.message)}}};for(var jt in xt)kt.prototype[jt]=xt[jt];var Lt=kt,Ft=I.exports.Buffer,Mt=K,Ut=function(e,t,r){Mt.apply(this,arguments),this._stage=0,this.version="hixie-75",this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("WebSocket-Origin",this._request.headers.origin),this._headers.set("WebSocket-Location",this.url)};g.default.inherits(Ut,Mt);var Bt={close:function(){return 3!==this.readyState&&(this.readyState=3,this.emit("close",new Mt.CloseEvent(null,null)),!0)},parse:function(e){this.readyState>1||(this._reader.put(e),this._reader.eachByte((function(e){var t;switch(this._stage){case-1:this._body.push(e),this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:if(this._length=(127&e)+128*this._length,this._closing&&0===this._length)return this.close();128!=(128&e)&&(0===this._length?this._stage=0:(this._skipped=0,this._stage=2));break;case 2:if(255===e)this._stage=0,t=Ft.from(this._buffer).toString("utf8",0,this._buffer.length),this.emit("message",new Mt.MessageEvent(t));else if(this._length)this._skipped+=1,this._skipped===this._length&&(this._stage=0);else if(this._buffer.push(e),this._buffer.length>this._maxLength)return this.close()}}),this))},frame:function(e){if(0===this.readyState)return this._queue([e]);if(this.readyState>1)return!1;"string"!=typeof e&&(e=e.toString());var t=Ft.byteLength(e),r=Ft.allocUnsafe(t+2);return r[0]=0,r.write(e,1),r[r.length-1]=255,this._write(r),!0},_handshakeResponse:function(){var e=["HTTP/1.1 101 Web Socket Protocol Handshake",this._headers.toString(),""];return Ft.from(e.join("\r\n"),"utf8")},_parseLeadingByte:function(e){128==(128&e)?(this._length=0,this._stage=1):(delete this._length,delete this._skipped,this._buffer=[],this._stage=2)}};for(var Vt in Bt)Ut.prototype[Vt]=Bt[Vt];var qt=Ut,Gt=I.exports.Buffer,Ht=K,zt=qt,Wt=b.default,Jt=g.default,Kt=function(e){return parseInt((e.match(/[0-9]/g)||[]).join(""),10)},Yt=function(e){return(e.match(/ /g)||[]).length},$t=function(e,t,r){zt.apply(this,arguments),this._stage=-1,this._body=[],this.version="hixie-76",this._headers.clear(),this._headers.set("Upgrade","WebSocket"),this._headers.set("Connection","Upgrade"),this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin),this._headers.set("Sec-WebSocket-Location",this.url)};Jt.inherits($t,zt);var Qt={BODY_SIZE:8,start:function(){return!!zt.prototype.start.call(this)&&(this._started=!0,this._sendHandshakeBody(),!0)},close:function(){return 3!==this.readyState&&(1===this.readyState&&this._write(Gt.from([255,0])),this.readyState=3,this.emit("close",new Ht.CloseEvent(null,null)),!0)},_handshakeResponse:function(){var e=(a=this._request.headers)["sec-websocket-key1"],t=a["sec-websocket-key2"];if(!e)throw new Error("Missing required header: Sec-WebSocket-Key1");if(!t)throw new Error("Missing required header: Sec-WebSocket-Key2");var r=Kt(e),n=Yt(e),o=Kt(t),i=Yt(t);if(r%n!=0||o%i!=0)throw new Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[r/n,o/i];var a=["HTTP/1.1 101 WebSocket Protocol Handshake",this._headers.toString(),""];return Gt.from(a.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var e=Wt.createHash("md5"),t=Gt.allocUnsafe(8+this.BODY_SIZE);return t.writeUInt32BE(this._keyValues[0],0),t.writeUInt32BE(this._keyValues[1],4),Gt.from(this._body).copy(t,8,0,this.BODY_SIZE),e.update(t),Gt.from(e.digest("binary"),"binary")},_sendHandshakeBody:function(){if(this._started){var e=this._handshakeSignature();e&&(this._write(e),this._stage=0,this._open(),this._body.length>this.BODY_SIZE&&this.parse(this._body.slice(this.BODY_SIZE)))}},_parseLeadingByte:function(e){if(255!==e)return zt.prototype._parseLeadingByte.call(this,e);this._closing=!0,this._length=0,this._stage=1}};for(var Xt in Qt)$t.prototype[Xt]=Qt[Xt];var Zt=$t,er=g.default,tr=me,rr=K,nr=qt,or=Zt,ir=dt,ar=function(e){rr.call(this,null,null,e),this._http=new tr("request")};er.inherits(ar,rr);var sr={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",(function(){})),this.on("error",(function(){}))},parse:function(e){if(this._delegate)return this._delegate.parse(e);if(this._http.parse(e),this._http.isComplete()){this.method=this._http.method,this.url=this._http.url,this.headers=this._http.headers,this.body=this._http.body;var t=this;this._delegate=ar.http(this,this._options),this._delegate.messages=this.messages,this._delegate.io=this.io,this._open(),this.EVENTS.forEach((function(e){this._delegate.on(e,(function(r){t.emit(e,r)}))}),this),this.protocol=this._delegate.protocol,this.version=this._delegate.version,this.parse(this._http.body),this.emit("connect",new rr.ConnectEvent)}},_open:function(){this.__queue.forEach((function(e){this._delegate[e[0]].apply(this._delegate,e[1])}),this),this.__queue=[]}};for(var lr in["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach((function(e){sr[e]=function(){return this._delegate?this._delegate[e].apply(this._delegate,arguments):(this.__queue.push([e,arguments]),!0)}})),sr)ar.prototype[lr]=sr[lr];ar.isSecureRequest=function(e){if(e.connection&&void 0!==e.connection.authorized)return!0;if(e.socket&&e.socket.secure)return!0;var t=e.headers;return!!t&&("on"===t.https||("on"===t["x-forwarded-ssl"]||("https"===t["x-forwarded-scheme"]||"https"===t["x-forwarded-proto"])))},ar.determineUrl=function(e){return(this.isSecureRequest(e)?"wss:":"ws:")+"//"+e.headers.host+e.url},ar.http=function(e,t){void 0===(t=t||{}).requireMasking&&(t.requireMasking=!0);var r=e.headers,n=r["sec-websocket-version"],o=r["sec-websocket-key"],i=r["sec-websocket-key1"],a=r["sec-websocket-key2"],s=this.determineUrl(e);return n||o?new ir(e,s,t):i||a?new or(e,s,t):new nr(e,s,t)};var pr=K,cr=Lt,ur=ar,dr={client:function(e,t){return void 0===(t=t||{}).masking&&(t.masking=!0),new cr(e,t)},server:function(e){return void 0===(e=e||{}).requireMasking&&(e.requireMasking=!0),new ur(e)},http:function(){return ur.http.apply(ur,arguments)},isSecureRequest:function(e){return ur.isSecureRequest(e)},isWebSocket:function(e){return pr.isWebSocket(e)},validateOptions:function(e,t){pr.validateOptions(e,t)}},hr=function(e,t){for(var r in this.type=e,t)this[r]=t[r]};hr.prototype.initEvent=function(e,t,r){this.type=e,this.bubbles=t,this.cancelable=r},hr.prototype.stopPropagation=function(){},hr.prototype.preventDefault=function(){},hr.CAPTURING_PHASE=1,hr.AT_TARGET=2,hr.BUBBLING_PHASE=3;var fr=hr,gr=fr,mr={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(e,t,r){this.on(e,t)},removeEventListener:function(e,t,r){this.removeListener(e,t)},dispatchEvent:function(e){e.target=e.currentTarget=this,e.eventPhase=gr.AT_TARGET,this["on"+e.type]&&this["on"+e.type](e),this.emit(e.type,e)}},yr=v.default.Stream,vr=g.default,br=dr,Er=mr,_r=fr,Or=function(e){e=e||{},br.validateOptions(e,["headers","extensions","maxLength","ping","proxy","tls","ca"]),this.readable=this.writable=!0;var t=e.headers;if(t)for(var r in t)this._driver.setHeader(r,t[r]);var n=e.extensions;n&&[].concat(n).forEach(this._driver.addExtension,this._driver),this._ping=e.ping,this._pingId=0,this.readyState=Or.CONNECTING,this.bufferedAmount=0,this.protocol="",this.url=this._driver.url,this.version=this._driver.version;var o=this;this._driver.on("open",(function(e){o._open()})),this._driver.on("message",(function(e){o._receiveMessage(e.data)})),this._driver.on("close",(function(e){o._beginClose(e.reason,e.code)})),this._driver.on("error",(function(e){o._emitError(e.message)})),this.on("error",(function(){})),this._driver.messages.on("drain",(function(){o.emit("drain")})),this._ping&&(this._pingTimer=setInterval((function(){o._pingId+=1,o.ping(o._pingId.toString())}),1e3*this._ping)),this._configureStream(),this._proxy||(this._stream.pipe(this._driver.io),this._driver.io.pipe(this._stream))};vr.inherits(Or,yr),Or.CONNECTING=0,Or.OPEN=1,Or.CLOSING=2,Or.CLOSED=3,Or.CLOSE_TIMEOUT=3e4;var wr={write:function(e){return this.send(e)},end:function(e){void 0!==e&&this.send(e),this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(e){return!(this.readyState>Or.OPEN)&&(e instanceof Buffer||(e=String(e)),this._driver.messages.write(e))},ping:function(e,t){return!(this.readyState>Or.OPEN)&&this._driver.ping(e,t)},close:function(e,t){if(void 0===e&&(e=1e3),void 0===t&&(t=""),1e3!==e&&(e<3e3||e>4999))throw new Error("Failed to execute 'close' on WebSocket: The code must be either 1000, or between 3000 and 4999. "+e+" is neither.");if(this.readyState<Or.CLOSING){var r=this;this._closeTimer=setTimeout((function(){r._beginClose("",1006)}),Or.CLOSE_TIMEOUT)}this.readyState!==Or.CLOSED&&(this.readyState=Or.CLOSING),this._driver.close(t,e)},_configureStream:function(){var e=this;this._stream.setTimeout(0),this._stream.setNoDelay(!0),["close","end"].forEach((function(t){this._stream.on(t,(function(){e._finalizeClose()}))}),this),this._stream.on("error",(function(t){e._emitError("Network error: "+e.url+": "+t.message),e._finalizeClose()}))},_open:function(){if(this.readyState===Or.CONNECTING){this.readyState=Or.OPEN,this.protocol=this._driver.protocol||"";var e=new _r("open");e.initEvent("open",!1,!1),this.dispatchEvent(e)}},_receiveMessage:function(e){if(this.readyState>Or.OPEN)return!1;this.readable&&this.emit("data",e);var t=new _r("message",{data:e});t.initEvent("message",!1,!1),this.dispatchEvent(t)},_emitError:function(e){if(!(this.readyState>=Or.CLOSING)){var t=new _r("error",{message:e});t.initEvent("error",!1,!1),this.dispatchEvent(t)}},_beginClose:function(e,t){this.readyState!==Or.CLOSED&&(this.readyState=Or.CLOSING,this._closeParams=[e,t],this._stream&&(this._stream.destroy(),this._stream.readable||this._finalizeClose()))},_finalizeClose:function(){if(this.readyState!==Or.CLOSED){this.readyState=Or.CLOSED,this._closeTimer&&clearTimeout(this._closeTimer),this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end(),this.readable&&this.emit("end"),this.readable=this.writable=!1;var e=this._closeParams?this._closeParams[0]:"",t=this._closeParams?this._closeParams[1]:1006,r=new _r("close",{code:t,reason:e});r.initEvent("close",!1,!1),this.dispatchEvent(r)}}};for(var Sr in wr)Or.prototype[Sr]=wr[Sr];for(var Tr in Er)Or.prototype[Tr]=Er[Tr];var Ar=Or,Cr=g.default,Ir=_.default,Nr=O.default,Pr=E.default,Rr=dr,Dr=Ar,kr={"http:":80,"https:":443,"ws:":80,"wss:":443},xr=["https:","wss:"],jr=function(e,t,r){r=r||{},this.url=e,this._driver=Rr.client(this.url,{maxLength:r.maxLength,protocols:t}),["open","error"].forEach((function(e){this._driver.on(e,(function(){u.headers=u._driver.headers,u.statusCode=u._driver.statusCode}))}),this);var n=r.proxy||{},o=Pr.parse(n.origin||this.url),i=o.port||kr[o.protocol],a=xr.indexOf(o.protocol)>=0,s=function(){u._onConnect()},l=r.net||{},p=r.tls||{},c=n.origin?n.tls||{}:p,u=this;l.host=c.host=o.hostname,l.port=c.port=i,p.ca=p.ca||r.ca,c.servername=c.servername||o.hostname,this._stream=a?Nr.connect(c,s):Ir.connect(l,s),n.origin&&this._configureProxy(n,p),Dr.call(this,r)};Cr.inherits(jr,Dr),jr.prototype._onConnect=function(){(this._proxy||this._driver).start()},jr.prototype._configureProxy=function(e,t){var r,n=Pr.parse(this.url),o=xr.indexOf(n.protocol)>=0,i=this;if(this._proxy=this._driver.proxy(e.origin),e.headers)for(r in e.headers)this._proxy.setHeader(r,e.headers[r]);this._proxy.pipe(this._stream,{end:!1}),this._stream.pipe(this._proxy),this._proxy.on("connect",(function(){if(o){var e={socket:i._stream,servername:n.hostname};for(r in t)e[r]=t[r];i._stream=Nr.connect(e),i._configureStream()}i._driver.io.pipe(i._stream),i._stream.pipe(i._driver.io),i._driver.start()})),this._proxy.on("error",(function(e){i._driver.emit("error",e)}))};var Lr=jr,Fr=v.default.Stream,Mr=g.default,Ur=dr,Br=j,Vr=Ar,qr=mr,Gr=fr,Hr=function(e,t,r){this.writable=!0,r=r||{},this._stream=t.socket,this._ping=r.ping||this.DEFAULT_PING,this._retry=r.retry||this.DEFAULT_RETRY;var n=Ur.isSecureRequest(e)?"https:":"http:";this.url=n+"//"+e.headers.host+e.url,this.lastEventId=e.headers["last-event-id"]||"",this.readyState=Vr.CONNECTING;var o=new Br,i=this;if(r.headers)for(var a in r.headers)o.set(a,r.headers[a]);if(this._stream&&this._stream.writable){process.nextTick((function(){i._open()})),this._stream.setTimeout(0),this._stream.setNoDelay(!0);var s="HTTP/1.1 200 OK\r\nContent-Type: text/event-stream\r\nCache-Control: no-cache, no-store\r\nConnection: close\r\n"+o.toString()+"\r\nretry: "+Math.floor(1e3*this._retry)+"\r\n\r\n";this._write(s),this._stream.on("drain",(function(){i.emit("drain")})),this._ping&&(this._pingTimer=setInterval((function(){i.ping()}),1e3*this._ping)),["error","end"].forEach((function(e){i._stream.on(e,(function(){i.close()}))}))}};Mr.inherits(Hr,Fr),Hr.isEventSource=function(e){return"GET"===e.method&&(e.headers.accept||"").split(/\s*,\s*/).indexOf("text/event-stream")>=0};var zr={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(e){if(!this.writable)return!1;try{return this._stream.write(e,"utf8")}catch(e){return!1}},_open:function(){if(this.readyState===Vr.CONNECTING){this.readyState=Vr.OPEN;var e=new Gr("open");e.initEvent("open",!1,!1),this.dispatchEvent(e)}},write:function(e){return this.send(e)},end:function(e){void 0!==e&&this.write(e),this.close()},send:function(e,t){if(this.readyState>Vr.OPEN)return!1;e=String(e).replace(/(\r\n|\r|\n)/g,"$1data: ");var r="";return(t=t||{}).event&&(r+="event: "+t.event+"\r\n"),t.id&&(r+="id: "+t.id+"\r\n"),r+="data: "+e+"\r\n\r\n",this._write(r)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>Vr.OPEN)return!1;this.readyState=Vr.CLOSED,this.writable=!1,this._pingTimer&&clearInterval(this._pingTimer),this._stream&&this._stream.end();var e=new Gr("close");return e.initEvent("close",!1,!1),this.dispatchEvent(e),!0}};for(var Wr in zr)Hr.prototype[Wr]=zr[Wr];for(var Jr in qr)Hr.prototype[Jr]=qr[Jr];var Kr=Hr,Yr=g.default,$r=dr,Qr=Ar,Xr=function(e,t,r,n,o){o=o||{},this._stream=t,this._driver=$r.http(e,{maxLength:o.maxLength,protocols:n});var i=this;if(this._stream&&this._stream.writable){if(!this._stream.readable)return this._stream.end();var a=function(){i._stream.removeListener("data",a)};this._stream.on("data",a),Qr.call(this,o),process.nextTick((function(){i._driver.start(),i._driver.io.write(r)}))}};Yr.inherits(Xr,Qr),Xr.isWebSocket=function(e){return $r.isWebSocket(e)},Xr.validateOptions=function(e,t){$r.validateOptions(e,t)},Xr.WebSocket=Xr,Xr.Client=Lr,Xr.EventSource=Kr;var Zr=Xr,en={};let tn,rn;const nn=new WeakMap,on=new WeakMap,an=new WeakMap,sn=new WeakMap,ln=new WeakMap;let pn={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return on.get(e);if("objectStoreNames"===t)return e.objectStoreNames||an.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return dn(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function cn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rn||(rn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(hn(this),t),dn(nn.get(this))}:function(...t){return dn(e.apply(hn(this),t))}:function(t,...r){const n=e.call(hn(this),t,...r);return an.set(n,t.sort?t.sort():[t]),dn(n)}}function un(e){return"function"==typeof e?cn(e):(e instanceof IDBTransaction&&function(e){if(on.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),n()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});on.set(e,t)}(e),t=e,(tn||(tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,pn):e);var t}function dn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(dn(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&nn.set(t,e)}).catch(()=>{}),ln.set(t,e),t}(e);if(sn.has(e))return sn.get(e);const t=un(e);return t!==e&&(sn.set(e,t),ln.set(t,e)),t}const hn=e=>ln.get(e);const fn=["get","getKey","getAll","getAllKeys","count"],gn=["put","add","delete","clear"],mn=new Map;function yn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(mn.get(t))return mn.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=gn.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!fn.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),o&&i.done]))[0]};return mn.set(t,i),i}pn=(e=>({...e,get:(t,r,n)=>yn(t,r)||e.get(t,r,n),has:(t,r)=>!!yn(t,r)||e.has(t,r)}))(pn);var vn=A(Object.freeze({__proto__:null,deleteDB:function(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",e=>t(e.oldVersion,e)),dn(r).then(()=>{})},openDB:function(e,t,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=dn(a);return n&&a.addEventListener("upgradeneeded",e=>{n(dn(a.result),e.oldVersion,e.newVersion,dn(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s},unwrap:hn,wrap:dn}));!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=T.default,r=S.default,n=w.default,o=vn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class i{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const a="@firebase/app",s=new r.Logger("@firebase/app"),l={[a]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,c=new Map,u=new Map;function d(e,t){try{e.container.addComponent(t)}catch(r){s.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function h(e){const t=e.name;if(u.has(t))return s.debug(`There were multiple attempts to register component ${t}.`),!1;u.set(t,e);for(const t of p.values())d(t,e);for(const t of c.values())d(t,e);return!0}function f(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function g(e){return void 0!==e.options}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const m={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},y=new n.ErrorFactory("app","Firebase",m);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class v{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new t.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){const r=n.base64Decode(e.split(".")[1]);if(null===r)return void console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);if(void 0===JSON.parse(r).exp)return void console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);1e3*JSON.parse(r).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class E extends v{constructor(e,t,r,n){const o=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,i={name:r,automaticDataCollectionEnabled:o};if(void 0!==e.apiKey)super(e,i,n);else{super(e.options,i,n)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&b(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&b(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,A(a,"0.11.2","serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){O(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw y.create("server-app-deleted")}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,r={}){let o=e;if("object"!=typeof r){r={name:r}}const i=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},r),a=i.name;if("string"!=typeof a||!a)throw y.create("bad-app-name",{appName:String(a)});if(o||(o=n.getDefaultAppConfig()),!o)throw y.create("no-options");const s=p.get(a);if(s){if(n.deepEqual(o,s.options)&&n.deepEqual(i,s.config))return s;throw y.create("duplicate-app",{appName:a})}const l=new t.ComponentContainer(a);for(const e of u.values())l.addComponent(e);const c=new v(o,i,l);return p.set(a,c),c}async function O(e){let t=!1;const r=e.name;if(p.has(r))t=!0,p.delete(r);else if(c.has(r)){e.decRefCount()<=0&&(c.delete(r),t=!0)}t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function A(e,r,n){var o;let i=null!==(o=l[e])&&void 0!==o?o:e;n&&(i+="-"+n);const a=i.match(/\s|\//),p=r.match(/\s|\//);if(a||p){const e=[`Unable to register library "${i}" with version "${r}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&p&&e.push("and"),p&&e.push(`version name "${r}" contains illegal characters (whitespace or "/")`),void s.warn(e.join(" "))}h(new t.Component(i+"-version",()=>({library:i,version:r}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const C="firebase-heartbeat-store";let I=null;function N(){return I||(I=o.openDB("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(C)}catch(e){console.warn(e)}}}}).catch(e=>{throw y.create("idb-open",{originalErrorMessage:e.message})})),I}async function P(e,t){try{const r=(await N()).transaction(C,"readwrite"),n=r.objectStore(C);await n.put(t,R(e)),await r.done}catch(e){if(e instanceof n.FirebaseError)s.warn(e.message);else{const t=y.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});s.warn(t.message)}}}function R(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new x(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=k();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){s.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=k(),{heartbeatsToSend:r,unsentEntries:o}=function(e,t=1024){const r=[];let n=e.slice();for(const o of e){const e=r.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),j(r)>t){e.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),j(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),i=n.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return s.warn(e),""}}}function k(){return(new Date).toISOString().substring(0,10)}class x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!n.isIndexedDBAvailable()&&n.validateIndexedDBOpenable().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await N()).transaction(C),r=await t.objectStore(C).get(R(e));return await t.done,r}catch(e){if(e instanceof n.FirebaseError)s.warn(e.message);else{const t=y.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});s.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return P(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return P(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function j(e){return n.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}var L;L="node",h(new t.Component("platform-logger",e=>new i(e),"PRIVATE")),h(new t.Component("heartbeat",e=>new D(e),"PRIVATE")),A(a,"0.11.2",L),A(a,"0.11.2","cjs2017"),A("fire-js",""),Object.defineProperty(e,"FirebaseError",{enumerable:!0,get:function(){return n.FirebaseError}}),e.SDK_VERSION="11.4.0",e._DEFAULT_ENTRY_NAME="[DEFAULT]",e._addComponent=d,e._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},e._apps=p,e._clearComponents=function(){u.clear()},e._components=u,e._getProvider=f,e._isFirebaseApp=g,e._isFirebaseServerApp=function(e){return null!=e&&void 0!==e.settings},e._registerComponent=h,e._removeServiceInstance=function(e,t,r="[DEFAULT]"){f(e,t).clearInstance(r)},e._serverApps=c,e.deleteApp=O,e.getApp=function(e="[DEFAULT]"){const t=p.get(e);if(!t&&"[DEFAULT]"===e&&n.getDefaultAppConfig())return _();if(!t)throw y.create("no-app",{appName:e});return t},e.getApps=function(){return Array.from(p.values())},e.initializeApp=_,e.initializeServerApp=function(e,r){if(n.isBrowser()&&!n.isWebWorker())throw y.create("invalid-server-app-environment");let o;void 0===r.automaticDataCollectionEnabled&&(r.automaticDataCollectionEnabled=!1),o=g(e)?e.options:e;const i=Object.assign(Object.assign({},r),o);if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==r.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw y.create("finalization-registry-not-supported",{});const a=""+(s=JSON.stringify(i),[...s].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0));var s;const l=c.get(a);if(l)return l.incRefCount(r.releaseOnDeref),l;const p=new t.ComponentContainer(a);for(const e of u.values())p.addComponent(e);const d=new E(o,r,a,p);return c.set(a,d),d},e.onLog=function(e,t){if(null!==e&&"function"!=typeof e)throw y.create("invalid-log-argument");r.setUserLogHandler(e,t)},e.registerVersion=A,e.setLogLevel=function(e){r.setLogLevel(e)}}(en),Object.defineProperty(C,"__esModule",{value:!0});var bn=Zr,En=w.default,_n=S.default,On=en,wn=T.default;function Sn(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var Tn=Sn(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cn{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),En.stringify(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:En.jsonEval(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return En.contains(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Cn(t)}}catch(e){}return new In},Pn=Nn("localStorage"),Rn=Nn("sessionStorage"),Dn=new _n.Logger("@firebase/database"),kn=function(){let e=1;return function(){return e++}}(),xn=function(e){const t=En.stringToByteArray(e),r=new En.Sha1;r.update(t);const n=r.digest();return En.base64.encodeByteArray(n)},jn=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&"object"==typeof n&&"number"==typeof n.length?t+=jn.apply(null,n):t+="object"==typeof n?En.stringify(n):n,t+=" "}return t};let Ln=null,Fn=!0;const Mn=function(e,t){En.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Dn.logLevel=_n.LogLevel.VERBOSE,Ln=Dn.log.bind(Dn),t&&Rn.set("logging_enabled",!0)):"function"==typeof e?Ln=e:(Ln=null,Rn.remove("logging_enabled"))},Un=function(...e){if(!0===Fn&&(Fn=!1,null===Ln&&!0===Rn.get("logging_enabled")&&Mn(!0)),Ln){const t=jn.apply(null,e);Ln(t)}},Bn=function(e){return function(...t){Un(e,...t)}},Vn=function(...e){const t="FIREBASE INTERNAL ERROR: "+jn(...e);Dn.error(t)},qn=function(...e){const t="FIREBASE FATAL ERROR: "+jn(...e);throw Dn.error(t),new Error(t)},Gn=function(...e){const t="FIREBASE WARNING: "+jn(...e);Dn.warn(t)},Hn=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},zn="[MIN_NAME]",Wn="[MAX_NAME]",Jn=function(e,t){if(e===t)return 0;if(e===zn||t===Wn)return-1;if(t===zn||e===Wn)return 1;{const r=to(e),n=to(t);return null!==r?null!==n?r-n==0?e.length-t.length:r-n:-1:null!==n?1:e<t?-1:1}},Kn=function(e,t){return e===t?0:e<t?-1:1},Yn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+En.stringify(t))},$n=function(e){if("object"!=typeof e||null===e)return En.stringify(e);const t=[];for(const r in e)t.push(r);t.sort();let r="{";for(let n=0;n<t.length;n++)0!==n&&(r+=","),r+=En.stringify(t[n]),r+=":",r+=$n(e[t[n]]);return r+="}",r},Qn=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let o=0;o<r;o+=t)o+t>r?n.push(e.substring(o,r)):n.push(e.substring(o,o+t));return n};function Xn(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const Zn=function(e){En.assert(!Hn(e),"Invalid JSON number");let t,r,n,o,i;0===e?(r=0,n=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),r=o+1023,n=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,n=Math.round(e/Math.pow(2,-1074))));const a=[];for(i=52;i;i-=1)a.push(n%2?1:0),n=Math.floor(n/2);for(i=11;i;i-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(t?1:0),a.reverse();const s=a.join("");let l="";for(i=0;i<64;i+=8){let e=parseInt(s.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()};const eo=new RegExp("^-?(0*)\\d{1,10}$"),to=function(e){if(eo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ro=function(e){try{e()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Gn("Exception was thrown by user callback.",t),e},Math.floor(0))}},no=function(e,t){const r=setTimeout(e,t);return"number"==typeof r&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(r):"object"==typeof r&&r.unref&&r.unref(),r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oo{constructor(e,t,r,n,o=!1,i="",a=!1,s=!1,l=null){this.secure=t,this.namespace=r,this.webSocketOnly=n,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pn.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return`${e}${this.host}/${t}`}}function io(e,t,r){let n;if(En.assert("string"==typeof t,"typeof type must == string"),En.assert("object"==typeof r,"typeof params must == object"),"websocket"===t)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(r.ns=e.namespace);const o=[];return Xn(r,(e,t)=>{o.push(e+"="+t)}),n+o.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.counters_={}}incrementCounter(e,t=1){En.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return En.deepCopy(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so={},lo={};function po(e){const t=e.toString();return so[t]||(so[t]=new ao),so[t]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="";function uo(e){co=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho=null;"undefined"!=typeof MozWebSocket?ho=MozWebSocket:"undefined"!=typeof WebSocket&&(ho=WebSocket);class fo{constructor(e,t,r,n,o,i,a){this.connId=e,this.applicationId=r,this.appCheckToken=n,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bn(this.connId),this.stats_=po(t),this.connURL=fo.connectionURL_(t,i,a,n,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,n,o){const i={v:"5"};return!En.isNodeSdk()&&"undefined"!=typeof location&&location.hostname&&An.test(location.hostname)&&(i.r="f"),t&&(i.s=t),r&&(i.ls=r),n&&(i.ac=n),o&&(i.p=o),io(e,"websocket",i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pn.set("previous_websocket_failure",!0);try{let e;if(En.isNodeSdk()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${co}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const r=process.env,n=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new ho(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){fo.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==ho&&!fo.forceDisallow_}static previouslyFailed(){return Pn.isInMemoryStorage||!0===Pn.get("previous_websocket_failure")}markConnectionHealthy(){Pn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=En.jsonEval(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(En.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=En.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=Qn(t,16384);r.length>1&&this.sendString_(String(r.length));for(let e=0;e<r.length;e++)this.sendString_(r[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fo.responsesRequiredToBeHealthy=2,fo.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class go{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,On._isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Gn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gn(e)}}class yo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yo.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vo{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ro(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t,r,n,o,i,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=n,this.authToken=o,this.transportSessionId=i,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bn(e),this.stats_=po(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),io(t,"long_polling",e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new vo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(En.isNodeSdk()||"complete"===document.readyState)e();else{let t=!1;const r=function(){document.body?t||(t=!0,e()):setTimeout(r,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&r()}),window.attachEvent("onload",r))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Eo((...e)=>{const[t,r,n,o,i]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=r,this.password=n;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);r?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(r,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,r]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,r)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&An.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bo.forceAllow_=!0}static forceDisallow(){bo.forceDisallow_=!0}static isAvailable(){return!En.isNodeSdk()&&(!!bo.forceAllow_||!(bo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=En.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=En.base64Encode(t),n=Qn(r,1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(En.isNodeSdk())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=En.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Eo{constructor(e,t,r,n){if(this.onDisconnect=r,this.urlFn=n,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,En.isNodeSdk())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=kn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Eo.createIFrame_();let r="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){r='<script>document.domain="'+document.domain+'";<\/script>'}const n="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(n),this.myIFrame.doc.close()}catch(e){Un("frame writing exception"),e.stack&&Un(e.stack),Un(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Un("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",n=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+r.length<=1870))break;{const e=this.pendingSegs.shift();r=r+"&seg"+n+"="+e.seg+"&ts"+n+"="+e.ts+"&d"+n+"="+e.d,n++}}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},n=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(n),r()})}addTag(e,t){En.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Un("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static get ALL_TRANSPORTS(){return[bo,fo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=fo&&fo.isAvailable();let r=t&&!fo.previouslyFailed();if(e.webSocketOnly&&(t||Gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fo];else{const e=this.transports_=[];for(const t of _o.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);_o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_o.globalTransportInitialized_=!1;class Oo{constructor(e,t,r,n,o,i,a,s,l,p){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=n,this.authToken_=o,this.onMessage_=i,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bn("c:"+this.id+":"),this.transportManager_=new _o(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const n=e.healthyTimeout||0;n>0&&(this.healthyTimeout_=no(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(n)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Yn("t",e),r=Yn("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Yn("t",e),r=Yn("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Yn("t",e);if("d"in e){const r=e.d;if("h"===t){const e=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Vn("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vn("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,n=e.h;this.sessionId=e.s,this.repoInfo_.host=n,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),no(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):no(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{put(e,t,r,n){}merge(e,t,r,n){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.allowedEvents_=e,this.listeners_={},En.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let e=0;e<r.length;e++)r[e].callback.apply(r[e].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const n=this.getInitialEvent(e);n&&t.apply(r,n)}off(e,t,r){this.validateEventType_(e);const n=this.listeners_[e]||[];for(let e=0;e<n.length;e++)if(n[e].callback===t&&(!r||r===n[e].context))return void n.splice(e,1)}validateEventType_(e){En.assert(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends So{static getInstance(){return new To}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||En.isMobileCordova()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return En.assert("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Co(){return new Ao("")}function Io(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function No(e){return e.pieces_.length-e.pieceNum_}function Po(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ao(e.pieces_,t)}function Ro(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Do(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ko(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Ao(t,0)}function xo(e,t){const r=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)r.push(e.pieces_[t]);if(t instanceof Ao)for(let e=t.pieceNum_;e<t.pieces_.length;e++)r.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&r.push(e[t])}return new Ao(r,0)}function jo(e){return e.pieceNum_>=e.pieces_.length}function Lo(e,t){const r=Io(e),n=Io(t);if(null===r)return t;if(r===n)return Lo(Po(e),Po(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fo(e,t){const r=Do(e,0),n=Do(t,0);for(let e=0;e<r.length&&e<n.length;e++){const t=Jn(r[e],n[e]);if(0!==t)return t}return r.length===n.length?0:r.length<n.length?-1:1}function Mo(e,t){if(No(e)!==No(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function Uo(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(No(e)>No(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class Bo{constructor(e,t){this.errorPrefix_=t,this.parts_=Do(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=En.stringLength(this.parts_[e]);Vo(this)}}function Vo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qo(e))}function qo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends So{static getInstance(){return new Go}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return En.assert("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends wo{constructor(e,t,r,n,o,i,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=n,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=Ho.nextPersistentConnectionId_++,this.log_=Bn("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!En.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Go.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&To.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const n=++this.requestNumber_,o={r:n,a:e,b:t};this.log_(En.stringify(o)),En.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[n]=r)}get(e){this.initConnection_();const t=new En.Deferred,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const r=e.d;"ok"===e.s?t.resolve(r):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const n=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(n),t.promise}listen(e,t,r,n){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),En.assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),En.assert(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const a={onComplete:n,hashFn:t,query:e,tag:r};this.listens.get(i).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),n=t._queryIdentifier;this.log_("Listen on "+r+" for "+n);const o={p:r};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,o=>{const i=o.d,a=o.s;Ho.warnOnListenWarnings_(i,t);(this.listens.get(r)&&this.listens.get(r).get(n))===e&&(this.log_("listen response",o),"ok"!==a&&this.removeListen_(r,n),e.onComplete&&e.onComplete(a,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&En.contains(e,"w")){const r=En.safeGet(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();Gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at `+r+" to your security rules for better performance.")}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||En.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=En.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(t,r,t=>{const r=t.s,n=t.d||"error";this.authToken_===e&&("ok"===r?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,n))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),n=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+n),En.assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(r,n)&&this.connected_&&this.sendUnlisten_(r,n,e._queryObject,t)}sendUnlisten_(e,t,r,n){this.log_("Unlisten on "+e+" for "+t);const o={p:e};n&&(o.q=r,o.t=n),this.sendRequest("n",o)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,n){const o={p:t,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,e=>{n&&setTimeout(()=>{n(e.s,e.d)},Math.floor(0))})}put(e,t,r,n){this.putInternal("p",e,t,r,n)}merge(e,t,r,n){this.putInternal("m",e,t,r,n)}putInternal(e,t,r,n,o){this.initConnection_();const i={p:t,d:r};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:n}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,n=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),n&&n(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+En.stringify(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Vn("Unrecognized action received from server: "+En.stringify(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){En.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),n=this.id+":"+Ho.nextConnectionId_++,o=this.lastSessionId;let i=!1,a=null;const s=function(){a?a.close():(i=!0,r())},l=function(e){En.assert(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);i?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new Oo(n,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,e=>{Gn(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(e){this.log_("Failed to get token: "+e),i||(this.repoInfo_.nodeAdmin&&Gn(e),s())}}}interrupt(e){Un("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Un("Resuming connection for reason: "+e),delete this.interruptReasons_[e],En.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;r=t?t.map(e=>$n(e)).join("$"):"default";const n=this.removeListen_(e,r);n&&n.onComplete&&n.onComplete("permission_denied")}removeListen_(e,t){const r=new Ao(e).toString();let n;if(this.listens.has(r)){const e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){Un("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Un("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";En.isNodeSdk()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+co.replace(/\./g,"-")]=1,En.isMobileCordova()?e["framework.cordova"]=1:En.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=To.getInstance().currentlyOnline();return En.isEmpty(this.interruptReasons_)&&e}}Ho.nextPersistentConnectionId_=0,Ho.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zo{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new zo(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new zo(zn,e),n=new zo(zn,t);return 0!==this.compare(r,n)}minPost(){return zo.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo;class Ko extends Wo{static get __EMPTY_NODE(){return Jo}static set __EMPTY_NODE(e){Jo=e}compare(e,t){return Jn(e.name,t.name)}isDefinedOn(e){throw En.assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return zo.MIN}maxPost(){return new zo(Wn,Jo)}makePost(e,t){return En.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new zo(e,Jo)}toString(){return".key"}}const Yo=new Ko;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,t,r,n,o=null){this.isReverse_=n,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(e=e,i=t?r(e.key,t):1,n&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qo{constructor(e,t,r,n,o){this.key=e,this.value=t,this.color=null!=r?r:Qo.RED,this.left=null!=n?n:Xo.EMPTY_NODE,this.right=null!=o?o:Xo.EMPTY_NODE}copy(e,t,r,n,o){return new Qo(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const o=r(e,n.key);return n=o<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===o?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xo.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,n;if(r=this,t(e,r.key)<0)r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()||(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),r.right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()||(r=r.moveRedRight_()),0===t(e,r.key)){if(r.right.isEmpty())return Xo.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qo.RED=!0,Qo.BLACK=!1;class Xo{constructor(e,t=Xo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Xo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qo.BLACK,null,null))}remove(e){return new Xo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,n=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return n?n.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(n=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $o(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new $o(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new $o(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new $o(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zo(e,t){return Jn(e.name,t.name)}function ei(e,t){return Jn(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ti;Xo.EMPTY_NODE=new class{copy(e,t,r,n,o){return this}insert(e,t,r){return new Qo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ri=function(e){return"number"==typeof e?"number:"+Zn(e):"string:"+e},ni=function(e){if(e.isLeafNode()){const t=e.val();En.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&En.contains(t,".sv"),"Priority must be a string or number.")}else En.assert(e===ti||e.isEmpty(),"priority of unexpected type.");En.assert(e===ti||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let oi,ii,ai;class si{static set __childrenNodeConstructor(e){oi=e}static get __childrenNodeConstructor(){return oi}constructor(e,t=si.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,En.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ni(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new si(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:si.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return jo(e)?this:".priority"===Io(e)?this.priorityNode_:si.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:si.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=Io(e);return null===r?t:t.isEmpty()&&".priority"!==r?this:(En.assert(".priority"!==r||1===No(e),".priority must be the last token in a path"),this.updateImmediateChild(r,si.__childrenNodeConstructor.EMPTY_NODE.updateChild(Po(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ri(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Zn(this.value_):this.value_,this.lazyHash_=xn(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===si.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof si.__childrenNodeConstructor?-1:(En.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,n=si.VALUE_TYPE_ORDER.indexOf(t),o=si.VALUE_TYPE_ORDER.indexOf(r);return En.assert(n>=0,"Unknown leaf type: "+t),En.assert(o>=0,"Unknown leaf type: "+r),n===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-n}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}si.VALUE_TYPE_ORDER=["object","boolean","number","string"];const li=new class extends Wo{compare(e,t){const r=e.node.getPriority(),n=t.node.getPriority(),o=r.compareTo(n);return 0===o?Jn(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return zo.MIN}maxPost(){return new zo(Wn,new si("[PRIORITY-POST]",ai))}makePost(e,t){const r=ii(e);return new zo(t,new si("[PRIORITY-POST]",r))}toString(){return".priority"}},pi=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/pi,10)),this.current_=this.count-1;const r=(n=this.count,parseInt(Array(n+1).join("1"),2));var n;this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ui=function(e,t,r,n){e.sort(t);const o=function(t,n){const i=n-t;let a,s;if(0===i)return null;if(1===i)return a=e[t],s=r?r(a):a,new Qo(s,a.node,Qo.BLACK,null,null);{const l=parseInt(i/2,10)+t,p=o(t,l),c=o(l+1,n);return a=e[l],s=r?r(a):a,new Qo(s,a.node,Qo.BLACK,p,c)}},i=function(t){let n=null,i=null,a=e.length;const s=function(t,n){const i=a-t,s=a;a-=t;const p=o(i+1,s),c=e[i],u=r?r(c):c;l(new Qo(u,c.node,n,null,p))},l=function(e){n?(n.left=e,n=e):(i=e,n=e)};for(let e=0;e<t.count;++e){const r=t.nextBitIsOne(),n=Math.pow(2,t.count-(e+1));r?s(n,Qo.BLACK):(s(n,Qo.BLACK),s(n,Qo.RED))}return i}(new ci(e.length));return new Xo(n||t,i)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;const hi={};class fi{static get Default(){return En.assert(hi&&li,"ChildrenNode.ts has not been loaded"),di=di||new fi({".priority":hi},{".priority":li}),di}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=En.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xo?t:null}hasIndex(e){return En.contains(this.indexSet_,e.toString())}addIndex(e,t){En.assert(e!==Yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let n=!1;const o=t.getIterator(zo.Wrap);let i,a=o.getNext();for(;a;)n=n||e.isDefinedOn(a.node),r.push(a),a=o.getNext();i=n?ui(r,e.getCompare()):hi;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const p=Object.assign({},this.indexes_);return p[s]=i,new fi(p,l)}addToIndexes(e,t){const r=En.map(this.indexes_,(r,n)=>{const o=En.safeGet(this.indexSet_,n);if(En.assert(o,"Missing index implementation for "+n),r===hi){if(o.isDefinedOn(e.node)){const r=[],n=t.getIterator(zo.Wrap);let i=n.getNext();for(;i;)i.name!==e.name&&r.push(i),i=n.getNext();return r.push(e),ui(r,o.getCompare())}return hi}{const n=t.get(e.name);let o=r;return n&&(o=o.remove(new zo(e.name,n))),o.insert(e,e.node)}});return new fi(r,this.indexSet_)}removeFromIndexes(e,t){const r=En.map(this.indexes_,r=>{if(r===hi)return r;{const n=t.get(e.name);return n?r.remove(new zo(e.name,n)):r}});return new fi(r,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi;class mi{static get EMPTY_NODE(){return gi||(gi=new mi(new Xo(ei),null,fi.Default))}constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ni(this.priorityNode_),this.children_.isEmpty()&&En.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gi}updatePriority(e){return this.children_.isEmpty()?this:new mi(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?gi:t}}getChild(e){const t=Io(e);return null===t?this:this.getImmediateChild(t).getChild(Po(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(En.assert(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const r=new zo(e,t);let n,o;t.isEmpty()?(n=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(n=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(r,this.children_));const i=n.isEmpty()?gi:this.priorityNode_;return new mi(n,i,o)}}updateChild(e,t){const r=Io(e);if(null===r)return t;{En.assert(".priority"!==Io(e)||1===No(e),".priority must be the last token in a path");const n=this.getImmediateChild(r).updateChild(Po(e),t);return this.updateImmediateChild(r,n)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,n=0,o=!0;if(this.forEachChild(li,(i,a)=>{t[i]=a.val(e),r++,o&&mi.INTEGER_REGEXP_.test(i)?n=Math.max(n,Number(i)):o=!1}),!e&&o&&n<2*r){const e=[];for(const r in t)e[r]=t[r];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ri(this.getPriority().val())+":"),this.forEachChild(li,(t,r)=>{const n=r.hash();""!==n&&(e+=":"+t+":"+n)}),this.lazyHash_=""===e?"":xn(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const n=this.resolveIndex_(r);if(n){const r=n.getPredecessorKey(new zo(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new zo(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new zo(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,e=>e);{const r=this.children_.getIteratorFrom(e.name,zo.Wrap);let n=r.peek();for(;null!=n&&t.compare(n,e)<0;)r.getNext(),n=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,e=>e);{const r=this.children_.getReverseIteratorFrom(e.name,zo.Wrap);let n=r.peek();for(;null!=n&&t.compare(n,e)>0;)r.getNext(),n=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yi?-1:0}withIndex(e){if(e===Yo||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new mi(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Yo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(li),r=t.getIterator(li);let n=e.getNext(),o=r.getNext();for(;n&&o;){if(n.name!==o.name||!n.node.equals(o.node))return!1;n=e.getNext(),o=r.getNext()}return null===n&&null===o}return!1}return!1}}resolveIndex_(e){return e===Yo?null:this.indexMap_.get(e.toString())}}mi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const yi=new class extends mi{constructor(){super(new Xo(ei),mi.EMPTY_NODE,fi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return mi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(zo,{MIN:{value:new zo(zn,mi.EMPTY_NODE)},MAX:{value:new zo(Wn,yi)}}),Ko.__EMPTY_NODE=mi.EMPTY_NODE,si.__childrenNodeConstructor=mi,ti=yi,function(e){ai=e}(yi);function vi(e,t=null){if(null===e)return mi.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),En.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new si(e,vi(t))}if(e instanceof Array){let r=mi.EMPTY_NODE;return Xn(e,(t,n)=>{if(En.contains(e,t)&&"."!==t.substring(0,1)){const e=vi(n);!e.isLeafNode()&&e.isEmpty()||(r=r.updateImmediateChild(t,e))}}),r.updatePriority(vi(t))}{const r=[];let n=!1;if(Xn(e,(e,t)=>{if("."!==e.substring(0,1)){const o=vi(t);o.isEmpty()||(n=n||!o.getPriority().isEmpty(),r.push(new zo(e,o)))}}),0===r.length)return mi.EMPTY_NODE;const o=ui(r,Zo,e=>e.name,ei);if(n){const e=ui(r,li.getCompare());return new mi(o,vi(t),new fi({".priority":e},{".priority":li}))}return new mi(o,vi(t),fi.Default)}}!function(e){ii=e}(vi);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bi extends Wo{constructor(e){super(),this.indexPath_=e,En.assert(!jo(e)&&".priority"!==Io(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),n=this.extractChild(t.node),o=r.compareTo(n);return 0===o?Jn(e.name,t.name):o}makePost(e,t){const r=vi(e),n=mi.EMPTY_NODE.updateChild(this.indexPath_,r);return new zo(t,n)}maxPost(){const e=mi.EMPTY_NODE.updateChild(this.indexPath_,yi);return new zo(Wn,e)}toString(){return Do(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new class extends Wo{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Jn(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return zo.MIN}maxPost(){return zo.MAX}makePost(e,t){const r=vi(e);return new zo(t,r)}toString(){return".value"}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(e){return{type:"value",snapshotNode:e}}function Oi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Si(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ti{constructor(e){this.index_=e}updateChild(e,t,r,n,o,i){En.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(n).equals(r.getChild(n))&&a.isEmpty()===r.isEmpty()?e:(null!=i&&(r.isEmpty()?e.hasChild(t)?i.trackChildChange(wi(t,a)):En.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange(Oi(t,r)):i.trackChildChange(Si(t,r,a))),e.isLeafNode()&&r.isEmpty()?e:e.updateImmediateChild(t,r).withIndex(this.index_))}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(li,(e,n)=>{t.hasChild(e)||r.trackChildChange(wi(e,n))}),t.isLeafNode()||t.forEachChild(li,(t,n)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(n)||r.trackChildChange(Si(t,n,o))}else r.trackChildChange(Oi(t,n))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?mi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.indexedFilter_=new Ti(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ai.getStartPost_(e),this.endPost_=Ai.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,n,o,i){return this.matches(new zo(t,r))||(r=mi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,n,o,i)}updateFullNode(e,t,r){t.isLeafNode()&&(t=mi.EMPTY_NODE);let n=t.withIndex(this.index_);n=n.updatePriority(mi.EMPTY_NODE);const o=this;return t.forEachChild(li,(e,t)=>{o.matches(new zo(e,t))||(n=n.updateImmediateChild(e,mi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,n,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ai(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,n,o,i){return this.rangedFilter_.matches(new zo(t,r))||(r=mi.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,n,o,i):this.fullLimitUpdateChild_(e,t,r,o,i)}updateFullNode(e,t,r){let n;if(t.isLeafNode()||t.isEmpty())n=mi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;n=mi.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;e.hasNext()&&r<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;n=n.updateImmediateChild(t.name,t.node),r++}}}else{let e;n=t.withIndex(this.index_),n=n.updatePriority(mi.EMPTY_NODE),e=this.reverse_?n.getReverseIterator(this.index_):n.getIterator(this.index_);let r=0;for(;e.hasNext();){const t=e.getNext();r<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?r++:n=n.updateImmediateChild(t.name,mi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,n,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,n,o){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,r)=>e(r,t)}else i=this.index_.getCompare();const a=e;En.assert(a.numChildren()===this.limit_,"");const s=new zo(t,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),p=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let c=n.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||a.hasChild(c.name));)c=n.getChildAfterChild(this.index_,c,this.reverse_);const u=null==c?1:i(c,s);if(p&&!r.isEmpty()&&u>=0)return null!=o&&o.trackChildChange(Si(t,r,e)),a.updateImmediateChild(t,r);{null!=o&&o.trackChildChange(wi(t,e));const r=a.updateImmediateChild(t,mi.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=o&&o.trackChildChange(Oi(c.name,c.node)),r.updateImmediateChild(c.name,c.node)):r}}return r.isEmpty()?e:p&&i(l,s)>=0?(null!=o&&(o.trackChildChange(wi(l.name,l.node)),o.trackChildChange(Oi(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(l.name,mi.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=li}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return En.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return En.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zn}hasEnd(){return this.endSet_}getIndexEndValue(){return En.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return En.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return En.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===li}copy(){const e=new Ii;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ni(e,t,r){const n=e.copy();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=r?(n.startNameSet_=!0,n.indexStartName_=r):(n.startNameSet_=!1,n.indexStartName_=""),n}function Pi(e,t,r){const n=e.copy();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==r?(n.endNameSet_=!0,n.indexEndName_=r):(n.endNameSet_=!1,n.indexEndName_=""),n}function Ri(e,t){const r=e.copy();return r.index_=t,r}function Di(e){const t={};if(e.isDefault())return t;let r;if(e.index_===li?r="$priority":e.index_===Ei?r="$value":e.index_===Yo?r="$key":(En.assert(e.index_ instanceof bi,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=En.stringify(r),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=En.stringify(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+En.stringify(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=En.stringify(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+En.stringify(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ki(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;""===r&&(r=e.isViewFromLeft()?"l":"r"),t.vf=r}return e.index_!==li&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends wo{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(En.assert(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,n){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=n,this.log_=Bn("p:rest:"),this.listens_={}}listen(e,t,r,n){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=xi.getListenId_(e,r),a={};this.listens_[i]=a;const s=Di(e._queryParams);this.restRequest_(o+".json",s,(e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(o,s,!1,r),En.safeGet(this.listens_,i)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",n(t,null)}})}unlisten(e,t){const r=xi.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Di(e._queryParams),r=e._path.toString(),n=new En.Deferred;return this.restRequest_(r+".json",t,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(r,o,!1,null),n.resolve(o)):n.reject(new Error(o))}),n.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([n,o])=>{n&&n.accessToken&&(t.auth=n.accessToken),o&&o.token&&(t.ac=o.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+En.querystring(t);this.log_("Sending REST request for "+i);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+i+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=En.jsonEval(a.responseText)}catch(e){Gn("Failed to parse JSON response for "+i+": "+a.responseText)}r(null,e)}else 401!==a.status&&404!==a.status&&Gn("Got unsuccessful REST response for "+i+" Status: "+a.status),r(a.status);r=null}},a.open("GET",i,!0),a.send()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.rootNode_=mi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return{value:null,children:new Map}}function Fi(e,t,r){if(jo(t))e.value=r,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,r);else{const n=Io(t);e.children.has(n)||e.children.set(n,Li());Fi(e.children.get(n),t=Po(t),r)}}function Mi(e,t,r){null!==e.value?r(t,e.value):function(e,t){e.children.forEach((e,r)=>{t(r,e)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(e,n)=>{Mi(n,new Ao(t.toString()+"/"+e),r)})}class Ui{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xn(this.last_,(e,r)=>{t[e]=t[e]-r}),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ui(e);const r=1e4+2e4*Math.random();no(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Xn(e,(e,n)=>{n>0&&En.contains(this.statsToReport_,e)&&(t[e]=n,r=!0)}),r&&this.server_.reportStats(t),no(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi;function qi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Vi||(Vi={}));class Gi{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Vi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(jo(this.path)){if(null!=this.affectedTree.value)return En.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ao(e));return new Gi(Co(),t,this.revert)}}return En.assert(Io(this.path)===e,"operationForChild called for unrelated child."),new Gi(Po(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t){this.source=e,this.path=t,this.type=Vi.LISTEN_COMPLETE}operationForChild(e){return jo(this.path)?new Hi(this.source,Co()):new Hi(this.source,Po(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Vi.OVERWRITE}operationForChild(e){return jo(this.path)?new zi(this.source,Co(),this.snap.getImmediateChild(e)):new zi(this.source,Po(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Vi.MERGE}operationForChild(e){if(jo(this.path)){const t=this.children.subtree(new Ao(e));return t.isEmpty()?null:t.value?new zi(this.source,Co(),t.value):new Wi(this.source,Co(),t)}return En.assert(Io(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wi(this.source,Po(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(jo(e))return this.isFullyInitialized()&&!this.filtered_;const t=Io(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Yi(e,t,r,n,o,i){const a=n.filter(e=>e.type===r);a.sort((t,r)=>function(e,t,r){if(null==t.childName||null==r.childName)throw En.assertionError("Should only compare child_ events.");const n=new zo(t.childName,t.snapshotNode),o=new zo(r.childName,r.snapshotNode);return e.index_.compare(n,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,r)),a.forEach(r=>{const n=function(e,t,r){return"value"===t.type||"child_removed"===t.type||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,r,i);o.forEach(o=>{o.respondsTo(r.type)&&t.push(o.createEvent(n,e.query_))})})}function $i(e,t){return{eventCache:e,serverCache:t}}function Qi(e,t,r,n){return $i(new Ji(t,r,n),e.serverCache)}function Xi(e,t,r,n){return $i(e.eventCache,new Ji(t,r,n))}function Zi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ea(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta;class ra{static fromObject(e){let t=new ra(null);return Xn(e,(e,r)=>{t=t.set(new Ao(e),r)}),t}constructor(e,t=(()=>(ta||(ta=new Xo(Kn)),ta))()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Co(),value:this.value};if(jo(e))return null;{const r=Io(e),n=this.children.get(r);if(null!==n){const o=n.findRootMostMatchingPathAndValue(Po(e),t);if(null!=o){return{path:xo(new Ao(r),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(jo(e))return this;{const t=Io(e),r=this.children.get(t);return null!==r?r.subtree(Po(e)):new ra(null)}}set(e,t){if(jo(e))return new ra(t,this.children);{const r=Io(e),n=(this.children.get(r)||new ra(null)).set(Po(e),t),o=this.children.insert(r,n);return new ra(this.value,o)}}remove(e){if(jo(e))return this.children.isEmpty()?new ra(null):new ra(null,this.children);{const t=Io(e),r=this.children.get(t);if(r){const n=r.remove(Po(e));let o;return o=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&o.isEmpty()?new ra(null):new ra(this.value,o)}return this}}get(e){if(jo(e))return this.value;{const t=Io(e),r=this.children.get(t);return r?r.get(Po(e)):null}}setTree(e,t){if(jo(e))return t;{const r=Io(e),n=(this.children.get(r)||new ra(null)).setTree(Po(e),t);let o;return o=n.isEmpty()?this.children.remove(r):this.children.insert(r,n),new ra(this.value,o)}}fold(e){return this.fold_(Co(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((n,o)=>{r[n]=o.fold_(xo(e,n),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Co(),t)}findOnPath_(e,t,r){const n=!!this.value&&r(t,this.value);if(n)return n;if(jo(e))return null;{const n=Io(e),o=this.children.get(n);return o?o.findOnPath_(Po(e),xo(t,n),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Co(),t)}foreachOnPath_(e,t,r){if(jo(e))return this;{this.value&&r(t,this.value);const n=Io(e),o=this.children.get(n);return o?o.foreachOnPath_(Po(e),xo(t,n),r):new ra(null)}}foreach(e){this.foreach_(Co(),e)}foreach_(e,t){this.children.inorderTraversal((r,n)=>{n.foreach_(xo(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.writeTree_=e}static empty(){return new na(new ra(null))}}function oa(e,t,r){if(jo(t))return new na(new ra(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(null!=n){const o=n.path;let i=n.value;const a=Lo(o,t);return i=i.updateChild(a,r),new na(e.writeTree_.set(o,i))}{const n=new ra(r),o=e.writeTree_.setTree(t,n);return new na(o)}}}function ia(e,t,r){let n=e;return Xn(r,(e,r)=>{n=oa(n,xo(t,e),r)}),n}function aa(e,t){if(jo(t))return na.empty();{const r=e.writeTree_.setTree(t,new ra(null));return new na(r)}}function sa(e,t){return null!=la(e,t)}function la(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return null!=r?e.writeTree_.get(r.path).getChild(Lo(r.path,t)):null}function pa(e){const t=[],r=e.writeTree_.value;return null!=r?r.isLeafNode()||r.forEachChild(li,(e,r)=>{t.push(new zo(e,r))}):e.writeTree_.children.inorderTraversal((e,r)=>{null!=r.value&&t.push(new zo(e,r.value))}),t}function ca(e,t){if(jo(t))return e;{const r=la(e,t);return new na(null!=r?new ra(r):e.writeTree_.subtree(t))}}function ua(e){return e.writeTree_.isEmpty()}function da(e,t){return function e(t,r,n){if(null!=r.value)return n.updateChild(t,r.value);{let o=null;return r.children.inorderTraversal((r,i)=>{".priority"===r?(En.assert(null!==i.value,"Priority writes must always be leaf nodes"),o=i.value):n=e(xo(t,r),i,n)}),n.getChild(t).isEmpty()||null===o||(n=n.updateChild(xo(t,".priority"),o)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Co(),e.writeTree_,t)}function ha(e,t){return Aa(t,e)}function fa(e,t){const r=e.allWrites.findIndex(e=>e.writeId===t);En.assert(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let o=n.visible,i=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=r&&ga(t,n.path)?o=!1:Uo(n.path,t.path)&&(i=!0)),a--}if(o){if(i)return function(e){e.visibleWrites=ya(e.allWrites,ma,Co()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(n.snap)e.visibleWrites=aa(e.visibleWrites,n.path);else{Xn(n.children,t=>{e.visibleWrites=aa(e.visibleWrites,xo(n.path,t))})}return!0}return!1}function ga(e,t){if(e.snap)return Uo(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&Uo(xo(e.path,r),t))return!0;return!1}function ma(e){return e.visible}function ya(e,t,r){let n=na.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)Uo(r,e)?(t=Lo(r,e),n=oa(n,t,i.snap)):Uo(e,r)&&(t=Lo(e,r),n=oa(n,Co(),i.snap.getChild(t)));else{if(!i.children)throw En.assertionError("WriteRecord should have .snap or .children");if(Uo(r,e))t=Lo(r,e),n=ia(n,t,i.children);else if(Uo(e,r))if(t=Lo(e,r),jo(t))n=ia(n,Co(),i.children);else{const e=En.safeGet(i.children,Io(t));if(e){const r=e.getChild(Po(t));n=oa(n,Co(),r)}}}}}return n}function va(e,t,r,n,o){if(n||o){const i=ca(e.visibleWrites,t);if(!o&&ua(i))return r;if(o||null!=r||sa(i,Co())){const i=function(e){return(e.visible||o)&&(!n||!~n.indexOf(e.writeId))&&(Uo(e.path,t)||Uo(t,e.path))};return da(ya(e.allWrites,i,t),r||mi.EMPTY_NODE)}return null}{const n=la(e.visibleWrites,t);if(null!=n)return n;{const n=ca(e.visibleWrites,t);if(ua(n))return r;if(null!=r||sa(n,Co())){return da(n,r||mi.EMPTY_NODE)}return null}}}function ba(e,t,r,n){return va(e.writeTree,e.treePath,t,r,n)}function Ea(e,t){return function(e,t,r){let n=mi.EMPTY_NODE;const o=la(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(li,(e,t)=>{n=n.updateImmediateChild(e,t)}),n;if(r){const o=ca(e.visibleWrites,t);return r.forEachChild(li,(e,t)=>{const r=da(ca(o,new Ao(e)),t);n=n.updateImmediateChild(e,r)}),pa(o).forEach(e=>{n=n.updateImmediateChild(e.name,e.node)}),n}return pa(ca(e.visibleWrites,t)).forEach(e=>{n=n.updateImmediateChild(e.name,e.node)}),n}(e.writeTree,e.treePath,t)}function _a(e,t,r,n){return function(e,t,r,n,o){En.assert(n||o,"Either existingEventSnap or existingServerSnap must exist");const i=xo(t,r);if(sa(e.visibleWrites,i))return null;{const t=ca(e.visibleWrites,i);return ua(t)?o.getChild(r):da(t,o.getChild(r))}}(e.writeTree,e.treePath,t,r,n)}function Oa(e,t){return function(e,t){return la(e.visibleWrites,t)}(e.writeTree,xo(e.treePath,t))}function wa(e,t,r,n,o,i){return function(e,t,r,n,o,i,a){let s;const l=ca(e.visibleWrites,t),p=la(l,Co());if(null!=p)s=p;else{if(null==r)return[];s=da(l,r)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),r=i?s.getReverseIteratorFrom(n,a):s.getIteratorFrom(n,a);let l=r.getNext();for(;l&&e.length<o;)0!==t(l,n)&&e.push(l),l=r.getNext();return e}}(e.writeTree,e.treePath,t,r,n,o,i)}function Sa(e,t,r){return function(e,t,r,n){const o=xo(t,r),i=la(e.visibleWrites,o);if(null!=i)return i;if(n.isCompleteForChild(r)){return da(ca(e.visibleWrites,o),n.getNode().getImmediateChild(r))}return null}(e.writeTree,e.treePath,t,r)}function Ta(e,t){return Aa(xo(e.treePath,t),e.writeTree)}function Aa(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;En.assert("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),En.assert(".priority"!==r,"Only non-priority child changes can be tracked.");const n=this.changeMap.get(r);if(n){const o=n.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,Si(r,e.snapshotNode,n.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,wi(r,n.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,Oi(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw En.assertionError("Illegal combination of changes: "+e+" occurred after "+n);this.changeMap.set(r,Si(r,e.snapshotNode,n.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Na{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Ji(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sa(this.writes_,e,t)}}getChildAfterChild(e,t,r){const n=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ea(this.viewCache_),o=wa(this.writes_,n,t,1,r,e);return 0===o.length?null:o[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(e,t,r,n,o){const i=new Ca;let a,s;if(r.type===Vi.OVERWRITE){const l=r;l.source.fromUser?a=ka(e,t,l.path,l.snap,n,o,i):(En.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!jo(l.path),a=Da(e,t,l.path,l.snap,n,o,s,i))}else if(r.type===Vi.MERGE){const l=r;l.source.fromUser?a=function(e,t,r,n,o,i,a){let s=t;return n.foreach((n,l)=>{const p=xo(r,n);xa(t,Io(p))&&(s=ka(e,s,p,l,o,i,a))}),n.foreach((n,l)=>{const p=xo(r,n);xa(t,Io(p))||(s=ka(e,s,p,l,o,i,a))}),s}(e,t,l.path,l.children,n,o,i):(En.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=La(e,t,l.path,l.children,n,o,s,i))}else if(r.type===Vi.ACK_USER_WRITE){const s=r;a=s.revert?function(e,t,r,n,o,i){let a;if(null!=Oa(n,r))return t;{const s=new Na(n,t,o),l=t.eventCache.getNode();let p;if(jo(r)||".priority"===Io(r)){let r;if(t.serverCache.isFullyInitialized())r=ba(n,ea(t));else{const e=t.serverCache.getNode();En.assert(e instanceof mi,"serverChildren would be complete if leaf node"),r=Ea(n,e)}r=r,p=e.filter.updateFullNode(l,r,i)}else{const o=Io(r);let c=Sa(n,o,t.serverCache);null==c&&t.serverCache.isCompleteForChild(o)&&(c=l.getImmediateChild(o)),p=null!=c?e.filter.updateChild(l,o,c,Po(r),s,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,mi.EMPTY_NODE,Po(r),s,i):l,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=ba(n,ea(t)),a.isLeafNode()&&(p=e.filter.updateFullNode(p,a,i)))}return a=t.serverCache.isFullyInitialized()||null!=Oa(n,Co()),Qi(t,p,a,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,s.path,n,o,i):function(e,t,r,n,o,i,a){if(null!=Oa(o,r))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=n.value){if(jo(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return Da(e,t,r,l.getNode().getChild(r),o,i,s,a);if(jo(r)){let n=new ra(null);return l.getNode().forEachChild(Yo,(e,t)=>{n=n.set(new Ao(e),t)}),La(e,t,r,n,o,i,s,a)}return t}{let p=new ra(null);return n.foreach((e,t)=>{const n=xo(r,e);l.isCompleteForPath(n)&&(p=p.set(e,l.getNode().getChild(n)))}),La(e,t,r,p,o,i,s,a)}}(e,t,s.path,s.affectedTree,n,o,i)}else{if(r.type!==Vi.LISTEN_COMPLETE)throw En.assertionError("Unknown operation type: "+r.type);a=function(e,t,r,n,o){const i=t.serverCache,a=Xi(t,i.getNode(),i.isFullyInitialized()||jo(r),i.isFiltered());return Ra(e,a,r,n,Ia,o)}(e,t,r.path,n,i)}const l=i.getChanges();return function(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const o=n.getNode().isLeafNode()||n.getNode().isEmpty(),i=Zi(e);(r.length>0||!e.eventCache.isFullyInitialized()||o&&!n.getNode().equals(i)||!n.getNode().getPriority().equals(i.getPriority()))&&r.push(_i(Zi(t)))}}(t,a,l),{viewCache:a,changes:l}}function Ra(e,t,r,n,o,i){const a=t.eventCache;if(null!=Oa(n,r))return t;{let s,l;if(jo(r))if(En.assert(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const r=ea(t),o=Ea(n,r instanceof mi?r:mi.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const r=ba(n,ea(t));s=e.filter.updateFullNode(t.eventCache.getNode(),r,i)}else{const p=Io(r);if(".priority"===p){En.assert(1===No(r),"Can't have a priority with additional path components");const o=a.getNode();l=t.serverCache.getNode();const i=_a(n,r,o,l);s=null!=i?e.filter.updatePriority(o,i):a.getNode()}else{const c=Po(r);let u;if(a.isCompleteForChild(p)){l=t.serverCache.getNode();const e=_a(n,r,a.getNode(),l);u=null!=e?a.getNode().getImmediateChild(p).updateChild(c,e):a.getNode().getImmediateChild(p)}else u=Sa(n,p,t.serverCache);s=null!=u?e.filter.updateChild(a.getNode(),p,u,c,o,i):a.getNode()}}return Qi(t,s,a.isFullyInitialized()||jo(r),e.filter.filtersNodes())}}function Da(e,t,r,n,o,i,a,s){const l=t.serverCache;let p;const c=a?e.filter:e.filter.getIndexedFilter();if(jo(r))p=c.updateFullNode(l.getNode(),n,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(r,n);p=c.updateFullNode(l.getNode(),e,null)}else{const e=Io(r);if(!l.isCompleteForPath(r)&&No(r)>1)return t;const o=Po(r),i=l.getNode().getImmediateChild(e).updateChild(o,n);p=".priority"===e?c.updatePriority(l.getNode(),i):c.updateChild(l.getNode(),e,i,o,Ia,null)}const u=Xi(t,p,l.isFullyInitialized()||jo(r),c.filtersNodes());return Ra(e,u,r,o,new Na(o,u,i),s)}function ka(e,t,r,n,o,i,a){const s=t.eventCache;let l,p;const c=new Na(o,t,i);if(jo(r))p=e.filter.updateFullNode(t.eventCache.getNode(),n,a),l=Qi(t,p,!0,e.filter.filtersNodes());else{const o=Io(r);if(".priority"===o)p=e.filter.updatePriority(t.eventCache.getNode(),n),l=Qi(t,p,s.isFullyInitialized(),s.isFiltered());else{const i=Po(r),p=s.getNode().getImmediateChild(o);let u;if(jo(i))u=n;else{const e=c.getCompleteChild(o);u=null!=e?".priority"===Ro(i)&&e.getChild(ko(i)).isEmpty()?e:e.updateChild(i,n):mi.EMPTY_NODE}if(p.equals(u))l=t;else{l=Qi(t,e.filter.updateChild(s.getNode(),o,u,i,c,a),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function xa(e,t){return e.eventCache.isCompleteForChild(t)}function ja(e,t,r){return r.foreach((e,r)=>{t=t.updateChild(e,r)}),t}function La(e,t,r,n,o,i,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,p=t;l=jo(r)?n:new ra(null).setTree(r,n);const c=t.serverCache.getNode();return l.children.inorderTraversal((r,n)=>{if(c.hasChild(r)){const l=ja(0,t.serverCache.getNode().getImmediateChild(r),n);p=Da(e,p,new Ao(r),l,o,i,a,s)}}),l.children.inorderTraversal((r,n)=>{const l=!t.serverCache.isCompleteForChild(r)&&null===n.value;if(!c.hasChild(r)&&!l){const l=ja(0,t.serverCache.getNode().getImmediateChild(r),n);p=Da(e,p,new Ao(r),l,o,i,a,s)}}),p}class Fa{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,n=new Ti(r.getIndex()),o=(i=r).loadsAllData()?new Ti(i.getIndex()):i.hasLimit()?new Ci(i):new Ai(i);var i;this.processor_=function(e){return{filter:e}}(o);const a=t.serverCache,s=t.eventCache,l=n.updateFullNode(mi.EMPTY_NODE,a.getNode(),null),p=o.updateFullNode(mi.EMPTY_NODE,s.getNode(),null),c=new Ji(l,a.isFullyInitialized(),n.filtersNodes()),u=new Ji(p,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=$i(u,c),this.eventGenerator_=new Ki(this.query_)}get query(){return this.query_}}function Ma(e,t){const r=ea(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!jo(t)&&!r.getImmediateChild(Io(t)).isEmpty())?r.getChild(t):null}function Ua(e){return 0===e.eventRegistrations_.length}function Ba(e,t,r){const n=[];if(r){En.assert(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(r,o);t&&n.push(t)})}if(t){let r=[];for(let n=0;n<e.eventRegistrations_.length;++n){const o=e.eventRegistrations_[n];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(n+1));break}}else r.push(o)}e.eventRegistrations_=r}else e.eventRegistrations_=[];return n}function Va(e,t,r,n){t.type===Vi.MERGE&&null!==t.source.queryId&&(En.assert(ea(e.viewCache_),"We should always have a full cache before handling merges"),En.assert(Zi(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=Pa(e.processor_,o,t,r,n);var a,s;return a=e.processor_,s=i.viewCache,En.assert(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),En.assert(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),En.assert(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,qa(e,i.changes,i.viewCache.eventCache.getNode(),null)}function qa(e,t,r,n){const o=n?[n]:e.eventRegistrations_;return function(e,t,r,n){const o=[],i=[];return t.forEach(t=>{var r;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((r=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:r}))}),Yi(e,o,"child_removed",t,n,r),Yi(e,o,"child_added",t,n,r),Yi(e,o,"child_moved",i,n,r),Yi(e,o,"child_changed",t,n,r),Yi(e,o,"value",t,n,r),o}(e.eventGenerator_,t,r,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga,Ha;class za{constructor(){this.views=new Map}}function Wa(e,t,r,n){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return En.assert(null!=i,"SyncTree gave us an op for an invalid query."),Va(i,t,r,n)}{let o=[];for(const i of e.views.values())o=o.concat(Va(i,t,r,n));return o}}function Ja(e,t,r,n,o){const i=t._queryIdentifier,a=e.views.get(i);if(!a){let e=ba(r,o?n:null),i=!1;e?i=!0:n instanceof mi?(e=Ea(r,n),i=!1):(e=mi.EMPTY_NODE,i=!1);const a=$i(new Ji(e,i,!1),new Ji(n,o,!1));return new Fa(t,a)}return a}function Ka(e,t,r,n,o,i){const a=Ja(e,t,n,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,r),function(e,t){const r=e.viewCache_.eventCache,n=[];if(!r.getNode().isLeafNode()){r.getNode().forEachChild(li,(e,t)=>{n.push(Oi(e,t))})}return r.isFullyInitialized()&&n.push(_i(r.getNode())),qa(e,n,r.getNode(),t)}(a,r)}function Ya(e,t,r,n){const o=t._queryIdentifier,i=[];let a=[];const s=es(e);if("default"===o)for(const[t,o]of e.views.entries())a=a.concat(Ba(o,r,n)),Ua(o)&&(e.views.delete(t),o.query._queryParams.loadsAllData()||i.push(o.query));else{const t=e.views.get(o);t&&(a=a.concat(Ba(t,r,n)),Ua(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||i.push(t.query)))}return s&&!es(e)&&i.push(new(En.assert(Ga,"Reference.ts has not been loaded"),Ga)(t._repo,t._path)),{removed:i,events:a}}function $a(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Qa(e,t){let r=null;for(const n of e.views.values())r=r||Ma(n,t);return r}function Xa(e,t){if(t._queryParams.loadsAllData())return ts(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Za(e,t){return null!=Xa(e,t)}function es(e){return null!=ts(e)}function ts(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rs=1;class ns{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ra(null),this.pendingWriteTree_={visibleWrites:na.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function os(e,t,r,n,o){return function(e,t,r,n,o){En.assert(n>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:o}),o&&(e.visibleWrites=oa(e.visibleWrites,t,r)),e.lastWriteId=n}(e.pendingWriteTree_,t,r,n,o),o?hs(e,new zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r)):[]}function is(e,t,r,n){!function(e,t,r,n){En.assert(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=ia(e.visibleWrites,t,r),e.lastWriteId=n}(e.pendingWriteTree_,t,r,n);const o=ra.fromObject(r);return hs(e,new Wi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}function as(e,t,r=!1){const n=function(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}(e.pendingWriteTree_,t);if(fa(e.pendingWriteTree_,t)){let t=new ra(null);return null!=n.snap?t=t.set(Co(),!0):Xn(n.children,e=>{t=t.set(new Ao(e),!0)}),hs(e,new Gi(n.path,t,r))}return[]}function ss(e,t,r){return hs(e,new zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}function ls(e,t,r,n,o=!1){const i=t._path,a=e.syncPointTree_.get(i);let s=[];if(a&&("default"===t._queryIdentifier||Za(a,t))){const l=Ya(a,t,r,n);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const p=l.removed;if(s=l.events,!o){const r=-1!==p.findIndex(e=>e._queryParams.loadsAllData()),o=e.syncPointTree_.findOnPath(i,(e,t)=>es(t));if(r&&!o){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const r=function(e){return e.fold((e,t,r)=>{if(t&&es(t)){return[ts(t)]}{let e=[];return t&&(e=$a(t)),Xn(r,(t,r)=>{e=e.concat(r)}),e}})}(t);for(let t=0;t<r.length;++t){const n=r[t],o=n.query,i=fs(e,n);e.listenProvider_.startListening(Es(o),gs(e,o),i.hashFn,i.onComplete)}}}if(!o&&p.length>0&&!n)if(r){const r=null;e.listenProvider_.stopListening(Es(t),r)}else p.forEach(t=>{const r=e.queryToTagMap.get(ms(t));e.listenProvider_.stopListening(Es(t),r)})}!function(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const t=ms(n),r=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(r)}}}(e,p)}return s}function ps(e,t,r,n){const o=ys(e,n);if(null!=o){const n=vs(o),i=n.path,a=n.queryId,s=Lo(i,t);return bs(e,i,new zi(qi(a),s,r))}return[]}function cs(e,t,r,n=!1){const o=t._path;let i=null,a=!1;e.syncPointTree_.foreachOnPath(o,(e,t)=>{const r=Lo(e,o);i=i||Qa(t,r),a=a||es(t)});let s,l=e.syncPointTree_.get(o);if(l?(a=a||es(l),i=i||Qa(l,Co())):(l=new za,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=i)s=!0;else{s=!1,i=mi.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild((e,t)=>{const r=Qa(t,Co());r&&(i=i.updateImmediateChild(e,r))})}const p=Za(l,t);if(!p&&!t._queryParams.loadsAllData()){const r=ms(t);En.assert(!e.queryToTagMap.has(r),"View does not exist, but we have a tag");const n=rs++;e.queryToTagMap.set(r,n),e.tagToQueryMap.set(n,r)}let c=Ka(l,t,r,ha(e.pendingWriteTree_,o),i,s);if(!p&&!a&&!n){const r=Xa(l,t);c=c.concat(function(e,t,r){const n=t._path,o=gs(e,t),i=fs(e,r),a=e.listenProvider_.startListening(Es(t),o,i.hashFn,i.onComplete),s=e.syncPointTree_.subtree(n);if(o)En.assert(!es(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold((e,t,r)=>{if(!jo(e)&&t&&es(t))return[ts(t).query];{let e=[];return t&&(e=e.concat($a(t).map(e=>e.query))),Xn(r,(t,r)=>{e=e.concat(r)}),e}});for(let r=0;r<t.length;++r){const n=t[r];e.listenProvider_.stopListening(Es(n),gs(e,n))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,r))}return c}function us(e,t,r){const n=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,r)=>{const n=Qa(r,Lo(e,t));if(n)return n});return va(n,t,o,r,!0)}function ds(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const o=Lo(e,r);n=n||Qa(t,o)});let o=e.syncPointTree_.get(r);o?n=n||Qa(o,Co()):(o=new za,e.syncPointTree_=e.syncPointTree_.set(r,o));const i=null!=n,a=i?new Ji(n,!0,!1):null;return function(e){return Zi(e.viewCache_)}(Ja(o,t,ha(e.pendingWriteTree_,t._path),i?a.getNode():mi.EMPTY_NODE,i))}function hs(e,t){return function e(t,r,n,o){if(jo(t.path))return function e(t,r,n,o){const i=r.get(Co());null==n&&null!=i&&(n=Qa(i,Co()));let a=[];r.children.inorderTraversal((r,i)=>{const s=n?n.getImmediateChild(r):null,l=Ta(o,r),p=t.operationForChild(r);p&&(a=a.concat(e(p,i,s,l)))}),i&&(a=a.concat(Wa(i,t,o,n)));return a}(t,r,n,o);{const i=r.get(Co());null==n&&null!=i&&(n=Qa(i,Co()));let a=[];const s=Io(t.path),l=t.operationForChild(s),p=r.children.get(s);if(p&&l){const t=n?n.getImmediateChild(s):null,r=Ta(o,s);a=a.concat(e(l,p,t,r))}return i&&(a=a.concat(Wa(i,t,o,n))),a}}(t,e.syncPointTree_,null,ha(e.pendingWriteTree_,Co()))}function fs(e,t){const r=t.query,n=gs(e,r);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||mi.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return n?function(e,t,r){const n=ys(e,r);if(n){const r=vs(n),o=r.path,i=r.queryId,a=Lo(o,t);return bs(e,o,new Hi(qi(i),a))}return[]}(e,r._path,n):function(e,t){return hs(e,new Hi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,r._path);{const n=function(e,t){let r="Unknown Error";"too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?r="Client doesn't have permission to access the desired data.":"unavailable"===e&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}(t,r);return ls(e,r,null,n)}}}}function gs(e,t){const r=ms(t);return e.queryToTagMap.get(r)}function ms(e){return e._path.toString()+"$"+e._queryIdentifier}function ys(e,t){return e.tagToQueryMap.get(t)}function vs(e){const t=e.indexOf("$");return En.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ao(e.substr(0,t))}}function bs(e,t,r){const n=e.syncPointTree_.get(t);En.assert(n,"Missing sync point for query tag that we're tracking");return Wa(n,r,ha(e.pendingWriteTree_,t),null)}function Es(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(En.assert(Ha,"Reference.ts has not been loaded"),Ha)(e._repo,e._path):e}class _s{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new _s(t)}node(){return this.node_}}class Os{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=xo(this.path_,e);return new Os(this.syncTree_,t)}node(){return us(this.syncTree_,this.path_)}}const ws=function(e,t,r){return e&&"object"==typeof e?(En.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Ss(e[".sv"],t,r):"object"==typeof e[".sv"]?Ts(e[".sv"],t):void En.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ss=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:En.assert(!1,"Unexpected server value: "+e)}},Ts=function(e,t,r){e.hasOwnProperty("increment")||En.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;"number"!=typeof n&&En.assert(!1,"Unexpected increment value: "+n);const o=t.node();if(En.assert(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return n;const i=o.getValue();return"number"!=typeof i?n:i+n},As=function(e,t,r,n){return Is(t,new Os(r,e),n)},Cs=function(e,t,r){return Is(e,new _s(t),r)};function Is(e,t,r){const n=e.getPriority().val(),o=ws(n,t.getImmediateChild(".priority"),r);let i;if(e.isLeafNode()){const n=e,i=ws(n.getValue(),t,r);return i!==n.getValue()||o!==n.getPriority().val()?new si(i,vi(o)):e}{const n=e;return i=n,o!==n.getPriority().val()&&(i=i.updatePriority(new si(o))),n.forEachChild(li,(e,n)=>{const o=Is(n,t.getImmediateChild(e),r);o!==n&&(i=i.updateImmediateChild(e,o))}),i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Ps(e,t){let r=t instanceof Ao?t:new Ao(t),n=e,o=Io(r);for(;null!==o;){const e=En.safeGet(n.node.children,o)||{children:{},childCount:0};n=new Ns(o,n,e),r=Po(r),o=Io(r)}return n}function Rs(e){return e.node.value}function Ds(e,t){e.node.value=t,Ls(e)}function ks(e){return e.node.childCount>0}function xs(e,t){Xn(e.node.children,(r,n)=>{t(new Ns(r,e,n))})}function js(e){return new Ao(null===e.parent?e.name:js(e.parent)+"/"+e.name)}function Ls(e){null!==e.parent&&function(e,t,r){const n=function(e){return void 0===Rs(e)&&!ks(e)}(r),o=En.contains(e.node.children,t);n&&o?(delete e.node.children[t],e.node.childCount--,Ls(e)):n||o||(e.node.children[t]=r.node,e.node.childCount++,Ls(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}const Fs=/[\[\].#$\/\u0000-\u001F\u007F]/,Ms=/[\[\].#$\u0000-\u001F\u007F]/,Us=function(e){return"string"==typeof e&&0!==e.length&&!Fs.test(e)},Bs=function(e){return"string"==typeof e&&0!==e.length&&!Ms.test(e)},Vs=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Hn(e)||e&&"object"==typeof e&&En.contains(e,".sv")},qs=function(e,t,r,n){n&&void 0===t||Gs(En.errorPrefix(e,"value"),t,r)},Gs=function(e,t,r){const n=r instanceof Ao?new Bo(r,e):r;if(void 0===t)throw new Error(e+"contains undefined "+qo(n));if("function"==typeof t)throw new Error(e+"contains a function "+qo(n)+" with contents = "+t.toString());if(Hn(t))throw new Error(e+"contains "+t.toString()+" "+qo(n));if("string"==typeof t&&t.length>10485760/3&&En.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+qo(n)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(Xn(t,(t,i)=>{if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Us(t)))throw new Error(e+" contains an invalid key ("+t+") "+qo(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=En.stringLength(t),Vo(e)}(n,t),Gs(e,i,n),function(e){const t=e.parts_.pop();e.byteLength_-=En.stringLength(t),e.parts_.length>0&&(e.byteLength_-=1)}(n)}),r&&o)throw new Error(e+' contains ".value" child '+qo(n)+" in addition to actual children.")}},Hs=function(e,t,r,n){if(n&&void 0===t)return;const o=En.errorPrefix(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const i=[];Xn(t,(e,t)=>{const n=new Ao(e);if(Gs(o,t,xo(r,n)),".priority"===Ro(n)&&!Vs(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(n)}),function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const o=Do(n);for(let t=0;t<o.length;t++)if(".priority"===o[t]&&t===o.length-1);else if(!Us(o[t]))throw new Error(e+"contains an invalid key ("+o[t]+") in path "+n.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Fo);let o=null;for(r=0;r<t.length;r++){if(n=t[r],null!==o&&Uo(o,n))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+n.toString());o=n}}(o,i)},zs=function(e,t,r){if(!r||void 0!==t){if(Hn(t))throw new Error(En.errorPrefix(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vs(t))throw new Error(En.errorPrefix(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ws=function(e,t,r,n){if(!(n&&void 0===r||Us(r)))throw new Error(En.errorPrefix(e,t)+'was an invalid key = "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Js=function(e,t,r,n){if(!(n&&void 0===r||Bs(r)))throw new Error(En.errorPrefix(e,t)+'was an invalid path = "'+r+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ks=function(e,t){if(".info"===Io(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ys=function(e,t){const r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Us(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Bs(e)}(r))throw new Error(En.errorPrefix(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $s{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qs(e,t){let r=null;for(let n=0;n<t.length;n++){const o=t[n],i=o.getPath();null===r||Mo(i,r.path)||(e.eventLists_.push(r),r=null),null===r&&(r={events:[],path:i}),r.events.push(o)}r&&e.eventLists_.push(r)}function Xs(e,t,r){Qs(e,r),el(e,e=>Mo(e,t))}function Zs(e,t,r){Qs(e,r),el(e,e=>Uo(e,t)||Uo(t,e))}function el(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const o=e.eventLists_[n];if(o){t(o.path)?(tl(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function tl(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(null!==r){e.events[t]=null;const n=r.getEventRunner();Ln&&Un("event: "+r.toString()),ro(n)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,r,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $s,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Li(),this.transactionQueueTree_=new Ns,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nl(e,t,r){if(e.stats_=po(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xi(e.repoInfo_,(t,r,n,o)=>{al(e,t,r,n,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sl(e,!0),0);else{if(null!=r){if("object"!=typeof r)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{En.stringify(r)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Ho(e.repoInfo_,t,(t,r,n,o)=>{al(e,t,r,n,o)},t=>{sl(e,t)},t=>{!function(e,t){Xn(t,(t,r)=>{ll(e,t,r)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const r=e.toString();return lo[r]||(lo[r]=t()),lo[r]}(e.repoInfo_,()=>new Bi(e.stats_,e.server_)),e.infoData_=new ji,e.infoSyncTree_=new ns({startListening:(t,r,n,o)=>{let i=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(i=ss(e.infoSyncTree_,t._path,a),setTimeout(()=>{o("ok")},0)),i},stopListening:()=>{}}),ll(e,"connected",!1),e.serverSyncTree_=new ns({startListening:(t,r,n,o)=>(e.server_.listen(t,n,r,(r,n)=>{const i=o(r,n);Zs(e.eventQueue_,t._path,i)}),[]),stopListening:(t,r)=>{e.server_.unlisten(t,r)}})}function ol(e){const t=e.infoData_.getNode(new Ao(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function il(e){return(t=(t={timestamp:ol(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function al(e,t,r,n,o){e.dataUpdateCount++;const i=new Ao(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let a=[];if(o)if(n){const t=En.map(r,e=>vi(e));a=function(e,t,r,n){const o=ys(e,n);if(o){const n=vs(o),i=n.path,a=n.queryId,s=Lo(i,t),l=ra.fromObject(r);return bs(e,i,new Wi(qi(a),s,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=vi(r);a=ps(e.serverSyncTree_,i,t,o)}else if(n){const t=En.map(r,e=>vi(e));a=function(e,t,r){const n=ra.fromObject(r);return hs(e,new Wi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}(e.serverSyncTree_,i,t)}else{const t=vi(r);a=ss(e.serverSyncTree_,i,t)}let s=i;a.length>0&&(s=bl(e,i)),Zs(e.eventQueue_,s,a)}function sl(e,t){ll(e,"connected",t),!1===t&&function(e){gl(e,"onDisconnectEvents");const t=il(e),r=Li();Mi(e.onDisconnect_,Co(),(n,o)=>{const i=As(n,o,e.serverSyncTree_,t);Fi(r,n,i)});let n=[];Mi(r,Co(),(t,r)=>{n=n.concat(ss(e.serverSyncTree_,t,r));const o=wl(e,t);bl(e,o)}),e.onDisconnect_=Li(),Zs(e.eventQueue_,Co(),n)}(e)}function ll(e,t,r){const n=new Ao("/.info/"+t),o=vi(r);e.infoData_.updateSnapshot(n,o);const i=ss(e.infoSyncTree_,n,o);Zs(e.eventQueue_,n,i)}function pl(e){return e.nextWriteId_++}function cl(e,t,r,n,o){gl(e,"set",{path:t.toString(),value:r,priority:n});const i=il(e),a=vi(r,n),s=us(e.serverSyncTree_,t),l=Cs(a,s,i),p=pl(e),c=os(e.serverSyncTree_,t,l,p,!0);Qs(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(r,n)=>{const i="ok"===r;i||Gn("set at "+t+" failed: "+r);const a=as(e.serverSyncTree_,p,!i);Zs(e.eventQueue_,t,a),ml(e,o,r,n)});const u=wl(e,t);bl(e,u),Zs(e.eventQueue_,u,[])}function ul(e,t,r){e.server_.onDisconnectCancel(t.toString(),(n,o)=>{"ok"===n&&function e(t,r){if(jo(r))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(li,(e,r)=>{Fi(t,new Ao(e),r)}),e(t,r)}}if(t.children.size>0){const n=Io(r);if(r=Po(r),t.children.has(n)){e(t.children.get(n),r)&&t.children.delete(n)}return 0===t.children.size}return!0}(e.onDisconnect_,t),ml(e,r,n,o)})}function dl(e,t,r,n){const o=vi(r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(r,i)=>{"ok"===r&&Fi(e.onDisconnect_,t,o),ml(e,n,r,i)})}function hl(e,t,r){let n;n=".info"===Io(t._path)?ls(e.infoSyncTree_,t,r):ls(e.serverSyncTree_,t,r),Xs(e.eventQueue_,t._path,n)}function fl(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function gl(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Un(r,...t)}function ml(e,t,r,n){t&&ro(()=>{if("ok"===r)t(null);else{const e=(r||"error").toUpperCase();let o=e;n&&(o+=": "+n);const i=new Error(o);i.code=e,t(i)}})}function yl(e,t,r){return us(e.serverSyncTree_,t,r)||mi.EMPTY_NODE}function vl(e,t=e.transactionQueueTree_){if(t||Ol(e,t),Rs(t)){const r=_l(e,t);En.assert(r.length>0,"Sending zero length transaction queue");r.every(e=>0===e.status)&&function(e,t,r){const n=r.map(e=>e.currentWriteId),o=yl(e,t,n);let i=o;const a=o.hash();for(let e=0;e<r.length;e++){const n=r[e];En.assert(0===n.status,"tryToSendTransactionQueue_: items in queue should all be run."),n.status=1,n.retryCount++;const o=Lo(t,n.path);i=i.updateChild(o,n.currentOutputSnapshotRaw)}const s=i.val(!0),l=t;e.server_.put(l.toString(),s,n=>{gl(e,"transaction put response",{path:l.toString(),status:n});let o=[];if("ok"===n){const n=[];for(let t=0;t<r.length;t++)r[t].status=2,o=o.concat(as(e.serverSyncTree_,r[t].currentWriteId)),r[t].onComplete&&n.push(()=>r[t].onComplete(null,!0,r[t].currentOutputSnapshotResolved)),r[t].unwatcher();Ol(e,Ps(e.transactionQueueTree_,t)),vl(e,e.transactionQueueTree_),Zs(e.eventQueue_,t,o);for(let e=0;e<n.length;e++)ro(n[e])}else{if("datastale"===n)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{Gn("transaction at "+l.toString()+" failed: "+n);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=n}bl(e,t)}},a)}(e,js(t),r)}else ks(t)&&xs(t,t=>{vl(e,t)})}function bl(e,t){const r=El(e,t),n=js(r);return function(e,t,r){if(0===t.length)return;const n=[];let o=[];const i=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){const l=t[s],p=Lo(r,l.path);let c,u=!1;if(En.assert(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,c=l.abortReason,o=o.concat(as(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,c="maxretry",o=o.concat(as(e.serverSyncTree_,l.currentWriteId,!0));else{const r=yl(e,l.path,i);l.currentInputSnapshot=r;const n=t[s].update(r.val());if(void 0!==n){Gs("transaction failed: Data returned ",n,l.path);let t=vi(n);"object"==typeof n&&null!=n&&En.contains(n,".priority")||(t=t.updatePriority(r.getPriority()));const a=l.currentWriteId,s=il(e),p=Cs(t,r,s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=p,l.currentWriteId=pl(e),i.splice(i.indexOf(a),1),o=o.concat(os(e.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),o=o.concat(as(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",o=o.concat(as(e.serverSyncTree_,l.currentWriteId,!0))}Zs(e.eventQueue_,r,o),o=[],u&&(t[s].status=2,a=t[s].unwatcher,setTimeout(a,Math.floor(0)),t[s].onComplete&&("nodata"===c?n.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):n.push(()=>t[s].onComplete(new Error(c),!1,null))))}var a;Ol(e,e.transactionQueueTree_);for(let e=0;e<n.length;e++)ro(n[e]);vl(e,e.transactionQueueTree_)}(e,_l(e,r),n),n}function El(e,t){let r,n=e.transactionQueueTree_;for(r=Io(t);null!==r&&void 0===Rs(n);)n=Ps(n,r),r=Io(t=Po(t));return n}function _l(e,t){const r=[];return function e(t,r,n){const o=Rs(r);if(o)for(let e=0;e<o.length;e++)n.push(o[e]);xs(r,r=>{e(t,r,n)})}(e,t,r),r.sort((e,t)=>e.order-t.order),r}function Ol(e,t){const r=Rs(t);if(r){let e=0;for(let t=0;t<r.length;t++)2!==r[t].status&&(r[e]=r[t],e++);r.length=e,Ds(t,r.length>0?r:void 0)}xs(t,t=>{Ol(e,t)})}function wl(e,t){const r=js(El(e,t)),n=Ps(e.transactionQueueTree_,t);return function(e,t,r){let n=r?e:e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(n,t=>{Sl(e,t)}),Sl(e,n),function e(t,r,n,o){n&&!o&&r(t),xs(t,t=>{e(t,r,!0,o)}),n&&o&&r(t)}(n,t=>{Sl(e,t)}),r}function Sl(e,t){const r=Rs(t);if(r){const n=[];let o=[],i=-1;for(let t=0;t<r.length;t++)3===r[t].status||(1===r[t].status?(En.assert(i===t-1,"All SENT items should be at beginning of queue."),i=t,r[t].status=3,r[t].abortReason="set"):(En.assert(0===r[t].status,"Unexpected transaction status in abort"),r[t].unwatcher(),o=o.concat(as(e.serverSyncTree_,r[t].currentWriteId,!0)),r[t].onComplete&&n.push(r[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?Ds(t,void 0):r.length=i+1,Zs(e.eventQueue_,js(t),o);for(let e=0;e<n.length;e++)ro(n[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=function(e,t){const r=Al(e),n=r.namespace;"firebase.com"===r.domain&&qn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===r.domain||qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===r.scheme||"wss"===r.scheme;return{repoInfo:new oo(r.host,r.secure,n,o,t,"",n!==r.subdomain),path:new Ao(r.pathString)}},Al=function(e){let t="",r="",n="",o="",i="",a=!0,s="https",l=443;if("string"==typeof e){let p=e.indexOf("//");p>=0&&(s=e.substring(0,p-1),e=e.substring(p+2));let c=e.indexOf("/");-1===c&&(c=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(o=function(e){let t="";const r=e.split("/");for(let e=0;e<r.length;e++)if(r[e].length>0){let n=r[e];try{n=decodeURIComponent(n.replace(/\+/g," "))}catch(e){}t+="/"+n}return t}(e.substring(c,u)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const r of e.split("&")){if(0===r.length)continue;const n=r.split("=");2===n.length?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Gn(`Invalid query segment '${r}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));p=t.indexOf(":"),p>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(p+1),10)):p=t.length;const h=t.slice(0,p);if("localhost"===h.toLowerCase())r="localhost";else if(h.split(".").length<=2)r=h;else{const e=t.indexOf(".");n=t.substring(0,e).toLowerCase(),r=t.substring(e+1),i=n}"ns"in d&&(i=d.ns)}return{host:t,port:l,domain:r,subdomain:n,secure:a,scheme:s,pathString:o,namespace:i}},Cl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Il=function(){let e=0;const t=[];return function(r){const n=r===e;let o;e=r;const i=new Array(8);for(o=7;o>=0;o--)i[o]=Cl.charAt(r%64),r=Math.floor(r/64);En.assert(0===r,"Cannot push at time == 0");let a=i.join("");if(n){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)a+=Cl.charAt(t[o]);return En.assert(20===a.length,"nextPushId: Length should be 20."),a}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nl{constructor(e,t,r,n){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=n}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+En.stringify(this.snapshot.exportVal())}}class Pl{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return En.assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new En.Deferred;return ul(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ks("OnDisconnect.remove",this._path);const e=new En.Deferred;return dl(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ks("OnDisconnect.set",this._path),qs("OnDisconnect.set",e,this._path,!1);const t=new En.Deferred;return dl(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ks("OnDisconnect.setWithPriority",this._path),qs("OnDisconnect.setWithPriority",e,this._path,!1),zs("OnDisconnect.setWithPriority",t,!1);const r=new En.Deferred;return function(e,t,r,n,o){const i=vi(r,n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(r,n)=>{"ok"===r&&Fi(e.onDisconnect_,t,i),ml(e,o,r,n)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){Ks("OnDisconnect.update",this._path),Hs("OnDisconnect.update",e,this._path,!1);const t=new En.Deferred;return function(e,t,r,n){if(En.isEmpty(r))return Un("onDisconnect().update() called with empty data.  Don't do anything."),void ml(e,n,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),r,(o,i)=>{"ok"===o&&Xn(r,(r,n)=>{const o=vi(n);Fi(e.onDisconnect_,xo(t,r),o)}),ml(e,n,o,i)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t,r,n){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=n}get key(){return jo(this._path)?null:Ro(this._path)}get ref(){return new Fl(this._repo,this._path)}get _queryIdentifier(){const e=ki(this._queryParams),t=$n(e);return"{}"===t?"default":t}get _queryObject(){return ki(this._queryParams)}isEqual(e){if(!((e=En.getModularInstance(e))instanceof kl))return!1;const t=this._repo===e._repo,r=Mo(this._path,e._path),n=this._queryIdentifier===e._queryIdentifier;return t&&r&&n}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)""!==e.pieces_[r]&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}(this._path)}}function xl(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function jl(e){let t=null,r=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===Yo){const n="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==zn)throw new Error(n);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==Wn)throw new Error(n);if("string"!=typeof r)throw new Error(o)}}else if(e.getIndex()===li){if(null!=t&&!Vs(t)||null!=r&&!Vs(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(En.assert(e.getIndex()instanceof bi||e.getIndex()===Ei,"unknown index type."),null!=t&&"object"==typeof t||null!=r&&"object"==typeof r)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ll(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fl extends kl{constructor(e,t){super(e,t,new Ii,!1)}get parent(){const e=ko(this._path);return null===e?null:new Fl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ml{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ao(e),r=Bl(this.ref,e);return new Ml(this._node.getChild(t),r,li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,r)=>e(new Ml(r,Bl(this.ref,t),li)))}hasChild(e){const t=new Ao(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ul(e,t){return(e=En.getModularInstance(e))._checkNotDeleted("ref"),void 0!==t?Bl(e._root,t):e._root}function Bl(e,t){var r,n,o,i;return null===Io((e=En.getModularInstance(e))._path)?(r="child",n="path",i=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Js(r,n,o,i)):Js("child","path",t,!1),new Fl(e._repo,xo(e._path,t))}function Vl(e,t){e=En.getModularInstance(e),Ks("set",e._path),qs("set",t,e._path,!1);const r=new En.Deferred;return cl(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}class ql{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new Nl("value",this,new Ml(e.snapshotNode,new Fl(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Pl(this,e,t):null}matches(e){return e instanceof ql&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gl{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Pl(this,e,t):null}createEvent(e,t){En.assert(null!=e.childName,"Child events should have a childName.");const r=Bl(new Fl(t._repo,t._path),e.childName),n=t._queryParams.getIndex();return new Nl(e.type,this,new Ml(e.snapshotNode,r,n),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Gl&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Hl(e,t,r,n,o){let i;if("object"==typeof n&&(i=void 0,o=n),"function"==typeof n&&(i=n),o&&o.onlyOnce){const t=r,n=(r,n)=>{hl(e._repo,e,s),t(r,n)};n.userCallback=r.userCallback,n.context=r.context,r=n}const a=new Rl(r,i||void 0),s="value"===t?new ql(a):new Gl(t,a);return function(e,t,r){let n;n=".info"===Io(t._path)?cs(e.infoSyncTree_,t,r):cs(e.serverSyncTree_,t,r),Xs(e.eventQueue_,t._path,n)}(e._repo,e,s),()=>hl(e._repo,e,s)}function zl(e,t,r,n){return Hl(e,"value",t,r,n)}class Wl{}class Jl extends Wl{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){qs("endAt",this._value,e._path,!0);const t=Pi(e._queryParams,this._value,this._key);if(Ll(t),jl(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kl(e._repo,e._path,t,e._orderByCalled)}}class Kl extends Wl{constructor(e,t){super(),this._value=e,this._key=t,this.type="endBefore"}_apply(e){qs("endBefore",this._value,e._path,!1);const t=function(e,t,r){let n;return n=e.index_===Yo||r?Pi(e,t,r):Pi(e,t,zn),n.endBeforeSet_=!0,n}(e._queryParams,this._value,this._key);if(Ll(t),jl(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kl(e._repo,e._path,t,e._orderByCalled)}}class Yl extends Wl{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){qs("startAt",this._value,e._path,!0);const t=Ni(e._queryParams,this._value,this._key);if(Ll(t),jl(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kl(e._repo,e._path,t,e._orderByCalled)}}class $l extends Wl{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAfter"}_apply(e){qs("startAfter",this._value,e._path,!1);const t=function(e,t,r){let n;return n=e.index_===Yo||r?Ni(e,t,r):Ni(e,t,Wn),n.startAfterSet_=!0,n}(e._queryParams,this._value,this._key);if(Ll(t),jl(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kl(e._repo,e._path,t,e._orderByCalled)}}class Ql extends Wl{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kl(e._repo,e._path,function(e,t){const r=e.copy();return r.limitSet_=!0,r.limit_=t,r.viewFrom_="l",r}(e._queryParams,this._limit),e._orderByCalled)}}class Xl extends Wl{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kl(e._repo,e._path,function(e,t){const r=e.copy();return r.limitSet_=!0,r.limit_=t,r.viewFrom_="r",r}(e._queryParams,this._limit),e._orderByCalled)}}class Zl extends Wl{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){xl(e,"orderByChild");const t=new Ao(this._path);if(jo(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new bi(t),n=Ri(e._queryParams,r);return jl(n),new kl(e._repo,e._path,n,!0)}}class ep extends Wl{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){xl(e,"orderByKey");const t=Ri(e._queryParams,Yo);return jl(t),new kl(e._repo,e._path,t,!0)}}class tp extends Wl{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){xl(e,"orderByPriority");const t=Ri(e._queryParams,li);return jl(t),new kl(e._repo,e._path,t,!0)}}class rp extends Wl{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){xl(e,"orderByValue");const t=Ri(e._queryParams,Ei);return jl(t),new kl(e._repo,e._path,t,!0)}}class np extends Wl{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(qs("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Jl(this._value,this._key)._apply(new Yl(this._value,this._key)._apply(e))}}!function(e){En.assert(!Ga,"__referenceConstructor has already been defined"),Ga=e}(Fl),function(e){En.assert(!Ha,"__referenceConstructor has already been defined"),Ha=e}(Fl);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const op={};let ip=!1;function ap(e,t,r,n,o){let i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");let a,s=Tl(i,o),l=s.repoInfo,p=void 0;"undefined"!=typeof process&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(a=!0,i=`http://${p}?ns=${l.namespace}`,s=Tl(i,o),l=s.repoInfo):a=!s.repoInfo.secure;const c=o&&a?new yo(yo.OWNER):new mo(e.name,e.options,t);Ys("Invalid Firebase Database URL",s),jo(s.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,r,n){let o=op[t.name];o||(o={},op[t.name]=o);let i=o[e.toURLString()];i&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new rl(e,ip,r,n),o[e.toURLString()]=i,i}(l,e,c,new go(e,r));return new sp(u,e)}class sp{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fl(this._repo,Co())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const r=op[t];r&&r[e.key]===e||qn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),fl(e),delete r[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&qn("Cannot call "+e+" on a deleted database.")}}function lp(){_o.IS_TRANSPORT_INITIALIZED&&Gn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pp={".sv":"timestamp"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cp{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ho.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ho.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var up;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
up=Tn.default.Client,ho=up,C.DataSnapshot=Ml,C.Database=sp;var dp=C.OnDisconnect=Dl;C.QueryConstraint=Wl,C.TransactionResult=cp;var hp=C._QueryImpl=kl,fp=C._QueryParams=Ii,gp=C._ReferenceImpl=Fl;C._TEST_ACCESS_forceRestClient=function(e){!function(e){ip=e}(e)},C._TEST_ACCESS_hijackHash=function(e){const t=Ho.prototype.put;return Ho.prototype.put=function(r,n,o,i){void 0!==i&&(i=e()),t.call(this,r,n,o,i)},function(){Ho.prototype.put=t}},C._initStandalone=
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function({app:e,url:t,version:r,customAuthImpl:n,customAppCheckImpl:o,nodeAdmin:i=!1}){uo(r);const a=new wn.ComponentContainer("database-standalone"),s=new wn.Provider("auth-internal",a);let l;return o&&(l=new wn.Provider("app-check-internal",a),l.setComponent(new wn.Component("app-check-internal",()=>o,"PRIVATE"))),s.setComponent(new wn.Component("auth-internal",()=>n,"PRIVATE")),ap(e,s,l,t,i)};var mp=C._repoManagerDatabaseFromApp=ap,yp=C._setSDKVersion=uo,vp=C._validatePathString=Js,bp=C._validateWritablePath=Ks,Ep=C.child=Bl,_p=C.connectDatabaseEmulator=function(e,t,r,n={}){(e=En.getModularInstance(e))._checkNotDeleted("useEmulator");const o=`${t}:${r}`,i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&En.deepEqual(n,i.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a=void 0;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new yo(yo.OWNER);else if(n.mockUserToken){const t="string"==typeof n.mockUserToken?n.mockUserToken:En.createMockUserToken(n.mockUserToken,e.app.options.projectId);a=new yo(t)}!function(e,t,r,n){e.repoInfo_=new oo(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(e.authTokenProvider_=n)}(i,o,n,a)},Op=C.enableLogging=function(e,t){Mn(e,t)},wp=C.endAt=function(e,t){return Ws("endAt","key",t,!0),new Jl(e,t)},Sp=C.endBefore=function(e,t){return Ws("endBefore","key",t,!0),new Kl(e,t)},Tp=C.equalTo=function(e,t){return Ws("equalTo","key",t,!0),new np(e,t)},Ap=C.forceLongPolling=function(){lp(),fo.forceDisallow(),bo.forceAllow()},Cp=C.forceWebSockets=function(){lp(),bo.forceDisallow()},Ip=C.get=function(e){e=En.getModularInstance(e);const t=new Rl(()=>{}),r=new ql(t);return function(e,t,r){const n=ds(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{const o=vi(n).withIndex(t._queryParams.getIndex());let i;if(cs(e.serverSyncTree_,t,r,!0),t._queryParams.loadsAllData())i=ss(e.serverSyncTree_,t._path,o);else{const r=gs(e.serverSyncTree_,t);i=ps(e.serverSyncTree_,t._path,o,r)}return Zs(e.eventQueue_,t._path,i),ls(e.serverSyncTree_,t,r,null,!0),o},r=>(gl(e,"get for query "+En.stringify(t)+" failed: "+r),Promise.reject(new Error(r))))}(e._repo,e,r).then(t=>new Ml(t,new Fl(e._repo,e._path),e._queryParams.getIndex()))},Np=C.goOffline=function(e){(e=En.getModularInstance(e))._checkNotDeleted("goOffline"),fl(e._repo)},Pp=C.goOnline=function(e){var t;(e=En.getModularInstance(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")},Rp=C.increment=function(e){return{".sv":{increment:e}}},Dp=C.limitToFirst=function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ql(e)},kp=C.limitToLast=function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Xl(e)},xp=C.off=function(e,t,r){let n=null;const o=r?new Rl(r):null;"value"===t?n=new ql(o):t&&(n=new Gl(t,o)),hl(e._repo,e,n)},jp=C.onChildAdded=function(e,t,r,n){return Hl(e,"child_added",t,r,n)},Lp=C.onChildChanged=function(e,t,r,n){return Hl(e,"child_changed",t,r,n)},Fp=C.onChildMoved=function(e,t,r,n){return Hl(e,"child_moved",t,r,n)},Mp=C.onChildRemoved=function(e,t,r,n){return Hl(e,"child_removed",t,r,n)};C.onDisconnect=function(e){return e=En.getModularInstance(e),new Dl(e._repo,e._path)};var Up=C.onValue=zl,Bp=C.orderByChild=function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Js("orderByChild","path",e,!1),new Zl(e)},Vp=C.orderByKey=function(){return new ep},qp=C.orderByPriority=function(){return new tp},Gp=C.orderByValue=function(){return new rp},Hp=C.push=function(e,t){e=En.getModularInstance(e),Ks("push",e._path),qs("push",t,e._path,!0);const r=ol(e._repo),n=Il(r),o=Bl(e,n),i=Bl(e,n);let a;return a=null!=t?Vl(i,t).then(()=>i):Promise.resolve(i),o.then=a.then.bind(a),o.catch=a.then.bind(a,void 0),o},zp=C.query=function(e,...t){let r=En.getModularInstance(e);for(const e of t)r=e._apply(r);return r},Wp=C.ref=Ul,Jp=C.refFromURL=function(e,t){(e=En.getModularInstance(e))._checkNotDeleted("refFromURL");const r=Tl(t,e._repo.repoInfo_.nodeAdmin);Ys("refFromURL",r);const n=r.repoInfo;return e._repo.repoInfo_.isCustomHost()||n.host===e._repo.repoInfo_.host||qn("refFromURL: Host name does not match the current database: (found "+n.host+" but expected "+e._repo.repoInfo_.host+")"),Ul(e,r.path.toString())},Kp=C.remove=function(e){return Ks("remove",e._path),Vl(e,null)},Yp=C.runTransaction=function(e,t,r){var n;if(e=En.getModularInstance(e),Ks("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const o=null===(n=null==r?void 0:r.applyLocally)||void 0===n||n,i=new En.Deferred,a=zl(e,()=>{});return function(e,t,r,n,o,i){gl(e,"transaction on "+t);const a={path:t,update:r,onComplete:n,status:null,order:kn(),applyLocally:i,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=yl(e,t,void 0);a.currentInputSnapshot=s;const l=a.update(s.val());if(void 0===l)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Gs("transaction failed: Data returned ",l,a.path),a.status=0;const r=Ps(e.transactionQueueTree_,t),n=Rs(r)||[];let o;if(n.push(a),Ds(r,n),"object"==typeof l&&null!==l&&En.contains(l,".priority"))o=En.safeGet(l,".priority"),En.assert(Vs(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{o=(us(e.serverSyncTree_,t)||mi.EMPTY_NODE).getPriority().val()}const i=il(e),p=vi(l,o),c=Cs(p,s,i);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=c,a.currentWriteId=pl(e);const u=os(e.serverSyncTree_,t,c,a.currentWriteId,a.applyLocally);Zs(e.eventQueue_,t,u),vl(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(t,r,n)=>{let o=null;t?i.reject(t):(o=new Ml(n,new Fl(e._repo,e._path),li),i.resolve(new cp(r,o)))},a,o),i.promise},$p=C.serverTimestamp=function(){return pp},Qp=C.set=Vl,Xp=C.setPriority=function(e,t){e=En.getModularInstance(e),Ks("setPriority",e._path),zs("setPriority",t,!1);const r=new En.Deferred;return cl(e._repo,xo(e._path,".priority"),t,null,r.wrapCallback(()=>{})),r.promise},Zp=C.setWithPriority=function(e,t,r){if(Ks("setWithPriority",e._path),qs("setWithPriority",t,e._path,!1),zs("setWithPriority",r,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const n=new En.Deferred;return cl(e._repo,e._path,t,r,n.wrapCallback(()=>{})),n.promise},ec=C.startAfter=function(e,t){return Ws("startAfter","key",t,!0),new $l(e,t)},tc=C.startAt=function(e=null,t){return Ws("startAt","key",t,!0),new Yl(e,t)},rc=C.update=function(e,t){Hs("update",t,e._path,!1);const r=new En.Deferred;return function(e,t,r,n){gl(e,"update",{path:t.toString(),value:r});let o=!0;const i=il(e),a={};if(Xn(r,(r,n)=>{o=!1,a[r]=As(xo(t,r),vi(n),e.serverSyncTree_,i)}),o)Un("update() called with empty data.  Don't do anything."),ml(e,n,"ok",void 0);else{const o=pl(e),i=is(e.serverSyncTree_,t,a,o);Qs(e.eventQueue_,i),e.server_.merge(t.toString(),r,(r,i)=>{const a="ok"===r;a||Gn("update at "+t+" failed: "+r);const s=as(e.serverSyncTree_,o,!a),l=s.length>0?bl(e,t):t;Zs(e.eventQueue_,l,s),ml(e,n,r,i)}),Xn(r,r=>{const n=wl(e,xo(t,r));bl(e,n)}),Zs(e.eventQueue_,t,[])}}(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const nc=new d.Logger("@firebase/database-compat"),oc=function(e){const t="FIREBASE WARNING: "+e;nc.warn(t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ic{constructor(e){this._delegate=e}cancel(e){u.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),u.validateCallback("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){u.validateArgCount("OnDisconnect.remove",0,1,arguments.length),u.validateCallback("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){u.validateArgCount("OnDisconnect.set",1,2,arguments.length),u.validateCallback("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),e=>t(e)),r}setWithPriority(e,t,r){u.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),u.validateCallback("OnDisconnect.setWithPriority","onComplete",r,!0);const n=this._delegate.setWithPriority(e,t);return r&&n.then(()=>r(null),e=>r(e)),n}update(e,t){if(u.validateArgCount("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let r=0;r<e.length;++r)t[""+r]=e[r];e=t,oc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}u.validateCallback("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),e=>t(e)),r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return u.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this._database=e,this._delegate=t}val(){return u.validateArgCount("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return u.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return u.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return u.validateArgCount("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return u.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),vp("DataSnapshot.child","path",e,!1),new sc(this._database,this._delegate.child(e))}hasChild(e){return u.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),vp("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return u.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return u.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),u.validateCallback("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new sc(this._database,t)))}hasChildren(){return u.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return u.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return u.validateArgCount("DataSnapshot.ref",0,0,arguments.length),new pc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class lc{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,n){var o;u.validateArgCount("Query.on",2,4,arguments.length),u.validateCallback("Query.on","callback",t,!1);const i=lc.getCancelAndContextArgs_("Query.on",r,n),a=(e,r)=>{t.call(i.context,new sc(this.database,e),r)};a.userCallback=t,a.context=i.context;const s=null===(o=i.cancel)||void 0===o?void 0:o.bind(i.context);switch(e){case"value":return Up(this._delegate,a,s),t;case"child_added":return jp(this._delegate,a,s),t;case"child_removed":return Mp(this._delegate,a,s),t;case"child_changed":return Lp(this._delegate,a,s),t;case"child_moved":return Fp(this._delegate,a,s),t;default:throw new Error(u.errorPrefix("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(u.validateArgCount("Query.off",0,3,arguments.length),function(e,t,r){if(!r||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(u.errorPrefix(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),u.validateCallback("Query.off","callback",t,!0),u.validateContextObject("Query.off","context",r,!0),t){const n=()=>{};n.userCallback=t,n.context=r,xp(this._delegate,e,n)}else xp(this._delegate,e)}get(){return Ip(this._delegate).then(e=>new sc(this.database,e))}once(e,t,r,n){u.validateArgCount("Query.once",1,4,arguments.length),u.validateCallback("Query.once","callback",t,!0);const o=lc.getCancelAndContextArgs_("Query.once",r,n),i=new u.Deferred,a=(e,r)=>{const n=new sc(this.database,e);t&&t.call(o.context,n,r),i.resolve(n)};a.userCallback=t,a.context=o.context;const s=e=>{o.cancel&&o.cancel.call(o.context,e),i.reject(e)};switch(e){case"value":Up(this._delegate,a,s,{onlyOnce:!0});break;case"child_added":jp(this._delegate,a,s,{onlyOnce:!0});break;case"child_removed":Mp(this._delegate,a,s,{onlyOnce:!0});break;case"child_changed":Lp(this._delegate,a,s,{onlyOnce:!0});break;case"child_moved":Fp(this._delegate,a,s,{onlyOnce:!0});break;default:throw new Error(u.errorPrefix("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return i.promise}limitToFirst(e){return u.validateArgCount("Query.limitToFirst",1,1,arguments.length),new lc(this.database,zp(this._delegate,Dp(e)))}limitToLast(e){return u.validateArgCount("Query.limitToLast",1,1,arguments.length),new lc(this.database,zp(this._delegate,kp(e)))}orderByChild(e){return u.validateArgCount("Query.orderByChild",1,1,arguments.length),new lc(this.database,zp(this._delegate,Bp(e)))}orderByKey(){return u.validateArgCount("Query.orderByKey",0,0,arguments.length),new lc(this.database,zp(this._delegate,Vp()))}orderByPriority(){return u.validateArgCount("Query.orderByPriority",0,0,arguments.length),new lc(this.database,zp(this._delegate,qp()))}orderByValue(){return u.validateArgCount("Query.orderByValue",0,0,arguments.length),new lc(this.database,zp(this._delegate,Gp()))}startAt(e=null,t){return u.validateArgCount("Query.startAt",0,2,arguments.length),new lc(this.database,zp(this._delegate,tc(e,t)))}startAfter(e=null,t){return u.validateArgCount("Query.startAfter",0,2,arguments.length),new lc(this.database,zp(this._delegate,ec(e,t)))}endAt(e=null,t){return u.validateArgCount("Query.endAt",0,2,arguments.length),new lc(this.database,zp(this._delegate,wp(e,t)))}endBefore(e=null,t){return u.validateArgCount("Query.endBefore",0,2,arguments.length),new lc(this.database,zp(this._delegate,Sp(e,t)))}equalTo(e,t){return u.validateArgCount("Query.equalTo",1,2,arguments.length),new lc(this.database,zp(this._delegate,Tp(e,t)))}toString(){return u.validateArgCount("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return u.validateArgCount("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(u.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof lc)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const n={cancel:void 0,context:void 0};if(t&&r)n.cancel=t,u.validateCallback(e,"cancel",n.cancel,!0),n.context=r,u.validateContextObject(e,"context",n.context,!0);else if(t)if("object"==typeof t&&null!==t)n.context=t;else{if("function"!=typeof t)throw new Error(u.errorPrefix(e,"cancelOrContext")+" must either be a cancel callback or a context object.");n.cancel=t}return n}get ref(){return new pc(this.database,new gp(this._delegate._repo,this._delegate._path))}}class pc extends lc{constructor(e,t){super(e,new hp(t._repo,t._path,new fp,!1)),this.database=e,this._delegate=t}getKey(){return u.validateArgCount("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return u.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new pc(this.database,Ep(this._delegate,e))}getParent(){u.validateArgCount("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new pc(this.database,e):null}getRoot(){return u.validateArgCount("Reference.root",0,0,arguments.length),new pc(this.database,this._delegate.root)}set(e,t){u.validateArgCount("Reference.set",1,2,arguments.length),u.validateCallback("Reference.set","onComplete",t,!0);const r=Qp(this._delegate,e);return t&&r.then(()=>t(null),e=>t(e)),r}update(e,t){if(u.validateArgCount("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let r=0;r<e.length;++r)t[""+r]=e[r];e=t,oc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bp("Reference.update",this._delegate._path),u.validateCallback("Reference.update","onComplete",t,!0);const r=rc(this._delegate,e);return t&&r.then(()=>t(null),e=>t(e)),r}setWithPriority(e,t,r){u.validateArgCount("Reference.setWithPriority",2,3,arguments.length),u.validateCallback("Reference.setWithPriority","onComplete",r,!0);const n=Zp(this._delegate,e,t);return r&&n.then(()=>r(null),e=>r(e)),n}remove(e){u.validateArgCount("Reference.remove",0,1,arguments.length),u.validateCallback("Reference.remove","onComplete",e,!0);const t=Kp(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,r){u.validateArgCount("Reference.transaction",1,3,arguments.length),u.validateCallback("Reference.transaction","transactionUpdate",e,!1),u.validateCallback("Reference.transaction","onComplete",t,!0),function(e,t,r,n){if((!n||void 0!==r)&&"boolean"!=typeof r)throw new Error(u.errorPrefix(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",r,!0);const n=Yp(this._delegate,e,{applyLocally:r}).then(e=>new ac(e.committed,new sc(this.database,e.snapshot)));return t&&n.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),n}setPriority(e,t){u.validateArgCount("Reference.setPriority",1,2,arguments.length),u.validateCallback("Reference.setPriority","onComplete",t,!0);const r=Xp(this._delegate,e);return t&&r.then(()=>t(null),e=>t(e)),r}push(e,t){u.validateArgCount("Reference.push",0,2,arguments.length),u.validateCallback("Reference.push","onComplete",t,!0);const r=Hp(this._delegate,e),n=r.then(e=>new pc(this.database,e));t&&n.then(()=>t(null),e=>t(e));const o=new pc(this.database,r);return o.then=n.then.bind(n),o.catch=n.catch.bind(n,void 0),o}onDisconnect(){return bp("Reference.onDisconnect",this._delegate._path),new ic(new dp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Cp,forceLongPolling:Ap}}useEmulator(e,t,r={}){_p(this._delegate,e,t,r)}ref(e){if(u.validateArgCount("database.ref",0,1,arguments.length),e instanceof pc){const t=Jp(this._delegate,e.toString());return new pc(this,t)}{const t=Wp(this._delegate,e);return new pc(this,t)}}refFromURL(e){u.validateArgCount("database.refFromURL",1,1,arguments.length);const t=Jp(this._delegate,e);return new pc(this,t)}goOffline(){return u.validateArgCount("database.goOffline",0,0,arguments.length),Np(this._delegate)}goOnline(){return u.validateArgCount("database.goOnline",0,0,arguments.length),Pp(this._delegate)}}function uc({app:e,url:t,version:r,customAuthImpl:n,customAppCheckImpl:o,namespace:i,nodeAdmin:a=!1}){yp(r);const s=new h.ComponentContainer("database-standalone"),l=new h.Provider("auth-internal",s);l.setComponent(new h.Component("auth-internal",()=>n,"PRIVATE"));let p=void 0;return o&&(p=new h.Provider("app-check-internal",s),p.setComponent(new h.Component("app-check-internal",()=>o,"PRIVATE"))),{instance:new cc(mp(e,l,p,t,a),e),namespace:i}}cc.ServerValue={TIMESTAMP:$p(),increment:e=>Rp(e)};var dc=Object.freeze({__proto__:null,initStandalone:uc});
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=cc.ServerValue;t.DataSnapshot=sc,t.Database=cc,t.OnDisconnect=dp,t.Query=lc,t.Reference=pc,t.ServerValue=hc,t.enableLogging=Op,t.initStandalone=function(e,t,r,n=!0){return u.CONSTANTS.NODE_ADMIN=n,uc({app:e,url:t,version:r,customAuthImpl:e.INTERNAL,namespace:{Reference:pc,Query:lc,Database:cc,DataSnapshot:sc,enableLogging:Op,INTERNAL:dc,ServerValue:hc},nodeAdmin:n})}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Messaging=void 0;const n=r(26),o=r(2),i=r(9),a=r(4),s=r(611),l=r(612),p=r(27);t.Messaging=class{constructor(e){if(this.useLegacyTransport=!1,!a.isNonNullObject(e)||!("options"in e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.messaging() must be a valid Firebase app instance.");this.appInternal=e,this.messagingRequestHandler=new l.FirebaseMessagingRequestHandler(e)}get app(){return this.appInternal}enableLegacyHttpTransport(){this.useLegacyTransport=!0}send(e,t){const r=(0,n.deepCopy)(e);if((0,s.validateMessage)(r),void 0!==t&&!a.isBoolean(t))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");return this.getUrlPath().then(e=>{const n={message:r};return t&&(n.validate_only=!0),this.messagingRequestHandler.invokeRequestHandler("fcm.googleapis.com",e,n)}).then(e=>e.name)}sendEach(e,t){a.isArray(e)&&e.constructor!==Array&&(e=Array.from(e));const r=(0,n.deepCopy)(e);if(!a.isNonEmptyArray(r))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"messages must be a non-empty array");if(r.length>500)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"messages list must not contain more than 500 items");if(void 0!==t&&!a.isBoolean(t))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"dryRun must be a boolean");const i=this.useLegacyTransport?void 0:new p.Http2SessionHandler("https://fcm.googleapis.com");return this.getUrlPath().then(e=>{const n=r.map(async r=>{(0,s.validateMessage)(r);const n={message:r};return t&&(n.validate_only=!0),i?this.messagingRequestHandler.invokeHttp2RequestHandlerForSendResponse("fcm.googleapis.com",e,n,i):this.messagingRequestHandler.invokeHttpRequestHandlerForSendResponse("fcm.googleapis.com",e,n)});return Promise.allSettled(n)}).then(e=>{const t=[];e.forEach(e=>{"fulfilled"===e.status?t.push(e.value):t.push({success:!1,error:e.reason})});const r=t.filter(e=>e.success).length;return{responses:t,successCount:r,failureCount:t.length-r}}).finally(()=>{i&&i.close()})}sendEachForMulticast(e,t){const r=(0,n.deepCopy)(e);if(!a.isNonNullObject(r))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"MulticastMessage must be a non-null object");if(!a.isNonEmptyArray(r.tokens))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens must be a non-empty array");if(r.tokens.length>500)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"tokens list must not contain more than 500 items");const i=r.tokens.map(e=>({token:e,android:r.android,apns:r.apns,data:r.data,notification:r.notification,webpush:r.webpush,fcmOptions:r.fcmOptions}));return this.sendEach(i,t)}subscribeToTopic(e,t){return this.sendTopicManagementRequest(e,t,"subscribeToTopic","/iid/v1:batchAdd")}unsubscribeFromTopic(e,t){return this.sendTopicManagementRequest(e,t,"unsubscribeFromTopic","/iid/v1:batchRemove")}getUrlPath(){return this.urlPath?Promise.resolve(this.urlPath):i.findProjectId(this.app).then(e=>{if(!a.isNonEmptyString(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_ARGUMENT,"Failed to determine project ID for Messaging. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.urlPath=`/v1/projects/${e}/messages:send`,this.urlPath})}sendTopicManagementRequest(e,t,r,n){return this.validateRegistrationTokensType(e,r),this.validateTopicType(t,r),t=this.normalizeTopic(t),Promise.resolve().then(()=>{this.validateRegistrationTokens(e,r),this.validateTopic(t,r);let o=e;a.isString(e)&&(o=[e]);const i={to:t,registration_tokens:o};return this.messagingRequestHandler.invokeRequestHandler("iid.googleapis.com",n,i)}).then(e=>function(e){const t={successCount:0,failureCount:0,errors:[]};return"results"in e&&e.results.forEach((e,r)=>{if("error"in e){t.failureCount+=1;const n=o.FirebaseMessagingError.fromTopicManagementServerError(e.error,void 0,e.error);t.errors.push({index:r,error:n})}else t.successCount+=1}),t}(e))}validateRegistrationTokensType(e,t,r=o.MessagingClientErrorCode.INVALID_ARGUMENT){if(!a.isNonEmptyArray(e)&&!a.isNonEmptyString(e))throw new o.FirebaseMessagingError(r,`Registration token(s) provided to ${t}() must be a non-empty string or a non-empty array.`)}validateRegistrationTokens(e,t,r=o.MessagingClientErrorCode.INVALID_ARGUMENT){if(a.isArray(e)){if(e.length>1e3)throw new o.FirebaseMessagingError(r,`Too many registration tokens provided in a single request to ${t}(). Batch your requests to contain no more than 1,000 registration tokens per request.`);e.forEach((e,n)=>{if(!a.isNonEmptyString(e))throw new o.FirebaseMessagingError(r,`Registration token provided to ${t}() at index ${n} must be a non-empty string.`)})}}validateTopicType(e,t,r=o.MessagingClientErrorCode.INVALID_ARGUMENT){if(!a.isNonEmptyString(e))throw new o.FirebaseMessagingError(r,`Topic provided to ${t}() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".`)}validateTopic(e,t,r=o.MessagingClientErrorCode.INVALID_ARGUMENT){if(!a.isTopic(e))throw new o.FirebaseMessagingError(r,`Topic provided to ${t}() must be a string which matches the format "/topics/[a-zA-Z0-9-_.~%]+".`)}normalizeTopic(e){return/^\/topics\//.test(e)||(e="/topics/"+e),e}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;const n=r(2),o=r(62),i=r(9),a=r(4);t.Storage=class{constructor(e){if(!a.isNonNullObject(e)||!("options"in e))throw new n.FirebaseError({code:"storage/invalid-argument",message:"First argument passed to admin.storage() must be a valid Firebase app instance."});if(!process.env.STORAGE_EMULATOR_HOST&&process.env.FIREBASE_STORAGE_EMULATOR_HOST){if(process.env.FIREBASE_STORAGE_EMULATOR_HOST.match(/https?:\/\//))throw new n.FirebaseError({code:"storage/invalid-emulator-host",message:"FIREBASE_STORAGE_EMULATOR_HOST should not contain a protocol (http or https)."});process.env.STORAGE_EMULATOR_HOST="http://"+process.env.FIREBASE_STORAGE_EMULATOR_HOST}let t;try{t=r(614).Storage}catch(e){throw new n.FirebaseError({code:"storage/missing-dependencies",message:'Failed to import the Cloud Storage client library for Node.js. Make sure to install the "@google-cloud/storage" npm package. Original error: '+e})}const s=i.getExplicitProjectId(e),l=e.options.credential;if(l instanceof o.ServiceAccountCredential)this.storageClient=new t({projectId:s,credentials:{private_key:l.privateKey,client_email:l.clientEmail}});else{if(!(0,o.isApplicationDefault)(e.options.credential))throw new n.FirebaseError({code:"storage/invalid-credential",message:"Failed to initialize Google Cloud Storage client with the available credential. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Storage API."});this.storageClient=new t}this.appInternal=e}bucket(e){const t=void 0!==e?e:this.appInternal.options.storageBucket;if(a.isNonEmptyString(t))return this.storageClient.bucket(t);throw new n.FirebaseError({code:"storage/invalid-argument",message:"Bucket name not specified or invalid. Specify a valid bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the getBucket() method."})}get app(){return this.appInternal}}},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(632):e.exports=r(634)},function(e,t,r){var n=r(642),o=r(650),i=r(88),a=r(653),s=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),l=function(e,t){e._corked?e.once("uncork",t):t()},p=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},c=function(){},u=function(e,t,r){if(!(this instanceof u))return new u(e,t,r);n.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};i(u,n.Duplex),u.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new u(e,t,r)},u.prototype.cork=function(){1==++this._corked&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},u.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=o(e,{writable:!0,readable:!1},p(this,this._forwardEnd)),n=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&process.nextTick(n),this._writable=e,this._writable.on("drain",n),this._unwrite=function(){t._writable.removeListener("drain",n),r()},this.uncork()}else this.end()},u.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,i=o(e,{writable:!1,readable:!0},p(this)),a=function(){r._forward()},s=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new n.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",a),this._readable2.on("end",s),this._unread=function(){r._readable2.removeListener("readable",a),r._readable2.removeListener("end",s),i()},this._forward()}},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},u.prototype.destroy=function(e,t){if(t||(t=c),this.destroyed)return t(null);this.destroyed=!0;var r=this;process.nextTick((function(){r._destroy(e),t(null)}))},u.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(e,t,r){if(!this.destroyed)return this._corked?l(this,this._write.bind(this,e,t,r)):e===s?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:this.destroyed||r()):r()},u.prototype._finish=function(e){var t=this;this.emit("preend"),l(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),l(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},u.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this._writableState.destroyed||this.write(s),n.Writable.prototype.end.call(this,r))},e.exports=u},function(e,t,r){"use strict";var n=r(75).codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,r,i){if("function"==typeof r)return e(t,null,r);r||(r={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}(i||o);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||c()},p=t._writableState&&t._writableState.finished,c=function(){s=!1,p=!0,a||i.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,u=!0,s||i.call(t)},h=function(e){i.call(t,e)},f=function(){var e;return a&&!u?(t._readableState&&t._readableState.ended||(e=new n),i.call(t,e)):s&&!p?(t._writableState&&t._writableState.ended||(e=new n),i.call(t,e)):void 0},g=function(){t.req.on("finish",c)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",c),t.on("abort",f),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",c),!1!==r.error&&t.on("error",h),t.on("close",f),function(){t.removeListener("complete",c),t.removeListener("abort",f),t.removeListener("request",g),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",f)}}},function(e,t,r){"use strict";var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&o(t,e,r[a]);return i(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Bucket=t.BucketExceptionMessages=t.AvailableServiceObjectMethods=t.BucketActionToHTTPMethod=void 0;const l=r(74),p=r(354),c=r(57),u=a(r(17)),d=s(r(355)),h=a(r(46)),f=s(r(356)),g=r(6),m=s(r(142)),y=r(56),v=r(357),b=r(110),E=r(360),_=r(361),O=r(109),w=r(358),S=r(1),T=r(11);var A,C,I;!function(e){e.list="GET"}(A||(t.BucketActionToHTTPMethod=A={})),function(e){e[e.setMetadata=0]="setMetadata",e[e.delete=1]="delete"}(C||(t.AvailableServiceObjectMethods=C={})),function(e){e.PROVIDE_SOURCE_FILE="You must provide at least one source file.",e.DESTINATION_FILE_NOT_SPECIFIED="A destination file must be specified.",e.CHANNEL_ID_REQUIRED="An ID is required to create a channel.",e.TOPIC_NAME_REQUIRED="A valid topic name is required.",e.CONFIGURATION_OBJECT_PREFIX_REQUIRED="A configuration object with a prefix is required.",e.SPECIFY_FILE_NAME="A file name must be specified.",e.METAGENERATION_NOT_PROVIDED="A metageneration must be provided.",e.SUPPLY_NOTIFICATION_ID="You must supply a notification ID."}(I||(t.BucketExceptionMessages=I={}));class N extends l.ServiceObject{getFilesStream(e){return new S.Readable}constructor(e,t,r){var n,o,i,a;r=r||{},t=t.replace(/^gs:\/\//,"").replace(/\/+$/,"");const s={};(null===(n=null==r?void 0:r.preconditionOpts)||void 0===n?void 0:n.ifGenerationMatch)&&(s.ifGenerationMatch=r.preconditionOpts.ifGenerationMatch),(null===(o=null==r?void 0:r.preconditionOpts)||void 0===o?void 0:o.ifGenerationNotMatch)&&(s.ifGenerationNotMatch=r.preconditionOpts.ifGenerationNotMatch),(null===(i=null==r?void 0:r.preconditionOpts)||void 0===i?void 0:i.ifMetagenerationMatch)&&(s.ifMetagenerationMatch=r.preconditionOpts.ifMetagenerationMatch),(null===(a=null==r?void 0:r.preconditionOpts)||void 0===a?void 0:a.ifMetagenerationNotMatch)&&(s.ifMetagenerationNotMatch=r.preconditionOpts.ifMetagenerationNotMatch);const l=r.userProject;"string"==typeof l&&(s.userProject=l);const c={create:{reqOpts:{qs:s}},delete:{reqOpts:{qs:s}},exists:{reqOpts:{qs:s}},get:{reqOpts:{qs:s}},getMetadata:{reqOpts:{qs:s}},setMetadata:{reqOpts:{qs:s}}};super({parent:e,baseUrl:"/b",id:t,createMethod:e.createBucket.bind(e),methods:c}),this.name=t,this.storage=e,this.userProject=r.userProject,this.acl=new v.Acl({request:this.request.bind(this),pathPrefix:"/acl"}),this.acl.default=new v.Acl({request:this.request.bind(this),pathPrefix:"/defaultObjectAcl"}),this.crc32cGenerator=r.crc32cGenerator||this.storage.crc32cGenerator,this.iam=new E.Iam(this),this.getFilesStream=p.paginator.streamify("getFiles"),this.instanceRetryValue=e.retryOptions.autoRetry,this.instancePreconditionOpts=null==r?void 0:r.preconditionOpts}get cloudStorageURI(){const e=new T.URL("gs://");return e.host=this.name,e}addLifecycleRule(e,t,r){let n={};"function"==typeof t?r=t:t&&(n=t),n=n||{};const o=Array.isArray(e)?e:[e];for(const e of o)e.condition.createdBefore instanceof Date&&(e.condition.createdBefore=e.condition.createdBefore.toISOString().replace(/T.+$/,"")),e.condition.customTimeBefore instanceof Date&&(e.condition.customTimeBefore=e.condition.customTimeBefore.toISOString().replace(/T.+$/,"")),e.condition.noncurrentTimeBefore instanceof Date&&(e.condition.noncurrentTimeBefore=e.condition.noncurrentTimeBefore.toISOString().replace(/T.+$/,""));!1!==n.append?this.getMetadata((e,t)=>{var i,a;if(e)return void r(e);const s=Array.isArray(null===(i=t.lifecycle)||void 0===i?void 0:i.rule)?null===(a=t.lifecycle)||void 0===a?void 0:a.rule:[];this.setMetadata({lifecycle:{rule:s.concat(o)}},n,r)}):this.setMetadata({lifecycle:{rule:o}},n,r)}combine(e,t,r,n){var o;if(!Array.isArray(e)||0===e.length)throw new Error(I.PROVIDE_SOURCE_FILE);if(!t)throw new Error(I.DESTINATION_FILE_NOT_SPECIFIED);let i={};"function"==typeof r?n=r:r&&(i=r),this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,C.setMetadata,i);const a=e=>e instanceof b.File?e:this.file(e);e=e.map(a);const s=a(t);if(n=n||l.util.noop,!s.metadata.contentType){const e=d.default.getType(s.name)||void 0;e&&(s.metadata.contentType=e)}let p=this.storage.retryOptions.maxRetries;(void 0===(null===(o=null==s?void 0:s.instancePreconditionOpts)||void 0===o?void 0:o.ifGenerationMatch)&&void 0===i.ifGenerationMatch&&this.storage.retryOptions.idempotencyStrategy===O.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===O.IdempotencyStrategy.RetryNever)&&(p=0),void 0===i.ifGenerationMatch&&Object.assign(i,s.instancePreconditionOpts,i),s.request({method:"POST",uri:"/compose",maxRetries:p,json:{destination:{contentType:s.metadata.contentType,contentEncoding:s.metadata.contentEncoding},sourceObjects:e.map(e=>{const t={name:e.name};return e.metadata&&e.metadata.generation&&(t.generation=parseInt(e.metadata.generation.toString())),t})},qs:i},(e,t)=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue,e?n(e,null,t):n(null,s,t)})}createChannel(e,t,r,n){if("string"!=typeof e)throw new Error(I.CHANNEL_ID_REQUIRED);let o={};"function"==typeof r?n=r:r&&(o=r),this.request({method:"POST",uri:"/o/watch",json:Object.assign({id:e,type:"web_hook"},t),qs:o},(t,r)=>{if(t)return void n(t,null,r);const o=r.resourceId,i=this.storage.channel(e,o);i.metadata=r,n(null,i,r)})}createNotification(e,t,r){let n={};"function"==typeof t?r=t:t&&(n=t);if(null!==e&&"object"==typeof e&&l.util.isCustomType(e,"pubsub/topic")&&(e=e.name),"string"!=typeof e)throw new Error(I.TOPIC_NAME_REQUIRED);const o=Object.assign({topic:e},n);0!==o.topic.indexOf("projects")&&(o.topic="projects/{{projectId}}/topics/"+o.topic),o.topic=`//pubsub.${this.storage.universeDomain}/`+o.topic,o.payloadFormat||(o.payloadFormat="JSON_API_V1");const i={};o.userProject&&(i.userProject=o.userProject,delete o.userProject),this.request({method:"POST",uri:"/notificationConfigs",json:(0,y.convertObjKeysToSnakeCase)(o),qs:i,maxRetries:0},(e,t)=>{if(e)return void r(e,null,t);const n=this.notification(t.id);n.metadata=t,r(null,n,t)})}deleteFiles(e,t){let r={};"function"==typeof e?t=e:e&&(r=e);const n=[];(async()=>{try{let e=[];const o=(0,f.default)(10),i=this.getFilesStream(r);for await(const t of i)e.length>=1e3&&(await Promise.all(e),e=[]),e.push(o(()=>t.delete(r).catch(e=>{if(!r.force)throw e;n.push(e)})).catch(e=>{throw i.destroy(),e}));await Promise.all(e),t(n.length>0?n:null)}catch(e){return void t(e)}})()}deleteLabels(e,t,r){let n=new Array,o={};"function"==typeof e?r=e:"string"==typeof e?n=[e]:Array.isArray(e)?n=e:e&&(o=e),"function"==typeof t?r=t:t&&(o=t);const i=e=>{const t=e.reduce((e,t)=>(e[t]=null,e),{});void 0!==(null==o?void 0:o.ifMetagenerationMatch)?this.setLabels(t,o,r):this.setLabels(t,r)};0===n.length?this.getLabels((e,t)=>{e?r(e):i(Object.keys(t))}):i(n)}disableRequesterPays(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.setMetadata({billing:{requesterPays:!1}},r,t)}enableLogging(e,t){if(!e||"function"==typeof e||void 0===e.prefix)throw new Error(I.CONFIGURATION_OBJECT_PREFIX_REQUIRED);let r=this.id;e.bucket&&e.bucket instanceof N?r=e.bucket.id:e.bucket&&"string"==typeof e.bucket&&(r=e.bucket);const n={};(null==e?void 0:e.ifMetagenerationMatch)&&(n.ifMetagenerationMatch=e.ifMetagenerationMatch),(null==e?void 0:e.ifMetagenerationNotMatch)&&(n.ifMetagenerationNotMatch=e.ifMetagenerationNotMatch),(async()=>{try{const[o]=await this.iam.getPolicy();o.bindings.push({members:["group:cloud-storage-analytics@google.com"],role:"roles/storage.objectCreator"}),await this.iam.setPolicy(o),this.setMetadata({logging:{logBucket:r,logObjectPrefix:e.prefix}},n,t)}catch(e){return void t(e)}})()}enableRequesterPays(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.setMetadata({billing:{requesterPays:!0}},r,t)}file(e,t){if(!e)throw Error(I.SPECIFY_FILE_NAME);return new b.File(this,e,t)}getFiles(e,t){let r="object"==typeof e?e:{};t||(t=e),r=Object.assign({},r),r.fields&&r.autoPaginate&&!r.fields.includes("nextPageToken")&&(r.fields=r.fields+",nextPageToken"),this.request({uri:"/o",qs:r},(e,n)=>{if(e)return void t(e,null,null,n);const o=(n.items?n.items:[]).map(e=>{const t={};if(r.fields){return e}r.versions&&(t.generation=e.generation),e.kmsKeyName&&(t.kmsKeyName=e.kmsKeyName);const n=this.file(e.name,t);return n.metadata=e,n});let i=null;n.nextPageToken&&(i=Object.assign({},r,{pageToken:n.nextPageToken})),t(null,o,i,n)})}getLabels(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.getMetadata(r,(e,r)=>{e?t(e,null):t(null,(null==r?void 0:r.labels)||{})})}getNotifications(e,t){let r={};"function"==typeof e?t=e:e&&(r=e),this.request({uri:"/notificationConfigs",qs:r},(e,r)=>{if(e)return void t(e,null,r);const n=(r.items?r.items:[]).map(e=>{const t=this.notification(e.id);return t.metadata=e,t});t(null,n,r)})}getSignedUrl(e,t){const r={method:A[e.action],expires:e.expires,version:e.version,cname:e.cname,extensionHeaders:e.extensionHeaders||{},queryParams:e.queryParams||{},host:e.host,signingEndpoint:e.signingEndpoint};this.signer||(this.signer=new w.URLSigner(this.storage.authClient,this,void 0,this.storage)),this.signer.getSignedUrl(r).then(e=>t(null,e),t)}lock(e,t){const r=typeof e;if("number"!==r&&"string"!==r)throw new Error(I.METAGENERATION_NOT_PROVIDED);this.request({method:"POST",uri:"/lockRetentionPolicy",qs:{ifMetagenerationMatch:e}},t)}async restore(e){const[t]=await this.request({method:"POST",uri:"/restore",qs:e});return t}makePrivate(e,t){var r,n,o,i;const a="object"==typeof e?e:{};t="function"==typeof e?e:t,a.private=!0;const s={predefinedAcl:"projectPrivate"};a.userProject&&(s.userProject=a.userProject),(null===(r=a.preconditionOpts)||void 0===r?void 0:r.ifGenerationMatch)&&(s.ifGenerationMatch=a.preconditionOpts.ifGenerationMatch),(null===(n=a.preconditionOpts)||void 0===n?void 0:n.ifGenerationNotMatch)&&(s.ifGenerationNotMatch=a.preconditionOpts.ifGenerationNotMatch),(null===(o=a.preconditionOpts)||void 0===o?void 0:o.ifMetagenerationMatch)&&(s.ifMetagenerationMatch=a.preconditionOpts.ifMetagenerationMatch),(null===(i=a.preconditionOpts)||void 0===i?void 0:i.ifMetagenerationNotMatch)&&(s.ifMetagenerationNotMatch=a.preconditionOpts.ifMetagenerationNotMatch);const l={...a.metadata,acl:null};this.setMetadata(l,s,e=>{e&&t(e);(()=>a.includeFiles?(0,g.promisify)(this.makeAllFilesPublicPrivate_).call(this,a):Promise.resolve([]))().then(e=>t(null,e)).catch(t)})}makePublic(e,t){t="function"==typeof e?e:t;const r={public:!0,..."object"==typeof e?e:{}};this.acl.add({entity:"allUsers",role:"READER"}).then(()=>this.acl.default.add({entity:"allUsers",role:"READER"})).then(()=>r.includeFiles?(0,g.promisify)(this.makeAllFilesPublicPrivate_).call(this,r):[]).then(e=>t(null,e),t)}notification(e){if(!e)throw new Error(I.SUPPLY_NOTIFICATION_ID);return new _.Notification(this,e)}removeRetentionPeriod(e,t){const r="object"==typeof e?e:{};t="function"==typeof e?e:t,this.setMetadata({retentionPolicy:null},r,t)}request(e,t){return!this.userProject||e.qs&&e.qs.userProject||(e.qs={...e.qs,userProject:this.userProject}),super.request(e,t)}setLabels(e,t,r){const n="object"==typeof t?t:{};r=(r="function"==typeof t?t:r)||l.util.noop,this.setMetadata({labels:e},n,r)}setMetadata(e,t,r){const n="object"==typeof t?t:{};r="function"==typeof t?t:r,this.disableAutoRetryConditionallyIdempotent_(this.methods.setMetadata,C.setMetadata,n),super.setMetadata(e,n).then(e=>r(null,...e)).catch(r).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}setRetentionPeriod(e,t,r){const n="object"==typeof t?t:{};r="function"==typeof t?t:r,this.setMetadata({retentionPolicy:{retentionPeriod:e.toString()}},n,r)}setCorsConfiguration(e,t,r){const n="object"==typeof t?t:{};r="function"==typeof t?t:r,this.setMetadata({cors:e},n,r)}setStorageClass(e,t,r){const n="object"==typeof t?t:{};r="function"==typeof t?t:r,e=e.replace(/-/g,"_").replace(/([a-z])([A-Z])/g,(e,t,r)=>t+"_"+r).toUpperCase(),this.setMetadata({storageClass:e},n,r)}setUserProject(e){this.userProject=e;["create","delete","exists","get","getMetadata","setMetadata"].forEach(t=>{const r=this.methods[t];"object"==typeof r&&("object"==typeof r.reqOpts?Object.assign(r.reqOpts.qs,{userProject:e}):r.reqOpts={qs:{userProject:e}})})}upload(e,t,r){var n,o;if(global.GCLOUD_SANDBOX_ENV)return;let i="object"==typeof t?t:{};r="function"==typeof t?t:r,i=Object.assign({metadata:{}},i);let a,s=this.storage.retryOptions.maxRetries;if((void 0===(null===(n=null==i?void 0:i.preconditionOpts)||void 0===n?void 0:n.ifGenerationMatch)&&void 0===(null===(o=this.instancePreconditionOpts)||void 0===o?void 0:o.ifGenerationMatch)&&this.storage.retryOptions.idempotencyStrategy===O.IdempotencyStrategy.RetryConditional||this.storage.retryOptions.idempotencyStrategy===O.IdempotencyStrategy.RetryNever)&&(s=0),i.destination instanceof b.File)a=i.destination;else if(null!==i.destination&&"string"==typeof i.destination)a=this.file(i.destination,{encryptionKey:i.encryptionKey,kmsKeyName:i.kmsKeyName,preconditionOpts:this.instancePreconditionOpts});else{const t=h.basename(e);a=this.file(t,{encryptionKey:i.encryptionKey,kmsKeyName:i.kmsKeyName,preconditionOpts:this.instancePreconditionOpts})}(t=>{const n=(0,m.default)(async r=>{await new Promise((n,o)=>{var s,l;0===t&&(null===(l=null===(s=null==a?void 0:a.storage)||void 0===s?void 0:s.retryOptions)||void 0===l?void 0:l.autoRetry)&&(a.storage.retryOptions.autoRetry=!1);const p=a.createWriteStream(i);i.onUploadProgress&&p.on("progress",i.onUploadProgress),u.createReadStream(e).on("error",r).pipe(p).on("error",e=>this.storage.retryOptions.autoRetry&&this.storage.retryOptions.retryableErrorFn(e)?o(e):r(e)).on("finish",()=>n())})},{retries:t,factor:this.storage.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.storage.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.storage.retryOptions.totalTimeout});r&&n.then(()=>{if(r)return r(null,a,a.metadata)}).catch(r)})(s)}makeAllFilesPublicPrivate_(e,t){const r=[],n=[],o="object"==typeof e?e:{};t="function"==typeof e?e:t;this.getFiles(o).then(([e])=>{const t=(0,f.default)(10),i=e.map(e=>t(()=>(async e=>{try{await(o.public?e.makePublic():e.makePrivate(o)),n.push(e)}catch(e){if(!o.force)throw e;r.push(e)}})(e)));return Promise.all(i)}).then(()=>t(r.length>0?r:null,n),e=>t(e,n))}getId(){return this.id}disableAutoRetryConditionallyIdempotent_(e,t,r){var n,o;"object"!=typeof e||void 0!==(null===(o=null===(n=null==e?void 0:e.reqOpts)||void 0===n?void 0:n.qs)||void 0===o?void 0:o.ifMetagenerationMatch)||void 0!==(null==r?void 0:r.ifMetagenerationMatch)||t!==C.setMetadata&&t!==C.delete||this.storage.retryOptions.idempotencyStrategy!==O.IdempotencyStrategy.RetryConditional?this.storage.retryOptions.idempotencyStrategy===O.IdempotencyStrategy.RetryNever&&(this.storage.retryOptions.autoRetry=!1):this.storage.retryOptions.autoRetry=!1}}t.Bucket=N,
/*! Developer Documentation
 *
 * These methods can be auto-paginated.
 */
p.paginator.extend(N,"getFiles"),
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,c.promisifyAll)(N,{exclude:["cloudStorageURI","request","file","notification","restore"]})},function(e,t,r){"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",o="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+o+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t){const n=Object.keys(t),o=n.length;for(let i=0;i<o;i++)e[n[i]]="strict"===r?[t[n[i]]]:t[n[i]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const r=[];let n=t.exec(e);for(;n;){const o=[];o.startIndex=t.lastIndex-n[0].length;const i=n.length;for(let e=0;e<i;e++)o.push(n[e]);r.push(o),n=t.exec(e)}return r},t.nameRegexp=o},function(e,t,r){"use strict";e.exports=u;var n,o=r(59),i=o.LongBits,a=o.base64,s=o.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function p(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function u(){this.len=0,this.head=new l(p,0,0),this.tail=this.head,this.states=null}var d=function(){return o.Buffer?function(){return(u.create=function(){return new n})()}:function(){return new u}};function h(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}u.create=d(),u.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(u.alloc=o.pool(u.alloc,o.Array.prototype.subarray)),u.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},u.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},u.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},u.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},u.prototype.uint64=function(e){var t=i.from(e);return this._push(g,t.length(),t)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(g,t.length(),t)},u.prototype.bool=function(e){return this._push(h,1,e?1:0)},u.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},u.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};u.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(o.isString(e)){var r=u.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},u.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},u.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(p,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(p,0,0),this.len=0),this},u.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},u.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},u._configure=function(e){n=e,u.create=d(),n._configure()}},function(e,t,r){"use strict";e.exports=l;var n,o=r(59),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var p,c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},u=function(){return o.Buffer?function(e){return(l.create=function(e){return o.Buffer.isBuffer(e)?new n(e):c(e)})(e)}:c};function d(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=u(),l.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,l.prototype.uint32=(p=4294967295,function(){if(p=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return p;if(p=(p|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return p;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return p}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=o.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=u(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,r){"use strict";e.exports=v;var n=r(112);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var o=r(50),i=r(113),a=r(77),s=r(207),l=r(208),p=r(210),c=r(205),u=r(204),d=r(16),h=r(372),f=r(373),g=r(374),m=r(375),y=r(376);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=d.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=d.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof p||((e.prototype=new p).constructor=e,d.merge(e.prototype,t)),e.$type=e.prototype.$type=this,d.merge(e,p,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:d.oneOfGetter(this._oneofsArray[r].oneof),set:d.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=d.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",d.safeProp(t.name)):t.repeated&&r("this%s=[]",d.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var p=Object.keys(t.fields),c=0;c<p.length;++c)r.add((void 0!==t.fields[p[c]].keyType?s.fromJSON:a.fromJSON)(p[c],t.fields[p[c]]));if(t.oneofs)for(p=Object.keys(t.oneofs),c=0;c<p.length;++c)r.add(i.fromJSON(p[c],t.oneofs[p[c]]));if(t.nested)for(p=Object.keys(t.nested),c=0;c<p.length;++c){var u=t.nested[p[c]];r.add((void 0!==u.id?a.fromJSON:void 0!==u.fields?v.fromJSON:void 0!==u.values?o.fromJSON:void 0!==u.methods?l.fromJSON:n.fromJSON)(p[c],u))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return d.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:u,types:t,util:d}),this.decode=f(this)({Reader:c,types:t,util:d}),this.verify=g(this)({types:t,util:d}),this.fromObject=m.fromObject(this)({types:t,util:d}),this.toObject=m.toObject(this)({types:t,util:d});var n=y[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){d.decorateType(t,e)}}},function(e,t,r){"use strict";e.exports=a;var n=r(77);((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var o=r(91),i=r(16);function a(e,t,r,o,a,s){if(n.call(this,e,t,o,void 0,void 0,a,s),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,o){i.decorateType(n.constructor).add(new a(o,e,t,r))}}},function(e,t,r){"use strict";e.exports=s;var n=r(112);((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var o=r(209),i=r(16),a=r(370);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function l(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(o.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,l(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,o=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var l=i.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");o[l]=i.codegen(["r","c"],i.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},function(e,t,r){"use strict";e.exports=i;var n=r(90);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var o=r(16);function i(e,t,r,i,a,s,l,p,c){if(o.isObject(a)?(l=a,a=s=void 0):o.isObject(s)&&(l=s,s=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(r))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");n.call(this,e,l),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=p,this.parsedOptions=c}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},function(e,t,r){"use strict";e.exports=o;var n=r(59);function o(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},function(e,t,r){"use strict";e.exports=u;var n=r(112);((u.prototype=Object.create(n.prototype)).constructor=u).className="Root";var o,i,a,s=r(77),l=r(50),p=r(113),c=r(16);function u(e){n.call(this,"",e),this.deferred=[],this.files=[]}function d(){}u.fromJSON=function(e,t){return t||(t=new u),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},u.prototype.resolvePath=c.path.resolve,u.prototype.fetch=c.fetch,u.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return c.asPromise(e,o,t,r);var s=n===d;function l(e,t){if(n){if(s)throw e;var r=n;n=null,r(e,t)}}function p(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function u(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){i.filename=e;var n,a=i(t,o,r),u=0;if(a.imports)for(;u<a.imports.length;++u)(n=p(a.imports[u])||o.resolvePath(e,a.imports[u]))&&h(n);if(a.weakImports)for(u=0;u<a.weakImports.length;++u)(n=p(a.weakImports[u])||o.resolvePath(e,a.weakImports[u]))&&h(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){l(e)}s||f||l(null,o)}function h(e,t){if(e=p(e)||e,!(o.files.indexOf(e)>-1))if(o.files.push(e),e in a)s?u(e,a[e]):(++f,setTimeout((function(){--f,u(e,a[e])})));else if(s){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||l(e))}u(e,r)}else++f,o.fetch(e,(function(r,i){--f,n&&(r?t?f||l(null,o):l(r):u(e,i))}))}var f=0;c.isString(t)&&(t=[t]);for(var g,m=0;m<t.length;++m)(g=o.resolvePath("",t[m]))&&h(g);if(s)return o;f||l(null,o)},u.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,d)},u.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function f(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n)),!0}return!1}u.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof l)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof p)){if(e instanceof o)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);h.test(e.name)&&(e.parent[e.name]=e)}},u.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof l)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);h.test(e.name)&&delete e.parent[e.name]}},u._configure=function(e,t,r){o=e,i=t,a=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalApiCaller=void 0;const n=r(115);t.NormalApiCaller=class{init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}wrap(e){return e}call(e,t,r,n){n.call(e,t)}fail(e,t){e.callback(t)}result(e){return e.promise}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromProto3JSON=t.toProto3JSON=void 0;var n=r(378);Object.defineProperty(t,"toProto3JSON",{enumerable:!0,get:function(){return n.toProto3JSON}});var o=r(380);Object.defineProperty(t,"fromProto3JSON",{enumerable:!0,get:function(){return o.fromProto3JSON}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesFromProto3JSON=t.bytesToProto3JSON=void 0,t.bytesToProto3JSON=function(e){return Buffer.isBuffer(e)?e.toString("base64"):Buffer.from(e.buffer,0,e.byteLength).toString("base64")},t.bytesFromProto3JSON=function(e){return Buffer.from(e,"base64")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleDescriptor=t.StreamDescriptor=t.PageDescriptor=t.LongrunningDescriptor=void 0;var n=r(696);Object.defineProperty(t,"LongrunningDescriptor",{enumerable:!0,get:function(){return n.LongRunningDescriptor}});var o=r(389);Object.defineProperty(t,"PageDescriptor",{enumerable:!0,get:function(){return o.PageDescriptor}});var i=r(700);Object.defineProperty(t,"StreamDescriptor",{enumerable:!0,get:function(){return i.StreamDescriptor}});var a=r(701);Object.defineProperty(t,"BundleDescriptor",{enumerable:!0,get:function(){return a.BundleDescriptor}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Operation=void 0,t.operation=function(e,t,r,n){return new s(e,t,r,n)};const n=r(23),o=r(39),i=r(40),a=r(217);class s extends n.EventEmitter{constructor(e,t,r,n){super(),this.completeListeners=0,this.hasActiveListeners=!1,this.latestResponse=e,this.name=this.latestResponse.name,this.done=this.latestResponse.done,this.error=this.latestResponse.error,this.longrunningDescriptor=t,this.result=null,this.metadata=null,this.backoffSettings=r,this._unpackResponse(e),this._listenForEvents(),this._callOptions=n}_listenForEvents(){this.on("newListener",e=>{"complete"===e&&(this.completeListeners++,this.hasActiveListeners||(this.hasActiveListeners=!0,this.startPolling_()))}),this.on("removeListener",e=>{"complete"===e&&0==--this.completeListeners&&(this.hasActiveListeners=!1)})}cancel(){this.currentCallPromise_&&this.currentCallPromise_.cancel();const e=this.longrunningDescriptor.operationsClient,t=new a.google.longrunning.CancelOperationRequest;return t.name=this.latestResponse.name,e.cancelOperation(t)}getOperation(e){const t=this,r=this.longrunningDescriptor.operationsClient;function n(){if(!e)return new Promise((e,r)=>{if(t.latestResponse.error){const e=new i.GoogleError(t.latestResponse.error.message);e.code=t.latestResponse.error.code,r(e)}else e([t.result,t.metadata,t.latestResponse])})}if(this.latestResponse.done)return this._unpackResponse(this.latestResponse,e),n();const o=new a.google.longrunning.GetOperationRequest;o.name=this.latestResponse.name,this.currentCallPromise_=r.getOperationInternal(o,this._callOptions);const s=this.currentCallPromise_.then(r=>(t.latestResponse=r[0],t._unpackResponse(r[0],e),n()),t=>{if(!e)return Promise.reject(t);e(t)});return e?void 0:s}_unpackResponse(e,t){const r=this.longrunningDescriptor.responseDecoder,n=this.longrunningDescriptor.metadataDecoder;let o,a;if(e.done){if("error"===e.result){const r=new i.GoogleError(e.error.message);return r.code=e.error.code,this.error=r,void(t&&t(r))}r&&e.response&&(this.response=e.response,o=r(e.response.value),this.result=o,this.done=!0)}n&&e.metadata&&(a=n(e.metadata.value),this.metadata=a),t&&t(null,o,a,e)}startPolling_(){const e=this;let t=new Date;const r=this.backoffSettings.retryDelayMultiplier,n=this.backoffSettings.maxRetryDelayMillis;let a,s=this.backoffSettings.initialRetryDelayMillis,l=1/0;function p(t,...r){e.emit(t,...r)}this.backoffSettings.totalTimeoutMillis&&(l=t.getTime()+this.backoffSettings.totalTimeoutMillis),this.latestResponse.metadata&&(a=this.latestResponse.metadata.value),function c(){if(e.hasActiveListeners){if(t.getTime()>=l){const e=new i.GoogleError("Total timeout exceeded before any response was received");return e.code=o.Status.DEADLINE_EXCEEDED,void setImmediate(p,"error",e)}e.getOperation((e,o,i,l)=>{if(!e)return o?void setImmediate(p,"complete",o,i,l):(l.metadata&&(!a||l&&!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;++r)if(e[r]!==t[r])return!1;return!0}(l.metadata.value,a))&&(setImmediate(p,"progress",i,l),a=l.metadata.value),l.done?void setImmediate(p,"complete",{},i,l):void setTimeout(()=>{t=new Date,s=Math.min(s*r,n),c()},s));setImmediate(p,"error",e)})}}()}promise(){return new Promise((e,t)=>{this.on("error",t).on("complete",(t,r,n)=>{e([t,r,n])})})}}t.Operation=s},function(e,t,r){var n,o,i;o=[r(93)],void 0===(i="function"==typeof(n=function(e){var t,r,n,o,i=e.Reader,a=e.Writer,s=e.util,l=e.roots.operations_protos||(e.roots.operations_protos={});function p(t,r,n){e.rpc.Service.call(this,t,r,n)}function c(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function d(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.operations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function f(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function g(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function m(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function y(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function v(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function b(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function E(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function _(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function O(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function w(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function S(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function T(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function A(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function C(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function I(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function N(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function P(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function R(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function D(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function k(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function x(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function j(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function L(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function F(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function M(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function U(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function B(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function V(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function q(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function G(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function H(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function z(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function W(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function J(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function K(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Y(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function $(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Q(e){if(this.details=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return l.google=((o={}).longrunning=((r={}).Operations=(((p.prototype=Object.create(e.rpc.Service.prototype)).constructor=p).create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(p.prototype.listOperations=function e(t,r){return this.rpcCall(e,l.google.longrunning.ListOperationsRequest,l.google.longrunning.ListOperationsResponse,t,r)},"name",{value:"ListOperations"}),Object.defineProperty(p.prototype.getOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.GetOperationRequest,l.google.longrunning.Operation,t,r)},"name",{value:"GetOperation"}),Object.defineProperty(p.prototype.deleteOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.DeleteOperationRequest,l.google.protobuf.Empty,t,r)},"name",{value:"DeleteOperation"}),Object.defineProperty(p.prototype.cancelOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.CancelOperationRequest,l.google.protobuf.Empty,t,r)},"name",{value:"CancelOperation"}),Object.defineProperty(p.prototype.waitOperation=function e(t,r){return this.rpcCall(e,l.google.longrunning.WaitOperationRequest,l.google.longrunning.Operation,t,r)},"name",{value:"WaitOperation"}),p),r.Operation=(c.prototype.name="",c.prototype.metadata=null,c.prototype.done=!1,c.prototype.error=null,c.prototype.response=null,Object.defineProperty(c.prototype,"result",{get:s.oneOfGetter(n=["error","response"]),set:s.oneOfSetter(n)}),c.create=function(e){return new c(e)},c.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&l.google.protobuf.Any.encode(e.metadata,t.uint32(18).fork()).ldelim(),null!=e.done&&Object.hasOwnProperty.call(e,"done")&&t.uint32(24).bool(e.done),null!=e.error&&Object.hasOwnProperty.call(e,"error")&&l.google.rpc.Status.encode(e.error,t.uint32(34).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,"response")&&l.google.protobuf.Any.encode(e.response,t.uint32(42).fork()).ldelim(),t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.Operation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.metadata=l.google.protobuf.Any.decode(e,e.uint32());break;case 3:n.done=e.bool();break;case 4:n.error=l.google.rpc.Status.decode(e,e.uint32());break;case 5:n.response=l.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},c.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},c.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t,r={};if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.metadata&&e.hasOwnProperty("metadata")&&(t=l.google.protobuf.Any.verify(e.metadata)))return"metadata."+t;if(null!=e.done&&e.hasOwnProperty("done")&&"boolean"!=typeof e.done)return"done: boolean expected";if(null!=e.error&&e.hasOwnProperty("error")&&(r.result=1,t=l.google.rpc.Status.verify(e.error)))return"error."+t;if(null!=e.response&&e.hasOwnProperty("response")){if(1===r.result)return"result: multiple values";if(r.result=1,t=l.google.protobuf.Any.verify(e.response))return"response."+t}return null},c.fromObject=function(e){if(e instanceof l.google.longrunning.Operation)return e;var t=new l.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".google.longrunning.Operation.metadata: object expected");t.metadata=l.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if("object"!=typeof e.error)throw TypeError(".google.longrunning.Operation.error: object expected");t.error=l.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if("object"!=typeof e.response)throw TypeError(".google.longrunning.Operation.response: object expected");t.response=l.google.protobuf.Any.fromObject(e.response)}return t},c.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.metadata=null,r.done=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=l.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty("done")&&(r.done=e.done),null!=e.error&&e.hasOwnProperty("error")&&(r.error=l.google.rpc.Status.toObject(e.error,t),t.oneofs)&&(r.result="error"),null!=e.response&&e.hasOwnProperty("response")&&(r.response=l.google.protobuf.Any.toObject(e.response,t),t.oneofs)&&(r.result="response"),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},c),r.GetOperationRequest=(u.prototype.name="",u.create=function(e){return new u(e)},u.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.GetOperationRequest;e.pos<r;){var o=e.uint32();o>>>3==1?n.name=e.string():e.skipType(7&o)}return n},u.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},u.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null},u.fromObject=function(e){var t;return e instanceof l.google.longrunning.GetOperationRequest?e:(t=new l.google.longrunning.GetOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},u),r.ListOperationsRequest=(d.prototype.name="",d.prototype.filter="",d.prototype.pageSize=0,d.prototype.pageToken="",d.create=function(e){return new d(e)},d.encode=function(e,t){return t=t||a.create(),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(10).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(16).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(26).string(e.pageToken),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.ListOperationsRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 4:n.name=e.string();break;case 1:n.filter=e.string();break;case 2:n.pageSize=e.int32();break;case 3:n.pageToken=e.string();break;default:e.skipType(7&o)}}return n},d.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},d.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.filter&&e.hasOwnProperty("filter")&&!s.isString(e.filter)?"filter: string expected":null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!s.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!s.isString(e.pageToken)?"pageToken: string expected":null},d.fromObject=function(e){var t;return e instanceof l.google.longrunning.ListOperationsRequest?e:(t=new l.google.longrunning.ListOperationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},d.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.filter="",r.pageSize=0,r.pageToken="",r.name=""),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},d.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},d),r.ListOperationsResponse=(h.prototype.operations=s.emptyArray,h.prototype.nextPageToken="",h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||a.create(),null!=e.operations&&e.operations.length)for(var r=0;r<e.operations.length;++r)l.google.longrunning.Operation.encode(e.operations[r],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.ListOperationsResponse;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.operations&&n.operations.length||(n.operations=[]),n.operations.push(l.google.longrunning.Operation.decode(e,e.uint32()));break;case 2:n.nextPageToken=e.string();break;default:e.skipType(7&o)}}return n},h.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},h.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.operations&&e.hasOwnProperty("operations")){if(!Array.isArray(e.operations))return"operations: array expected";for(var t=0;t<e.operations.length;++t){var r=l.google.longrunning.Operation.verify(e.operations[t]);if(r)return"operations."+r}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!s.isString(e.nextPageToken)?"nextPageToken: string expected":null},h.fromObject=function(e){if(e instanceof l.google.longrunning.ListOperationsResponse)return e;var t=new l.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");t.operations=[];for(var r=0;r<e.operations.length;++r){if("object"!=typeof e.operations[r])throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");t.operations[r]=l.google.longrunning.Operation.fromObject(e.operations[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},h.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.operations=[]),t.defaults&&(r.nextPageToken=""),e.operations&&e.operations.length){r.operations=[];for(var n=0;n<e.operations.length;++n)r.operations[n]=l.google.longrunning.Operation.toObject(e.operations[n],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},h.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},h),r.CancelOperationRequest=(f.prototype.name="",f.create=function(e){return new f(e)},f.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.CancelOperationRequest;e.pos<r;){var o=e.uint32();o>>>3==1?n.name=e.string():e.skipType(7&o)}return n},f.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},f.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null},f.fromObject=function(e){var t;return e instanceof l.google.longrunning.CancelOperationRequest?e:(t=new l.google.longrunning.CancelOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},f.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},f.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},f),r.DeleteOperationRequest=(g.prototype.name="",g.create=function(e){return new g(e)},g.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.DeleteOperationRequest;e.pos<r;){var o=e.uint32();o>>>3==1?n.name=e.string():e.skipType(7&o)}return n},g.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},g.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null},g.fromObject=function(e){var t;return e instanceof l.google.longrunning.DeleteOperationRequest?e:(t=new l.google.longrunning.DeleteOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},g.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},g.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},g),r.WaitOperationRequest=(m.prototype.name="",m.prototype.timeout=null,m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.timeout&&Object.hasOwnProperty.call(e,"timeout")&&l.google.protobuf.Duration.encode(e.timeout,t.uint32(18).fork()).ldelim(),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.WaitOperationRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.timeout=l.google.protobuf.Duration.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},m.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},m.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.timeout&&e.hasOwnProperty("timeout")&&(e=l.google.protobuf.Duration.verify(e.timeout))?"timeout."+e:null},m.fromObject=function(e){if(e instanceof l.google.longrunning.WaitOperationRequest)return e;var t=new l.google.longrunning.WaitOperationRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.timeout){if("object"!=typeof e.timeout)throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");t.timeout=l.google.protobuf.Duration.fromObject(e.timeout)}return t},m.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.timeout=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.timeout&&e.hasOwnProperty("timeout")&&(r.timeout=l.google.protobuf.Duration.toObject(e.timeout,t)),r},m.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},m),r.OperationInfo=(y.prototype.responseType="",y.prototype.metadataType="",y.create=function(e){return new y(e)},y.encode=function(e,t){return t=t||a.create(),null!=e.responseType&&Object.hasOwnProperty.call(e,"responseType")&&t.uint32(10).string(e.responseType),null!=e.metadataType&&Object.hasOwnProperty.call(e,"metadataType")&&t.uint32(18).string(e.metadataType),t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.longrunning.OperationInfo;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.responseType=e.string();break;case 2:n.metadataType=e.string();break;default:e.skipType(7&o)}}return n},y.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},y.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.responseType&&e.hasOwnProperty("responseType")&&!s.isString(e.responseType)?"responseType: string expected":null!=e.metadataType&&e.hasOwnProperty("metadataType")&&!s.isString(e.metadataType)?"metadataType: string expected":null},y.fromObject=function(e){var t;return e instanceof l.google.longrunning.OperationInfo?e:(t=new l.google.longrunning.OperationInfo,null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t)},y.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.responseType="",r.metadataType=""),null!=e.responseType&&e.hasOwnProperty("responseType")&&(r.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty("metadataType")&&(r.metadataType=e.metadataType),r},y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},y),r),o.api=((n={}).Http=(v.prototype.rules=s.emptyArray,v.prototype.fullyDecodeReservedExpansion=!1,v.create=function(e){return new v(e)},v.encode=function(e,t){if(t=t||a.create(),null!=e.rules&&e.rules.length)for(var r=0;r<e.rules.length;++r)l.google.api.HttpRule.encode(e.rules[r],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,"fullyDecodeReservedExpansion")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.Http;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(l.google.api.HttpRule.decode(e,e.uint32()));break;case 2:n.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&o)}}return n},v.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},v.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var r=l.google.api.HttpRule.verify(e.rules[t]);if(r)return"rules."+r}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&"boolean"!=typeof e.fullyDecodeReservedExpansion?"fullyDecodeReservedExpansion: boolean expected":null},v.fromObject=function(e){if(e instanceof l.google.api.Http)return e;var t=new l.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=l.google.api.HttpRule.fromObject(e.rules[r])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},v.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.rules=[]),t.defaults&&(r.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){r.rules=[];for(var n=0;n<e.rules.length;++n)r.rules[n]=l.google.api.HttpRule.toObject(e.rules[n],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(r.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),r},v.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},v),n.HttpRule=(b.prototype.selector="",b.prototype.get="",b.prototype.put="",b.prototype.post="",b.prototype.delete="",b.prototype.patch="",b.prototype.custom=null,b.prototype.body="",b.prototype.responseBody="",b.prototype.additionalBindings=s.emptyArray,Object.defineProperty(b.prototype,"pattern",{get:s.oneOfGetter(r=["get","put","post","delete","patch","custom"]),set:s.oneOfSetter(r)}),b.create=function(e){return new b(e)},b.encode=function(e,t){if(t=t||a.create(),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,"get")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,"put")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,"post")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,"delete")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,"patch")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,"custom")&&l.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var r=0;r<e.additionalBindings.length;++r)l.google.api.HttpRule.encode(e.additionalBindings[r],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,"responseBody")&&t.uint32(98).string(e.responseBody),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.HttpRule;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.selector=e.string();break;case 2:n.get=e.string();break;case 3:n.put=e.string();break;case 4:n.post=e.string();break;case 5:n.delete=e.string();break;case 6:n.patch=e.string();break;case 8:n.custom=l.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:n.body=e.string();break;case 12:n.responseBody=e.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(l.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},b.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},b.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.selector&&e.hasOwnProperty("selector")&&!s.isString(e.selector))return"selector: string expected";if(null!=e.get&&e.hasOwnProperty("get")&&(t.pattern=1,!s.isString(e.get)))return"get: string expected";if(null!=e.put&&e.hasOwnProperty("put")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.put))return"put: string expected"}if(null!=e.post&&e.hasOwnProperty("post")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.post))return"post: string expected"}if(null!=e.delete&&e.hasOwnProperty("delete")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.delete))return"delete: string expected"}if(null!=e.patch&&e.hasOwnProperty("patch")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.patch))return"patch: string expected"}if(null!=e.custom&&e.hasOwnProperty("custom")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,r=l.google.api.CustomHttpPattern.verify(e.custom))return"custom."+r}if(null!=e.body&&e.hasOwnProperty("body")&&!s.isString(e.body))return"body: string expected";if(null!=e.responseBody&&e.hasOwnProperty("responseBody")&&!s.isString(e.responseBody))return"responseBody: string expected";if(null!=e.additionalBindings&&e.hasOwnProperty("additionalBindings")){if(!Array.isArray(e.additionalBindings))return"additionalBindings: array expected";for(var r,n=0;n<e.additionalBindings.length;++n)if(r=l.google.api.HttpRule.verify(e.additionalBindings[n]))return"additionalBindings."+r}return null},b.fromObject=function(e){if(e instanceof l.google.api.HttpRule)return e;var t=new l.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=l.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=l.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},b.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body="",r.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs)&&(r.pattern="get"),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs)&&(r.pattern="put"),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs)&&(r.pattern="post"),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs)&&(r.pattern="delete"),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs)&&(r.pattern="patch"),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=l.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(r.pattern="custom"),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n)r.additionalBindings[n]=l.google.api.HttpRule.toObject(e.additionalBindings[n],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(r.responseBody=e.responseBody),r},b.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},b),n.CustomHttpPattern=(E.prototype.kind="",E.prototype.path="",E.create=function(e){return new E(e)},E.encode=function(e,t){return t=t||a.create(),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.CustomHttpPattern;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.kind=e.string();break;case 2:n.path=e.string();break;default:e.skipType(7&o)}}return n},E.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},E.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.kind&&e.hasOwnProperty("kind")&&!s.isString(e.kind)?"kind: string expected":null!=e.path&&e.hasOwnProperty("path")&&!s.isString(e.path)?"path: string expected":null},E.fromObject=function(e){var t;return e instanceof l.google.api.CustomHttpPattern?e:(t=new l.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},E.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},E.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},E),n),o.protobuf=((r={}).FileDescriptorSet=(_.prototype.file=s.emptyArray,_.create=function(e){return new _(e)},_.encode=function(e,t){if(t=t||a.create(),null!=e.file&&e.file.length)for(var r=0;r<e.file.length;++r)l.google.protobuf.FileDescriptorProto.encode(e.file[r],t.uint32(10).fork()).ldelim();return t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileDescriptorSet;e.pos<r;){var o=e.uint32();o>>>3==1?(n.file&&n.file.length||(n.file=[]),n.file.push(l.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&o)}return n},_.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},_.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.file&&e.hasOwnProperty("file")){if(!Array.isArray(e.file))return"file: array expected";for(var t=0;t<e.file.length;++t){var r=l.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(r)return"file."+r}}return null},_.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorSet)return e;var t=new l.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=l.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},_.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var n=0;n<e.file.length;++n)r.file[n]=l.google.protobuf.FileDescriptorProto.toObject(e.file[n],t)}return r},_.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_),r.FileDescriptorProto=(O.prototype.name="",O.prototype.package="",O.prototype.dependency=s.emptyArray,O.prototype.publicDependency=s.emptyArray,O.prototype.weakDependency=s.emptyArray,O.prototype.messageType=s.emptyArray,O.prototype.enumType=s.emptyArray,O.prototype.service=s.emptyArray,O.prototype.extension=s.emptyArray,O.prototype.options=null,O.prototype.sourceCodeInfo=null,O.prototype.syntax="",O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var r=0;r<e.dependency.length;++r)t.uint32(26).string(e.dependency[r]);if(null!=e.messageType&&e.messageType.length)for(r=0;r<e.messageType.length;++r)l.google.protobuf.DescriptorProto.encode(e.messageType[r],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(r=0;r<e.service.length;++r)l.google.protobuf.ServiceDescriptorProto.encode(e.service[r],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&l.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(r=0;r<e.publicDependency.length;++r)t.uint32(80).int32(e.publicDependency[r]);if(null!=e.weakDependency&&e.weakDependency.length)for(r=0;r<e.weakDependency.length;++r)t.uint32(88).int32(e.weakDependency[r]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.package=e.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(e.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),2==(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)n.publicDependency.push(e.int32());else n.publicDependency.push(e.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),2==(7&o))for(a=e.uint32()+e.pos;e.pos<a;)n.weakDependency.push(e.int32());else n.weakDependency.push(e.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(l.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:n.options=l.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:n.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:n.syntax=e.string();break;default:e.skipType(7&o)}}return n},O.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},O.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.package&&e.hasOwnProperty("package")&&!s.isString(e.package))return"package: string expected";if(null!=e.dependency&&e.hasOwnProperty("dependency")){if(!Array.isArray(e.dependency))return"dependency: array expected";for(var t=0;t<e.dependency.length;++t)if(!s.isString(e.dependency[t]))return"dependency: string[] expected"}if(null!=e.publicDependency&&e.hasOwnProperty("publicDependency")){if(!Array.isArray(e.publicDependency))return"publicDependency: array expected";for(t=0;t<e.publicDependency.length;++t)if(!s.isInteger(e.publicDependency[t]))return"publicDependency: integer[] expected"}if(null!=e.weakDependency&&e.hasOwnProperty("weakDependency")){if(!Array.isArray(e.weakDependency))return"weakDependency: array expected";for(t=0;t<e.weakDependency.length;++t)if(!s.isInteger(e.weakDependency[t]))return"weakDependency: integer[] expected"}if(null!=e.messageType&&e.hasOwnProperty("messageType")){if(!Array.isArray(e.messageType))return"messageType: array expected";for(t=0;t<e.messageType.length;++t)if(r=l.google.protobuf.DescriptorProto.verify(e.messageType[t]))return"messageType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.service&&e.hasOwnProperty("service")){if(!Array.isArray(e.service))return"service: array expected";for(t=0;t<e.service.length;++t)if(r=l.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return"service."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.FileOptions.verify(e.options))?"options."+r:null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r=l.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo))?"sourceCodeInfo."+r:null!=e.syntax&&e.hasOwnProperty("syntax")&&!s.isString(e.syntax)?"syntax: string expected":null},O.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorProto)return e;var t=new l.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=l.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=l.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=l.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},O.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var n=0;n<e.dependency.length;++n)r.dependency[n]=e.dependency[n]}if(e.messageType&&e.messageType.length)for(r.messageType=[],n=0;n<e.messageType.length;++n)r.messageType[n]=l.google.protobuf.DescriptorProto.toObject(e.messageType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.service&&e.service.length)for(r.service=[],n=0;n<e.service.length;++n)r.service[n]=l.google.protobuf.ServiceDescriptorProto.toObject(e.service[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],n=0;n<e.publicDependency.length;++n)r.publicDependency[n]=e.publicDependency[n];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],n=0;n<e.weakDependency.length;++n)r.weakDependency[n]=e.weakDependency[n];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),r},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O),r.DescriptorProto=(w.prototype.name="",w.prototype.field=s.emptyArray,w.prototype.extension=s.emptyArray,w.prototype.nestedType=s.emptyArray,w.prototype.enumType=s.emptyArray,w.prototype.extensionRange=s.emptyArray,w.prototype.oneofDecl=s.emptyArray,w.prototype.options=null,w.prototype.reservedRange=s.emptyArray,w.prototype.reservedName=s.emptyArray,w.create=function(e){return new w(e)},w.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var r=0;r<e.field.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.field[r],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(r=0;r<e.nestedType.length;++r)l.google.protobuf.DescriptorProto.encode(e.nestedType[r],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(r=0;r<e.extensionRange.length;++r)l.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[r],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(r=0;r<e.oneofDecl.length;++r)l.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[r],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)l.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[r],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(82).string(e.reservedName[r]);return t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(l.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(l.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:n.options=l.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(l.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},w.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},w.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.field&&e.hasOwnProperty("field")){if(!Array.isArray(e.field))return"field: array expected";for(var t=0;t<e.field.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return"field."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}if(null!=e.nestedType&&e.hasOwnProperty("nestedType")){if(!Array.isArray(e.nestedType))return"nestedType: array expected";for(t=0;t<e.nestedType.length;++t)if(r=l.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return"nestedType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.extensionRange&&e.hasOwnProperty("extensionRange")){if(!Array.isArray(e.extensionRange))return"extensionRange: array expected";for(t=0;t<e.extensionRange.length;++t)if(r=l.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return"extensionRange."+r}if(null!=e.oneofDecl&&e.hasOwnProperty("oneofDecl")){if(!Array.isArray(e.oneofDecl))return"oneofDecl: array expected";for(t=0;t<e.oneofDecl.length;++t)if(r=l.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return"oneofDecl."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.MessageOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";var r;for(t=0;t<e.reservedRange.length;++t)if(r=l.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!s.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},w.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto)return e;var t=new l.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=l.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=l.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=l.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=l.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=l.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},w.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var n=0;n<e.field.length;++n)r.field[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.field[n],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],n=0;n<e.nestedType.length;++n)r.nestedType[n]=l.google.protobuf.DescriptorProto.toObject(e.nestedType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],n=0;n<e.extensionRange.length;++n)r.extensionRange[n]=l.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],n=0;n<e.oneofDecl.length;++n)r.oneofDecl[n]=l.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[n],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=l.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},w.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},w.ExtensionRange=(S.prototype.start=0,S.prototype.end=0,S.prototype.options=null,S.create=function(e){return new S(e)},S.encode=function(e,t){return t=t||a.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto.ExtensionRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;case 3:n.options=l.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},S.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},S.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!s.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null!=e.options&&e.hasOwnProperty("options")&&(e=l.google.protobuf.ExtensionRangeOptions.verify(e.options))?"options."+e:null},S.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new l.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");t.options=l.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},S.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0,r.options=null),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),r},S.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},S),w.ReservedRange=(T.prototype.start=0,T.prototype.end=0,T.create=function(e){return new T(e)},T.encode=function(e,t){return t=t||a.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto.ReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},T.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},T.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!s.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null},T.fromObject=function(e){var t;return e instanceof l.google.protobuf.DescriptorProto.ReservedRange?e:(t=new l.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},T.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},T.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},T),w),r.ExtensionRangeOptions=(A.prototype.uninterpretedOption=s.emptyArray,A.create=function(e){return new A(e)},A.encode=function(e,t){if(t=t||a.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ExtensionRangeOptions;e.pos<r;){var o=e.uint32();o>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return n},A.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},A.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},A.fromObject=function(e){if(e instanceof l.google.protobuf.ExtensionRangeOptions)return e;var t=new l.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},A.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},A.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},A),r.FieldDescriptorProto=(C.prototype.name="",C.prototype.number=0,C.prototype.label=1,C.prototype.type=1,C.prototype.typeName="",C.prototype.extendee="",C.prototype.defaultValue="",C.prototype.oneofIndex=0,C.prototype.jsonName="",C.prototype.options=null,C.prototype.proto3Optional=!1,C.create=function(e){return new C(e)},C.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,"proto3Optional")&&t.uint32(136).bool(e.proto3Optional),t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FieldDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 3:n.number=e.int32();break;case 4:n.label=e.int32();break;case 5:n.type=e.int32();break;case 6:n.typeName=e.string();break;case 2:n.extendee=e.string();break;case 7:n.defaultValue=e.string();break;case 9:n.oneofIndex=e.int32();break;case 10:n.jsonName=e.string();break;case 8:n.options=l.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:n.proto3Optional=e.bool();break;default:e.skipType(7&o)}}return n},C.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},C.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!s.isInteger(e.number))return"number: integer expected";if(null!=e.label&&e.hasOwnProperty("label"))switch(e.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty("typeName")&&!s.isString(e.typeName))return"typeName: string expected";if(null!=e.extendee&&e.hasOwnProperty("extendee")&&!s.isString(e.extendee))return"extendee: string expected";if(null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!s.isString(e.defaultValue))return"defaultValue: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!s.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!s.isString(e.jsonName))return"jsonName: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.FieldOptions.verify(e.options);if(t)return"options."+t}return null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&"boolean"!=typeof e.proto3Optional?"proto3Optional: boolean expected":null},C.fromObject=function(e){if(e instanceof l.google.protobuf.FieldDescriptorProto)return e;var t=new l.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=l.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},C.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName="",r.proto3Optional=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums===String?l.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&(r.proto3Optional=e.proto3Optional),r},C.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},C.Type=(n={},(t=Object.create(n))[n[1]="TYPE_DOUBLE"]=1,t[n[2]="TYPE_FLOAT"]=2,t[n[3]="TYPE_INT64"]=3,t[n[4]="TYPE_UINT64"]=4,t[n[5]="TYPE_INT32"]=5,t[n[6]="TYPE_FIXED64"]=6,t[n[7]="TYPE_FIXED32"]=7,t[n[8]="TYPE_BOOL"]=8,t[n[9]="TYPE_STRING"]=9,t[n[10]="TYPE_GROUP"]=10,t[n[11]="TYPE_MESSAGE"]=11,t[n[12]="TYPE_BYTES"]=12,t[n[13]="TYPE_UINT32"]=13,t[n[14]="TYPE_ENUM"]=14,t[n[15]="TYPE_SFIXED32"]=15,t[n[16]="TYPE_SFIXED64"]=16,t[n[17]="TYPE_SINT32"]=17,t[n[18]="TYPE_SINT64"]=18,t),C.Label=(n={},(t=Object.create(n))[n[1]="LABEL_OPTIONAL"]=1,t[n[2]="LABEL_REQUIRED"]=2,t[n[3]="LABEL_REPEATED"]=3,t),C),r.OneofDescriptorProto=(I.prototype.name="",I.prototype.options=null,I.create=function(e){return new I(e)},I.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.OneofDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.options=l.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},I.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},I.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.options&&e.hasOwnProperty("options")&&(e=l.google.protobuf.OneofOptions.verify(e.options))?"options."+e:null},I.fromObject=function(e){if(e instanceof l.google.protobuf.OneofDescriptorProto)return e;var t=new l.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=l.google.protobuf.OneofOptions.fromObject(e.options)}return t},I.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.OneofOptions.toObject(e.options,t)),r},I.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},I),r.EnumDescriptorProto=(N.prototype.name="",N.prototype.value=s.emptyArray,N.prototype.options=null,N.prototype.reservedRange=s.emptyArray,N.prototype.reservedName=s.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var r=0;r<e.value.length;++r)l.google.protobuf.EnumValueDescriptorProto.encode(e.value[r],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)l.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[r],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(42).string(e.reservedName[r]);return t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(l.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=l.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(l.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},N.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},N.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t)if(r=l.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return"value."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.EnumOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";var r;for(t=0;t<e.reservedRange.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!s.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},N.fromObject=function(e){if(e instanceof l.google.protobuf.EnumDescriptorProto)return e;var t=new l.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=l.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=l.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");t.reservedRange[r]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},N.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.value=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var n=0;n<e.value.length;++n)r.value[n]=l.google.protobuf.EnumValueDescriptorProto.toObject(e.value[n],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N.EnumReservedRange=(P.prototype.start=0,P.prototype.end=0,P.create=function(e){return new P(e)},P.encode=function(e,t){return t=t||a.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},P.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},P.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!s.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null},P.fromObject=function(e){var t;return e instanceof l.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},P.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},P.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},P),N),r.EnumValueDescriptorProto=(R.prototype.name="",R.prototype.number=0,R.prototype.options=null,R.create=function(e){return new R(e)},R.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumValueDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.number=e.int32();break;case 3:n.options=l.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},R.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},R.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.number&&e.hasOwnProperty("number")&&!s.isInteger(e.number)?"number: integer expected":null!=e.options&&e.hasOwnProperty("options")&&(e=l.google.protobuf.EnumValueOptions.verify(e.options))?"options."+e:null},R.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueDescriptorProto)return e;var t=new l.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=l.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},R.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},R.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},R),r.ServiceDescriptorProto=(D.prototype.name="",D.prototype.method=s.emptyArray,D.prototype.options=null,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var r=0;r<e.method.length;++r)l.google.protobuf.MethodDescriptorProto.encode(e.method[r],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ServiceDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(l.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=l.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},D.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},D.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.method&&e.hasOwnProperty("method")){if(!Array.isArray(e.method))return"method: array expected";for(var t=0;t<e.method.length;++t)if(r=l.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return"method."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.ServiceOptions.verify(e.options))?"options."+r:null},D.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceDescriptorProto)return e;var t=new l.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=l.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=l.google.protobuf.ServiceOptions.fromObject(e.options)}return t},D.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var n=0;n<e.method.length;++n)r.method[n]=l.google.protobuf.MethodDescriptorProto.toObject(e.method[n],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.ServiceOptions.toObject(e.options,t)),r},D.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},D),r.MethodDescriptorProto=(k.prototype.name="",k.prototype.inputType="",k.prototype.outputType="",k.prototype.options=null,k.prototype.clientStreaming=!1,k.prototype.serverStreaming=!1,k.create=function(e){return new k(e)},k.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MethodDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.inputType=e.string();break;case 3:n.outputType=e.string();break;case 4:n.options=l.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:n.clientStreaming=e.bool();break;case 6:n.serverStreaming=e.bool();break;default:e.skipType(7&o)}}return n},k.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},k.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.inputType&&e.hasOwnProperty("inputType")&&!s.isString(e.inputType))return"inputType: string expected";if(null!=e.outputType&&e.hasOwnProperty("outputType")&&!s.isString(e.outputType))return"outputType: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.MethodOptions.verify(e.options);if(t)return"options."+t}return null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&"boolean"!=typeof e.clientStreaming?"clientStreaming: boolean expected":null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&"boolean"!=typeof e.serverStreaming?"serverStreaming: boolean expected":null},k.fromObject=function(e){if(e instanceof l.google.protobuf.MethodDescriptorProto)return e;var t=new l.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=l.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},k.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k),r.FileOptions=(x.prototype.javaPackage="",x.prototype.javaOuterClassname="",x.prototype.javaMultipleFiles=!1,x.prototype.javaGenerateEqualsAndHash=!1,x.prototype.javaStringCheckUtf8=!1,x.prototype.optimizeFor=1,x.prototype.goPackage="",x.prototype.ccGenericServices=!1,x.prototype.javaGenericServices=!1,x.prototype.pyGenericServices=!1,x.prototype.phpGenericServices=!1,x.prototype.deprecated=!1,x.prototype.ccEnableArenas=!0,x.prototype.objcClassPrefix="",x.prototype.csharpNamespace="",x.prototype.swiftPrefix="",x.prototype.phpClassPrefix="",x.prototype.phpNamespace="",x.prototype.phpMetadataNamespace="",x.prototype.rubyPackage="",x.prototype.uninterpretedOption=s.emptyArray,x.create=function(e){return new x(e)},x.encode=function(e,t){if(t=t||a.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,"swiftPrefix")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,"phpClassPrefix")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,"phpNamespace")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,"phpGenericServices")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,"phpMetadataNamespace")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,"rubyPackage")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.javaPackage=e.string();break;case 8:n.javaOuterClassname=e.string();break;case 10:n.javaMultipleFiles=e.bool();break;case 20:n.javaGenerateEqualsAndHash=e.bool();break;case 27:n.javaStringCheckUtf8=e.bool();break;case 9:n.optimizeFor=e.int32();break;case 11:n.goPackage=e.string();break;case 16:n.ccGenericServices=e.bool();break;case 17:n.javaGenericServices=e.bool();break;case 18:n.pyGenericServices=e.bool();break;case 42:n.phpGenericServices=e.bool();break;case 23:n.deprecated=e.bool();break;case 31:n.ccEnableArenas=e.bool();break;case 36:n.objcClassPrefix=e.string();break;case 37:n.csharpNamespace=e.string();break;case 39:n.swiftPrefix=e.string();break;case 40:n.phpClassPrefix=e.string();break;case 41:n.phpNamespace=e.string();break;case 44:n.phpMetadataNamespace=e.string();break;case 45:n.rubyPackage=e.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},x.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},x.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&!s.isString(e.javaPackage))return"javaPackage: string expected";if(null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&!s.isString(e.javaOuterClassname))return"javaOuterClassname: string expected";if(null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&"boolean"!=typeof e.javaMultipleFiles)return"javaMultipleFiles: boolean expected";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&"boolean"!=typeof e.javaGenerateEqualsAndHash)return"javaGenerateEqualsAndHash: boolean expected";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&"boolean"!=typeof e.javaStringCheckUtf8)return"javaStringCheckUtf8: boolean expected";if(null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor"))switch(e.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty("goPackage")&&!s.isString(e.goPackage))return"goPackage: string expected";if(null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&"boolean"!=typeof e.ccGenericServices)return"ccGenericServices: boolean expected";if(null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&"boolean"!=typeof e.javaGenericServices)return"javaGenericServices: boolean expected";if(null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&"boolean"!=typeof e.pyGenericServices)return"pyGenericServices: boolean expected";if(null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&"boolean"!=typeof e.phpGenericServices)return"phpGenericServices: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&"boolean"!=typeof e.ccEnableArenas)return"ccEnableArenas: boolean expected";if(null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&!s.isString(e.objcClassPrefix))return"objcClassPrefix: string expected";if(null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&!s.isString(e.csharpNamespace))return"csharpNamespace: string expected";if(null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&!s.isString(e.swiftPrefix))return"swiftPrefix: string expected";if(null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&!s.isString(e.phpClassPrefix))return"phpClassPrefix: string expected";if(null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&!s.isString(e.phpNamespace))return"phpNamespace: string expected";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&!s.isString(e.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&!s.isString(e.rubyPackage))return"rubyPackage: string expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},x.fromObject=function(e){if(e instanceof l.google.protobuf.FileOptions)return e;var t=new l.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},x.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!0,r.objcClassPrefix="",r.csharpNamespace="",r.swiftPrefix="",r.phpClassPrefix="",r.phpNamespace="",r.phpGenericServices=!1,r.phpMetadataNamespace="",r.rubyPackage=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums===String?l.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&(r.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&(r.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&(r.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&(r.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&(r.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&(r.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x.OptimizeMode=(n={},(t=Object.create(n))[n[1]="SPEED"]=1,t[n[2]="CODE_SIZE"]=2,t[n[3]="LITE_RUNTIME"]=3,t),x),r.MessageOptions=(j.prototype.messageSetWireFormat=!1,j.prototype.noStandardDescriptorAccessor=!1,j.prototype.deprecated=!1,j.prototype.mapEntry=!1,j.prototype.uninterpretedOption=s.emptyArray,j.create=function(e){return new j(e)},j.encode=function(e,t){if(t=t||a.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MessageOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageSetWireFormat=e.bool();break;case 2:n.noStandardDescriptorAccessor=e.bool();break;case 3:n.deprecated=e.bool();break;case 7:n.mapEntry=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},j.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},j.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&"boolean"!=typeof e.messageSetWireFormat)return"messageSetWireFormat: boolean expected";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&"boolean"!=typeof e.noStandardDescriptorAccessor)return"noStandardDescriptorAccessor: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&"boolean"!=typeof e.mapEntry)return"mapEntry: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},j.fromObject=function(e){if(e instanceof l.google.protobuf.MessageOptions)return e;var t=new l.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},j.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j),r.FieldOptions=(L.prototype.ctype=0,L.prototype.packed=!1,L.prototype.jstype=0,L.prototype.lazy=!1,L.prototype.deprecated=!1,L.prototype.weak=!1,L.prototype.uninterpretedOption=s.emptyArray,L.create=function(e){return new L(e)},L.encode=function(e,t){if(t=t||a.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FieldOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.ctype=e.int32();break;case 2:n.packed=e.bool();break;case 6:n.jstype=e.int32();break;case 5:n.lazy=e.bool();break;case 3:n.deprecated=e.bool();break;case 10:n.weak=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},L.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},L.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.jstype&&e.hasOwnProperty("jstype"))switch(e.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty("lazy")&&"boolean"!=typeof e.lazy)return"lazy: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.weak&&e.hasOwnProperty("weak")&&"boolean"!=typeof e.weak)return"weak: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},L.fromObject=function(e){if(e instanceof l.google.protobuf.FieldOptions)return e;var t=new l.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},L.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums===String?l.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums===String?l.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L.CType=(n={},(t=Object.create(n))[n[0]="STRING"]=0,t[n[1]="CORD"]=1,t[n[2]="STRING_PIECE"]=2,t),L.JSType=(n={},(t=Object.create(n))[n[0]="JS_NORMAL"]=0,t[n[1]="JS_STRING"]=1,t[n[2]="JS_NUMBER"]=2,t),L),r.OneofOptions=(F.prototype.uninterpretedOption=s.emptyArray,F.create=function(e){return new F(e)},F.encode=function(e,t){if(t=t||a.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},F.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},F.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.OneofOptions;e.pos<r;){var o=e.uint32();o>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return n},F.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},F.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},F.fromObject=function(e){if(e instanceof l.google.protobuf.OneofOptions)return e;var t=new l.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},F.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F),r.EnumOptions=(M.prototype.allowAlias=!1,M.prototype.deprecated=!1,M.prototype.uninterpretedOption=s.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||a.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.allowAlias=e.bool();break;case 3:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},M.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},M.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&"boolean"!=typeof e.allowAlias)return"allowAlias: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},M.fromObject=function(e){if(e instanceof l.google.protobuf.EnumOptions)return e;var t=new l.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},M.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M),r.EnumValueOptions=(U.prototype.deprecated=!1,U.prototype.uninterpretedOption=s.emptyArray,U.create=function(e){return new U(e)},U.encode=function(e,t){if(t=t||a.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumValueOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},U.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},U.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},U.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueOptions)return e;var t=new l.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},U.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U),r.ServiceOptions=(B.prototype.deprecated=!1,B.prototype.uninterpretedOption=s.emptyArray,B.prototype[".google.api.defaultHost"]="",B.prototype[".google.api.oauthScopes"]="",B.create=function(e){return new B(e)},B.encode=function(e,t){if(t=t||a.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.defaultHost"]&&Object.hasOwnProperty.call(e,".google.api.defaultHost")&&t.uint32(8394).string(e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&Object.hasOwnProperty.call(e,".google.api.oauthScopes")&&t.uint32(8402).string(e[".google.api.oauthScopes"]),t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ServiceOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.api.defaultHost"]=e.string();break;case 1050:n[".google.api.oauthScopes"]=e.string();break;default:e.skipType(7&o)}}return n},B.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},B.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&!s.isString(e[".google.api.defaultHost"])?".google.api.defaultHost: string expected":null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&!s.isString(e[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},B.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceOptions)return e;var t=new l.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},B.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),r},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B),r.MethodOptions=(V.prototype.deprecated=!1,V.prototype.idempotencyLevel=0,V.prototype.uninterpretedOption=s.emptyArray,V.prototype[".google.longrunning.operationInfo"]=null,V.prototype[".google.api.http"]=null,V.prototype[".google.api.methodSignature"]=s.emptyArray,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||a.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,"idempotencyLevel")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.longrunning.operationInfo"]&&Object.hasOwnProperty.call(e,".google.longrunning.operationInfo")&&l.google.longrunning.OperationInfo.encode(e[".google.longrunning.operationInfo"],t.uint32(8394).fork()).ldelim(),null!=e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r=0;r<e[".google.api.methodSignature"].length;++r)t.uint32(8410).string(e[".google.api.methodSignature"][r]);return null!=e[".google.api.http"]&&Object.hasOwnProperty.call(e,".google.api.http")&&l.google.api.HttpRule.encode(e[".google.api.http"],t.uint32(578365826).fork()).ldelim(),t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MethodOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 34:n.idempotencyLevel=e.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.longrunning.operationInfo"]=l.google.longrunning.OperationInfo.decode(e,e.uint32());break;case 72295728:n[".google.api.http"]=l.google.api.HttpRule.decode(e,e.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(e.string());break;default:e.skipType(7&o)}}return n},V.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},V.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel"))switch(e.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(r=l.google.longrunning.OperationInfo.verify(e[".google.longrunning.operationInfo"])))return".google.longrunning.operationInfo."+r;if(null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r=l.google.api.HttpRule.verify(e[".google.api.http"])))return".google.api.http."+r;if(null!=e[".google.api.methodSignature"]&&e.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(e[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(t=0;t<e[".google.api.methodSignature"].length;++t)if(!s.isString(e[".google.api.methodSignature"][t]))return".google.api.methodSignature: string[] expected"}return null},V.fromObject=function(e){if(e instanceof l.google.protobuf.MethodOptions)return e;var t=new l.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:t.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:t.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.longrunning.operationInfo"]){if("object"!=typeof e[".google.longrunning.operationInfo"])throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");t[".google.longrunning.operationInfo"]=l.google.longrunning.OperationInfo.fromObject(e[".google.longrunning.operationInfo"])}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=l.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}return t},V.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r.idempotencyLevel=t.enums===String?"IDEMPOTENCY_UNKNOWN":0,r[".google.longrunning.operationInfo"]=null,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel")&&(r.idempotencyLevel=t.enums===String?l.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(r[".google.longrunning.operationInfo"]=l.google.longrunning.OperationInfo.toObject(e[".google.longrunning.operationInfo"],t)),e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],n=0;n<e[".google.api.methodSignature"].length;++n)r[".google.api.methodSignature"][n]=e[".google.api.methodSignature"][n];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=l.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},V.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},V.IdempotencyLevel=(n={},(t=Object.create(n))[n[0]="IDEMPOTENCY_UNKNOWN"]=0,t[n[1]="NO_SIDE_EFFECTS"]=1,t[n[2]="IDEMPOTENT"]=2,t),V),r.UninterpretedOption=(q.prototype.name=s.emptyArray,q.prototype.identifierValue="",q.prototype.positiveIntValue=s.Long?s.Long.fromBits(0,0,!0):0,q.prototype.negativeIntValue=s.Long?s.Long.fromBits(0,0,!1):0,q.prototype.doubleValue=0,q.prototype.stringValue=s.newBuffer([]),q.prototype.aggregateValue="",q.create=function(e){return new q(e)},q.encode=function(e,t){if(t=t||a.create(),null!=e.name&&e.name.length)for(var r=0;r<e.name.length;++r)l.google.protobuf.UninterpretedOption.NamePart.encode(e.name[r],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.UninterpretedOption;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(l.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:n.identifierValue=e.string();break;case 4:n.positiveIntValue=e.uint64();break;case 5:n.negativeIntValue=e.int64();break;case 6:n.doubleValue=e.double();break;case 7:n.stringValue=e.bytes();break;case 8:n.aggregateValue=e.string();break;default:e.skipType(7&o)}}return n},q.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},q.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")){if(!Array.isArray(e.name))return"name: array expected";for(var t=0;t<e.name.length;++t){var r=l.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(r)return"name."+r}}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&!s.isString(e.identifierValue)?"identifierValue: string expected":null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&!(s.isInteger(e.positiveIntValue)||e.positiveIntValue&&s.isInteger(e.positiveIntValue.low)&&s.isInteger(e.positiveIntValue.high))?"positiveIntValue: integer|Long expected":null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&!(s.isInteger(e.negativeIntValue)||e.negativeIntValue&&s.isInteger(e.negativeIntValue.low)&&s.isInteger(e.negativeIntValue.high))?"negativeIntValue: integer|Long expected":null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&"number"!=typeof e.doubleValue?"doubleValue: number expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!(e.stringValue&&"number"==typeof e.stringValue.length||s.isString(e.stringValue))?"stringValue: buffer expected":null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&!s.isString(e.aggregateValue)?"aggregateValue: string expected":null},q.fromObject=function(e){if(e instanceof l.google.protobuf.UninterpretedOption)return e;var t=new l.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var r=0;r<e.name.length;++r){if("object"!=typeof e.name[r])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[r]=l.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[r])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(s.Long?(t.positiveIntValue=s.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new s.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(s.Long?(t.negativeIntValue=s.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new s.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?s.base64.decode(e.stringValue,t.stringValue=s.newBuffer(s.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},q.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.name=[]),t.defaults&&(n.identifierValue="",s.Long?(r=new s.Long(0,0,!0),n.positiveIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.positiveIntValue=t.longs===String?"0":0,s.Long?(r=new s.Long(0,0,!1),n.negativeIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.negativeIntValue=t.longs===String?"0":0,n.doubleValue=0,t.bytes===String?n.stringValue="":(n.stringValue=[],t.bytes!==Array&&(n.stringValue=s.newBuffer(n.stringValue))),n.aggregateValue=""),e.name&&e.name.length){n.name=[];for(var o=0;o<e.name.length;++o)n.name[o]=l.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[o],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(n.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?n.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:n.positiveIntValue=t.longs===String?s.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new s.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?n.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:n.negativeIntValue=t.longs===String?s.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new s.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(n.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=t.bytes===String?s.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(n.aggregateValue=e.aggregateValue),n},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q.NamePart=(G.prototype.namePart="",G.prototype.isExtension=!1,G.create=function(e){return new G(e)},G.encode=function(e,t){return(t=t||a.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.UninterpretedOption.NamePart;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.namePart=e.string();break;case 2:n.isExtension=e.bool();break;default:e.skipType(7&o)}}if(!n.hasOwnProperty("namePart"))throw s.ProtocolError("missing required 'namePart'",{instance:n});if(n.hasOwnProperty("isExtension"))return n;throw s.ProtocolError("missing required 'isExtension'",{instance:n})},G.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},G.verify=function(e){return"object"!=typeof e||null===e?"object expected":s.isString(e.namePart)?"boolean"!=typeof e.isExtension?"isExtension: boolean expected":null:"namePart: string expected"},G.fromObject=function(e){var t;return e instanceof l.google.protobuf.UninterpretedOption.NamePart?e:(t=new l.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},G.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G),q),r.SourceCodeInfo=(H.prototype.location=s.emptyArray,H.create=function(e){return new H(e)},H.encode=function(e,t){if(t=t||a.create(),null!=e.location&&e.location.length)for(var r=0;r<e.location.length;++r)l.google.protobuf.SourceCodeInfo.Location.encode(e.location[r],t.uint32(10).fork()).ldelim();return t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.SourceCodeInfo;e.pos<r;){var o=e.uint32();o>>>3==1?(n.location&&n.location.length||(n.location=[]),n.location.push(l.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&o)}return n},H.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},H.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.location&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(var t=0;t<e.location.length;++t){var r=l.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(r)return"location."+r}}return null},H.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo)return e;var t=new l.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=l.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},H.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var n=0;n<e.location.length;++n)r.location[n]=l.google.protobuf.SourceCodeInfo.Location.toObject(e.location[n],t)}return r},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H.Location=(z.prototype.path=s.emptyArray,z.prototype.span=s.emptyArray,z.prototype.leadingComments="",z.prototype.trailingComments="",z.prototype.leadingDetachedComments=s.emptyArray,z.create=function(e){return new z(e)},z.encode=function(e,t){if(t=t||a.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}if(null!=e.span&&e.span.length){for(t.uint32(18).fork(),r=0;r<e.span.length;++r)t.int32(e.span[r]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r=0;r<e.leadingDetachedComments.length;++r)t.uint32(50).string(e.leadingDetachedComments[r]);return t},z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},z.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.SourceCodeInfo.Location;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),2==(7&o))for(a=e.uint32()+e.pos;e.pos<a;)n.span.push(e.int32());else n.span.push(e.int32());break;case 3:n.leadingComments=e.string();break;case 4:n.trailingComments=e.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(e.string());break;default:e.skipType(7&o)}}return n},z.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},z.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!s.isInteger(e.path[t]))return"path: integer[] expected"}if(null!=e.span&&e.hasOwnProperty("span")){if(!Array.isArray(e.span))return"span: array expected";for(t=0;t<e.span.length;++t)if(!s.isInteger(e.span[t]))return"span: integer[] expected"}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&!s.isString(e.leadingComments))return"leadingComments: string expected";if(null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&!s.isString(e.trailingComments))return"trailingComments: string expected";if(null!=e.leadingDetachedComments&&e.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(e.leadingDetachedComments))return"leadingDetachedComments: array expected";for(t=0;t<e.leadingDetachedComments.length;++t)if(!s.isString(e.leadingDetachedComments[t]))return"leadingDetachedComments: string[] expected"}return null},z.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo.Location)return e;var t=new l.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},z.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z),H),r.GeneratedCodeInfo=(W.prototype.annotation=s.emptyArray,W.create=function(e){return new W(e)},W.encode=function(e,t){if(t=t||a.create(),null!=e.annotation&&e.annotation.length)for(var r=0;r<e.annotation.length;++r)l.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[r],t.uint32(10).fork()).ldelim();return t},W.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},W.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.GeneratedCodeInfo;e.pos<r;){var o=e.uint32();o>>>3==1?(n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(l.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&o)}return n},W.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},W.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.annotation&&e.hasOwnProperty("annotation")){if(!Array.isArray(e.annotation))return"annotation: array expected";for(var t=0;t<e.annotation.length;++t){var r=l.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(r)return"annotation."+r}}return null},W.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo)return e;var t=new l.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=l.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},W.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var n=0;n<e.annotation.length;++n)r.annotation[n]=l.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[n],t)}return r},W.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},W.Annotation=(J.prototype.path=s.emptyArray,J.prototype.sourceFile="",J.prototype.begin=0,J.prototype.end=0,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||a.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:n.sourceFile=e.string();break;case 3:n.begin=e.int32();break;case 4:n.end=e.int32();break;default:e.skipType(7&o)}}return n},J.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},J.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!s.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&!s.isString(e.sourceFile)?"sourceFile: string expected":null!=e.begin&&e.hasOwnProperty("begin")&&!s.isInteger(e.begin)?"begin: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null},J.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new l.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},J.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},J.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},J),W),r.Any=(K.prototype.type_url="",K.prototype.value=s.newBuffer([]),K.create=function(e){return new K(e)},K.encode=function(e,t){return t=t||a.create(),null!=e.type_url&&Object.hasOwnProperty.call(e,"type_url")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),t},K.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},K.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.Any;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type_url=e.string();break;case 2:n.value=e.bytes();break;default:e.skipType(7&o)}}return n},K.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},K.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type_url&&e.hasOwnProperty("type_url")&&!s.isString(e.type_url)?"type_url: string expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||s.isString(e.value))?"value: buffer expected":null},K.fromObject=function(e){var t;return e instanceof l.google.protobuf.Any?e:(t=new l.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&("string"==typeof e.value?s.base64.decode(e.value,t.value=s.newBuffer(s.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t)},K.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.type_url="",t.bytes===String?r.value="":(r.value=[],t.bytes!==Array&&(r.value=s.newBuffer(r.value)))),null!=e.type_url&&e.hasOwnProperty("type_url")&&(r.type_url=e.type_url),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.bytes===String?s.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),r},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K),r.Duration=(Y.prototype.seconds=s.Long?s.Long.fromBits(0,0,!1):0,Y.prototype.nanos=0,Y.create=function(e){return new Y(e)},Y.encode=function(e,t){return t=t||a.create(),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(16).int32(e.nanos),t},Y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Y.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.Duration;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.seconds=e.int64();break;case 2:n.nanos=e.int32();break;default:e.skipType(7&o)}}return n},Y.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},Y.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!(s.isInteger(e.seconds)||e.seconds&&s.isInteger(e.seconds.low)&&s.isInteger(e.seconds.high))?"seconds: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!s.isInteger(e.nanos)?"nanos: integer expected":null},Y.fromObject=function(e){var t;return e instanceof l.google.protobuf.Duration?e:(t=new l.google.protobuf.Duration,null!=e.seconds&&(s.Long?(t.seconds=s.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new s.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t)},Y.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(s.Long?(r=new s.Long(0,0,!1),n.seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.seconds=t.longs===String?"0":0,n.nanos=0),null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?s.Long.prototype.toString.call(e.seconds):t.longs===Number?new s.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y),r.Empty=($.create=function(e){return new $(e)},$.encode=function(e,t){return t||a.create()},$.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},$.decode=function(e,t){e instanceof i||(e=i.create(e));var r=void 0===t?e.len:e.pos+t;for(t=new l.google.protobuf.Empty;e.pos<r;){var n=e.uint32();e.skipType(7&n)}return t},$.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},$.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},$.fromObject=function(e){return e instanceof l.google.protobuf.Empty?e:new l.google.protobuf.Empty},$.toObject=function(){return{}},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$),r),o.rpc=((n={}).Status=(Q.prototype.code=0,Q.prototype.message="",Q.prototype.details=s.emptyArray,Q.create=function(e){return new Q(e)},Q.encode=function(e,t){if(t=t||a.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.details&&e.details.length)for(var r=0;r<e.details.length;++r)l.google.protobuf.Any.encode(e.details[r],t.uint32(26).fork()).ldelim();return t},Q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Q.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.rpc.Status;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.code=e.int32();break;case 2:n.message=e.string();break;case 3:n.details&&n.details.length||(n.details=[]),n.details.push(l.google.protobuf.Any.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},Q.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},Q.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!s.isInteger(e.code))return"code: integer expected";if(null!=e.message&&e.hasOwnProperty("message")&&!s.isString(e.message))return"message: string expected";if(null!=e.details&&e.hasOwnProperty("details")){if(!Array.isArray(e.details))return"details: array expected";for(var t=0;t<e.details.length;++t){var r=l.google.protobuf.Any.verify(e.details[t]);if(r)return"details."+r}}return null},Q.fromObject=function(e){if(e instanceof l.google.rpc.Status)return e;var t=new l.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(".google.rpc.Status.details: array expected");t.details=[];for(var r=0;r<e.details.length;++r){if("object"!=typeof e.details[r])throw TypeError(".google.rpc.Status.details: object expected");t.details[r]=l.google.protobuf.Any.fromObject(e.details[r])}}return t},Q.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.details=[]),t.defaults&&(r.code=0,r.message=""),null!=e.code&&e.hasOwnProperty("code")&&(r.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),e.details&&e.details.length){r.details=[];for(var n=0;n<e.details.length;++n)r.details[n]=l.google.protobuf.Any.toObject(e.details[n],t)}return r},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q),n),o),l})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";
/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.timestampFromJson=i,t.detectValueType=a,t.detectGoogleProtobufValueType=function(e){const t=[];void 0!==e.nullValue&&t.push("nullValue");void 0!==e.numberValue&&t.push("numberValue");void 0!==e.stringValue&&t.push("stringValue");void 0!==e.boolValue&&t.push("boolValue");void 0!==e.structValue&&t.push("structValue");void 0!==e.listValue&&t.push("listValue");if(1!==t.length)throw new Error(`Unable to infer type value from '${JSON.stringify(e)}'.`);return t[0]},t.valueFromJson=s,t.fieldsFromJson=function(e){const t={};for(const r of Object.keys(e))t[r]=s(e[r]);return t};const n=r(14),o=r(398);
/*!
 * @module firestore/convert
 * @private
 * @internal
 *
 * This module contains utility functions to convert
 * `firestore.v1.Documents` from Proto3 JSON to their equivalent
 * representation in Protobuf JS. Protobuf JS is the only encoding supported by
 * this client, and dependencies that use Proto3 JSON (such as the Google Cloud
 * Functions SDK) are supported through this conversion and its usage in
 * {@see Firestore#snapshot_}.
 */
function i(e,t){let r={};if("string"==typeof e){const n=new Date(e),o=Math.floor(n.getTime()/1e3);let i=0;if(e.length>20){const t=e.substring(20,e.length-1),r=9-t.length;i=Number(t)*Math.pow(10,r)}if(isNaN(o)||isNaN(i))throw t=t||"timestampValue",new Error(`Specify a valid ISO 8601 timestamp for "${t}".`);r={seconds:o||void 0,nanos:i||void 0}}else void 0!==e&&((0,n.validateObject)("timestampValue",e),r={seconds:e.seconds||void 0,nanos:e.nanos||void 0});return r}function a(e){var t;let r;if(e.valueType)r=e.valueType;else{const t=[];if(void 0!==e.stringValue&&t.push("stringValue"),void 0!==e.booleanValue&&t.push("booleanValue"),void 0!==e.integerValue&&t.push("integerValue"),void 0!==e.doubleValue&&t.push("doubleValue"),void 0!==e.timestampValue&&t.push("timestampValue"),void 0!==e.referenceValue&&t.push("referenceValue"),void 0!==e.arrayValue&&t.push("arrayValue"),void 0!==e.nullValue&&t.push("nullValue"),void 0!==e.mapValue&&t.push("mapValue"),void 0!==e.geoPointValue&&t.push("geoPointValue"),void 0!==e.bytesValue&&t.push("bytesValue"),1!==t.length)throw new Error(`Unable to infer type value from '${JSON.stringify(e)}'.`);r=t[0]}if("mapValue"===r){const n=null===(t=e.mapValue)||void 0===t?void 0:t.fields;if(n){-1!==Object.keys(n).indexOf(o.RESERVED_MAP_KEY)&&"stringValue"===a(n[o.RESERVED_MAP_KEY])&&n[o.RESERVED_MAP_KEY].stringValue===o.RESERVED_MAP_KEY_VECTOR_VALUE&&(r="vectorValue")}}return r}function s(e){switch(a(e)){case"timestampValue":return{timestampValue:i(e.timestampValue)};case"bytesValue":return{bytesValue:(t=e.bytesValue,"string"==typeof t?Buffer.from(t,"base64"):t)};case"doubleValue":return{doubleValue:Number(e.doubleValue)};case"arrayValue":{const t=[];if(Array.isArray(e.arrayValue.values))for(const r of e.arrayValue.values)t.push(s(r));return{arrayValue:{values:t}}}case"mapValue":case"vectorValue":{const t={},r=e.mapValue.fields;if(r)for(const n of Object.keys(r))t[n]=s(e.mapValue.fields[n]);return{mapValue:{fields:t}}}default:return e}var t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;const n=r(15),o=r(13),i=r(150),a=r(80),s=r(116),l=r(79),p=r(157),c=r(42);class u extends s.Query{constructor(e,t,r){super(e,p.QueryOptions.forCollectionQuery(t,r))}get _resourcePath(){return this._queryOptions.parentPath.append(this._queryOptions.collectionId)}get id(){return this._queryOptions.collectionId}get parent(){return this._queryOptions.parentPath.isDocument?new l.DocumentReference(this.firestore,this._queryOptions.parentPath):null}get path(){return this._resourcePath.relativeName}listDocuments(){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_COL_REF_LIST_DOCUMENTS,()=>{const e=(0,o.requestTag)();return this.firestore.initializeIfNeeded(e).then(()=>{const t={parent:this._queryOptions.parentPath.toQualifiedResourcePath(this.firestore.projectId,this.firestore.databaseId).formattedName,collectionId:this.id,showMissing:!0,pageSize:Math.pow(2,16)-1,mask:{fieldPaths:[]}};return this.firestore.request("listDocuments",t,e).then(e=>e.map(e=>{const t=n.QualifiedResourcePath.fromSlashSeparatedString(e.name);return this.doc(t.id)}))})})}doc(e){0===arguments.length?e=(0,o.autoId)():(0,n.validateResourcePath)("documentPath",e);const t=this._resourcePath.append(e);if(!t.isDocument)throw new Error(`Value for argument "documentPath" must point to a document, but was "${e}". Your path does not contain an even number of components.`);return new l.DocumentReference(this.firestore,t,this._queryOptions.converter)}add(e){return this._firestore._traceUtil.startActiveSpan(c.SPAN_NAME_COL_REF_ADD,()=>{const t=this._queryOptions.converter.toFirestore(e);(0,i.validateDocumentData)("data",t,!1,this._allowUndefined);const r=this.doc();return r.create(e).then(()=>r)})}isEqual(e){return this===e||e instanceof u&&super.isEqual(e)}withConverter(e){return new u(this.firestore,this._resourcePath,null!=e?e:(0,a.defaultConverter)())}}t.CollectionReference=u},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentChange=void 0;class n{constructor(e,t,r,n){this._type=e,this._document=t,this._oldIndex=r,this._newIndex=n}get type(){return this._type}get doc(){return this._document}get oldIndex(){return this._oldIndex}get newIndex(){return this._newIndex}isEqual(e){return this===e||e instanceof n&&this._type===e._type&&this._oldIndex===e._oldIndex&&this._newIndex===e._newIndex&&this._document.isEqual(e._document)}}t.DocumentChange=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_MESSAGE=t.comparisonOperators=t.directionOperators=void 0,t.directionOperators={asc:"ASCENDING",desc:"DESCENDING"},t.comparisonOperators={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t.NOOP_MESSAGE=Symbol("a noop message")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySnapshot=void 0;const n=r(14),o=r(13);class i{constructor(e,t,r,n,o){this._query=e,this._readTime=t,this._size=r,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=n,this._changes=o}get query(){return this._query}get docs(){return this._materializedDocs||(this._materializedDocs=this._docs(),this._docs=null),this._materializedDocs}get empty(){return 0===this._size}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges||(this._materializedChanges=this._changes(),this._changes=null),this._materializedChanges}forEach(e,t){(0,n.validateFunction)("callback",e);for(const r of this.docs)e.call(t,r)}isEqual(e){return this===e||e instanceof i&&(this._size===e._size&&(!!this._query.isEqual(e._query)&&(this._materializedDocs&&!this._materializedChanges?(0,o.isArrayEqual)(this.docs,e.docs)&&(0,o.isArrayEqual)(this.docChanges(),e.docChanges()):(0,o.isArrayEqual)(this.docChanges(),e.docChanges())&&(0,o.isArrayEqual)(this.docs,e.docs))))}}t.QuerySnapshot=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.ServerInterceptingCall=t.ResponderBuilder=t.ServerListenerBuilder=t.addAdminServicesToServer=t.getChannelzHandlers=t.getChannelzServiceDefinition=t.InterceptorConfigurationError=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.compressionAlgorithms=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;const n=r(410);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});const o=r(411);Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return o.ChannelImplementation}});const i=r(424);Object.defineProperty(t,"compressionAlgorithms",{enumerable:!0,get:function(){return i.CompressionAlgorithms}});const a=r(43);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return a.ConnectivityState}});const s=r(154);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return s.ChannelCredentials}});const l=r(415);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return l.Client}});const p=r(7);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return p.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return p.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return p.Propagate}});const c=r(10),u=r(414);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return u.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return u.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return u.makeClientConstructor}});const d=r(21);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return d.Metadata}});const h=r(744);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return h.Server}});const f=r(230);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return f.ServerCredentials}});const g=r(746);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return g.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:s.ChannelCredentials.createInsecure,createSsl:s.ChannelCredentials.createSsl,createFromSecureContext:s.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty};t.closeClient=e=>e.close();t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r);t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};t.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};t.setLogger=e=>{c.setLogger(e)};t.setLogVerbosity=e=>{c.setLoggerVerbosity(e)};t.getClientChannel=e=>l.Client.prototype.getChannel.call(e);var m=r(416);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return m.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return m.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return m.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return m.InterceptorConfigurationError}});var y=r(98);Object.defineProperty(t,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return y.getChannelzServiceDefinition}}),Object.defineProperty(t,"getChannelzHandlers",{enumerable:!0,get:function(){return y.getChannelzHandlers}});var v=r(227);Object.defineProperty(t,"addAdminServicesToServer",{enumerable:!0,get:function(){return v.addAdminServicesToServer}});var b=r(426);Object.defineProperty(t,"ServerListenerBuilder",{enumerable:!0,get:function(){return b.ServerListenerBuilder}}),Object.defineProperty(t,"ResponderBuilder",{enumerable:!0,get:function(){return b.ResponderBuilder}}),Object.defineProperty(t,"ServerInterceptingCall",{enumerable:!0,get:function(){return b.ServerInterceptingCall}});const E=r(427);t.experimental=E;const _=r(420),O=r(748),w=r(749),S=r(231),T=r(750),A=r(751),C=r(98);_.setup(),O.setup(),w.setup(),S.setup(),T.setup(),A.setup(),C.setup()},function(e){e.exports=JSON.parse('{"name":"@grpc/grpc-js","version":"1.12.6","description":"gRPC Library for Node - pure JS implementation","homepage":"https://grpc.io/","repository":"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js","main":"build/src/index.js","engines":{"node":">=12.10.0"},"keywords":[],"author":{"name":"Google Inc."},"types":"build/src/index.d.ts","license":"Apache-2.0","devDependencies":{"@grpc/proto-loader":"file:../proto-loader","@types/gulp":"^4.0.17","@types/gulp-mocha":"0.0.37","@types/lodash":"^4.14.202","@types/mocha":"^10.0.6","@types/ncp":"^2.0.8","@types/node":">=20.11.20","@types/pify":"^5.0.4","@types/semver":"^7.5.8","@typescript-eslint/eslint-plugin":"^7.1.0","@typescript-eslint/parser":"^7.1.0","@typescript-eslint/typescript-estree":"^7.1.0","clang-format":"^1.8.0","eslint":"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1","execa":"^2.0.3","gulp":"^4.0.2","gulp-mocha":"^6.0.0","lodash":"^4.17.21","madge":"^5.0.1","mocha-jenkins-reporter":"^0.4.1","ncp":"^2.0.0","pify":"^4.0.1","prettier":"^2.8.8","rimraf":"^3.0.2","semver":"^7.6.0","ts-node":"^10.9.2","typescript":"^5.3.3"},"contributors":[{"name":"Google Inc."}],"scripts":{"build":"npm run compile","clean":"rimraf ./build","compile":"tsc -p .","format":"clang-format -i -style=\\"{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}\\" src/*.ts test/*.ts","lint":"eslint src/*.ts test/*.ts","prepare":"npm run generate-types && npm run compile","test":"gulp test","check":"npm run lint","fix":"eslint --fix src/*.ts test/*.ts","pretest":"npm run generate-types && npm run generate-test-types && npm run compile","posttest":"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},"dependencies":{"@grpc/proto-loader":"^0.7.13","@js-sdsl/ordered-map":"^4.4.2"},"files":["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMessage=function(e){return e instanceof Error?e.message:String(e)},t.getErrorCode=function(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;const n=r(97),o=r(43);t.ChildLoadBalancerHandler=class{constructor(e,t,r){this.channelControlHelper=e,this.credentials=t,this.options=r,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t,r){return this.parent.channelControlHelper.createSubchannel(e,t,r)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===o.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let o;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){const e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e,this.credentials,this.options);e.setChild(r),null===this.currentChild?(this.currentChild=r,o=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,o=this.pendingChild)}else o=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,o.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAdminService=function(e,t){n.push({getServiceDefinition:e,getHandlers:t})},t.addAdminServicesToServer=function(e){for(const{getServiceDefinition:t,getHandlers:r}of n)e.addService(t(),r())};const n=[]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=function(e,t){return o.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}};const n=r(7),o=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;t.BaseSubchannelWrapper=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(e=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(const e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0,t.createCertificateProviderServerCredentials=function(e,t,r){return new s(e,t,r)},t.createServerCredentialsWithInterceptors=function(e,t){return new l(e,t)};const n=r(412);class o{constructor(){this.watchers=new Set,this.latestContextOptions=null}_addWatcher(e){this.watchers.add(e)}_removeWatcher(e){this.watchers.delete(e)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(e){this.latestContextOptions=e;for(const e of this.watchers)e(this.latestContextOptions)}_getSettings(){return this.latestContextOptions}_getInterceptors(){return[]}static createInsecure(){return new i}static createSsl(e,t,r=!1){var o;if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw new TypeError("checkClientCertificate must be a boolean");const i=[],s=[];for(let e=0;e<t.length;e++){const r=t[e];if(null===r||"object"!=typeof r)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(r.cert_chain),s.push(r.private_key)}return new a({ca:null!==(o=null!=e?e:(0,n.getDefaultRootsData)())&&void 0!==o?o:void 0,cert:i,key:s,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=o;class i extends o{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof i}}class a extends o{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof a))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let t=0;t<this.options.cert.length;t++){const r=this.options.cert[t],n=e.options.cert[t];if(Buffer.isBuffer(r)&&Buffer.isBuffer(n)){if(!r.equals(n))return!1}else if(r!==n)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let t=0;t<this.options.key.length;t++){const r=this.options.key[t],n=e.options.key[t];if(Buffer.isBuffer(r)&&Buffer.isBuffer(n)){if(!r.equals(n))return!1}else if(r!==n)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}class s extends o{constructor(e,t,r){super(),this.identityCertificateProvider=e,this.caCertificateProvider=t,this.requireClientCertificate=r,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(e){var t;0===this.getWatcherCount()&&(null===(t=this.caCertificateProvider)||void 0===t||t.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(e)}_removeWatcher(e){var t;super._removeWatcher(e),0===this.getWatcherCount()&&(null===(t=this.caCertificateProvider)||void 0===t||t.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_isSecure(){return!0}_equals(e){return this===e||e instanceof s&&(this.caCertificateProvider===e.caCertificateProvider&&this.identityCertificateProvider===e.identityCertificateProvider&&this.requireClientCertificate===e.requireClientCertificate)}calculateSecureContextOptions(){var e;return null===this.latestIdentityUpdate||null!==this.caCertificateProvider&&null===this.latestCaUpdate?null:{ca:null===(e=this.latestCaUpdate)||void 0===e?void 0:e.caCertificate,cert:this.latestIdentityUpdate.certificate,key:this.latestIdentityUpdate.privateKey,requestCert:null!==this.latestIdentityUpdate,rejectUnauthorized:this.requireClientCertificate}}finalizeUpdate(){this.updateSecureContextOptions(this.calculateSecureContextOptions())}handleCaCertificateUpdate(e){this.latestCaUpdate=e,this.finalizeUpdate()}handleIdentityCertitificateUpdate(e){this.latestIdentityUpdate=e,this.finalizeUpdate()}}class l extends o{constructor(e,t){super(),this.childCredentials=e,this.interceptors=t}_isSecure(){return this.childCredentials._isSecure()}_equals(e){if(!(e instanceof l))return!1;if(!this.childCredentials._equals(e.childCredentials))return!1;if(this.interceptors.length!==e.interceptors.length)return!1;for(let t=0;t<this.interceptors.length;t++)if(this.interceptors[t]!==e.interceptors[t])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(e){this.childCredentials._addWatcher(e)}_removeWatcher(e){this.childCredentials._removeWatcher(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeafLoadBalancer=t.PickFirstLoadBalancer=t.PickFirstLoadBalancingConfig=void 0,t.shuffled=f,t.setup=function(){(0,n.registerLoadBalancerType)("pick_first",g,d),(0,n.registerDefaultLoadBalancerType)("pick_first")};const n=r(97),o=r(43),i=r(82),a=r(44),s=r(10),l=r(7),p=r(44),c=r(31);function u(e){s.trace(l.LogVerbosity.DEBUG,"pick_first",e)}class d{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return"pick_first"}toJsonObject(){return{pick_first:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new d(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=d;class h{constructor(e){this.subchannel=e}pick(e){return{pickResultType:i.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function f(e){const t=e.slice();for(let e=t.length-1;e>1;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}class g{constructor(e,t,r){this.channelControlHelper=e,this.children=[],this.currentState=o.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,o)=>{this.onSubchannelStateUpdate(e,t,r,o)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=r["grpc-node.internal.pick-first.report_health_status"]}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(e=>e.hasReportedTransientFailure=!1)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(o.ConnectivityState.READY,new h(this.currentPick)):0===this.children.length?this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker({details:"No connection established. Last error: "+this.lastError})):this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this))}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF())if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode)this.calculateAndReportNewState();else{this.stickyTransientFailureMode=!0;for(const{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){null!==this.currentPick&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(e,t,r,n){var i;if(null===(i=this.currentPick)||void 0===i?void 0:i.realSubchannelEquals(e))r!==o.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());else for(const[t,i]of this.children.entries())if(e.realSubchannelEquals(i.subchannel))return r===o.ConnectivityState.READY&&this.pickSubchannel(i.subchannel),r===o.ConnectivityState.TRANSIENT_FAILURE&&(i.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),void i.subchannel.startConnecting()}startNextSubchannelConnecting(e){clearTimeout(this.connectionDelayTimeout);for(const[t,r]of this.children.entries())if(t>=e){const e=r.subchannel.getConnectivityState();if(e===o.ConnectivityState.IDLE||e===o.ConnectivityState.CONNECTING)return void this.startConnecting(t)}this.maybeEnterStickyTransientFailureMode()}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===o.ConnectivityState.IDLE&&(u("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},250),null===(r=(t=this.connectionDelayTimeout).unref)||void 0===r||r.call(t)}pickSubchannel(e){u("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),e.addConnectivityStateListener(this.subchannelStateListener),e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=e,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(e,t){u(o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.children)e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(e){u("connectToAddressList(["+e.map(e=>(0,a.subchannelAddressToString)(e))+"])");const t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{},null),hasReportedTransientFailure:!1}));for(const{subchannel:e}of t)if(e.getConnectivityState()===o.ConnectivityState.READY)return void this.pickSubchannel(e);for(const{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());this.resetSubchannelList(),this.children=t;for(const{subchannel:e}of this.children)e.addConnectivityStateListener(this.subchannelStateListener);for(const e of this.children)e.subchannel.getConnectivityState()===o.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){if(!(t instanceof d))return;t.getShuffleAddressList()&&(e=f(e));const r=[].concat(...e.map(e=>e.addresses));if(u("updateAddressList(["+r.map(e=>(0,a.subchannelAddressToString)(e))+"])"),0===r.length)throw new Error("No addresses in endpoint list passed to pick_first");const n=function(e){const t=[],r=[],n=[],o=(0,p.isTcpSubchannelAddress)(e[0])&&(0,c.isIPv6)(e[0].host);for(const t of e)(0,p.isTcpSubchannelAddress)(t)&&(0,c.isIPv6)(t.host)?r.push(t):n.push(t);const i=o?r:n,a=o?n:r;for(let e=0;e<Math.max(i.length,a.length);e++)e<i.length&&t.push(i[e]),e<a.length&&t.push(a[e]);return t}(r);this.latestAddressList=n,this.connectToAddressList(n)}exitIdle(){this.currentState===o.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return"pick_first"}}t.PickFirstLoadBalancer=g;const m=new d(!1);t.LeafLoadBalancer=class{constructor(e,t,r,a){this.endpoint=e,this.latestState=o.ConnectivityState.IDLE;const s=(0,n.createChildChannelControlHelper)(t,{updateState:(e,r)=>{this.latestState=e,this.latestPicker=r,t.updateState(e,r)}});this.pickFirstBalancer=new g(s,r,Object.assign(Object.assign({},a),{"grpc-node.internal.pick-first.report_health_status":!0})),this.latestPicker=new i.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],m)}updateEndpoint(e){this.endpoint=e,this.latestState!==o.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Model=t.MachineLearning=void 0;const n=r(435),o=r(2),i=r(4),a=r(26),s=r(9),l=r(770),p=r(436);t.MachineLearning=class{constructor(e){if(!i.isNonNullObject(e)||!("options"in e))throw new o.FirebaseError({code:"machine-learning/invalid-argument",message:"First argument passed to admin.machineLearning() must be a valid Firebase app instance."});this.appInternal=e,this.client=new l.MachineLearningApiClient(e)}get app(){return this.appInternal}createModel(e){return this.signUrlIfPresent(e).then(e=>this.client.createModel(e)).then(e=>this.client.handleOperation(e)).then(e=>new c(e,this.client))}updateModel(e,t){const r=s.generateUpdateMask(t);return this.signUrlIfPresent(t).then(t=>this.client.updateModel(e,t,r)).then(e=>this.client.handleOperation(e)).then(e=>new c(e,this.client))}publishModel(e){return this.setPublishStatus(e,!0)}unpublishModel(e){return this.setPublishStatus(e,!1)}getModel(e){return this.client.getModel(e).then(e=>new c(e,this.client))}listModels(e={}){return this.client.listModels(e).then(e=>{if(!i.isNonNullObject(e))throw new p.FirebaseMachineLearningError("invalid-argument","Invalid ListModels response: "+JSON.stringify(e));let t=[];e.models&&(t=e.models.map(e=>new c(e,this.client)));const r={models:t};return e.nextPageToken&&(r.pageToken=e.nextPageToken),r})}deleteModel(e){return this.client.deleteModel(e)}setPublishStatus(e,t){const r={state:{published:t}};return this.client.updateModel(e,r,["state.published"]).then(e=>this.client.handleOperation(e)).then(e=>new c(e,this.client))}signUrlIfPresent(e){const t=(0,a.deepCopy)(e);return(0,l.isGcsTfliteModelOptions)(t)?this.signUrl(t.tfliteModel.gcsTfliteUri).then(e=>(t.tfliteModel.gcsTfliteUri=e,t)).catch(e=>{throw new p.FirebaseMachineLearningError("internal-error","Error during signing upload url: "+e.message)}):Promise.resolve(t)}signUrl(e){const t=/^gs:\/\/([a-z0-9_.-]{3,63})\/(.+)$/.exec(e);if(!t)throw new p.FirebaseMachineLearningError("invalid-argument","Invalid unsigned url: "+e);const r=t[1],o=t[2];return(0,n.getStorage)(this.app).bucket(r).file(o).getSignedUrl({action:"read",expires:Date.now()+6e5}).then(e=>e[0])}};class c{constructor(e,t){this.model=c.validateAndClone(e),this.client=t}get modelId(){return this.model.name.split("/").pop()}get displayName(){return this.model.displayName}get tags(){return this.model.tags||[]}get createTime(){return new Date(this.model.createTime).toUTCString()}get updateTime(){return new Date(this.model.updateTime).toUTCString()}get validationError(){var e,t;return null===(e=this.model.state)||void 0===e||null===(t=e.validationError)||void 0===t?void 0:t.message}get published(){var e;return(null===(e=this.model.state)||void 0===e?void 0:e.published)||!1}get etag(){return this.model.etag}get modelHash(){return this.model.modelHash}get tfliteModel(){return(0,a.deepCopy)(this.model.tfliteModel)}get locked(){var e,t;return(null!==(e=null===(t=this.model.activeOperations)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0}toJSON(){const e={modelId:this.modelId,displayName:this.displayName,tags:this.tags,createTime:this.createTime,updateTime:this.updateTime,published:this.published,etag:this.etag,locked:this.locked};return this.validationError&&(e.validationError=this.validationError),this.modelHash&&(e.modelHash=this.modelHash),this.tfliteModel&&(e.tfliteModel=this.tfliteModel),e}waitForUnlocked(e){var t,r;return(null!==(t=null===(r=this.model.activeOperations)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0?this.client.handleOperation(this.model.activeOperations[0],{wait:!0,maxTimeMillis:e}).then(e=>{this.model=c.validateAndClone(e)}):Promise.resolve()}static validateAndClone(e){if(!(i.isNonNullObject(e)&&i.isNonEmptyString(e.name)&&i.isNonEmptyString(e.createTime)&&i.isNonEmptyString(e.updateTime)&&i.isNonEmptyString(e.displayName)&&i.isNonEmptyString(e.etag)))throw new p.FirebaseMachineLearningError("invalid-server-response","Invalid Model response: "+JSON.stringify(e));const t=(0,a.deepCopy)(e);return e.tfliteModel&&!i.isNonEmptyString(e.tfliteModel.gcsTfliteUri)&&delete t.tfliteModel,t["@type"]&&delete t["@type"],t}}t.Model=c},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectManagement=void 0;const n=r(2),o=r(9),i=r(4),a=r(440),s=r(441),l=r(234),p=r(158);t.ProjectManagement=class{constructor(e){if(this.app=e,!i.isNonNullObject(e)||!("options"in e))throw new n.FirebaseProjectManagementError("invalid-argument","First argument passed to admin.projectManagement() must be a valid Firebase app instance.");this.requestHandler=new l.ProjectManagementRequestHandler(e)}listAndroidApps(){return this.listPlatformApps("android","listAndroidApps()")}listIosApps(){return this.listPlatformApps("ios","listIosApps()")}androidApp(e){return new a.AndroidApp(e,this.requestHandler)}iosApp(e){return new s.IosApp(e,this.requestHandler)}shaCertificate(e){return new a.ShaCertificate(e)}createAndroidApp(e,t){return this.getResourceName().then(r=>this.requestHandler.createAndroidApp(r,e,t)).then(e=>((0,l.assertServerResponse)(i.isNonNullObject(e),e,"createAndroidApp()'s responseData must be a non-null object."),(0,l.assertServerResponse)(i.isNonEmptyString(e.appId),e,'"responseData.appId" field must be present in createAndroidApp()\'s response data.'),new a.AndroidApp(e.appId,this.requestHandler)))}createIosApp(e,t){return this.getResourceName().then(r=>this.requestHandler.createIosApp(r,e,t)).then(e=>((0,l.assertServerResponse)(i.isNonNullObject(e),e,"createIosApp()'s responseData must be a non-null object."),(0,l.assertServerResponse)(i.isNonEmptyString(e.appId),e,'"responseData.appId" field must be present in createIosApp()\'s response data.'),new s.IosApp(e.appId,this.requestHandler)))}listAppMetadata(){return this.getResourceName().then(e=>this.requestHandler.listAppMetadata(e)).then(e=>this.getProjectId().then(t=>this.transformResponseToAppMetadata(e,t)))}setDisplayName(e){return this.getResourceName().then(t=>this.requestHandler.setDisplayName(t,e))}transformResponseToAppMetadata(e,t){return this.assertListAppsResponseData(e,"listAppMetadata()"),e.apps?e.apps.map(r=>{(0,l.assertServerResponse)(i.isNonEmptyString(r.appId),e,'"apps[].appId" field must be present in the listAppMetadata() response data.'),(0,l.assertServerResponse)(i.isNonEmptyString(r.platform),e,'"apps[].platform" field must be present in the listAppMetadata() response data.');const n={appId:r.appId,platform:p.AppPlatform[r.platform]||p.AppPlatform.PLATFORM_UNKNOWN,projectId:t,resourceName:r.name};return r.displayName&&(n.displayName=r.displayName),n}):[]}getResourceName(){return this.getProjectId().then(e=>"projects/"+e)}getProjectId(){return this.projectId?Promise.resolve(this.projectId):o.findProjectId(this.app).then(e=>{if(!i.isNonEmptyString(e))throw new n.FirebaseProjectManagementError("invalid-project-id","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=e,this.projectId})}listPlatformApps(e,t){return this.getResourceName().then(t=>"android"===e?this.requestHandler.listAndroidApps(t):this.requestHandler.listIosApps(t)).then(r=>(this.assertListAppsResponseData(r,t),r.apps?r.apps.map(n=>((0,l.assertServerResponse)(i.isNonEmptyString(n.appId),r,`"apps[].appId" field must be present in the ${t} response data.`),"android"===e?new a.AndroidApp(n.appId,this.requestHandler):new s.IosApp(n.appId,this.requestHandler))):[]))}assertListAppsResponseData(e,t){(0,l.assertServerResponse)(i.isNonNullObject(e),e,t+"'s responseData must be a non-null object."),e.apps&&(0,l.assertServerResponse)(i.isArray(e.apps),e,`"apps" field must be present in the ${t} response data.`)}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectManagementRequestHandler=void 0,t.assertServerResponse=p;const n=r(27),o=r(2),i=r(9),a=r(4),s={"X-Client-Version":"Node/Admin/"+(0,i.getSdkVersion)()},l={sha1:"SHA_1",sha256:"SHA_256"};function p(e,t,r){if(!e)throw new o.FirebaseProjectManagementError("invalid-server-response",`${r} Response data: ${JSON.stringify(t,null,2)}`)}class c{static wrapAndRethrowHttpError(e,t){let r,n;switch(e){case 400:r="invalid-argument",n="Invalid argument provided.";break;case 401:case 403:r="authentication-error",n="An error occurred when trying to authenticate. Make sure the credential used to authenticate this SDK has the proper permissions. See https://firebase.google.com/docs/admin/setup for setup instructions.";break;case 404:r="not-found",n="The specified entity could not be found.";break;case 409:r="already-exists",n="The specified entity already exists.";break;case 500:r="internal-error",n="An internal error has occurred. Please retry the request.";break;case 503:r="service-unavailable",n="The server could not process the request in time. See the error documentation for more details.";break;default:r="unknown-error",n="An unknown server error was returned."}throw t||(t="<missing>"),new o.FirebaseProjectManagementError(r,`${n} Status code: ${e}. Raw server response: "${t}".`)}constructor(e){this.baseUrl="https://firebase.googleapis.com:443/v1/",this.baseBetaUrl="https://firebase.googleapis.com:443/v1beta1/",this.httpClient=new n.AuthorizedHttpClient(e)}listAndroidApps(e){return this.invokeRequestHandler("GET",e+"/androidApps?page_size=100",null,"v1beta1")}listIosApps(e){return this.invokeRequestHandler("GET",e+"/iosApps?page_size=100",null,"v1beta1")}listAppMetadata(e){return this.invokeRequestHandler("GET",e+":searchApps?page_size=100",null,"v1beta1")}createAndroidApp(e,t,r){const n={packageName:t};return a.isNonEmptyString(r)&&(n.displayName=r),this.invokeRequestHandler("POST",e+"/androidApps",n,"v1beta1").then(e=>(p(a.isNonNullObject(e),e,"createAndroidApp's responseData must be a non-null object."),p(a.isNonEmptyString(e.name),e,"createAndroidApp's responseData.name must be a non-empty string."),this.pollRemoteOperationWithExponentialBackoff(e.name)))}createIosApp(e,t,r){const n={bundleId:t};return a.isNonEmptyString(r)&&(n.displayName=r),this.invokeRequestHandler("POST",e+"/iosApps",n,"v1beta1").then(e=>(p(a.isNonNullObject(e),e,"createIosApp's responseData must be a non-null object."),p(a.isNonEmptyString(e.name),e,"createIosApp's responseData.name must be a non-empty string."),this.pollRemoteOperationWithExponentialBackoff(e.name)))}setDisplayName(e,t){const r={displayName:t};return this.invokeRequestHandler("PATCH",e+"?update_mask=display_name",r,"v1beta1").then(()=>{})}getAndroidShaCertificates(e){return this.invokeRequestHandler("GET",e+"/sha",null,"v1beta1")}addAndroidShaCertificate(e,t){const r={shaHash:t.shaHash,certType:l[t.certType]};return this.invokeRequestHandler("POST",e+"/sha",r,"v1beta1").then(()=>{})}getConfig(e){return this.invokeRequestHandler("GET",e+"/config",null,"v1beta1")}getResource(e){return this.invokeRequestHandler("GET",e,null,"v1beta1")}deleteResource(e){return this.invokeRequestHandler("DELETE",e,null,"v1beta1").then(()=>{})}pollRemoteOperationWithExponentialBackoff(e){return(new n.ExponentialBackoffPoller).poll(()=>this.invokeRequestHandler("GET",e,null).then(e=>{if(e.error){const t=e.error.code||500,r=e.error.message||JSON.stringify(e.error);c.wrapAndRethrowHttpError(t,r)}return e.done?e.response:null}))}invokeRequestHandler(e,t,r,o="v1"){const i={method:e,url:`${"v1"===o?this.baseUrl:this.baseBetaUrl}${t}`,headers:s,data:r,timeout:1e4};return this.httpClient.send(i).then(e=>{if(!e.isJson())throw new n.RequestResponseError(e);return e.data}).catch(e=>{throw e instanceof n.RequestResponseError&&c.wrapAndRethrowHttpError(e.response.status,e.response.text),e})}}t.ProjectManagementRequestHandler=c},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityRules=t.Ruleset=t.RulesetMetadataList=void 0;const n=r(4),o=r(772),i=r(442);class a{constructor(e){if(!n.isNonNullObject(e)||!n.isArray(e.rulesets))throw new i.FirebaseSecurityRulesError("invalid-argument","Invalid ListRulesets response: "+JSON.stringify(e));this.rulesets=e.rulesets.map(e=>({name:p(e.name),createTime:new Date(e.createTime).toUTCString()})),e.nextPageToken&&(this.nextPageToken=e.nextPageToken)}}t.RulesetMetadataList=a;class s{constructor(e){if(!(n.isNonNullObject(e)&&n.isNonEmptyString(e.name)&&n.isNonEmptyString(e.createTime)&&n.isNonNullObject(e.source)))throw new i.FirebaseSecurityRulesError("invalid-argument","Invalid Ruleset response: "+JSON.stringify(e));this.name=p(e.name),this.createTime=new Date(e.createTime).toUTCString(),this.source=e.source.files||[]}}t.Ruleset=s;class l{constructor(e){this.app=e,this.client=new o.SecurityRulesApiClient(e)}getRuleset(e){return this.client.getRuleset(e).then(e=>new s(e))}getFirestoreRuleset(){return this.getRulesetForRelease(l.CLOUD_FIRESTORE)}releaseFirestoreRulesetFromSource(e){return Promise.resolve().then(()=>{const t=this.createRulesFileFromSource("firestore.rules",e);return this.createRuleset(t)}).then(e=>this.releaseFirestoreRuleset(e).then(()=>e))}releaseFirestoreRuleset(e){return this.releaseRuleset(e,l.CLOUD_FIRESTORE)}getStorageRuleset(e){return Promise.resolve().then(()=>this.getBucketName(e)).then(e=>this.getRulesetForRelease(`${l.FIREBASE_STORAGE}/${e}`))}releaseStorageRulesetFromSource(e,t){return Promise.resolve().then(()=>{this.getBucketName(t);const r=this.createRulesFileFromSource("storage.rules",e);return this.createRuleset(r)}).then(e=>this.releaseStorageRuleset(e,t).then(()=>e))}releaseStorageRuleset(e,t){return Promise.resolve().then(()=>this.getBucketName(t)).then(t=>this.releaseRuleset(e,`${l.FIREBASE_STORAGE}/${t}`))}createRulesFileFromSource(e,t){if(!n.isNonEmptyString(e))throw new i.FirebaseSecurityRulesError("invalid-argument","Name must be a non-empty string.");let r;if(n.isNonEmptyString(t))r=t;else{if(!n.isBuffer(t))throw new i.FirebaseSecurityRulesError("invalid-argument","Source must be a non-empty string or a Buffer.");r=t.toString("utf-8")}return{name:e,content:r}}createRuleset(e){const t={source:{files:[e]}};return this.client.createRuleset(t).then(e=>new s(e))}deleteRuleset(e){return this.client.deleteRuleset(e)}listRulesetMetadata(e=100,t){return this.client.listRulesets(e,t).then(e=>new a(e))}getRulesetForRelease(e){return this.client.getRelease(e).then(t=>{const r=t.rulesetName;if(!n.isNonEmptyString(r))throw new i.FirebaseSecurityRulesError("not-found",`Ruleset name not found for ${e}.`);return this.getRuleset(p(r))})}releaseRuleset(e,t){if(!(n.isNonEmptyString(e)||n.isNonNullObject(e)&&n.isNonEmptyString(e.name))){const e=new i.FirebaseSecurityRulesError("invalid-argument","ruleset must be a non-empty name or a RulesetMetadata object.");return Promise.reject(e)}const r=n.isString(e)?e:e.name;return this.client.updateOrCreateRelease(t,r).then(()=>{})}getBucketName(e){const t=void 0!==e?e:this.app.options.storageBucket;if(!n.isNonEmptyString(t))throw new i.FirebaseSecurityRulesError("invalid-argument","Bucket name not specified or invalid. Specify a default bucket name via the storageBucket option when initializing the app, or specify the bucket name explicitly when calling the rules API.");return t}}function p(e){return e.split("/").pop()}t.SecurityRules=l,l.CLOUD_FIRESTORE="cloud.firestore",l.FIREBASE_STORAGE="firebase.storage"},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteConfigFetchResponse=t.RemoteConfig=void 0;const n=r(9),o=r(4),i=r(773),a=r(774),s=r(775);t.RemoteConfig=class{constructor(e){this.app=e,this.client=new i.RemoteConfigApiClient(e)}getTemplate(){return this.client.getTemplate().then(e=>new l(e))}getTemplateAtVersion(e){return this.client.getTemplateAtVersion(e).then(e=>new l(e))}validateTemplate(e){return this.client.validateTemplate(e).then(e=>new l(e))}publishTemplate(e,t){return this.client.publishTemplate(e,t).then(e=>new l(e))}rollback(e){return this.client.rollback(e).then(e=>new l(e))}listVersions(e){return this.client.listVersions(e).then(e=>{var t,r;return{versions:null!==(t=null===(r=e.versions)||void 0===r?void 0:r.map(e=>new d(e)))&&void 0!==t?t:[],nextPageToken:e.nextPageToken}})}createTemplateFromJSON(e){if(!o.isNonEmptyString(e))throw new i.FirebaseRemoteConfigError("invalid-argument","JSON string must be a valid non-empty string");let t;try{t=JSON.parse(e)}catch(t){throw new i.FirebaseRemoteConfigError("invalid-argument",`Failed to parse the JSON string: ${e}. `+t)}return new l(t)}async getServerTemplate(e){const t=this.initServerTemplate(e);return await t.load(),t}initServerTemplate(e){const t=new p(this.client,new a.ConditionEvaluator,null==e?void 0:e.defaultConfig);return null!=e&&e.template&&t.set(null==e?void 0:e.template),t}};class l{constructor(e){if(!o.isNonNullObject(e)||!o.isNonEmptyString(e.etag))throw new i.FirebaseRemoteConfigError("invalid-argument","Invalid Remote Config template: "+JSON.stringify(e));if(this.etagInternal=e.etag,void 0!==e.parameters){if(!o.isNonNullObject(e.parameters))throw new i.FirebaseRemoteConfigError("invalid-argument","Remote Config parameters must be a non-null object");this.parameters=e.parameters}else this.parameters={};if(void 0!==e.parameterGroups){if(!o.isNonNullObject(e.parameterGroups))throw new i.FirebaseRemoteConfigError("invalid-argument","Remote Config parameter groups must be a non-null object");this.parameterGroups=e.parameterGroups}else this.parameterGroups={};if(void 0!==e.conditions){if(!o.isArray(e.conditions))throw new i.FirebaseRemoteConfigError("invalid-argument","Remote Config conditions must be an array");this.conditions=e.conditions}else this.conditions=[];void 0!==e.version&&(this.version=new d(e.version))}get etag(){return this.etagInternal}toJSON(){return{conditions:this.conditions,parameters:this.parameters,parameterGroups:this.parameterGroups,etag:this.etag,version:this.version}}}class p{constructor(e,t,r={}){this.apiClient=e,this.conditionEvaluator=t,this.defaultConfig=r,this.stringifiedDefaultConfig={};for(const e in r)this.stringifiedDefaultConfig[e]=String(r[e])}load(){return this.apiClient.getServerTemplate().then(e=>{this.cache=new u(e)})}set(e){let t;if(o.isString(e))try{t=JSON.parse(e)}catch(t){throw new i.FirebaseRemoteConfigError("invalid-argument",`Failed to parse the JSON string: ${e}. `+t)}else t=e;this.cache=new u(t)}evaluate(e={}){if(!this.cache)throw new i.FirebaseRemoteConfigError("failed-precondition","No Remote Config Server template in cache. Call load() before calling evaluate().");const t=this.conditionEvaluator.evaluateConditions(this.cache.conditions,e),r={};for(const e in this.stringifiedDefaultConfig)r[e]=new s.ValueImpl("default",this.stringifiedDefaultConfig[e]);for(const[e,n]of Object.entries(this.cache.parameters)){const{conditionalValues:o,defaultValue:i}=n,a=o||{};let l=void 0;for(const[e,r]of t)if(a[e]&&r){l=a[e];break}if(l&&l.useInAppDefault)continue;if(l){const t=l.value;r[e]=new s.ValueImpl("remote",t);continue}if(!i)continue;if(i.useInAppDefault)continue;const p=i.value;r[e]=new s.ValueImpl("remote",p)}return new c(r)}toJSON(){return this.cache}}class c{constructor(e){this.configValues=e}getBoolean(e){return this.getValue(e).asBoolean()}getNumber(e){return this.getValue(e).asNumber()}getString(e){return this.getValue(e).asString()}getValue(e){return this.configValues[e]||new s.ValueImpl("static")}getAll(){return{...this.configValues}}}class u{constructor(e){if(!o.isNonNullObject(e)||!o.isNonEmptyString(e.etag))throw new i.FirebaseRemoteConfigError("invalid-argument","Invalid Remote Config template: "+JSON.stringify(e));if(this.etag=e.etag,void 0!==e.parameters){if(!o.isNonNullObject(e.parameters))throw new i.FirebaseRemoteConfigError("invalid-argument","Remote Config parameters must be a non-null object");this.parameters=e.parameters}else this.parameters={};if(void 0!==e.conditions){if(!o.isArray(e.conditions))throw new i.FirebaseRemoteConfigError("invalid-argument","Remote Config conditions must be an array");this.conditions=e.conditions}else this.conditions=[];void 0!==e.version&&(this.version=new d(e.version))}}class d{constructor(e){if(!o.isNonNullObject(e))throw new i.FirebaseRemoteConfigError("invalid-argument","Invalid Remote Config version instance: "+JSON.stringify(e));if(void 0!==e.versionNumber){if(!o.isNonEmptyString(e.versionNumber)&&!o.isNumber(e.versionNumber))throw new i.FirebaseRemoteConfigError("invalid-argument","Version number must be a non-empty string in int64 format or a number");if(!Number.isInteger(Number(e.versionNumber)))throw new i.FirebaseRemoteConfigError("invalid-argument","Version number must be an integer or a string in int64 format");this.versionNumber=e.versionNumber}if(void 0!==e.updateOrigin){if(!o.isNonEmptyString(e.updateOrigin))throw new i.FirebaseRemoteConfigError("invalid-argument","Version update origin must be a non-empty string");this.updateOrigin=e.updateOrigin}if(void 0!==e.updateType){if(!o.isNonEmptyString(e.updateType))throw new i.FirebaseRemoteConfigError("invalid-argument","Version update type must be a non-empty string");this.updateType=e.updateType}if(void 0!==e.updateUser){if(!o.isNonNullObject(e.updateUser))throw new i.FirebaseRemoteConfigError("invalid-argument","Version update user must be a non-null object");this.updateUser=e.updateUser}if(void 0!==e.description){if(!o.isNonEmptyString(e.description))throw new i.FirebaseRemoteConfigError("invalid-argument","Version description must be a non-empty string");this.description=e.description}if(void 0!==e.rollbackSource){if(!o.isNonEmptyString(e.rollbackSource))throw new i.FirebaseRemoteConfigError("invalid-argument","Version rollback source must be a non-empty string");this.rollbackSource=e.rollbackSource}if(void 0!==e.isLegacy){if(!o.isBoolean(e.isLegacy))throw new i.FirebaseRemoteConfigError("invalid-argument","Version.isLegacy must be a boolean");this.isLegacy=e.isLegacy}if(void 0!==e.updateTime){if(!this.isValidTimestamp(e.updateTime))throw new i.FirebaseRemoteConfigError("invalid-argument","Version update time must be a valid date string");this.updateTime=new Date(e.updateTime).toUTCString()}}toJSON(){return{versionNumber:this.versionNumber,updateOrigin:this.updateOrigin,updateType:this.updateType,updateUser:this.updateUser,description:this.description,rollbackSource:this.rollbackSource,isLegacy:this.isLegacy,updateTime:this.updateTime}}isValidTimestamp(e){return o.isNonEmptyString(e)&&new Date(e).getTime()>0}}t.RemoteConfigFetchResponse=class{constructor(e,t,r){const n={};for(const[e,r]of Object.entries(t.getAll()))n[e]=r.asString();const o=this.processEtag(n,e);this.response=o===r?{status:304,eTag:o}:{status:200,eTag:o,config:n}}toJSON(){return this.response}processEtag(e,t){const r=JSON.stringify(e);let o=0;for(let e=0;e<r.length;e++){o=(o<<5)-o+r.charCodeAt(e),o|=0}return["etag",n.getExplicitProjectId(t),"firebase-server","fetch",o].filter(e=>!!e).join("-")}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.AppCheck=void 0;const n=r(4),o=r(238),i=r(776),a=r(777),s=r(127);t.AppCheck=class{constructor(e){this.app=e,this.client=new o.AppCheckApiClient(e);try{this.tokenGenerator=new i.AppCheckTokenGenerator((0,s.cryptoSignerFromApp)(e))}catch(e){throw(0,i.appCheckErrorFromCryptoSignerError)(e)}this.appCheckTokenVerifier=new a.AppCheckTokenVerifier(e)}createToken(e,t){return this.tokenGenerator.createCustomToken(e,t).then(t=>this.client.exchangeToken(t,e))}verifyToken(e,t){return this.validateVerifyAppCheckTokenOptions(t),this.appCheckTokenVerifier.verifyToken(e).then(r=>null!=t&&t.consume?this.client.verifyReplayProtection(e).then(e=>({alreadyConsumed:e,appId:r.app_id,token:r})):{appId:r.app_id,token:r})}validateVerifyAppCheckTokenOptions(e){if(void 0!==e&&!n.isNonNullObject(e))throw new o.FirebaseAppCheckError("invalid-argument","VerifyAppCheckTokenOptions must be a non-null object.")}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseAppCheckError=t.APP_CHECK_ERROR_CODE_MAPPING=t.AppCheckApiClient=void 0;const n=r(27),o=r(2),i=r(9),a=r(4),s={"X-Firebase-Client":"fire-admin-node/"+i.getSdkVersion()};t.AppCheckApiClient=class{constructor(e){if(this.app=e,!a.isNonNullObject(e)||!("options"in e))throw new l("invalid-argument","First argument passed to admin.appCheck() must be a valid Firebase app instance.");this.httpClient=new n.AuthorizedHttpClient(e)}exchangeToken(e,t){if(!a.isNonEmptyString(t))throw new l("invalid-argument","`appId` must be a non-empty string.");if(!a.isNonEmptyString(e))throw new l("invalid-argument","`customToken` must be a non-empty string.");return this.getUrl(t).then(t=>{const r={method:"POST",url:t,headers:s,data:{customToken:e}};return this.httpClient.send(r)}).then(e=>this.toAppCheckToken(e)).catch(e=>{throw this.toFirebaseError(e)})}verifyReplayProtection(e){if(!a.isNonEmptyString(e))throw new l("invalid-argument","`token` must be a non-empty string.");return this.getVerifyTokenUrl().then(t=>{const r={method:"POST",url:t,headers:s,data:{app_check_token:e}};return this.httpClient.send(r)}).then(e=>{var t;if(void 0!==e.data.alreadyConsumed&&!a.isBoolean(null===(t=e.data)||void 0===t?void 0:t.alreadyConsumed))throw new l("invalid-argument","`alreadyConsumed` must be a boolean value.");return e.data.alreadyConsumed||!1}).catch(e=>{throw this.toFirebaseError(e)})}getUrl(e){return this.getProjectId().then(t=>{const r={projectId:t,appId:e},n=i.formatString("https://firebaseappcheck.googleapis.com/v1/projects/{projectId}/apps/{appId}:exchangeCustomToken",r);return i.formatString(n)})}getVerifyTokenUrl(){return this.getProjectId().then(e=>{const t={projectId:e},r=i.formatString("https://firebaseappcheck.googleapis.com/v1beta/projects/{projectId}:verifyAppCheckToken",t);return i.formatString(r)})}getProjectId(){return this.projectId?Promise.resolve(this.projectId):i.findProjectId(this.app).then(e=>{if(!a.isNonEmptyString(e))throw new l("unknown-error","Failed to determine project ID. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectId=e,e})}toFirebaseError(e){if(e instanceof o.PrefixedFirebaseError)return e;const r=e.response;if(!r.isJson())return new l("unknown-error",`Unexpected response with status: ${r.status} and body: ${r.text}`);const n=r.data.error||{};let i="unknown-error";n.status&&n.status in t.APP_CHECK_ERROR_CODE_MAPPING&&(i=t.APP_CHECK_ERROR_CODE_MAPPING[n.status]);const a=n.message||"Unknown server error: "+r.text;return new l(i,a)}toAppCheckToken(e){return{token:e.data.token,ttlMillis:this.stringToMilliseconds(e.data.ttl)}}stringToMilliseconds(e){if(!a.isNonEmptyString(e)||!e.endsWith("s"))throw new l("invalid-argument","`ttl` must be a valid duration string with the suffix `s`.");const t=e.slice(0,-1);return Math.floor(1e3*Number(t))}},t.APP_CHECK_ERROR_CODE_MAPPING={ABORTED:"aborted",INVALID_ARGUMENT:"invalid-argument",INVALID_CREDENTIAL:"invalid-credential",INTERNAL:"internal-error",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",NOT_FOUND:"not-found",UNKNOWN:"unknown-error"};class l extends o.PrefixedFirebaseError{constructor(e,t){super("app-check",e,t),this.__proto__=l.prototype}}t.FirebaseAppCheckError=l},function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return m})),r.d(t,"v3",(function(){return b})),r.d(t,"v4",(function(){return E})),r.d(t,"v5",(function(){return _})),r.d(t,"NIL",(function(){return O})),r.d(t,"version",(function(){return w})),r.d(t,"validate",(function(){return p})),r.d(t,"stringify",(function(){return u})),r.d(t,"parse",(function(){return y}));var n=r(0),o=r.n(n);const i=new Uint8Array(256);let a=i.length;function s(){return a>i.length-16&&(o.a.randomFillSync(i),a=0),i.slice(a,a+=16)}var l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var p=function(e){return"string"==typeof e&&l.test(e)};const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).substr(1));var u=function(e,t=0){const r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!p(r))throw TypeError("Stringified UUID is invalid");return r};let d,h,f=0,g=0;var m=function(e,t,r){let n=t&&r||0;const o=t||new Array(16);let i=(e=e||{}).node||d,a=void 0!==e.clockseq?e.clockseq:h;if(null==i||null==a){const t=e.random||(e.rng||s)();null==i&&(i=d=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=h=16383&(t[6]<<8|t[7]))}let l=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:g+1;const c=l-f+(p-g)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||l>f)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=l,g=p,h=a,l+=122192928e5;const m=(1e4*(268435455&l)+p)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;const y=l/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(let e=0;e<6;++e)o[n+e]=i[e];return t||u(o)};var y=function(e){if(!p(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};var v=function(e,t,r){function n(e,n,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),a=r(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=a[e];return o}return u(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};var b=v("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("md5").update(e).digest()}));var E=function(e,t,r){const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)};var _=v("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("sha1").update(e).digest()})),O="00000000-0000-0000-0000-000000000000";var w=function(e){if(!p(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,r){"use strict";r.r(t),r.d(t,"AbortController",(function(){return _})),r.d(t,"AbortSignal",(function(){return b}));const n=new WeakMap,o=new WeakMap;function i(e){const t=n.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function a(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function s(e,t){n.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(t);for(let e=0;e<r.length;++e){const t=r[e];t in this||Object.defineProperty(this,t,l(t))}}function l(e){return{get(){return i(this).event[e]},set(t){i(this).event[e]=t},configurable:!0,enumerable:!0}}function p(e){return{value(){const t=i(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function c(e){if(null==e||e===Object.prototype)return s;let t=o.get(e);return null==t&&(t=function(e,t){const r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){const i=r[o];if(!(i in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,i).value;Object.defineProperty(n.prototype,i,e?p(i):l(i))}}return n}(c(Object.getPrototypeOf(e)),e),o.set(e,t)),t}function u(e){return i(e).immediateStopped}function d(e,t){i(e).passiveListener=t}s.prototype={get type(){return i(this).event.type},get target(){return i(this).eventTarget},get currentTarget(){return i(this).currentTarget},composedPath(){const e=i(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return i(this).eventPhase},stopPropagation(){const e=i(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=i(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(i(this).event.bubbles)},get cancelable(){return Boolean(i(this).event.cancelable)},preventDefault(){a(i(this))},get defaultPrevented(){return i(this).canceled},get composed(){return Boolean(i(this).event.composed)},get timeStamp(){return i(this).timeStamp},get srcElement(){return i(this).eventTarget},get cancelBubble(){return i(this).stopped},set cancelBubble(e){if(!e)return;const t=i(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!i(this).canceled},set returnValue(e){e||a(i(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),o.set(window.Event.prototype,s));const h=new WeakMap;function f(e){return null!==e&&"object"==typeof e}function g(e){const t=h.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function m(e,t){Object.defineProperty(e,"on"+t,function(e){return{get(){let t=g(this).get(e);for(;null!=t;){if(3===t.listenerType)return t.listener;t=t.next}return null},set(t){"function"==typeof t||f(t)||(t=null);const r=g(this);let n=null,o=r.get(e);for(;null!=o;)3===o.listenerType?null!==n?n.next=o.next:null!==o.next?r.set(e,o.next):r.delete(e):n=o,o=o.next;if(null!==t){const o={listener:t,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(e,o):n.next=o}},configurable:!0,enumerable:!0}}(t))}function y(e){function t(){v.call(this)}t.prototype=Object.create(v.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)m(t.prototype,e[r]);return t}function v(){if(!(this instanceof v)){if(1===arguments.length&&Array.isArray(arguments[0]))return y(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return y(e)}throw new TypeError("Cannot call a class as a function")}h.set(this,new Map)}v.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!f(t))throw new TypeError("'listener' should be a function or an object.");const n=g(this),o=f(r),i=(o?Boolean(r.capture):Boolean(r))?1:2,a={listener:t,listenerType:i,passive:o&&Boolean(r.passive),once:o&&Boolean(r.once),next:null};let s=n.get(e);if(void 0===s)return void n.set(e,a);let l=null;for(;null!=s;){if(s.listener===t&&s.listenerType===i)return;l=s,s=s.next}l.next=a},removeEventListener(e,t,r){if(null==t)return;const n=g(this),o=(f(r)?Boolean(r.capture):Boolean(r))?1:2;let i=null,a=n.get(e);for(;null!=a;){if(a.listener===t&&a.listenerType===o)return void(null!==i?i.next=a.next:null!==a.next?n.set(e,a.next):n.delete(e));i=a,a=a.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=g(this),r=e.type;let n=t.get(r);if(null==n)return!0;const o=function(e,t){return new(c(Object.getPrototypeOf(t)))(e,t)}(this,e);let a=null;for(;null!=n;){if(n.once?null!==a?a.next=n.next:null!==n.next?t.set(r,n.next):t.delete(r):a=n,d(o,n.passive?n.listener:null),"function"==typeof n.listener)try{n.listener.call(this,o)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==n.listenerType&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(o);if(u(o))break;n=n.next}return d(o,null),function(e,t){i(e).eventPhase=t}(o,0),function(e,t){i(e).currentTarget=t}(o,null),!o.defaultPrevented}},Object.defineProperty(v.prototype,"constructor",{value:v,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(v.prototype,window.EventTarget.prototype);class b extends v{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=E.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}m(b.prototype,"abort");const E=new WeakMap;Object.defineProperties(b.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(b.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class _{constructor(){O.set(this,function(){const e=Object.create(b.prototype);return v.call(e),E.set(e,!1),e}())}get signal(){return w(this)}abort(){var e;e=w(this),!1===E.get(e)&&(E.set(e,!0),e.dispatchEvent({type:"abort"}))}}const O=new WeakMap;function w(e){const t=O.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(_.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(_.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});t.default=_},function(e,t,r){"use strict";r.r(t),r.d(t,"CONSTANTS",(function(){return n})),r.d(t,"DecodeBase64StringError",(function(){return l})),r.d(t,"Deferred",(function(){return E})),r.d(t,"ErrorFactory",(function(){return U})),r.d(t,"FirebaseError",(function(){return M})),r.d(t,"MAX_VALUE_MILLIS",(function(){return me})),r.d(t,"RANDOM_FACTOR",(function(){return ye})),r.d(t,"Sha1",(function(){return oe})),r.d(t,"areCookiesEnabled",(function(){return F})),r.d(t,"assert",(function(){return o})),r.d(t,"assertionError",(function(){return i})),r.d(t,"async",(function(){return se})),r.d(t,"base64",(function(){return s})),r.d(t,"base64Decode",(function(){return u})),r.d(t,"base64Encode",(function(){return p})),r.d(t,"base64urlEncodeWithoutPadding",(function(){return c})),r.d(t,"calculateBackoffMillis",(function(){return ve})),r.d(t,"contains",(function(){return K})),r.d(t,"createMockUserToken",(function(){return _})),r.d(t,"createSubscribe",(function(){return ie})),r.d(t,"decode",(function(){return G})),r.d(t,"deepCopy",(function(){return d})),r.d(t,"deepEqual",(function(){return X})),r.d(t,"deepExtend",(function(){return h})),r.d(t,"errorPrefix",(function(){return ce})),r.d(t,"extractQuerystring",(function(){return ne})),r.d(t,"getDefaultAppConfig",(function(){return v})),r.d(t,"getDefaultEmulatorHost",(function(){return m})),r.d(t,"getDefaultEmulatorHostnameAndPort",(function(){return y})),r.d(t,"getDefaults",(function(){return g})),r.d(t,"getExperimentalSetting",(function(){return b})),r.d(t,"getGlobal",(function(){return f})),r.d(t,"getModularInstance",(function(){return Ee})),r.d(t,"getUA",(function(){return O})),r.d(t,"isAdmin",(function(){return J})),r.d(t,"isBrowser",(function(){return T})),r.d(t,"isBrowserExtension",(function(){return I})),r.d(t,"isCloudflareWorker",(function(){return C})),r.d(t,"isElectron",(function(){return P})),r.d(t,"isEmpty",(function(){return $})),r.d(t,"isIE",(function(){return R})),r.d(t,"isIndexedDBAvailable",(function(){return j})),r.d(t,"isMobileCordova",(function(){return w})),r.d(t,"isNode",(function(){return S})),r.d(t,"isNodeSdk",(function(){return k})),r.d(t,"isReactNative",(function(){return N})),r.d(t,"isSafari",(function(){return x})),r.d(t,"isUWP",(function(){return D})),r.d(t,"isValidFormat",(function(){return W})),r.d(t,"isValidTimestamp",(function(){return H})),r.d(t,"isWebWorker",(function(){return A})),r.d(t,"issuedAtTime",(function(){return z})),r.d(t,"jsonEval",(function(){return V})),r.d(t,"map",(function(){return Q})),r.d(t,"ordinal",(function(){return be})),r.d(t,"promiseWithTimeout",(function(){return ee})),r.d(t,"querystring",(function(){return te})),r.d(t,"querystringDecode",(function(){return re})),r.d(t,"safeGet",(function(){return Y})),r.d(t,"stringLength",(function(){return ge})),r.d(t,"stringToByteArray",(function(){return fe})),r.d(t,"stringify",(function(){return q})),r.d(t,"validateArgCount",(function(){return pe})),r.d(t,"validateCallback",(function(){return de})),r.d(t,"validateContextObject",(function(){return he})),r.d(t,"validateIndexedDBOpenable",(function(){return L})),r.d(t,"validateNamespace",(function(){return ue}));const n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const o=e[t],i=t+1<e.length,a=i?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,p=o>>2,c=(3&o)<<4|a>>4;let u=(15&a)<<2|l>>6,d=63&l;s||(d=64,i||(u=64)),n.push(r[p],r[c],r[u],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const o=e[r++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{const i=e[r++],a=e[r++];t[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const o=r[e.charAt(t++)],i=t<e.length?r[e.charAt(t)]:0;++t;const a=t<e.length?r[e.charAt(t)]:64;++t;const s=t<e.length?r[e.charAt(t)]:64;if(++t,null==o||null==i||null==a||null==s)throw new l;const p=o<<2|i>>4;if(n.push(p),64!==a){const e=i<<4&240|a>>2;if(n.push(e),64!==s){const e=a<<6&192|s;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){const t=a(e);return s.encodeByteArray(t,!0)},c=function(e){return p(e).replace(/\./g,"")},u=function(e){try{return s.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)t.hasOwnProperty(r)&&"__proto__"!==r&&(e[r]=h(e[r],t[r]));return e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+e)}},m=e=>{var t,r;return null===(r=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},y=e=>{const t=m(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},v=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_"+e]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/"+r,aud:r,iat:n,exp:n+3600,auth_time:n,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(i)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function S(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function T(){return"undefined"!=typeof window||A()}function A(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function C(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function I(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function N(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function P(){return O().indexOf("Electron/")>=0}function R(){const e=O();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){return O().indexOf("MSAppHost/")>=0}function k(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN}function x(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch(e){return!1}}function L(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function F(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,o=this.errors[e],i=o?function(e,t){return e.replace(B,(e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`})}(o,r):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new M(n,a,r)}}const B=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){return JSON.parse(e)}function q(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(e){let t={},r={},n={},o="";try{const i=e.split(".");t=V(u(i[0])||""),r=V(u(i[1])||""),o=i[2],n=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:n,signature:o}},H=function(e){const t=G(e).claims,r=Math.floor((new Date).getTime()/1e3);let n=0,o=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?n=t.nbf:t.hasOwnProperty("iat")&&(n=t.iat),o=t.hasOwnProperty("exp")?t.exp:n+86400),!!r&&!!n&&!!o&&r>=n&&r<=o},z=function(e){const t=G(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},W=function(e){const t=G(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},J=function(e){const t=G(e).claims;return"object"==typeof t&&!0===t.admin};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t,r){const n={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=t.call(r,e[o],o,e));return n}function X(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const o of r){if(!n.includes(o))return!1;const r=e[o],i=t[o];if(Z(r)&&Z(i)){if(!X(r,i))return!1}else if(r!==i)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function Z(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e,t=2e3){const r=new E;return setTimeout(()=>r.reject("timeout!"),t),e.then(r.resolve,r.reject),r.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function re(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function ne(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=4294967295&(t<<1|t>>>31)}let n,o,i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],p=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^a&(s^l),o=1518500249):(n=a^s^l,o=1859775393):e<60?(n=a&s|l&(a|s),o=2400959708):(n=a^s^l,o=3395469782);const t=(i<<5|i>>>27)+n+p+o+r[e]&4294967295;p=l,l=s,s=4294967295&(a<<30|a>>>2),a=i,i=t}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let n=0;const o=this.buf_;let i=this.inbuf_;for(;n<t;){if(0===i)for(;n<=r;)this.compress_(e,n),n+=this.blockSize;if("string"==typeof e){for(;n<t;)if(o[i]=e.charCodeAt(n),++i,++n,i===this.blockSize){this.compress_(o),i=0;break}}else for(;n<t;)if(o[i]=e[n],++i,++n,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let t=0;t<5;t++)for(let n=24;n>=0;n-=8)e[r]=this.chain_[t]>>n&255,++r;return e}}function ie(e,t){const r=new ae(e,t);return r.subscribe.bind(r)}class ae{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=le),void 0===n.error&&(n.error=le),void 0===n.complete&&(n.complete=le);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function se(e,t){return(...r)=>{Promise.resolve(!0).then(()=>{e(...r)}).catch(e=>{t&&t(e)})}}function le(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=function(e,t,r,n){let o;if(n<t?o="at least "+t:n>r&&(o=0===r?"none":"no more than "+r),o){throw new Error(e+" failed: Was called with "+n+(1===n?" argument.":" arguments.")+" Expects "+o+".")}};function ce(e,t){return`${e} failed: ${t} argument `}function ue(e,t,r){if((!r||t)&&"string"!=typeof t)throw new Error(ce(e,"namespace")+"must be a valid firebase namespace.")}function de(e,t,r,n){if((!n||r)&&"function"!=typeof r)throw new Error(ce(e,t)+"must be a valid function.")}function he(e,t,r,n){if((!n||r)&&("object"!=typeof r||null===r))throw new Error(ce(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){const t=i-55296;n++,o(n<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(n)-56320)}i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):i<65536?(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t},ge=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t},me=144e5,ye=.5;function ve(e,t=1e3,r=2){const n=t*Math.pow(r,e),o=Math.round(ye*n*(Math.random()-.5)*2);return Math.min(me,n+o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(e){return Number.isFinite(e)?e+function(e){const t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";const r=e%10;if(1===r)return"st";if(2===r)return"nd";if(3===r)return"rd";return"th"}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e):""+e}function Ee(e){return e&&e._delegate?e._delegate:e}},function(e,t,r){"use strict";t.URL=r(450).interface,t.serializeURL=r(53).serializeURL,t.serializeURLOrigin=r(53).serializeURLOrigin,t.basicURLParse=r(53).basicURLParse,t.setTheUsername=r(53).setTheUsername,t.setThePassword=r(53).setThePassword,t.serializeHost=r(53).serializeHost,t.serializeInteger=r(53).serializeInteger,t.parseURL=r(53).parseURL},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FIREBASE_CONFIG_VAR=t.defaultAppStore=t.AppStore=void 0,t.initializeApp=function(e,r="[DEFAULT]"){return t.defaultAppStore.initializeApp(e,r)},t.getApp=p,t.getApps=function(){return t.defaultAppStore.getApps()},t.deleteApp=function(e){return t.defaultAppStore.deleteApp(e)};const n=r(17),o=r(4),i=r(2),a=r(62),s=r(505);class l{constructor(){this.appStore=new Map}initializeApp(e,r="[DEFAULT]"){if(void 0===e&&((e=function(){const e=process.env[t.FIREBASE_CONFIG_VAR];if(!o.isNonEmptyString(e))return{};try{const t=e.startsWith("{")?e:n.readFileSync(e,"utf8");return JSON.parse(t)}catch(e){throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_OPTIONS,"Failed to parse app options file: "+e)}}()).credential=(0,a.getApplicationDefault)()),"string"!=typeof r||""===r)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${r}" provided. App name must be a non-empty string.`);if(this.appStore.has(r))throw"[DEFAULT]"===r?new i.FirebaseAppError(i.AppErrorCodes.DUPLICATE_APP,"The default Firebase app already exists. This means you called initializeApp() more than once without providing an app name as the second argument. In most cases you only need to call initializeApp() once. But if you do want to initialize multiple apps, pass a second argument to initializeApp() to give each app a unique name."):new i.FirebaseAppError(i.AppErrorCodes.DUPLICATE_APP,`Firebase app named "${r}" already exists. This means you called initializeApp() more than once with the same app name as the second argument. Make sure you provide a unique name every time you call initializeApp().`);const l=new s.FirebaseApp(e,r,this);return this.appStore.set(l.name,l),l}getApp(e="[DEFAULT]"){if("string"!=typeof e||""===e)throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_APP_NAME,`Invalid Firebase app name "${e}" provided. App name must be a non-empty string.`);if(!this.appStore.has(e)){let t="[DEFAULT]"===e?"The default Firebase app does not exist. ":`Firebase app named "${e}" does not exist. `;throw t+="Make sure you call initializeApp() before using any of the Firebase services.",new i.FirebaseAppError(i.AppErrorCodes.NO_APP,t)}return this.appStore.get(e)}getApps(){return Array.from(this.appStore.values())}deleteApp(e){if("object"!=typeof e||null===e||!("options"in e))throw new i.FirebaseAppError(i.AppErrorCodes.INVALID_ARGUMENT,"Invalid app argument.");return p(e.name).delete()}clearAllApps(){const e=[];return this.getApps().forEach(t=>{e.push(this.deleteApp(t))}),Promise.all(e).then()}removeApp(e){this.appStore.delete(e)}}function p(e="[DEFAULT]"){return t.defaultAppStore.getApp(e)}t.AppStore=l,t.defaultAppStore=new l,t.FIREBASE_CONFIG_VAR="FIREBASE_CONFIG"},function(e,t){e.exports=require("punycode")},function(e,t,r){"use strict";var n,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GaxiosError=t.GAXIOS_ERROR_SYMBOL=void 0,t.defaultErrorRedactor=function e(t){const r="<<REDACTED> - See `errorRedactor` option in `gaxios` for configuration>.";function n(e){if(e)for(const t of Object.keys(e))/^authentication$/i.test(t)&&(e[t]=r),/^authorization$/i.test(t)&&(e[t]=r),/secret/i.test(t)&&(e[t]=r)}function o(e,t){if("object"==typeof e&&null!==e&&"string"==typeof e[t]){const n=e[t];(/grant_type=/i.test(n)||/assertion=/i.test(n)||/secret/i.test(n))&&(e[t]=r)}}function a(e){"object"==typeof e&&null!==e&&("grant_type"in e&&(e.grant_type=r),"assertion"in e&&(e.assertion=r),"client_secret"in e&&(e.client_secret=r))}if(t.config){n(t.config.headers),o(t.config,"data"),a(t.config.data),o(t.config,"body"),a(t.config.body);try{const e=new i.URL("",t.config.url);e.searchParams.has("token")&&e.searchParams.set("token",r),e.searchParams.has("client_secret")&&e.searchParams.set("client_secret",r),t.config.url=e.toString()}catch(e){}}t.response&&(e({config:t.response.config}),n(t.response.headers),o(t.response,"data"),a(t.response.data));return t};const i=r(11),a=r(457),s=o(r(118));t.GAXIOS_ERROR_SYMBOL=Symbol.for(a.pkg.name+"-gaxios-error");class l extends Error{static[(n=t.GAXIOS_ERROR_SYMBOL,Symbol.hasInstance)](e){return!(!e||"object"!=typeof e||!(t.GAXIOS_ERROR_SYMBOL in e)||e[t.GAXIOS_ERROR_SYMBOL]!==a.pkg.version)||Function.prototype[Symbol.hasInstance].call(l,e)}constructor(e,t,r,o){var i;if(super(e),this.config=t,this.response=r,this.error=o,this[n]=a.pkg.version,this.config=(0,s.default)(!0,{},t),this.response&&(this.response.config=(0,s.default)(!0,{},this.response.config)),this.response){try{this.response.data=function(e,t){switch(e){case"stream":return t;case"json":return JSON.parse(JSON.stringify(t));case"arraybuffer":return JSON.parse(Buffer.from(t).toString("utf8"));case"blob":return JSON.parse(t.text());default:return t}}(this.config.responseType,null===(i=this.response)||void 0===i?void 0:i.data)}catch(e){}this.status=this.response.status}o&&"code"in o&&o.code&&(this.code=o.code),t.errorRedactor&&t.errorRedactor({config:this.config,response:this.response})}}t.GaxiosError=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GaxiosInterceptorManager=void 0;class n extends Set{}t.GaxiosInterceptorManager=n},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(461):e.exports=r(463)},function(e,t,r){e.exports=function(e){function t(e){let r,o,i,a=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(462),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"use strict";r.r(t),r.d(t,"BigNumber",(function(){return v}));var n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",l=1e14,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],c=1e9;function u(e){var t=0|e;return e>0||e===t?t:t-1}function d(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function h(e,t){var r,n,o=e.c,i=t.c,a=e.s,s=t.s,l=e.e,p=t.e;if(!a||!s)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=l==p,!o||!i)return n?0:!o^r?1:-1;if(!n)return l>p^r?1:-1;for(s=(l=o.length)<(p=i.length)?l:p,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return l==p?0:l>p^r?1:-1}function f(e,t,r,n){if(e<t||e>r||e!==i(e))throw Error(a+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return u(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function y(e,t,r){var n,o;if(t<0){for(o=r+".";++t;o+=r);e=o+e}else if(++t>(n=e.length)){for(o=r,t-=n;--t;o+=r);e+=o}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var v=function e(t){var r,v,b,E,_,O,w,S,T,A=B.prototype={constructor:B,toString:null,valueOf:null},C=new B(1),I=20,N=4,P=-7,R=21,D=-1e7,k=1e7,x=!1,j=1,L=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},M="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function B(e,t){var r,o,a,l,p,c,u,d,h=this;if(!(h instanceof B))return new B(e,t);if(null==t){if(e&&!0===e._isBigNumber)return h.s=e.s,void(!e.c||e.e>k?h.c=h.e=null:e.e<D?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice()));if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,p=e;p>=10;p/=10,l++);return void(l>k?h.c=h.e=null:(h.e=l,h.c=[e]))}d=String(e)}else{if(!n.test(d=String(e)))return b(h,d,c);h.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(l=d.indexOf("."))>-1&&(d=d.replace(".","")),(p=d.search(/e/i))>0?(l<0&&(l=p),l+=+d.slice(p+1),d=d.substring(0,p)):l<0&&(l=d.length)}else{if(f(t,2,M.length,"Base"),10==t&&U)return H(h=new B(e),I+h.e+1,N);if(d=String(e),c="number"==typeof e){if(0*e!=0)return b(h,d,c,t);if(h.s=1/e<0?(d=d.slice(1),-1):1,B.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(s+e)}else h.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=M.slice(0,t),l=p=0,u=d.length;p<u;p++)if(r.indexOf(o=d.charAt(p))<0){if("."==o){if(p>l){l=u;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,p=-1,l=0;continue}return b(h,String(e),c,t)}c=!1,(l=(d=v(d,t,10,h.s)).indexOf("."))>-1?d=d.replace(".",""):l=d.length}for(p=0;48===d.charCodeAt(p);p++);for(u=d.length;48===d.charCodeAt(--u););if(d=d.slice(p,++u)){if(u-=p,c&&B.DEBUG&&u>15&&(e>9007199254740991||e!==i(e)))throw Error(s+h.s*e);if((l=l-p-1)>k)h.c=h.e=null;else if(l<D)h.c=[h.e=0];else{if(h.e=l,h.c=[],p=(l+1)%14,l<0&&(p+=14),p<u){for(p&&h.c.push(+d.slice(0,p)),u-=14;p<u;)h.c.push(+d.slice(p,p+=14));p=14-(d=d.slice(p)).length}else p-=u;for(;p--;d+="0");h.c.push(+d)}}else h.c=[h.e=0]}function V(e,t,r,n){var o,i,a,s,l;if(null==r?r=N:f(r,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)l=d(e.c),l=1==n||2==n&&(a<=P||a>=R)?m(l,a):y(l,a,"0");else if(i=(e=H(new B(e),t,r)).e,s=(l=d(e.c)).length,1==n||2==n&&(t<=i||i<=P)){for(;s<t;l+="0",s++);l=m(l,i)}else if(t-=a,l=y(l,i,"0"),i+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=i-s)>0)for(i+1==s&&(l+=".");t--;l+="0");return e.s<0&&o?"-"+l:l}function q(e,t){for(var r,n,o=1,i=new B(e[0]);o<e.length;o++)(!(n=new B(e[o])).s||(r=h(i,n))===t||0===r&&i.s===t)&&(i=n);return i}function G(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+14*r-1)>k?e.c=e.e=null:r<D?e.c=[e.e=0]:(e.e=r,e.c=t),e}function H(e,t,r,n){var a,s,c,u,d,h,f,g=e.c,m=p;if(g){e:{for(a=1,u=g[0];u>=10;u/=10,a++);if((s=t-a)<0)s+=14,c=t,d=g[h=0],f=i(d/m[a-c-1]%10);else if((h=o((s+1)/14))>=g.length){if(!n)break e;for(;g.length<=h;g.push(0));d=f=0,a=1,c=(s%=14)-14+1}else{for(d=u=g[h],a=1;u>=10;u/=10,a++);f=(c=(s%=14)-14+a)<0?0:i(d/m[a-c-1]%10)}if(n=n||t<0||null!=g[h+1]||(c<0?d:d%m[a-c-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(s>0?c>0?d/m[a-c]:0:g[h-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=m[(14-t%14)%14],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=h,u=1,h--):(g.length=h+1,u=m[14-s],g[h]=c>0?i(d/m[a-c]%m[c])*u:0),n)for(;;){if(0==h){for(s=1,c=g[0];c>=10;c/=10,s++);for(c=g[0]+=u,u=1;c>=10;c/=10,u++);s!=u&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[h]+=u,g[h]!=l)break;g[h--]=0,u=1}for(s=g.length;0===g[--s];g.pop());}e.e>k?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function z(e){var t,r=e.e;return null===r?e.toString():(t=d(e.c),t=r<=P||r>=R?m(t,r):y(t,r,"0"),e.s<0?"-"+t:t)}return B.clone=e,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(f(r=e[t],0,c,t),I=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(f(r=e[t],0,8,t),N=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(f(r[0],-c,0,t),f(r[1],0,c,t),P=r[0],R=r[1]):(f(r,-c,c,t),P=-(R=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)f(r[0],-c,-1,t),f(r[1],1,c,t),D=r[0],k=r[1];else{if(f(r,-c,c,t),!r)throw Error(a+t+" cannot be zero: "+r);D=-(k=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(a+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw x=!r,Error(a+"crypto unavailable");x=r}else x=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(f(r=e[t],0,9,t),j=r),e.hasOwnProperty(t="POW_PRECISION")&&(f(r=e[t],0,c,t),L=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(a+t+" not an object: "+r);F=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(a+t+" invalid: "+r);U="0123456789"==r.slice(0,10),M=r}}return{DECIMAL_PLACES:I,ROUNDING_MODE:N,EXPONENTIAL_AT:[P,R],RANGE:[D,k],CRYPTO:x,MODULO_MODE:j,POW_PRECISION:L,FORMAT:F,ALPHABET:M}},B.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!B.DEBUG)return!0;var t,r,n=e.c,o=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&o>=-c&&o<=c&&o===i(o)){if(0===n[0]){if(0===o&&1===n.length)return!0;break e}if((t=(o+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=l||r!==i(r))break e;if(0!==r)return!0}}}else if(null===n&&null===o&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},B.maximum=B.max=function(){return q(arguments,-1)},B.minimum=B.min=function(){return q(arguments,1)},B.random=(E=9007199254740992*Math.random()&2097151?function(){return i(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,s,l,u=0,d=[],h=new B(C);if(null==e?e=I:f(e,0,c),s=o(e/14),x)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));u<s;)(l=131072*t[u]+(t[u+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[u]=r[0],t[u+1]=r[1]):(d.push(l%1e14),u+=2);u=s/2}else{if(!crypto.randomBytes)throw x=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(s*=7);u<s;)(l=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(d.push(l%1e14),u+=7);u=s/7}if(!x)for(;u<s;)(l=E())<9e15&&(d[u++]=l%1e14);for(e%=14,(s=d[--u])&&e&&(l=p[14-e],d[u]=i(s/l)*l);0===d[u];d.pop(),u--);if(u<0)d=[n=0];else{for(n=-1;0===d[0];d.splice(0,1),n-=14);for(u=1,l=d[0];l>=10;l/=10,u++);u<14&&(n-=14-u)}return h.e=n,h.c=d,h}),B.sum=function(){for(var e=1,t=arguments,r=new B(t[0]);e<t.length;)r=r.plus(t[e++]);return r},v=function(){function e(e,t,r,n){for(var o,i,a=[0],s=0,l=e.length;s<l;){for(i=a.length;i--;a[i]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>r-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/r|0,a[o]%=r)}return a.reverse()}return function(t,n,o,i,a){var s,l,p,c,u,h,f,g,m=t.indexOf("."),v=I,b=N;for(m>=0&&(c=L,L=0,t=t.replace(".",""),h=(g=new B(n)).pow(t.length-m),L=c,g.c=e(y(d(h.c),h.e,"0"),10,o,"0123456789"),g.e=g.c.length),p=c=(f=e(t,n,o,a?(s=M,"0123456789"):(s="0123456789",M))).length;0==f[--c];f.pop());if(!f[0])return s.charAt(0);if(m<0?--p:(h.c=f,h.e=p,h.s=i,f=(h=r(h,g,v,b,o)).c,u=h.r,p=h.e),m=f[l=p+v+1],c=o/2,u=u||l<0||null!=f[l+1],u=b<4?(null!=m||u)&&(0==b||b==(h.s<0?3:2)):m>c||m==c&&(4==b||u||6==b&&1&f[l-1]||b==(h.s<0?8:7)),l<1||!f[0])t=u?y(s.charAt(1),-v,s.charAt(0)):s.charAt(0);else{if(f.length=l,u)for(--o;++f[--l]>o;)f[l]=0,l||(++p,f=[1].concat(f));for(c=f.length;!f[--c];);for(m=0,t="";m<=c;t+=s.charAt(f[m++]));t=y(t,p,s.charAt(0))}return t}}(),r=function(){function e(e,t,r){var n,o,i,a,s=0,l=e.length,p=t%1e7,c=t/1e7|0;for(e=e.slice();l--;)s=((o=p*(i=e[l]%1e7)+(n=c*i+(a=e[l]/1e7|0)*p)%1e7*1e7+s)/r|0)+(n/1e7|0)+c*a,e[l]=o%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function r(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,o,a,s,p){var c,d,h,f,g,m,y,v,b,E,_,O,w,S,T,A,C,I=n.s==o.s?1:-1,N=n.c,P=o.c;if(!(N&&N[0]&&P&&P[0]))return new B(n.s&&o.s&&(N?!P||N[0]!=P[0]:P)?N&&0==N[0]||!P?0*I:I/0:NaN);for(b=(v=new B(I)).c=[],I=a+(d=n.e-o.e)+1,p||(p=l,d=u(n.e/14)-u(o.e/14),I=I/14|0),h=0;P[h]==(N[h]||0);h++);if(P[h]>(N[h]||0)&&d--,I<0)b.push(1),f=!0;else{for(S=N.length,A=P.length,h=0,I+=2,(g=i(p/(P[0]+1)))>1&&(P=e(P,g,p),N=e(N,g,p),A=P.length,S=N.length),w=A,_=(E=N.slice(0,A)).length;_<A;E[_++]=0);C=P.slice(),C=[0].concat(C),T=P[0],P[1]>=p/2&&T++;do{if(g=0,(c=t(P,E,A,_))<0){if(O=E[0],A!=_&&(O=O*p+(E[1]||0)),(g=i(O/T))>1)for(g>=p&&(g=p-1),y=(m=e(P,g,p)).length,_=E.length;1==t(m,E,y,_);)g--,r(m,A<y?C:P,y,p),y=m.length,c=1;else 0==g&&(c=g=1),y=(m=P.slice()).length;if(y<_&&(m=[0].concat(m)),r(E,m,_,p),_=E.length,-1==c)for(;t(P,E,A,_)<1;)g++,r(E,A<_?C:P,_,p),_=E.length}else 0===c&&(g++,E=[0]);b[h++]=g,E[0]?E[_++]=N[w]||0:(E=[N[w]],_=1)}while((w++<S||null!=E[0])&&I--);f=null!=E[0],b[0]||b.splice(0,1)}if(p==l){for(h=1,I=b[0];I>=10;I/=10,h++);H(v,a+(v.e=h+14*d-1)+1,s,f)}else v.e=d,v.r=+f;return v}}(),_=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,w=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,T=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(e,t,r,n){var o,i=r?t:t.replace(T,"");if(S.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(_,(function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t})),n&&(o=n,i=i.replace(O,"$1").replace(w,"0.$1")),t!=i))return new B(i,o);if(B.DEBUG)throw Error(a+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return h(this,new B(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,n,o,i=this;if(null!=e)return f(e,0,c),null==t?t=N:f(t,0,8),H(new B(i),e+i.e+1,t);if(!(r=i.c))return null;if(n=14*((o=r.length-1)-u(this.e/14)),o=r[o])for(;o%10==0;o/=10,n--);return n<0&&(n=0),n},A.dividedBy=A.div=function(e,t){return r(this,new B(e,t),I,N)},A.dividedToIntegerBy=A.idiv=function(e,t){return r(this,new B(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,n,s,l,p,c,u,d,h=this;if((e=new B(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+z(e));if(null!=t&&(t=new B(t)),p=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return d=new B(Math.pow(+z(h),p?e.s*(2-g(e)):+z(e))),t?d.mod(t):d;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new B(NaN);(n=!c&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||p&&h.c[1]>=24e7:h.c[0]<8e13||p&&h.c[0]<=9999975e7)))return l=h.s<0&&g(e)?-0:0,h.e>-1&&(l=1/l),new B(c?1/l:l);L&&(l=o(L/14+2))}for(p?(r=new B(.5),c&&(e.s=1),u=g(e)):u=(s=Math.abs(+z(e)))%2,d=new B(C);;){if(u){if(!(d=d.times(h)).c)break;l?d.c.length>l&&(d.c.length=l):n&&(d=d.mod(t))}if(s){if(0===(s=i(s/2)))break;u=s%2}else if(H(e=e.times(r),e.e+1,1),e.e>14)u=g(e);else{if(0===(s=+z(e)))break;u=s%2}h=h.times(h),l?h.c&&h.c.length>l&&(h.c.length=l):n&&(h=h.mod(t))}return n?d:(c&&(d=C.div(d)),t?d.mod(t):l?H(d,L,N,void 0):d)},A.integerValue=function(e){var t=new B(this);return null==e?e=N:f(e,0,8),H(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===h(this,new B(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return h(this,new B(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=h(this,new B(e,t)))||0===t},A.isInteger=function(){return!!this.c&&u(this.e/14)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return h(this,new B(e,t))<0},A.isLessThanOrEqualTo=A.lte=function(e,t){return-1===(t=h(this,new B(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,n,o,i,a=this,s=a.s;if(t=(e=new B(e,t)).s,!s||!t)return new B(NaN);if(s!=t)return e.s=-t,a.plus(e);var p=a.e/14,c=e.e/14,d=a.c,h=e.c;if(!p||!c){if(!d||!h)return d?(e.s=-t,e):new B(h?a:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new B(d[0]?a:3==N?-0:0)}if(p=u(p),c=u(c),d=d.slice(),s=p-c){for((i=s<0)?(s=-s,o=d):(c=p,o=h),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(n=(i=(s=d.length)<(t=h.length))?s:t,s=t=0;t<n;t++)if(d[t]!=h[t]){i=d[t]<h[t];break}if(i&&(o=d,d=h,h=o,e.s=-e.s),(t=(n=h.length)-(r=d.length))>0)for(;t--;d[r++]=0);for(t=l-1;n>s;){if(d[--n]<h[n]){for(r=n;r&&!d[--r];d[r]=t);--d[r],d[n]+=l}d[n]-=h[n]}for(;0==d[0];d.splice(0,1),--c);return d[0]?G(e,d,c):(e.s=3==N?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var n,o,i=this;return e=new B(e,t),!i.c||!e.s||e.c&&!e.c[0]?new B(NaN):!e.c||i.c&&!i.c[0]?new B(i):(9==j?(o=e.s,e.s=1,n=r(i,e,0,3),e.s=o,n.s*=o):n=r(i,e,0,j),(e=i.minus(n.times(e))).c[0]||1!=j||(e.s=i.s),e)},A.multipliedBy=A.times=function(e,t){var r,n,o,i,a,s,p,c,d,h,f,g,m,y,v=this,b=v.c,E=(e=new B(e,t)).c;if(!(b&&E&&b[0]&&E[0]))return!v.s||!e.s||b&&!b[0]&&!E||E&&!E[0]&&!b?e.c=e.e=e.s=null:(e.s*=v.s,b&&E?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=u(v.e/14)+u(e.e/14),e.s*=v.s,(p=b.length)<(h=E.length)&&(m=b,b=E,E=m,o=p,p=h,h=o),o=p+h,m=[];o--;m.push(0));for(y=l,1e7,o=h;--o>=0;){for(r=0,f=E[o]%1e7,g=E[o]/1e7|0,i=o+(a=p);i>o;)r=((c=f*(c=b[--a]%1e7)+(s=g*c+(d=b[a]/1e7|0)*f)%1e7*1e7+m[i]+r)/y|0)+(s/1e7|0)+g*d,m[i--]=c%y;m[i]=r}return r?++n:m.splice(0,1),G(e,m,n)},A.negated=function(){var e=new B(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,n=this,o=n.s;if(t=(e=new B(e,t)).s,!o||!t)return new B(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/14,a=e.e/14,s=n.c,p=e.c;if(!i||!a){if(!s||!p)return new B(o/0);if(!s[0]||!p[0])return p[0]?e:new B(s[0]?n:0*o)}if(i=u(i),a=u(a),s=s.slice(),o=i-a){for(o>0?(a=i,r=p):(o=-o,r=s),r.reverse();o--;r.push(0));r.reverse()}for((o=s.length)-(t=p.length)<0&&(r=p,p=s,s=r,t=o),o=0;t;)o=(s[--t]=s[t]+p[t]+o)/l|0,s[t]=l===s[t]?0:s[t]%l;return o&&(s=[o].concat(s),++a),G(e,s,a)},A.precision=A.sd=function(e,t){var r,n,o,i=this;if(null!=e&&e!==!!e)return f(e,1,c),null==t?t=N:f(t,0,8),H(new B(i),e,t);if(!(r=i.c))return null;if(n=14*(o=r.length-1)+1,o=r[o]){for(;o%10==0;o/=10,n--);for(o=r[0];o>=10;o/=10,n++);}return e&&i.e+1>n&&(n=i.e+1),n},A.shiftedBy=function(e){return f(e,-9007199254740991,9007199254740991),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,n,o,i,a=this,s=a.c,l=a.s,p=a.e,c=I+4,h=new B("0.5");if(1!==l||!s||!s[0])return new B(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(l=Math.sqrt(+z(a)))||l==1/0?(((t=d(s)).length+p)%2==0&&(t+="0"),l=Math.sqrt(+t),p=u((p+1)/2)-(p<0||p%2),n=new B(t=l==1/0?"5e"+p:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+p)):n=new B(l+""),n.c[0])for((l=(p=n.e)+c)<3&&(l=0);;)if(i=n,n=h.times(i.plus(r(a,i,c,1))),d(i.c).slice(0,l)===(t=d(n.c)).slice(0,l)){if(n.e<p&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(H(n,n.e+I+2,1),e=!n.times(n).eq(a));break}if(!o&&(H(i,i.e+I+2,0),i.times(i).eq(a))){n=i;break}c+=4,l+=4,o=1}return H(n,n.e+I+1,N,e)},A.toExponential=function(e,t){return null!=e&&(f(e,0,c),e++),V(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(f(e,0,c),e=e+this.e+1),V(this,e,t)},A.toFormat=function(e,t,r){var n,o=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=F;else if("object"!=typeof r)throw Error(a+"Argument not an object: "+r);if(n=o.toFixed(e,t),o.c){var i,s=n.split("."),l=+r.groupSize,p=+r.secondaryGroupSize,c=r.groupSeparator||"",u=s[0],d=s[1],h=o.s<0,f=h?u.slice(1):u,g=f.length;if(p&&(i=l,l=p,p=i,g-=i),l>0&&g>0){for(i=g%l||l,u=f.substr(0,i);i<g;i+=l)u+=c+f.substr(i,l);p>0&&(u+=c+f.slice(i)),h&&(u="-"+u)}n=d?u+(r.decimalSeparator||"")+((p=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+p+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):u}return(r.prefix||"")+n+(r.suffix||"")},A.toFraction=function(e){var t,n,o,i,s,l,c,u,h,f,g,m,y=this,v=y.c;if(null!=e&&(!(c=new B(e)).isInteger()&&(c.c||1!==c.s)||c.lt(C)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+z(c));if(!v)return new B(y);for(t=new B(C),h=n=new B(C),o=u=new B(C),m=d(v),s=t.e=m.length-y.e-1,t.c[0]=p[(l=s%14)<0?14+l:l],e=!e||c.comparedTo(t)>0?s>0?t:h:c,l=k,k=1/0,c=new B(m),u.c[0]=0;f=r(c,t,0,1),1!=(i=n.plus(f.times(o))).comparedTo(e);)n=o,o=i,h=u.plus(f.times(i=h)),u=i,t=c.minus(f.times(i=t)),c=i;return i=r(e.minus(n),o,0,1),u=u.plus(i.times(h)),n=n.plus(i.times(o)),u.s=h.s=y.s,g=r(h,o,s*=2,N).minus(y).abs().comparedTo(r(u,n,s,N).minus(y).abs())<1?[h,o]:[u,n],k=l,g},A.toNumber=function(){return+z(this)},A.toPrecision=function(e,t){return null!=e&&f(e,1,c),V(this,e,t,2)},A.toString=function(e){var t,r=this,n=r.s,o=r.e;return null===o?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=o<=P||o>=R?m(d(r.c),o):y(d(r.c),o,"0"):10===e&&U?t=y(d((r=H(new B(r),I+o+1,N)).c),r.e,"0"):(f(e,2,M.length,"Base"),t=v(y(d(r.c),o,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return z(this)},A._isBigNumber=!0,A[Symbol.toStringTag]="BigNumber",A[Symbol.for("nodejs.util.inspect.custom")]=A.valueOf,null!=t&&B.set(t),B}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GCE_LINUX_BIOS_PATHS=void 0,t.isGoogleCloudServerless=a,t.isGoogleComputeEngineLinux=s,t.isGoogleComputeEngineMACAddress=l,t.isGoogleComputeEngine=p,t.detectGCPResidency=function(){return a()||p()};const n=r(17),o=r(67);t.GCE_LINUX_BIOS_PATHS={BIOS_DATE:"/sys/class/dmi/id/bios_date",BIOS_VENDOR:"/sys/class/dmi/id/bios_vendor"};const i=/^42:01/;function a(){return!!(process.env.CLOUD_RUN_JOB||process.env.FUNCTION_NAME||process.env.K_SERVICE)}function s(){if("linux"!==(0,o.platform)())return!1;try{(0,n.statSync)(t.GCE_LINUX_BIOS_PATHS.BIOS_DATE);const e=(0,n.readFileSync)(t.GCE_LINUX_BIOS_PATHS.BIOS_VENDOR,"utf8");return/Google/.test(e)}catch(e){return!1}}function l(){const e=(0,o.networkInterfaces)();for(const t of Object.values(e))if(t)for(const{mac:e}of t)if(i.test(e))return!0;return!1}function p(){return s()||l()}},function(e){e.exports=JSON.parse('{"name":"google-auth-library","version":"9.15.1","author":"Google Inc.","description":"Google APIs Authentication Client Library for Node.js","engines":{"node":">=14"},"main":"./build/src/index.js","types":"./build/src/index.d.ts","repository":"googleapis/google-auth-library-nodejs.git","keywords":["google","api","google apis","client","client library"],"dependencies":{"base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11","gaxios":"^6.1.1","gcp-metadata":"^6.1.0","gtoken":"^7.0.0","jws":"^4.0.0"},"devDependencies":{"@types/base64-js":"^1.2.5","@types/chai":"^4.1.7","@types/jws":"^3.1.0","@types/mocha":"^9.0.0","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.4.2","@types/sinon":"^17.0.0","assert-rejects":"^1.0.0","c8":"^8.0.0","chai":"^4.2.0","cheerio":"1.0.0-rc.12","codecov":"^3.0.2","engine.io":"6.6.2","gts":"^5.0.0","is-docker":"^2.0.0","jsdoc":"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0","karma":"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0","keypair":"^1.0.4","linkinator":"^4.0.0","mocha":"^9.2.2","mv":"^2.1.1","ncp":"^2.0.0","nock":"^13.0.0","null-loader":"^4.0.0","pdfmake":"0.2.12","puppeteer":"^21.0.0","sinon":"^18.0.0","ts-loader":"^8.0.0","typescript":"^5.1.6","webpack":"^5.21.2","webpack-cli":"^4.0.0"},"files":["build/src","!build/src/**/*.map"],"scripts":{"test":"c8 mocha build/test","clean":"gts clean","prepare":"npm run compile","lint":"gts check","compile":"tsc -p .","fix":"gts fix","pretest":"npm run compile -- --sourceMap","docs":"jsdoc -c .jsdoc.json","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile -- --sourceMap","webpack":"webpack","browser-test":"karma start","docs-test":"linkinator docs","predocs-test":"npm run docs","prelint":"cd samples; npm link ../; npm install","precompile":"gts clean"},"license":"Apache-2.0"}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compute=void 0;const n=r(30),o=r(117),i=r(83);class a extends i.OAuth2Client{constructor(e={}){super(e),this.credentials={expiry_date:1,refresh_token:"compute-placeholder"},this.serviceAccountEmail=e.serviceAccountEmail||"default",this.scopes=Array.isArray(e.scopes)?e.scopes:e.scopes?[e.scopes]:[]}async refreshTokenNoCache(e){const t=`service-accounts/${this.serviceAccountEmail}/token`;let r;try{const e={property:t};this.scopes.length>0&&(e.params={scopes:this.scopes.join(",")}),r=await o.instance(e)}catch(e){throw e instanceof n.GaxiosError&&(e.message="Could not refresh access token: "+e.message,this.wrapError(e)),e}const i=r;return r&&r.expires_in&&(i.expiry_date=(new Date).getTime()+1e3*r.expires_in,delete i.expires_in),this.emit("tokens",i),{tokens:i,res:null}}async fetchIdToken(e){const t=`service-accounts/${this.serviceAccountEmail}/identity?format=full&audience=`+e;let r;try{const e={property:t};r=await o.instance(e)}catch(e){throw e instanceof Error&&(e.message="Could not fetch ID token: "+e.message),e}return r}wrapError(e){const t=e.response;t&&t.status&&(e.status=t.status,403===t.status?e.message="A Forbidden error was returned while attempting to retrieve an access token for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have the correct permission scopes specified: "+e.message:404===t.status&&(e.message="A Not Found error was returned while attempting to retrieve an accesstoken for the Compute Engine built-in service account. This may be because the Compute Engine instance does not have any permission scopes specified: "+e.message))}}t.Compute=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginTicket=void 0;t.LoginTicket=class{constructor(e,t){this.envelope=e,this.payload=t}getEnvelope(){return this.envelope}getPayload(){return this.payload}getUserId(){const e=this.getPayload();return e&&e.sub?e.sub:null}getAttributes(){return{envelope:this.getEnvelope(),payload:this.getPayload()}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdTokenClient=void 0;const n=r(83);class o extends n.OAuth2Client{constructor(e){super(e),this.targetAudience=e.targetAudience,this.idTokenProvider=e.idTokenProvider}async getRequestMetadataAsync(e){if(!this.credentials.id_token||!this.credentials.expiry_date||this.isTokenExpiring()){const e=await this.idTokenProvider.fetchIdToken(this.targetAudience);this.credentials={id_token:e,expiry_date:this.getIdTokenExpiryDate(e)}}return{headers:{Authorization:"Bearer "+this.credentials.id_token}}}getIdTokenExpiryDate(e){const t=e.split(".")[1];if(t){return 1e3*JSON.parse(Buffer.from(t,"base64").toString("ascii")).exp}}}t.IdTokenClient=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GCPEnv=void 0,t.clear=function(){i=void 0},t.getEnv=async function(){if(i)return i;return i=async function(){let e=o.NONE;e=process.env.GAE_SERVICE||process.env.GAE_MODULE_NAME?o.APP_ENGINE:process.env.FUNCTION_NAME||process.env.FUNCTION_TARGET?o.CLOUD_FUNCTIONS:await async function(){return n.isAvailable()}()?await async function(){try{return await n.instance("attributes/cluster-name"),!0}catch(e){return!1}}()?o.KUBERNETES_ENGINE:process.env.K_CONFIGURATION?o.CLOUD_RUN:o.COMPUTE_ENGINE:o.NONE;return e}(),i};const n=r(117);var o;let i;!function(e){e.APP_ENGINE="APP_ENGINE",e.KUBERNETES_ENGINE="KUBERNETES_ENGINE",e.CLOUD_FUNCTIONS="CLOUD_FUNCTIONS",e.COMPUTE_ENGINE="COMPUTE_ENGINE",e.CLOUD_RUN="CLOUD_RUN",e.NONE="NONE"}(o||(t.GCPEnv=o={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWT=void 0;const n=r(483),o=r(262),i=r(83),a=r(54);class s extends i.OAuth2Client{constructor(e,t,r,n,o,i){const a=e&&"object"==typeof e?e:{email:e,keyFile:t,key:r,keyId:i,scopes:n,subject:o};super(a),this.email=a.email,this.keyFile=a.keyFile,this.key=a.key,this.keyId=a.keyId,this.scopes=a.scopes,this.subject=a.subject,this.additionalClaims=a.additionalClaims,this.credentials={refresh_token:"jwt-placeholder",expiry_date:1}}createScoped(e){const t=new s(this);return t.scopes=e,t}async getRequestMetadataAsync(e){e=this.defaultServicePath?`https://${this.defaultServicePath}/`:e;const t=!this.hasUserScopes()&&e||this.useJWTAccessWithScope&&this.hasAnyScopes()||this.universeDomain!==a.DEFAULT_UNIVERSE;if(this.subject&&this.universeDomain!==a.DEFAULT_UNIVERSE)throw new RangeError("Service Account user is configured for the credential. Domain-wide delegation is not supported in universes other than "+a.DEFAULT_UNIVERSE);if(!this.apiKey&&t){if(this.additionalClaims&&this.additionalClaims.target_audience){const{tokens:e}=await this.refreshToken();return{headers:this.addSharedMetadataHeaders({Authorization:"Bearer "+e.id_token})}}{let t;this.access||(this.access=new o.JWTAccess(this.email,this.key,this.keyId,this.eagerRefreshThresholdMillis)),this.hasUserScopes()?t=this.scopes:e||(t=this.defaultScopes);const r=this.useJWTAccessWithScope||this.universeDomain!==a.DEFAULT_UNIVERSE,n=await this.access.getRequestHeaders(null!=e?e:void 0,this.additionalClaims,r?t:void 0);return{headers:this.addSharedMetadataHeaders(n)}}}return this.hasAnyScopes()||this.apiKey?super.getRequestMetadataAsync(e):{headers:{}}}async fetchIdToken(e){const t=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:{target_audience:e},transporter:this.transporter});if(await t.getToken({forceRefresh:!0}),!t.idToken)throw new Error("Unknown error: Failed to fetch ID token");return t.idToken}hasUserScopes(){return!!this.scopes&&this.scopes.length>0}hasAnyScopes(){return!!(this.scopes&&this.scopes.length>0)||!!(this.defaultScopes&&this.defaultScopes.length>0)}authorize(e){if(!e)return this.authorizeAsync();this.authorizeAsync().then(t=>e(null,t),e)}async authorizeAsync(){const e=await this.refreshToken();if(!e)throw new Error("No result returned");return this.credentials=e.tokens,this.credentials.refresh_token="jwt-placeholder",this.key=this.gtoken.key,this.email=this.gtoken.iss,e.tokens}async refreshTokenNoCache(e){const t=this.createGToken(),r={access_token:(await t.getToken({forceRefresh:this.isTokenExpiring()})).access_token,token_type:"Bearer",expiry_date:t.expiresAt,id_token:t.idToken};return this.emit("tokens",r),{res:null,tokens:r}}createGToken(){return this.gtoken||(this.gtoken=new n.GoogleToken({iss:this.email,sub:this.subject,scope:this.scopes||this.defaultScopes,keyFile:this.keyFile,key:this.key,additionalClaims:this.additionalClaims,transporter:this.transporter})),this.gtoken}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{if(!e)throw new Error("Must pass in a stream containing the service account auth settings.");let n="";e.setEncoding("utf8").on("error",r).on("data",e=>n+=e).on("end",()=>{try{const e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}})})}fromAPIKey(e){if("string"!=typeof e)throw new Error("Must provide an API Key string.");this.apiKey=e}async getCredentials(){if(this.key)return{private_key:this.key,client_email:this.email};if(this.keyFile){const e=this.createGToken(),t=await e.getCredentials(this.keyFile);return{private_key:t.privateKey,client_email:t.clientEmail}}throw new Error("A key or a keyFile must be provided to getCredentials.")}}t.JWT=s},function(e,t,r){var n=r(484),o=r(485);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=o.verify,t.decode=o.decode,t.isValid=o.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new o(e)}},function(e,t,r){var n=r(47).Buffer,o=r(1);function i(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(6).inherits(i,o),i.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},i.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=i},function(e,t,r){var n=r(260),o=r(47).Buffer,i=r(0),a=r(162),s=r(6),l="secret must be a string or buffer",p="key must be a string or a buffer",c="function"==typeof i.createPublicKey;function u(e){if(!o.isBuffer(e)&&"string"!=typeof e){if(!c)throw g(p);if("object"!=typeof e)throw g(p);if("string"!=typeof e.type)throw g(p);if("string"!=typeof e.asymmetricKeyType)throw g(p);if("function"!=typeof e.export)throw g(p)}}function d(e){if(!o.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw g("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=s.format.bind(s,e).apply(null,t);return new TypeError(r)}function m(e){var t;return t=e,o.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!o.isBuffer(e)){if("string"==typeof e)return e;if(!c)throw g(l);if("object"!=typeof e)throw g(l);if("secret"!==e.type)throw g(l);if("function"!=typeof e.export)throw g(l)}}(r),t=m(t);var n=i.createHmac("sha"+e,r);return h((n.update(t),n.digest("base64")))}}function v(e){return function(t,r,i){var a=y(e)(t,i);return n(o.from(r),o.from(a))}}function b(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(r,"base64")))}}function E(e){return function(t,r,n){u(n),t=m(t),r=f(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify(n,r,"base64")}}function _(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function O(e){return function(t,r,n){u(n),t=m(t),r=f(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function w(e){var t=b(e);return function(){var r=t.apply(null,arguments);return r=a.derToJose(r,"ES"+e)}}function S(e){var t=E(e);return function(r,n,o){return n=a.joseToDer(n,"ES"+e).toString("base64"),t(r,n,o)}}function T(){return function(){return""}}function A(){return function(e,t){return""===t}}c&&(p+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t={hs:y,rs:b,ps:_,es:w,none:T},r={hs:v,rs:E,ps:O,es:S,none:A},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var o=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[o](i),verify:r[o](i)}}},function(e,t,r){"use strict";var n=r(18).Buffer,o=r(18).SlowBuffer;function i(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,o=0;o<e.length;o++)r|=e[o]^t[o];return 0===r}e.exports=i,i.install=function(){n.prototype.equal=o.prototype.equal=function(e){return i(this,e)}};var a=n.prototype.equal,s=o.prototype.equal;i.restore=function(){n.prototype.equal=a,o.prototype.equal=s}},function(e,t,r){var n=r(18).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWTAccess=void 0;const n=r(257),o=r(69),i={alg:"RS256",typ:"JWT"};class a{constructor(e,t,r,n){this.cache=new o.LRUCache({capacity:500,maxAge:36e5}),this.email=e,this.key=t,this.keyId=r,this.eagerRefreshThresholdMillis=null!=n?n:3e5}getCachedKey(e,t){let r=e;if(t&&Array.isArray(t)&&t.length?r=e?`${e}_${t.join("_")}`:""+t.join("_"):"string"==typeof t&&(r=e?`${e}_${t}`:t),!r)throw Error("Scopes or url must be provided");return r}getRequestHeaders(e,t,r){const o=this.getCachedKey(e,r),s=this.cache.get(o),l=Date.now();if(s&&s.expiration-l>this.eagerRefreshThresholdMillis)return s.headers;const p=Math.floor(Date.now()/1e3),c=a.getExpirationTime(p);let u;if(Array.isArray(r)&&(r=r.join(" ")),u=r?{iss:this.email,sub:this.email,scope:r,exp:c,iat:p}:{iss:this.email,sub:this.email,aud:e,exp:c,iat:p},t)for(const e in u)if(t[e])throw new Error(`The '${e}' property is not allowed when passing additionalClaims. This claim is included in the JWT by default.`);const d=this.keyId?{...i,kid:this.keyId}:i,h=Object.assign(u,t),f={Authorization:"Bearer "+n.sign({header:d,payload:h,secret:this.key})};return this.cache.set(o,{expiration:1e3*c,headers:f}),f}static getExpirationTime(e){return e+3600}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the service account auth settings.");if(!e.client_email)throw new Error("The incoming JSON object does not contain a client_email field");if(!e.private_key)throw new Error("The incoming JSON object does not contain a private_key field");this.email=e.client_email,this.key=e.private_key,this.keyId=e.private_key_id,this.projectId=e.project_id}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}fromStreamAsync(e){return new Promise((t,r)=>{e||r(new Error("Must pass in a stream containing the service account auth settings."));let n="";e.setEncoding("utf8").on("data",e=>n+=e).on("error",r).on("end",()=>{try{const e=JSON.parse(n);this.fromJSON(e),t()}catch(e){r(e)}})})}}t.JWTAccess=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserRefreshClient=t.USER_REFRESH_ACCOUNT_TYPE=void 0;const n=r(83),o=r(63);t.USER_REFRESH_ACCOUNT_TYPE="authorized_user";class i extends n.OAuth2Client{constructor(e,t,r,n,o){const i=e&&"object"==typeof e?e:{clientId:e,clientSecret:t,refreshToken:r,eagerRefreshThresholdMillis:n,forceRefreshOnFailure:o};super(i),this._refreshToken=i.refreshToken,this.credentials.refresh_token=i.refreshToken}async refreshTokenNoCache(e){return super.refreshTokenNoCache(this._refreshToken)}async fetchIdToken(e){return(await this.transporter.request({...i.RETRY_CONFIG,url:this.endpoints.oauth2TokenUrl,headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",data:(0,o.stringify)({client_id:this._clientId,client_secret:this._clientSecret,grant_type:"refresh_token",refresh_token:this._refreshToken,target_audience:e})})).data.id_token}fromJSON(e){if(!e)throw new Error("Must pass in a JSON object containing the user refresh token");if("authorized_user"!==e.type)throw new Error('The incoming JSON object does not have the "authorized_user" type');if(!e.client_id)throw new Error("The incoming JSON object does not contain a client_id field");if(!e.client_secret)throw new Error("The incoming JSON object does not contain a client_secret field");if(!e.refresh_token)throw new Error("The incoming JSON object does not contain a refresh_token field");this._clientId=e.client_id,this._clientSecret=e.client_secret,this._refreshToken=e.refresh_token,this.credentials.refresh_token=e.refresh_token,this.quotaProjectId=e.quota_project_id,this.universeDomain=e.universe_domain||this.universeDomain}fromStream(e,t){if(!t)return this.fromStreamAsync(e);this.fromStreamAsync(e).then(()=>t(),t)}async fromStreamAsync(e){return new Promise((t,r)=>{if(!e)return r(new Error("Must pass in a stream containing the user refresh token."));let n="";e.setEncoding("utf8").on("error",r).on("data",e=>n+=e).on("end",()=>{try{const e=JSON.parse(n);return this.fromJSON(e),t()}catch(e){return r(e)}})})}static fromJSON(e){const t=new i;return t.fromJSON(e),t}}t.UserRefreshClient=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Impersonated=t.IMPERSONATED_ACCOUNT_TYPE=void 0;const n=r(83),o=r(30),i=r(69);t.IMPERSONATED_ACCOUNT_TYPE="impersonated_service_account";class a extends n.OAuth2Client{constructor(e={}){var t,r,o,a,s,l;super(e),this.credentials={expiry_date:1,refresh_token:"impersonated-placeholder"},this.sourceClient=null!==(t=e.sourceClient)&&void 0!==t?t:new n.OAuth2Client,this.targetPrincipal=null!==(r=e.targetPrincipal)&&void 0!==r?r:"",this.delegates=null!==(o=e.delegates)&&void 0!==o?o:[],this.targetScopes=null!==(a=e.targetScopes)&&void 0!==a?a:[],this.lifetime=null!==(s=e.lifetime)&&void 0!==s?s:3600;if(!!(0,i.originalOrCamelOptions)(e).get("universe_domain")){if(this.sourceClient.universeDomain!==this.universeDomain)throw new RangeError(`Universe domain ${this.sourceClient.universeDomain} in source credentials does not match ${this.universeDomain} universe domain set for impersonated credentials.`)}else this.universeDomain=this.sourceClient.universeDomain;this.endpoint=null!==(l=e.endpoint)&&void 0!==l?l:"https://iamcredentials."+this.universeDomain}async sign(e){await this.sourceClient.getAccessToken();const t="projects/-/serviceAccounts/"+this.targetPrincipal,r=`${this.endpoint}/v1/${t}:signBlob`,n={delegates:this.delegates,payload:Buffer.from(e).toString("base64")};return(await this.sourceClient.request({...a.RETRY_CONFIG,url:r,data:n,method:"POST"})).data}getTargetPrincipal(){return this.targetPrincipal}async refreshToken(){var e,t,r,n,i,s;try{await this.sourceClient.getAccessToken();const e="projects/-/serviceAccounts/"+this.targetPrincipal,t=`${this.endpoint}/v1/${e}:generateAccessToken`,r={delegates:this.delegates,scope:this.targetScopes,lifetime:this.lifetime+"s"},n=await this.sourceClient.request({...a.RETRY_CONFIG,url:t,data:r,method:"POST"}),o=n.data;return this.credentials.access_token=o.accessToken,this.credentials.expiry_date=Date.parse(o.expireTime),{tokens:this.credentials,res:n}}catch(a){if(!(a instanceof Error))throw a;let l=0,p="";throw a instanceof o.GaxiosError&&(l=null===(r=null===(t=null===(e=null==a?void 0:a.response)||void 0===e?void 0:e.data)||void 0===t?void 0:t.error)||void 0===r?void 0:r.status,p=null===(s=null===(i=null===(n=null==a?void 0:a.response)||void 0===n?void 0:n.data)||void 0===i?void 0:i.error)||void 0===s?void 0:s.message),l&&p?(a.message=`${l}: unable to impersonate: ${p}`,a):(a.message="unable to impersonate: "+a,a)}}async fetchIdToken(e,t){var r,n;await this.sourceClient.getAccessToken();const o="projects/-/serviceAccounts/"+this.targetPrincipal,i=`${this.endpoint}/v1/${o}:generateIdToken`,s={delegates:this.delegates,audience:e,includeEmail:null===(r=null==t?void 0:t.includeEmail)||void 0===r||r,useEmailAzp:null===(n=null==t?void 0:t.includeEmail)||void 0===n||n};return(await this.sourceClient.request({...a.RETRY_CONFIG,url:i,data:s,method:"POST"})).data.token}}t.Impersonated=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalAccountClient=void 0;const n=r(70),o=r(268),i=r(269),a=r(163);t.ExternalAccountClient=class{constructor(){throw new Error("ExternalAccountClients should be initialized via: ExternalAccountClient.fromJSON(), directly via explicit constructors, eg. new AwsClient(options), new IdentityPoolClient(options), newPluggableAuthClientOptions, or via new GoogleAuth(options).getClient()")}static fromJSON(e,t){var r,s;return e&&e.type===n.EXTERNAL_ACCOUNT_TYPE?(null===(r=e.credential_source)||void 0===r?void 0:r.environment_id)?new i.AwsClient(e,t):(null===(s=e.credential_source)||void 0===s?void 0:s.executable)?new a.PluggableAuthClient(e,t):new o.IdentityPoolClient(e,t):null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StsCredentials=void 0;const n=r(30),o=r(63),i=r(121),a=r(267);class s extends a.OAuthClientAuthHandler{constructor(e,t){super(t),this.tokenExchangeEndpoint=e,this.transporter=new i.DefaultTransporter}async exchangeToken(e,t,r){var i,l,p;const c={grant_type:e.grantType,resource:e.resource,audience:e.audience,scope:null===(i=e.scope)||void 0===i?void 0:i.join(" "),requested_token_type:e.requestedTokenType,subject_token:e.subjectToken,subject_token_type:e.subjectTokenType,actor_token:null===(l=e.actingParty)||void 0===l?void 0:l.actorToken,actor_token_type:null===(p=e.actingParty)||void 0===p?void 0:p.actorTokenType,options:r&&JSON.stringify(r)};Object.keys(c).forEach(e=>{void 0===c[e]&&delete c[e]});const u={"Content-Type":"application/x-www-form-urlencoded"};Object.assign(u,t||{});const d={...s.RETRY_CONFIG,url:this.tokenExchangeEndpoint.toString(),method:"POST",headers:u,data:o.stringify(c),responseType:"json"};this.applyClientAuthenticationOptions(d);try{const e=await this.transporter.request(d),t=e.data;return t.res=e,t}catch(e){if(e instanceof n.GaxiosError&&e.response)throw(0,a.getErrorFromOAuthErrorResponse)(e.response.data,e);throw e}}}t.StsCredentials=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OAuthClientAuthHandler=void 0,t.getErrorFromOAuthErrorResponse=function(e,t){const r=e.error,n=e.error_description,o=e.error_uri;let i="Error code "+r;void 0!==n&&(i+=": "+n);void 0!==o&&(i+=" - "+o);const a=new Error(i);if(t){const e=Object.keys(t);t.stack&&e.push("stack"),e.forEach(e=>{"message"!==e&&Object.defineProperty(a,e,{value:t[e],writable:!1,enumerable:!0})})}return a};const n=r(63),o=r(100),i=["PUT","POST","PATCH"];t.OAuthClientAuthHandler=class{constructor(e){this.clientAuthentication=e,this.crypto=(0,o.createCrypto)()}applyClientAuthenticationOptions(e,t){this.injectAuthenticatedHeaders(e,t),t||this.injectAuthenticatedRequestBody(e)}injectAuthenticatedHeaders(e,t){var r;if(t)e.headers=e.headers||{},Object.assign(e.headers,{Authorization:`Bearer ${t}}`});else if("basic"===(null===(r=this.clientAuthentication)||void 0===r?void 0:r.confidentialClientType)){e.headers=e.headers||{};const t=this.clientAuthentication.clientId,r=this.clientAuthentication.clientSecret||"",n=this.crypto.encodeBase64StringUtf8(`${t}:${r}`);Object.assign(e.headers,{Authorization:"Basic "+n})}}injectAuthenticatedRequestBody(e){var t;if("request-body"===(null===(t=this.clientAuthentication)||void 0===t?void 0:t.confidentialClientType)){const t=(e.method||"GET").toUpperCase();if(-1===i.indexOf(t))throw new Error(t+" HTTP method does not support "+this.clientAuthentication.confidentialClientType+" client authentication");{let t;const r=e.headers||{};for(const e in r)if("content-type"===e.toLowerCase()&&r[e]){t=r[e].toLowerCase();break}if("application/x-www-form-urlencoded"===t){e.data=e.data||"";const t=n.parse(e.data);Object.assign(t,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""}),e.data=n.stringify(t)}else{if("application/json"!==t)throw new Error(t+" content-types are not supported with "+this.clientAuthentication.confidentialClientType+" client authentication");e.data=e.data||{},Object.assign(e.data,{client_id:this.clientAuthentication.clientId,client_secret:this.clientAuthentication.clientSecret||""})}}}}static get RETRY_CONFIG(){return{retry:!0,retryConfig:{httpMethodsToRetry:["GET","PUT","POST","HEAD","OPTIONS","DELETE"]}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityPoolClient=void 0;const n=r(70),o=r(69),i=r(486),a=r(487);class s extends n.BaseExternalAccountClient{constructor(e,t){super(e,t);const r=(0,o.originalOrCamelOptions)(e),n=r.get("credential_source"),l=r.get("subject_token_supplier");if(!n&&!l)throw new Error("A credential source or subject token supplier must be specified.");if(n&&l)throw new Error("Only one of credential source or subject token supplier can be specified.");if(l)this.subjectTokenSupplier=l,this.credentialSourceType="programmatic";else{const e=(0,o.originalOrCamelOptions)(n),t=(0,o.originalOrCamelOptions)(e.get("format")),r=t.get("type")||"text",l=t.get("subject_token_field_name");if("json"!==r&&"text"!==r)throw new Error(`Invalid credential_source format "${r}"`);if("json"===r&&!l)throw new Error("Missing subject_token_field_name for JSON credential_source format");const p=e.get("file"),c=e.get("url"),u=e.get("headers");if(p&&c)throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.');if(p&&!c)this.credentialSourceType="file",this.subjectTokenSupplier=new i.FileSubjectTokenSupplier({filePath:p,formatType:r,subjectTokenFieldName:l});else{if(p||!c)throw new Error('No valid Identity Pool "credential_source" provided, must be either file or url.');this.credentialSourceType="url",this.subjectTokenSupplier=new a.UrlSubjectTokenSupplier({url:c,formatType:r,subjectTokenFieldName:l,headers:u,additionalGaxiosOptions:s.RETRY_CONFIG})}}}async retrieveSubjectToken(){return this.subjectTokenSupplier.getSubjectToken(this.supplierContext)}}t.IdentityPoolClient=s},function(e,t,r){"use strict";var n,o,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.AwsClient=void 0;const a=r(270),s=r(70),l=r(488),p=r(69);class c extends s.BaseExternalAccountClient{constructor(e,t){super(e,t);const r=(0,p.originalOrCamelOptions)(e),a=r.get("credential_source"),s=r.get("aws_security_credentials_supplier");if(!a&&!s)throw new Error("A credential source or AWS security credentials supplier must be specified.");if(a&&s)throw new Error("Only one of credential source or AWS security credentials supplier can be specified.");if(s)this.awsSecurityCredentialsSupplier=s,this.regionalCredVerificationUrl=i(n,n,"f",o),this.credentialSourceType="programmatic";else{const e=(0,p.originalOrCamelOptions)(a);this.environmentId=e.get("environment_id");const t=e.get("region_url"),r=e.get("url"),n=e.get("imdsv2_session_token_url");this.awsSecurityCredentialsSupplier=new l.DefaultAwsSecurityCredentialsSupplier({regionUrl:t,securityCredentialsUrl:r,imdsV2SessionTokenUrl:n}),this.regionalCredVerificationUrl=e.get("regional_cred_verification_url"),this.credentialSourceType="aws",this.validateEnvironmentId()}this.awsRequestSigner=null,this.region=""}validateEnvironmentId(){var e;const t=null===(e=this.environmentId)||void 0===e?void 0:e.match(/^(aws)(\d+)$/);if(!t||!this.regionalCredVerificationUrl)throw new Error('No valid AWS "credential_source" provided');if(1!==parseInt(t[2],10))throw new Error(`aws version "${t[2]}" is not supported in the current build.`)}async retrieveSubjectToken(){this.awsRequestSigner||(this.region=await this.awsSecurityCredentialsSupplier.getAwsRegion(this.supplierContext),this.awsRequestSigner=new a.AwsRequestSigner(async()=>this.awsSecurityCredentialsSupplier.getAwsSecurityCredentials(this.supplierContext),this.region));const e=await this.awsRequestSigner.getRequestOptions({...n.RETRY_CONFIG,url:this.regionalCredVerificationUrl.replace("{region}",this.region),method:"POST"}),t=[],r=Object.assign({"x-goog-cloud-target-resource":this.audience},e.headers);for(const e in r)t.push({key:e,value:r[e]});return encodeURIComponent(JSON.stringify({url:e.url,method:e.method,headers:t}))}}t.AwsClient=c,n=c,o={value:"https://sts.{region}.amazonaws.com?Action=GetCallerIdentity&Version=2011-06-15"},c.AWS_EC2_METADATA_IPV4_ADDRESS="169.254.169.254",c.AWS_EC2_METADATA_IPV6_ADDRESS="fd00:ec2::254"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsRequestSigner=void 0;const n=r(100);async function o(e,t,r){return await e.signWithHmacSha256(t,r)}t.AwsRequestSigner=class{constructor(e,t){this.getCredentials=e,this.region=t,this.crypto=(0,n.createCrypto)()}async getRequestOptions(e){if(!e.url)throw new Error('"url" is required in "amzOptions"');const t="object"==typeof e.data?JSON.stringify(e.data):e.data,r=e.url,i=e.method||"GET",a=e.body||t,s=e.headers,l=await this.getCredentials(),p=new URL(r),c=await async function(e){const t=e.additionalAmzHeaders||{},r=e.requestPayload||"",i=e.host.split(".")[0],a=new Date,s=a.toISOString().replace(/[-:]/g,"").replace(/\.[0-9]+/,""),l=a.toISOString().replace(/[-]/g,"").replace(/T.*/,""),p={};Object.keys(t).forEach(e=>{p[e.toLowerCase()]=t[e]}),e.securityCredentials.token&&(p["x-amz-security-token"]=e.securityCredentials.token);const c=Object.assign({host:e.host},p.date?{}:{"x-amz-date":s},p);let u="";const d=Object.keys(c).sort();d.forEach(e=>{u+=`${e}:${c[e]}\n`});const h=d.join(";"),f=await e.crypto.sha256DigestHex(r),g=e.method+"\n"+e.canonicalUri+"\n"+e.canonicalQuerystring+"\n"+u+"\n"+h+"\n"+f,m=`${l}/${e.region}/${i}/aws4_request`,y="AWS4-HMAC-SHA256\n"+s+"\n"+m+"\n"+await e.crypto.sha256DigestHex(g),v=await async function(e,t,r,n,i){const a=await o(e,"AWS4"+t,r),s=await o(e,a,n),l=await o(e,s,i);return await o(e,l,"aws4_request")}(e.crypto,e.securityCredentials.secretAccessKey,l,e.region,i),b=await o(e.crypto,v,y),E=`AWS4-HMAC-SHA256 Credential=${e.securityCredentials.accessKeyId}/${m}, SignedHeaders=${h}, Signature=`+(0,n.fromArrayBufferToHex)(b);return{amzDate:p.date?void 0:s,authorizationHeader:E,canonicalQuerystring:e.canonicalQuerystring}}({crypto:this.crypto,host:p.host,canonicalUri:p.pathname,canonicalQuerystring:p.search.substr(1),method:i,region:this.region,securityCredentials:l,requestPayload:a,additionalAmzHeaders:s}),u=Object.assign(c.amzDate?{"x-amz-date":c.amzDate}:{},{Authorization:c.authorizationHeader,host:p.host},s||{});l.token&&Object.assign(u,{"x-amz-security-token":l.token});const d={url:r,method:i,headers:u};return void 0!==a&&(d.body=a),d}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidSubjectTokenError=t.InvalidMessageFieldError=t.InvalidCodeFieldError=t.InvalidTokenTypeFieldError=t.InvalidExpirationTimeFieldError=t.InvalidSuccessFieldError=t.InvalidVersionFieldError=t.ExecutableResponseError=t.ExecutableResponse=void 0;const n="urn:ietf:params:oauth:token-type:saml2";t.ExecutableResponse=class{constructor(e){if(!e.version)throw new i("Executable response must contain a 'version' field.");if(void 0===e.success)throw new a("Executable response must contain a 'success' field.");if(this.version=e.version,this.success=e.success,this.success){if(this.expirationTime=e.expiration_time,this.tokenType=e.token_type,this.tokenType!==n&&"urn:ietf:params:oauth:token-type:id_token"!==this.tokenType&&"urn:ietf:params:oauth:token-type:jwt"!==this.tokenType)throw new s(`Executable response must contain a 'token_type' field when successful and it must be one of urn:ietf:params:oauth:token-type:id_token, urn:ietf:params:oauth:token-type:jwt, or ${n}.`);if(this.tokenType===n){if(!e.saml_response)throw new c(`Executable response must contain a 'saml_response' field when token_type=${n}.`);this.subjectToken=e.saml_response}else{if(!e.id_token)throw new c("Executable response must contain a 'id_token' field when token_type=urn:ietf:params:oauth:token-type:id_token or urn:ietf:params:oauth:token-type:jwt.");this.subjectToken=e.id_token}}else{if(!e.code)throw new l("Executable response must contain a 'code' field when unsuccessful.");if(!e.message)throw new p("Executable response must contain a 'message' field when unsuccessful.");this.errorCode=e.code,this.errorMessage=e.message}}isValid(){return!this.isExpired()&&this.success}isExpired(){return void 0!==this.expirationTime&&this.expirationTime<Math.round(Date.now()/1e3)}};class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}t.ExecutableResponseError=o;class i extends o{}t.InvalidVersionFieldError=i;class a extends o{}t.InvalidSuccessFieldError=a;t.InvalidExpirationTimeFieldError=class extends o{};class s extends o{}t.InvalidTokenTypeFieldError=s;class l extends o{}t.InvalidCodeFieldError=l;class p extends o{}t.InvalidMessageFieldError=p;class c extends o{}t.InvalidSubjectTokenError=c},function(e,t,r){var n=r(5);r(8),n.cipher=n.cipher||{};var o=e.exports=n.cipher.modes=n.cipher.modes||{};function i(e,t){if("string"==typeof e&&(e=n.util.createBuffer(e)),n.util.isArray(e)&&e.length>4){var r=e;e=n.util.createBuffer();for(var o=0;o<r.length;++o)e.putByte(r[o])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!n.util.isArray(e)){var i=[],a=t/4;for(o=0;o<a;++o)i.push(e.getInt32());e=i}return e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}o.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.ecb.prototype.start=function(e){},o.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},o.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},o.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},o.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},o.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},o.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},o.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},o.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},o.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},o.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2)&&(e.truncate(n),!0)},o.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},o.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)this._inBlock[o]=e.getInt32()^this._outBlock[o],t.putInt32(this._inBlock[o]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialBlock[o]=e.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)this._inBlock[o]=e.getInt32(),t.putInt32(this._inBlock[o]^this._outBlock[o]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialBlock[o]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},o.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)t.putInt32(e.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i>0)e.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},o.ofb.prototype.decrypt=o.ofb.prototype.encrypt,o.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0},o.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=i(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},o.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var o=0;o<this._ints;++o)t.putInt32(e.getInt32()^this._outBlock[o]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},o.ctr.prototype.decrypt=o.ctr.prototype.encrypt,o.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=n.util.createBuffer(),this._partialBytes=0,this._R=3774873600},o.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=n.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?n.util.createBuffer(e.additionalData):n.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=n.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*o)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=n.util.createBuffer(t),this._aDataLength=s(8*t.length());var i=t.length()%this.blockSize;for(i&&t.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},o.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize){for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^=e.getInt32());this._cipherLength+=this.blockSize}else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(i<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},o.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^this._hashBlock[o]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize},o.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=n.util.createBuffer();var o=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,o);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},o.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),o=0;o<128;++o){e[o/32|0]&1<<31-o%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},o.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},o.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,o=this._m[r][n];t[0]^=o[0],t[1]^=o[1],t[2]^=o[2],t[3]^=o[3]}return t},o.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},o.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,o=16*r,i=new Array(o),a=0;a<o;++a){var s=[0,0,0,0],l=(n-1-a%n)*t;s[a/n|0]=1<<t-1<<l,i[a]=this.generateSubHashTable(this.multiply(s,e),t)}return i},o.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,o=new Array(r);o[n]=e.slice(0);for(var i=n>>>1;i>0;)this.pow(o[2*i],o[i]=[]),i>>=1;for(i=2;i<n;){for(var a=1;a<i;++a){var s=o[i],l=o[a];o[i+a]=[s[0]^l[0],s[1]^l[1],s[2]^l[2],s[3]^l[3]]}i*=2}for(o[0]=[0,0,0,0],i=n+1;i<r;++i){var p=o[i^n];o[i]=[e[0]^p[0],e[1]^p[1],e[2]^p[2],e[3]^p[3]]}return o}},function(e,t,r){var n=r(5);r(48),r(101),r(165),r(84),r(274),r(32),r(102),r(8);var o=function(e,t,r,o){var i=n.util.createBuffer(),a=e.length>>1,s=a+(1&e.length),l=e.substr(0,s),p=e.substr(a,s),c=n.util.createBuffer(),u=n.hmac.create();r=t+r;var d=Math.ceil(o/16),h=Math.ceil(o/20);u.start("MD5",l);var f=n.util.createBuffer();c.putBytes(r);for(var g=0;g<d;++g)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),f.putBuffer(u.digest());u.start("SHA1",p);var m=n.util.createBuffer();c.clear(),c.putBytes(r);for(g=0;g<h;++g)u.start(null,null),u.update(c.getBytes()),c.putBuffer(u.digest()),u.start(null,null),u.update(c.bytes()+r),m.putBuffer(u.digest());return i.putBytes(n.util.xorBytes(f.getBytes(),m.getBytes(),o)),i},i=function(e,t,r){var o=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(i),t.length=i.length,o=!0}catch(e){}return o},a=function(e,t,r){var o=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=n.util.createBuffer(i),t.length=i.length,o=!0}catch(e){}return o},s=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return n.util.createBuffer(e.getBytes(r))},l=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},p={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};p.SupportedVersions=[p.Versions.TLS_1_1,p.Versions.TLS_1_0],p.Version=p.SupportedVersions[0],p.MaxFragment=15360,p.ConnectionEnd={server:0,client:1},p.PRFAlgorithm={tls_prf_sha256:0},p.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},p.CipherType={stream:0,block:1,aead:2},p.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},p.CompressionMethod={none:0,deflate:1},p.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},p.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},p.Alert={},p.Alert.Level={warning:1,fatal:2},p.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},p.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},p.CipherSuites={},p.getCipherSuite=function(e){var t=null;for(var r in p.CipherSuites){var n=p.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},p.handleUnexpected=function(e,t){!e.open&&e.entity===p.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unexpected_message}})},p.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(p.queue(e,p.createAlert(e,{level:p.Alert.Level.warning,description:p.Alert.Description.no_renegotiation})),p.flush(e)),e.process()},p.parseHelloMessage=function(e,t,r){var o=null,i=e.entity===p.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});else{var a=t.fragment,l=a.length();if(o={version:{major:a.getByte(),minor:a.getByte()},random:n.util.createBuffer(a.getBytes(32)),session_id:s(a,1),extensions:[]},i?(o.cipher_suite=a.getBytes(2),o.compression_method=a.getByte()):(o.cipher_suites=s(a,2),o.compression_methods=s(a,1)),(l=r-(l-a.length()))>0){for(var c=s(a,2);c.length()>0;)o.extensions.push({type:[c.getByte(),c.getByte()],data:s(c,2)});if(!i)for(var u=0;u<o.extensions.length;++u){var d=o.extensions[u];if(0===d.type[0]&&0===d.type[1])for(var h=s(d.data,2);h.length()>0;){if(0!==h.getByte())break;e.session.extensions.server_name.serverNameList.push(s(h,2).getBytes())}}}if(e.session.version&&(o.version.major!==e.session.version.major||o.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=p.getCipherSuite(o.cipher_suite);else for(var f=n.util.createBuffer(o.cipher_suites.bytes());f.length()>0&&(e.session.cipherSuite=p.getCipherSuite(f.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.handshake_failure},cipherSuite:n.util.bytesToHex(o.cipher_suite)});e.session.compressionMethod=i?o.compression_method:p.CompressionMethod.none}return o},p.createSecurityParameters=function(e,t){var r=e.entity===p.ConnectionEnd.client,n=t.random.bytes(),o=r?e.session.sp.client_random:n,i=r?n:p.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:p.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:o,server_random:i}},p.handleServerHello=function(e,t,r){var n=p.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var o=n.session_id.bytes();o.length>0&&o===e.session.id?(e.expect=f,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=c,e.session.resuming=!1,p.createSecurityParameters(e,n)),e.session.id=o,e.process()}},p.handleClientHello=function(e,t,r){var o=p.parseHelloMessage(e,t,r);if(!e.fail){var i=o.session_id.bytes(),a=null;if(e.sessionCache&&(null===(a=e.sessionCache.getSession(i))?i="":(a.version.major!==o.version.major||a.version.minor>o.version.minor)&&(a=null,i="")),0===i.length&&(i=n.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=o.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,l=1;l<p.SupportedVersions.length&&!((s=p.SupportedVersions[l]).minor<=o.version.minor);++l);e.version={major:s.major,minor:s.minor},e.session.version=e.version}null!==a?(e.expect=_,e.session.resuming=!0,e.session.sp.client_random=o.random.bytes()):(e.expect=!1!==e.verifyClient?v:b,e.session.resuming=!1,p.createSecurityParameters(e,o)),e.open=!0,p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createServerHello(e)})),e.session.resuming?(p.queue(e,p.createRecord(e,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),e.state.pending=p.createConnectionState(e),e.state.current.write=e.state.pending.write,p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createFinished(e)}))):(p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createCertificate(e)})),e.fail||(p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createServerKeyExchange(e)})),!1!==e.verifyClient&&p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createCertificateRequest(e)})),p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createServerHelloDone(e)})))),p.flush(e),e.process()}},p.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var o,i,a=t.fragment,l={certificate_list:s(a,3)},c=[];try{for(;l.certificate_list.length()>0;)o=s(l.certificate_list,3),i=n.asn1.fromDer(o),o=n.pki.certificateFromAsn1(i,!0),c.push(o)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate}})}var d=e.entity===p.ConnectionEnd.client;!d&&!0!==e.verifyClient||0!==c.length?0===c.length?e.expect=d?u:b:(d?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],p.verifyCertificateChain(e,c)&&(e.expect=d?u:b)):e.error(e,{message:d?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}}),e.process()},p.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unsupported_certificate}});e.expect=d,e.process()},p.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unsupported_certificate}});var o=t.fragment,i={enc_pre_master_secret:s(o,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=n.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}})}if(null===a)return e.error(e,{message:"No private key set.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==l.pre_master_secret.charCodeAt(0)||c.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){l.pre_master_secret=n.random.getBytes(48)}e.expect=_,null!==e.session.clientCertificate&&(e.expect=E),e.process()},p.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var n=t.fragment,o={certificate_types:s(n,1),certificate_authorities:s(n,2)};e.session.certificateRequest=o,e.expect=h,e.process()},p.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var o=t.fragment;o.read-=4;var i=o.bytes();o.read+=4;var a={signature:s(o,2).getBytes()},l=n.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(l,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.handshake_failure}})}e.expect=_,e.process()},p.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.record_overflow}});if(null===e.serverCertificate){var o={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.insufficient_security}},i=e.verify(e,o.alert.description,0,[]);if(!0!==i)return(i||0===i)&&("object"!=typeof i||n.util.isArray(i)?"number"==typeof i&&(o.alert.description=i):(i.message&&(o.message=i.message),i.alert&&(o.alert.description=i.alert))),e.error(e,o)}null!==e.session.certificateRequest&&(t=p.createRecord(e,{type:p.ContentType.handshake,data:p.createCertificate(e)}),p.queue(e,t)),t=p.createRecord(e,{type:p.ContentType.handshake,data:p.createClientKeyExchange(e)}),p.queue(e,t),e.expect=y;var a=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createCertificateVerify(e,t)})),p.queue(e,p.createRecord(e,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),e.state.pending=p.createConnectionState(e),e.state.current.write=e.state.pending.write,p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createFinished(e)})),e.expect=f,p.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return a(e,null);p.getClientSignature(e,a)},p.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.illegal_parameter}});var r=e.entity===p.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=p.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?g:O,e.process()},p.handleFinished=function(e,t,r){var i=t.fragment;i.read-=4;var a=i.bytes();i.read+=4;var s=t.fragment.getBytes();(i=n.util.createBuffer()).putBuffer(e.session.md5.digest()),i.putBuffer(e.session.sha1.digest());var l=e.entity===p.ConnectionEnd.client,c=l?"server finished":"client finished",u=e.session.sp;if((i=o(u.master_secret,c,i.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&l||!e.session.resuming&&!l)&&(p.queue(e,p.createRecord(e,{type:p.ContentType.change_cipher_spec,data:p.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,p.queue(e,p.createRecord(e,{type:p.ContentType.handshake,data:p.createFinished(e)}))),e.expect=l?m:w,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,p.flush(e),e.isConnected=!0,e.connected(e),e.process()},p.handleAlert=function(e,t){var r,n=t.fragment,o={level:n.getByte(),description:n.getByte()};switch(o.description){case p.Alert.Description.close_notify:r="Connection closed.";break;case p.Alert.Description.unexpected_message:r="Unexpected message.";break;case p.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case p.Alert.Description.decryption_failed:r="Decryption failed.";break;case p.Alert.Description.record_overflow:r="Record overflow.";break;case p.Alert.Description.decompression_failure:r="Decompression failed.";break;case p.Alert.Description.handshake_failure:r="Handshake failure.";break;case p.Alert.Description.bad_certificate:r="Bad certificate.";break;case p.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case p.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case p.Alert.Description.certificate_expired:r="Certificate expired.";break;case p.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case p.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case p.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case p.Alert.Description.access_denied:r="Access denied.";break;case p.Alert.Description.decode_error:r="Decode error.";break;case p.Alert.Description.decrypt_error:r="Decrypt error.";break;case p.Alert.Description.export_restriction:r="Export restriction.";break;case p.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case p.Alert.Description.insufficient_security:r="Insufficient security.";break;case p.Alert.Description.internal_error:r="Internal error.";break;case p.Alert.Description.user_canceled:r="User canceled.";break;case p.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(o.description===p.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===p.ConnectionEnd.client?"server":"client",alert:o}),e.process()},p.handleHandshake=function(e,t){var r=t.fragment,o=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=n.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,o in M[e.entity][e.expect]?(e.entity!==p.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:n.md.md5.create(),sha1:n.md.sha1.create()}),o!==p.HandshakeType.hello_request&&o!==p.HandshakeType.certificate_verify&&o!==p.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),M[e.entity][e.expect][o](e,t,i)):p.handleUnexpected(e,t)},p.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},p.handleHeartbeat=function(e,t){var r=t.fragment,o=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(o===p.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>a.length)return e.process();p.queue(e,p.createRecord(e,{type:p.ContentType.heartbeat,data:p.createHeartbeat(p.HeartbeatMessageType.heartbeat_response,a)})),p.flush(e)}else if(o===p.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,n.util.createBuffer(a))}e.process()};var c=1,u=2,d=3,h=4,f=5,g=6,m=7,y=8,v=1,b=2,E=3,_=4,O=5,w=6,S=p.handleUnexpected,T=p.handleChangeCipherSpec,A=p.handleAlert,C=p.handleHandshake,I=p.handleApplicationData,N=p.handleHeartbeat,P=[];P[p.ConnectionEnd.client]=[[S,A,C,S,N],[S,A,C,S,N],[S,A,C,S,N],[S,A,C,S,N],[S,A,C,S,N],[T,A,S,S,N],[S,A,C,S,N],[S,A,C,I,N],[S,A,C,S,N]],P[p.ConnectionEnd.server]=[[S,A,C,S,N],[S,A,C,S,N],[S,A,C,S,N],[S,A,C,S,N],[T,A,S,S,N],[S,A,C,S,N],[S,A,C,I,N],[S,A,C,S,N]];var R=p.handleHelloRequest,D=p.handleServerHello,k=p.handleCertificate,x=p.handleServerKeyExchange,j=p.handleCertificateRequest,L=p.handleServerHelloDone,F=p.handleFinished,M=[];M[p.ConnectionEnd.client]=[[S,S,D,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,k,x,j,L,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,S,x,j,L,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,S,S,j,L,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,S,S,S,L,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F],[R,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[R,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]];var U=p.handleClientHello,B=p.handleClientKeyExchange,V=p.handleCertificateVerify;M[p.ConnectionEnd.server]=[[S,U,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,k,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,B,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,V,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,F],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],p.generateKeys=function(e,t){var r=o,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===p.Versions.TLS_1_0.major&&e.version.minor===p.Versions.TLS_1_0.minor;a&&(i+=2*t.fixed_iv_length);var s=r(t.master_secret,"key expansion",n,i),l={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(l.client_write_IV=s.getBytes(t.fixed_iv_length),l.server_write_IV=s.getBytes(t.fixed_iv_length)),l},p.createConnectionState=function(e){var t=e.entity===p.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}),!e.fail},e.session){var o=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(o),o.keys=p.generateKeys(e,o),n.read.macKey=t?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,n.write.macKey=t?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,o),o.compression_algorithm){case p.CompressionMethod.none:break;case p.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=i;break;default:throw new Error("Unsupported compression algorithm.")}}return n},p.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=n.util.createBuffer();return r.putInt32(t),r.putBytes(n.random.getBytes(28)),r},p.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},p.createAlert=function(e,t){var r=n.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),p.createRecord(e,{type:p.ContentType.alert,data:r})},p.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=n.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var o=e.cipherSuites[r];t.putByte(o.id[0]),t.putByte(o.id[1])}var i=t.length(),a=n.util.createBuffer();a.putByte(p.CompressionMethod.none);var s=a.length(),c=n.util.createBuffer();if(e.virtualHost){var u=n.util.createBuffer();u.putByte(0),u.putByte(0);var d=n.util.createBuffer();d.putByte(0),l(d,2,n.util.createBuffer(e.virtualHost));var h=n.util.createBuffer();l(h,2,d),l(u,2,h),c.putBuffer(u)}var f=c.length();f>0&&(f+=2);var g=e.session.id,m=g.length+1+2+4+28+2+i+1+s+f,y=n.util.createBuffer();return y.putByte(p.HandshakeType.client_hello),y.putInt24(m),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),l(y,1,n.util.createBuffer(g)),l(y,2,t),l(y,1,a),f>0&&l(y,2,c),y},p.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,o=n.util.createBuffer();return o.putByte(p.HandshakeType.server_hello),o.putInt24(r),o.putByte(e.version.major),o.putByte(e.version.minor),o.putBytes(e.session.sp.server_random),l(o,1,n.util.createBuffer(t)),o.putByte(e.session.cipherSuite.id[0]),o.putByte(e.session.cipherSuite.id[1]),o.putByte(e.session.compressionMethod),o},p.createCertificate=function(e){var t,r=e.entity===p.ConnectionEnd.client,o=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,o=e.getCertificate(e,t));var i=n.util.createBuffer();if(null!==o)try{n.util.isArray(o)||(o=[o]);for(var a=null,s=0;s<o.length;++s){var c=n.pem.decode(o[s])[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=c.type,u}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var d=n.util.createBuffer(c.body);null===a&&(a=n.asn1.fromDer(d.bytes(),!1));var h=n.util.createBuffer();l(h,3,d),i.putBuffer(h)}o=n.pki.certificateFromAsn1(a),r?e.session.clientCertificate=o:e.session.serverCertificate=o}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate}})}var f=3+i.length(),g=n.util.createBuffer();return g.putByte(p.HandshakeType.certificate),g.putInt24(f),l(g,3,i),g},p.createClientKeyExchange=function(e){var t=n.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(n.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var o=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,i=n.util.createBuffer();return i.putByte(p.HandshakeType.client_key_exchange),i.putInt24(o),i.putInt16(t.length),i.putBytes(t),i},p.createServerKeyExchange=function(e){var t=n.util.createBuffer();return t},p.getClientSignature=function(e,t){var r=n.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.clientCertificate),o=n.pki.privateKeyFromPem(o)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}})}null===o?e.error(e,{message:"No private key set.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.internal_error}}):t=o.sign(t,null),r(e,t)},e.getSignature(e,r,t)},p.createCertificateVerify=function(e,t){var r=t.length+2,o=n.util.createBuffer();return o.putByte(p.HandshakeType.certificate_verify),o.putInt24(r),o.putInt16(t.length),o.putBytes(t),o},p.createCertificateRequest=function(e){var t=n.util.createBuffer();t.putByte(1);var r=n.util.createBuffer();for(var o in e.caStore.certs){var i=e.caStore.certs[o],a=n.pki.distinguishedNameToAsn1(i.subject),s=n.asn1.toDer(a);r.putInt16(s.length()),r.putBuffer(s)}var c=1+t.length()+2+r.length(),u=n.util.createBuffer();return u.putByte(p.HandshakeType.certificate_request),u.putInt24(c),l(u,1,t),l(u,2,r),u},p.createServerHelloDone=function(e){var t=n.util.createBuffer();return t.putByte(p.HandshakeType.server_hello_done),t.putInt24(0),t},p.createChangeCipherSpec=function(){var e=n.util.createBuffer();return e.putByte(1),e},p.createFinished=function(e){var t=n.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===p.ConnectionEnd.client,i=e.session.sp,a=r?"client finished":"server finished";t=o(i.master_secret,a,t.getBytes(),12);var s=n.util.createBuffer();return s.putByte(p.HandshakeType.finished),s.putInt24(t.length()),s.putBuffer(t),s},p.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var o=n.util.createBuffer();o.putByte(e),o.putInt16(r),o.putBytes(t);var i=o.length(),a=Math.max(16,i-r-3);return o.putBytes(n.random.getBytes(a)),o},p.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==p.ContentType.handshake&&t.type!==p.ContentType.alert&&t.type!==p.ContentType.change_cipher_spec)){if(t.type===p.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var o;if(t.fragment.length()<=p.MaxFragment)o=[t];else{o=[];for(var i=t.fragment.bytes();i.length>p.MaxFragment;)o.push(p.createRecord(e,{type:t.type,data:n.util.createBuffer(i.slice(0,p.MaxFragment))})),i=i.slice(p.MaxFragment);i.length>0&&o.push(p.createRecord(e,{type:t.type,data:n.util.createBuffer(i)}))}for(var a=0;a<o.length&&!e.fail;++a){var s=o[a];e.state.current.write.update(e,s)&&e.records.push(s)}}},p.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var q=function(e){switch(e){case!0:return!0;case n.pki.certificateError.bad_certificate:return p.Alert.Description.bad_certificate;case n.pki.certificateError.unsupported_certificate:return p.Alert.Description.unsupported_certificate;case n.pki.certificateError.certificate_revoked:return p.Alert.Description.certificate_revoked;case n.pki.certificateError.certificate_expired:return p.Alert.Description.certificate_expired;case n.pki.certificateError.certificate_unknown:return p.Alert.Description.certificate_unknown;case n.pki.certificateError.unknown_ca:return p.Alert.Description.unknown_ca;default:return p.Alert.Description.bad_certificate}};for(var G in p.verifyCertificateChain=function(e,t){try{var r={};for(var o in e.verifyOptions)r[o]=e.verifyOptions[o];r.verify=function(t,r,o){q(t);var i=e.verify(e,t,r,o);if(!0!==i){if("object"==typeof i&&!n.util.isArray(i)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:p.Alert.Level.fatal,description:p.Alert.Description.bad_certificate},i.message&&(a.message=i.message),i.alert&&(a.alert.description=i.alert),a}i!==t&&(i=function(e){switch(e){case!0:return!0;case p.Alert.Description.bad_certificate:return n.pki.certificateError.bad_certificate;case p.Alert.Description.unsupported_certificate:return n.pki.certificateError.unsupported_certificate;case p.Alert.Description.certificate_revoked:return n.pki.certificateError.certificate_revoked;case p.Alert.Description.certificate_expired:return n.pki.certificateError.certificate_expired;case p.Alert.Description.certificate_unknown:return n.pki.certificateError.certificate_unknown;case p.Alert.Description.unknown_ca:return n.pki.certificateError.unknown_ca;default:return n.pki.certificateError.bad_certificate}}(i))}return i},n.pki.verifyCertificateChain(e.caStore,t,r)}catch(t){var i=t;("object"!=typeof i||n.util.isArray(i))&&(i={send:!0,alert:{level:p.Alert.Level.fatal,description:q(t)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:p.Alert.Level.fatal,description:q(i.error)}),e.error(e,i)}return!e.fail},p.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var o in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(o):delete e[o];r.getSession=function(e){var t=null,o=null;if(e?o=n.util.bytesToHex(e):r.order.length>0&&(o=r.order[0]),null!==o&&o in r.cache)for(var i in t=r.cache[o],delete r.cache[o],r.order)if(r.order[i]===o){r.order.splice(i,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var o=r.order.shift();delete r.cache[o]}o=n.util.bytesToHex(e);r.order.push(o),r.cache[o]=t}}return r},p.createConnection=function(e){var t=null;t=e.caStore?n.util.isArray(e.caStore)?n.pki.createCaStore(e.caStore):e.caStore:n.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var o in r=[],p.CipherSuites)r.push(p.CipherSuites[o]);var i=e.server?p.ConnectionEnd.server:p.ConnectionEnd.client,a=e.sessionCache?p.createSessionCache(e.sessionCache):null,s={version:{major:p.Version.major,minor:p.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:n.util.createBuffer(),tlsData:n.util.createBuffer(),data:n.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===p.ConnectionEnd.client?"client":"server"),r.send&&(p.queue(t,p.createAlert(t,r.alert)),p.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){s.version={major:p.Version.major,minor:p.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=(s.entity,p.ConnectionEnd.client,0),s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=p.createConnectionState(s)}};s.reset();return s.handshake=function(e){if(s.entity!==p.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:n.md.md5.create(),sha1:n.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=p.createRandom().getBytes(),s.open=!0,p.queue(s,p.createRecord(s,{type:p.ContentType.handshake,data:p.createClientHello(s)})),p.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=function(e){var t=0,r=e.input,o=r.length();if(o<5)t=5-o;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:n.util.createBuffer(),ready:!1};var i=e.record.version.major===e.version.major;i&&e.session&&e.session.version&&(i=e.record.version.minor===e.version.minor),i||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.protocol_version}})}return t}(s)),s.fail||null===s.record||s.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:p.Alert.Level.fatal,description:p.Alert.Description.unexpected_message}})),e.record.ready=!0));return t}(s)),!s.fail&&null!==s.record&&s.record.ready&&function(e,t){var r=t.type-p.ContentType.change_cipher_spec,n=P[e.entity][e.expect];r in n?n[r](e,t):p.handleUnexpected(e,t)}(s,s.record)),t},s.prepare=function(e){return p.queue(s,p.createRecord(s,{type:p.ContentType.application_data,data:n.util.createBuffer(e)})),p.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof n.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,p.queue(s,p.createRecord(s,{type:p.ContentType.heartbeat,data:p.createHeartbeat(p.HeartbeatMessageType.heartbeat_request,e,t)})),p.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,p.queue(s,p.createAlert(s,{level:p.Alert.Level.warning,description:p.Alert.Description.close_notify})),p.flush(s)),s.closed(s)),s.reset(e)},s},e.exports=n.tls=n.tls||{},p)"function"!=typeof p[G]&&(n.tls[G]=p[G]);n.tls.prf_tls1=o,n.tls.hmac_sha1=function(e,t,r){var o=n.hmac.create();o.start("SHA1",e);var i=n.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),o.update(i.getBytes()),o.digest().getBytes()},n.tls.createSessionCache=p.createSessionCache,n.tls.createConnection=p.createConnection},function(e,t,r){var n=r(5);r(48),r(72),r(275),r(84),r(166),r(281),r(168),r(123),r(8),r(167);var o=n.asn1,i=e.exports=n.pki=n.pki||{};i.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return n.util.createBuffer(t.body)},i.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=o.fromDer(t.body);return i.privateKeyFromAsn1(a)},i.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:o.toDer(i.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:o.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},function(e,t,r){var n=r(5);if(r(71),r(48),r(122),r(55),r(72),r(166),r(84),r(32),r(278),r(123),r(8),void 0===o)var o=n.jsbn.BigInteger;var i=n.asn1,a=n.pki=n.pki||{};e.exports=a.pbe=n.pbe=n.pbe||{};var s=a.oids,l={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},p={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};function u(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(e){if(!(t=a.oids[i.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return h(t)}function h(e){var t=n.md;switch(e){case"hmacWithSHA224":t=n.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var o,l,p,c=n.random.getBytesSync(r.saltSize),u=r.count,d=i.integerToDer(u);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var f,g,m;switch(r.algorithm){case"aes128":o=16,f=16,g=s["aes128-CBC"],m=n.aes.createEncryptionCipher;break;case"aes192":o=24,f=16,g=s["aes192-CBC"],m=n.aes.createEncryptionCipher;break;case"aes256":o=32,f=16,g=s["aes256-CBC"],m=n.aes.createEncryptionCipher;break;case"des":o=8,f=8,g=s.desCBC,m=n.des.createEncryptionCipher;break;default:throw(O=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,O}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),v=h(y),b=n.pkcs5.pbkdf2(t,c,u,o,v),E=n.random.getBytesSync(f);(w=m(b)).start(E),w.update(i.toDer(e)),w.finish(),p=w.output.getBytes();var _=function(e,t,r,o){var s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==o&&s.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,n.util.hexToBytes(r.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids[o]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return s}(c,d,o,y);l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.pkcs5PBKDF2).getBytes()),_]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(g).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,E)])])])}else{var O;if("3des"!==r.algorithm)throw(O=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,O;o=24;var w,S=new n.util.ByteBuffer(c);b=a.pbe.generatePkcs12Key(t,S,1,u,o),E=a.pbe.generatePkcs12Key(t,S,2,u,o);(w=n.des.createEncryptionCipher(b)).start(E),w.update(i.toDer(e)),w.finish(),p=w.output.getBytes(),l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,c),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,d.getBytes())])])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[l,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,p)])},a.decryptPrivateKeyInfo=function(e,t){var r=null,o={},s=[];if(!i.validate(e,l,o,s)){var p=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=s,p}var c=i.derToOid(o.encryptionOid),u=a.pbe.getCipher(c,o.encryptionParams,t),d=n.util.createBuffer(o.encryptedData);return u.update(d),u.finish()&&(r=i.fromDer(u.output)),r},a.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var o=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return o=a.encryptPrivateKeyInfo(o,t,r),a.encryptedPrivateKeyToPem(o)}var s,l,p,c;switch(r.algorithm){case"aes128":s="AES-128-CBC",p=16,l=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",p=24,l=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",p=32,l=n.random.getBytesSync(16),c=n.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",p=24,l=n.random.getBytesSync(8),c=n.des.createEncryptionCipher;break;case"des":s="DES-CBC",p=8,l=n.random.getBytesSync(8),c=n.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var d=c(n.pbe.opensslDeriveBytes(t,l.substr(0,8),p));d.start(l),d.update(i.toDer(a.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:n.util.bytesToHex(l).toUpperCase()},body:d.output.getBytes()};return n.pem.encode(h)},a.decryptRsaPrivateKey=function(e,t){var r=null,o=n.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==o.type&&"PRIVATE KEY"!==o.type&&"RSA PRIVATE KEY"!==o.type)throw(p=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=p,p;if(o.procType&&"ENCRYPTED"===o.procType.type){var s,l;switch(o.dekInfo.algorithm){case"DES-CBC":s=8,l=n.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,l=n.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,l=n.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,l=n.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,l=n.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,l=function(e){return n.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":s=8,l=function(e){return n.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":s=16,l=function(e){return n.rc2.createDecryptionCipher(e,128)};break;default:var p;throw(p=new Error('Could not decrypt private key; unsupported encryption algorithm "'+o.dekInfo.algorithm+'".')).algorithm=o.dekInfo.algorithm,p}var c=n.util.hexToBytes(o.dekInfo.parameters),u=l(n.pbe.opensslDeriveBytes(t,c.substr(0,8),s));if(u.start(c),u.update(n.util.createBuffer(o.body)),!u.finish())return r;r=u.output.getBytes()}else r=o.body;return null!==(r="ENCRYPTED PRIVATE KEY"===o.type?a.decryptPrivateKeyInfo(i.fromDer(r),t):i.fromDer(r))&&(r=a.privateKeyFromAsn1(r)),r},a.pbe.generatePkcs12Key=function(e,t,r,o,i,a){var s,l;if(null==a){if(!("sha1"in n.md))throw new Error('"sha1" hash algorithm unavailable.');a=n.md.sha1.create()}var p=a.digestLength,c=a.blockLength,u=new n.util.ByteBuffer,d=new n.util.ByteBuffer;if(null!=e){for(l=0;l<e.length;l++)d.putInt16(e.charCodeAt(l));d.putInt16(0)}var h=d.length(),f=t.length(),g=new n.util.ByteBuffer;g.fillWithByte(r,c);var m=c*Math.ceil(f/c),y=new n.util.ByteBuffer;for(l=0;l<m;l++)y.putByte(t.at(l%f));var v=c*Math.ceil(h/c),b=new n.util.ByteBuffer;for(l=0;l<v;l++)b.putByte(d.at(l%h));var E=y;E.putBuffer(b);for(var _=Math.ceil(i/p),O=1;O<=_;O++){var w=new n.util.ByteBuffer;w.putBytes(g.bytes()),w.putBytes(E.bytes());for(var S=0;S<o;S++)a.start(),a.update(w.getBytes()),w=a.digest();var T=new n.util.ByteBuffer;for(l=0;l<c;l++)T.putByte(w.at(l%p));var A=Math.ceil(f/c)+Math.ceil(h/c),C=new n.util.ByteBuffer;for(s=0;s<A;s++){var I=new n.util.ByteBuffer(E.getBytes(c)),N=511;for(l=T.length()-1;l>=0;l--)N>>=8,N+=T.at(l)+I.at(l),I.setAt(l,255&N);C.putBuffer(I)}E=C,u.putBuffer(w)}return u.truncate(u.length()-i),u},a.pbe.getCipher=function(e,t,r){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,r);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},a.pbe.getCipherForPBES2=function(e,t,r){var o,s={},l=[];if(!i.validate(t,p,s,l))throw(o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=l,o;if((e=i.derToOid(s.kdfOid))!==a.oids.pkcs5PBKDF2)throw(o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,o.supportedOids=["pkcs5PBKDF2"],o;if((e=i.derToOid(s.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o;var c,u,h=s.kdfSalt,f=n.util.createBuffer(s.kdfIterationCount);switch(f=f.getInt(f.length()<<3),a.oids[e]){case"aes128-CBC":c=16,u=n.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=n.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=n.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=n.des.createDecryptionCipher;break;case"desCBC":c=8,u=n.des.createDecryptionCipher}var g=d(s.prfOid),m=n.pkcs5.pbkdf2(r,h,f,c,g),y=s.encIv,v=u(m);return v.start(y),v},a.pbe.getCipherForPKCS12PBE=function(e,t,r){var o={},s=[];if(!i.validate(t,c,o,s))throw(g=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,g;var l,p,u,h=n.util.createBuffer(o.salt),f=n.util.createBuffer(o.iterations);switch(f=f.getInt(f.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,p=8,u=n.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,p=8,u=function(e,t){var r=n.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var g;throw(g=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,g}var m=d(o.prfOid),y=a.pbe.generatePkcs12Key(r,h,1,f,l,m);return m.start(),u(y,a.pbe.generatePkcs12Key(r,h,2,f,p,m))},a.pbe.opensslDeriveBytes=function(e,t,r,o){if(null==o){if(!("md5"in n.md))throw new Error('"md5" hash algorithm unavailable.');o=n.md.md5.create()}null===t&&(t="");for(var i=[u(o,e+t)],a=16,s=1;a<r;++s,a+=16)i.push(u(o,i[s-1]+e+t));return i.join("").substr(0,r)}},function(e,t,r){var n=r(5);r(55),r(8);var o=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=o,o.create=function(){a||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),o={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,i=0;i<r;++i)o.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},o}};return o.start(),o.update=function(i,a){"utf8"===a&&(i=n.util.encodeUtf8(i));var s=i.length;o.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var p=o.fullMessageLength.length-1;p>=0;--p)o.fullMessageLength[p]+=s[1],s[1]=s[0]+(o.fullMessageLength[p]/4294967296>>>0),o.fullMessageLength[p]=o.fullMessageLength[p]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(i),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s,p=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;a.putBytes(i.substr(0,o.blockLength-p));for(var c=8*o.fullMessageLength[0],u=0;u<o.fullMessageLength.length-1;++u)c+=(s=8*o.fullMessageLength[u+1])/4294967296>>>0,a.putInt32(c>>>0),c=s>>>0;a.putInt32(c);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};l(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h.putInt32(d.h5),h.putInt32(d.h6),h.putInt32(d.h7),h},o};var i=null,a=!1,s=null;function l(e,t,r){for(var n,o,i,a,l,p,c,u,d,h,f,g,m,y=r.length();y>=64;){for(l=0;l<16;++l)t[l]=r.getInt32();for(;l<64;++l)n=((n=t[l-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=((o=t[l-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,t[l]=n+t[l-7]+o+t[l-16]|0;for(p=e.h0,c=e.h1,u=e.h2,d=e.h3,h=e.h4,f=e.h5,g=e.h6,m=e.h7,l=0;l<64;++l)i=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),a=p&c|u&(p^c),n=m+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(g^h&(f^g))+s[l]+t[l],m=g,g=f,f=h,h=d+n>>>0,d=u,u=c,c=p,p=n+(o=i+a)>>>0;e.h0=e.h0+p|0,e.h1=e.h1+c|0,e.h2=e.h2+u|0,e.h3=e.h3+d|0,e.h4=e.h4+h|0,e.h5=e.h5+f|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,y-=64}}},function(e,t,r){var n=r(5);r(8);var o=null;!n.util.isNodejs||n.options.usePureJavaScript||process.versions["node-webkit"]||(o=r(0)),(e.exports=n.prng=n.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,i=new Array(32),a=0;a<32;++a)i[a]=r.create();function s(){if(t.pools[0].messageLength>=32)return l();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),l()}function l(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var o=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(o),t.generated=0}function p(e){var t=null,r=n.util.globalScope,o=r.crypto||r.msCrypto;o&&o.getRandomValues&&(t=function(e){return o.getRandomValues(e)});var i=n.util.createBuffer();if(t)for(;i.length()<e;){var a=Math.max(1,Math.min(e-i.length(),65536)/4),s=new Uint32Array(Math.floor(a));try{t(s);for(var l=0;l<s.length;++l)i.putInt32(s[l])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var p,c,u,d=Math.floor(65536*Math.random());i.length()<e;){c=16807*(65535&d),c+=(32767&(p=16807*(d>>16)))<<16,d=4294967295&(c=(2147483647&(c+=p>>15))+(c>>31));for(l=0;l<3;++l)u=d>>>(l<<3),u^=Math.floor(256*Math.random()),i.putByte(255&u)}return i.getBytes(e)}return t.pools=i,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var o=t.plugin.cipher,i=t.plugin.increment,a=t.plugin.formatKey,s=t.plugin.formatSeed,p=n.util.createBuffer();t.key=null,function c(u){if(u)return r(u);if(p.length()>=e)return r(null,p.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return n.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return l(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),l(),e()}))}(c)}));var d=o(t.key,t.seed);t.generated+=d.length,p.putBytes(d),t.key=a(o(t.key,i(t.seed))),t.seed=s(o(t.key,t.seed)),n.util.setImmediate(c)}()},t.generateSync=function(e){var r=t.plugin.cipher,o=t.plugin.increment,i=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var l=n.util.createBuffer();l.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&s();var p=r(t.key,t.seed);t.generated+=p.length,l.putBytes(p),t.key=i(r(t.key,o(t.seed))),t.seed=a(r(t.key,t.seed))}return l.getBytes(e)},o?(t.seedFile=function(e,t){o.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return o.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,p(e))}catch(e){t(e)}},t.seedFileSync=p),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",o=0;o<r;o+=8)n+=String.fromCharCode(e>>o&255);t.collect(n)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))}},t}},function(e,t,r){var n=r(5);r(8);var o=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},s=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,i=e,a=e.length(),s=t,l=Math.ceil(s/8),p=255>>(7&s);for(r=a;r<128;r++)i.putByte(o[i.at(r-1)+i.at(r-a)&255]);for(i.setAt(128-l,o[i.at(128-l)&p]),r=127-l;r>=0;r--)i.setAt(r,o[i.at(r+1)^i.at(r+l)]);return i};var l=function(e,t,r){var o,l,p,c,u=!1,d=null,h=null,f=null,g=[];for(e=n.rc2.expandKey(e,t),p=0;p<64;p++)g.push(e.getInt16Le());r?(o=function(e){for(p=0;p<4;p++)e[p]+=g[c]+(e[(p+3)%4]&e[(p+2)%4])+(~e[(p+3)%4]&e[(p+1)%4]),e[p]=a(e[p],i[p]),c++},l=function(e){for(p=0;p<4;p++)e[p]+=g[63&e[(p+3)%4]]}):(o=function(e){for(p=3;p>=0;p--)e[p]=s(e[p],i[p]),e[p]-=g[c]+(e[(p+3)%4]&e[(p+2)%4])+(~e[(p+3)%4]&e[(p+1)%4]),c--},l=function(e){for(p=3;p>=0;p--)e[p]-=g[63&e[(p+3)%4]]});var m=function(e){var t=[];for(p=0;p<4;p++){var n=d.getInt16Le();null!==f&&(r?n^=f.getInt16Le():f.putInt16Le(n)),t.push(65535&n)}c=r?0:63;for(var o=0;o<e.length;o++)for(var i=0;i<e[o][0];i++)e[o][1](t);for(p=0;p<4;p++)null!==f&&(r?f.putInt16Le(t[p]):t[p]^=f.getInt16Le()),h.putInt16Le(t[p])},y=null;return y={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),u=!1,d=n.util.createBuffer(),h=t||new n.util.createBuffer,f=e,y.output=h},update:function(e){for(u||d.putBuffer(e);d.length()>=8;)m([[5,o],[1,l],[6,o],[1,l],[5,o]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,d,!r);else{var n=8===d.length()?8:8-d.length();d.fillWithByte(n,n)}if(t&&(u=!0,y.update()),!r&&(t=0===d.length()))if(e)t=e(8,h,!r);else{var o=h.length(),i=h.at(o-1);i>o?t=!1:h.truncate(i)}return t}}};n.rc2.startEncrypting=function(e,t,r){var o=n.rc2.createEncryptionCipher(e,128);return o.start(t,r),o},n.rc2.createEncryptionCipher=function(e,t){return l(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var o=n.rc2.createDecryptionCipher(e,128);return o.start(t,r),o},n.rc2.createDecryptionCipher=function(e,t){return l(e,t,!1)}},function(e,t,r){var n=r(5);r(8),r(32),r(102);var o=e.exports=n.pkcs1=n.pkcs1||{};function i(e,t,r){r||(r=n.md.sha1.create());for(var o="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);r.start(),r.update(e+s),o+=r.digest().getBytes()}return o.substring(0,t)}o.encode_rsa_oaep=function(e,t,r){var o,a,s,l;"string"==typeof r?(o=r,a=arguments[3]||void 0,s=arguments[4]||void 0):r&&(o=r.label||void 0,a=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md)),s?s.start():s=n.md.sha1.create(),l||(l=s);var p=Math.ceil(e.n.bitLength()/8),c=p-2*s.digestLength-2;if(t.length>c)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=t.length,m.maxLength=c,m;o||(o=""),s.update(o,"raw");for(var u=s.digest(),d="",h=c-t.length,f=0;f<h;f++)d+="\0";var g=u.getBytes()+d+""+t;if(a){if(a.length!==s.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,m.digestLength=s.digestLength,m}}else a=n.random.getBytes(s.digestLength);var y=i(a,p-s.digestLength-1,l),v=n.util.xorBytes(g,y,g.length),b=i(v,s.digestLength,l),E=n.util.xorBytes(a,b,a.length);return"\0"+E+v},o.decode_rsa_oaep=function(e,t,r){var o,a,s;"string"==typeof r?(o=r,a=arguments[3]||void 0):r&&(o=r.label||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l)throw(v=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,v.expectedLength=l,v;if(void 0===a?a=n.md.sha1.create():a.start(),s||(s=a),l<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");o||(o=""),a.update(o,"raw");for(var p=a.digest().getBytes(),c=t.charAt(0),u=t.substring(1,a.digestLength+1),d=t.substring(1+a.digestLength),h=i(d,a.digestLength,s),f=n.util.xorBytes(u,h,u.length),g=i(f,l-a.digestLength-1,s),m=n.util.xorBytes(d,g,d.length),y=m.substring(0,a.digestLength),v="\0"!==c,b=0;b<a.digestLength;++b)v|=p.charAt(b)!==y.charAt(b);for(var E=1,_=a.digestLength,O=a.digestLength;O<m.length;O++){var w=m.charCodeAt(O),S=1&w^1,T=E?65534:0;v|=w&T,_+=E&=S}if(v||1!==m.charCodeAt(_))throw new Error("Invalid RSAES-OAEP padding.");return m.substring(_+1)}},function(e,t,r){var n=r(5);r(8),r(124),r(32),function(){if(n.prime)e.exports=n.prime;else{var t=e.exports=n.prime=n.prime||{},r=n.jsbn.BigInteger,o=[6,4,2,4,2,4,6,2],i=new r(null);i.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,o){"function"==typeof t&&(o=t,t={});var i=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof i&&(i={name:i}),i.options=i.options||{};var a=t.prng||n.random,p={nextBytes:function(e){for(var t=a.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===i.name)return function(e,t,o,i){if("workers"in o)return function(e,t,o,i){if("undefined"==typeof Worker)return s(e,t,o,i);var a=l(e,t),p=o.workers,c=o.workLoad||100,u=30*c/8,d=o.workerScript||"forge/prime.worker.js";if(-1===p)return n.util.estimateCores((function(e,t){e&&(t=2),p=t-1,h()}));function h(){p=Math.max(1,p);for(var n=[],o=0;o<p;++o)n[o]=new Worker(d);for(o=0;o<p;++o)n[o].addEventListener("message",h);var s=!1;function h(o){if(!s){0;var p=o.data;if(p.found){for(var d=0;d<n.length;++d)n[d].terminate();return s=!0,i(null,new r(p.prime,16))}a.bitLength()>e&&(a=l(e,t));var h=a.toString(16);o.target.postMessage({hex:h,workLoad:c}),a.dAddOffset(u,0)}}}h()}(e,t,o,i);return s(e,t,o,i)}(e,p,i.options,o);throw new Error("Invalid prime generation algorithm: "+i.name)}}function s(e,t,r,i){var a=l(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in r&&(s=r.millerRabinTests);var p=10;"maxBlockTime"in r&&(p=r.maxBlockTime),function e(t,r,i,a,s,p,c){var u=+new Date;do{if(t.bitLength()>r&&(t=l(r,i)),t.isProbablePrime(s))return c(null,t);t.dAddOffset(o[a++%8],0)}while(p<0||+new Date-u<p);n.util.setImmediate((function(){e(t,r,i,a,s,p,c)}))}(a,e,t,0,s,p,i)}function l(e,t){var n=new r(e,t),o=e-1;return n.testBit(o)||n.bitwiseTo(r.ONE.shiftLeft(o),a,n),n.dAddOffset(31-n.mod(i).byteValue(),0),n}}()},function(e,t,r){var n=r(5);r(48),r(101),r(72),r(282),r(275),r(32),r(123),r(102),r(8),r(167);var o=n.asn1,i=n.pki,a=e.exports=n.pkcs12=n.pkcs12||{},s={name:"ContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},l={name:"PFX",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:o.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},p={name:"SafeBag",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,capture:"values"}]},u={name:"CertBag",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:o.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:o.Class.UNIVERSAL,type:o.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function d(e,t,r,n){for(var o=[],i=0;i<e.length;i++)for(var a=0;a<e[i].safeBags.length;a++){var s=e[i].safeBags[a];void 0!==n&&s.type!==n||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&o.push(s):o.push(s))}return o}function h(e){if(e.composed||e.constructed){for(var t=n.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function f(e,t){var r={},a=[];if(!o.validate(e,n.pkcs7.asn1.encryptedDataValidator,r,a))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=a,s;var s,l=o.derToOid(r.contentType);if(l!==i.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=l,s;l=o.derToOid(r.encAlgorithm);var p=i.pbe.getCipher(l,r.encParameter,t),c=h(r.encryptedContentAsn1),u=n.util.createBuffer(c.value);if(p.update(u),!p.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return p.output.getBytes()}function g(e,t,r){if(!t&&0===e.length)return[];if((e=o.fromDer(e,t)).tagClass!==o.Class.UNIVERSAL||e.type!==o.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],a=0;a<e.value.length;a++){var s=e.value[a],l={},c=[];if(!o.validate(s,p,l,c))throw(y=new Error("Cannot read SafeBag.")).errors=c,y;var d,h,f={type:o.derToOid(l.bagId),attributes:m(l.bagAttributes)};n.push(f);var g=l.bagValue.value[0];switch(f.type){case i.oids.pkcs8ShroudedKeyBag:if(null===(g=i.decryptPrivateKeyInfo(g,r)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{f.key=i.privateKeyFromAsn1(g)}catch(e){f.key=null,f.asn1=g}continue;case i.oids.certBag:d=u,h=function(){if(o.derToOid(l.certId)!==i.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=o.derToOid(l.certId),e}var r=o.fromDer(l.cert,t);try{f.cert=i.certificateFromAsn1(r,!0)}catch(e){f.cert=null,f.asn1=r}};break;default:var y;throw(y=new Error("Unsupported PKCS#12 SafeBag type.")).oid=f.type,y}if(void 0!==d&&!o.validate(g,d,l,c))throw(y=new Error("Cannot read PKCS#12 "+d.name)).errors=c,y;h()}return n}function m(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!o.validate(e[r],c,n,a)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var l=o.derToOid(n.oid);if(void 0!==i.oids[l]){t[i.oids[l]]=[];for(var p=0;p<n.values.length;++p)t[i.oids[l]].push(n.values[p].value)}}return t}a.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var p={};if(!o.validate(e,l,p,[]))throw(c=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=c,c;var c,u={version:p.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=n.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=d(u.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=d(u.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=d(u.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return d(u.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return d(u.safeContents,"localKeyId",e,t)}};if(3!==p.version.charCodeAt(0))throw(c=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=p.version.charCodeAt(0),c;if(o.derToOid(p.contentType)!==i.oids.data)throw(c=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=o.derToOid(p.contentType),c;var m=p.content.value[0];if(m.tagClass!==o.Class.UNIVERSAL||m.type!==o.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=h(m),p.mac){var y=null,v=0,b=o.derToOid(p.macAlgorithm);switch(b){case i.oids.sha1:y=n.md.sha1.create(),v=20;break;case i.oids.sha256:y=n.md.sha256.create(),v=32;break;case i.oids.sha384:y=n.md.sha384.create(),v=48;break;case i.oids.sha512:y=n.md.sha512.create(),v=64;break;case i.oids.md5:y=n.md.md5.create(),v=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+b);var E=new n.util.ByteBuffer(p.macSalt),_="macIterations"in p?parseInt(n.util.bytesToHex(p.macIterations),16):1,O=a.generateKey(r,E,3,_,v,y),w=n.hmac.create();if(w.start(y,O),w.update(m.value),w.getMac().getBytes()!==p.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,r,n){if((t=o.fromDer(t,r)).tagClass!==o.Class.UNIVERSAL||t.type!==o.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var l=t.value[a],p={},c=[];if(!o.validate(l,s,p,c))throw(y=new Error("Cannot read ContentInfo.")).errors=c,y;var u={encrypted:!1},d=null,m=p.content.value[0];switch(o.derToOid(p.contentType)){case i.oids.data:if(m.tagClass!==o.Class.UNIVERSAL||m.type!==o.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=h(m).value;break;case i.oids.encryptedData:d=f(m,n),u.encrypted=!0;break;default:var y;throw(y=new Error("Unsupported PKCS#12 contentType.")).contentType=o.derToOid(p.contentType),y}u.safeBags=g(d,r,n),e.safeContents.push(u)}}(u,m.value,t,r),u},a.toPkcs12Asn1=function(e,t,r,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var l,p=s.localKeyId;if(null!==p)p=n.util.hexToBytes(p);else if(s.generateLocalKeyId)if(t){var c=n.util.isArray(t)?t[0]:t;"string"==typeof c&&(c=i.certificateFromPem(c)),(C=n.md.sha1.create()).update(o.toDer(i.certificateToAsn1(c)).getBytes()),p=C.digest().getBytes()}else p=n.random.getBytes(20);var u=[];null!==p&&u.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.localKeyId).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,p)])])),"friendlyName"in s&&u.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.friendlyName).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[o.create(o.Class.UNIVERSAL,o.Type.BMPSTRING,!1,s.friendlyName)])])),u.length>0&&(l=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,u));var d=[],h=[];null!==t&&(h=n.util.isArray(t)?t:[t]);for(var f=[],g=0;g<h.length;++g){"string"==typeof(t=h[g])&&(t=i.certificateFromPem(t));var m=0===g?l:void 0,y=i.certificateToAsn1(t),v=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.certBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.x509Certificate).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(y).getBytes())])])]),m]);f.push(v)}if(f.length>0){var b=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,f),E=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(b).getBytes())])]);d.push(E)}var _=null;if(null!==e){var O=i.wrapRsaPrivateKey(i.privateKeyToAsn1(e));_=null===r?o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.keyBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[O]),l]):o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[i.encryptPrivateKeyInfo(O,r,s)]),l]);var w=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[_]),S=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(w).getBytes())])]);d.push(S)}var T,A=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,d);if(s.useMac){var C=n.md.sha1.create(),I=new n.util.ByteBuffer(n.random.getBytes(s.saltSize)),N=s.count,P=(e=a.generateKey(r,I,3,N,20),n.hmac.create());P.start(C,e),P.update(o.toDer(A).getBytes());var R=P.getMac();T=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.sha1).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,R.getBytes())]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,I.getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(N).getBytes())])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(3).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(i.oids.data).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(A).getBytes())])]),T])},a.generateKey=n.pbe.generatePkcs12Key},function(e,t,r){var n=r(5);r(48),r(8);var o=n.asn1,i=e.exports=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=i;var a={name:"ContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=a;var s={name:"EncryptedContentInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},i.encryptedDataValidator={name:"EncryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var l={name:"SignerInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:o.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:o.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:o.Class.UNIVERSAL,type:o.Type.SET,capture:"signerInfos",optional:!0,value:[l]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:o.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,r){var n=r(5);r(8),n.mgf=n.mgf||{},(e.exports=n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var o=new n.util.ByteBuffer,i=Math.ceil(r/e.digestLength),a=0;a<i;a++){var s=new n.util.ByteBuffer;s.putInt32(a),e.start(),e.update(t+s.getBytes()),o.putBuffer(e.digest())}return o.truncate(o.length()-r),o.getBytes()}}}},function(e,t,r){var n=r(5);r(55),r(8);var o=e.exports=n.sha512=n.sha512||{};n.md.sha512=n.md.algorithms.sha512=o;var i=n.sha384=n.sha512.sha384=n.sha512.sha384||{};i.create=function(){return o.create("SHA-384")},n.md.sha384=n.md.algorithms.sha384=i,n.sha512.sha256=n.sha512.sha256||{create:function(){return o.create("SHA-512/256")}},n.md["sha512/256"]=n.md.algorithms["sha512/256"]=n.sha512.sha256,n.sha512.sha224=n.sha512.sha224||{create:function(){return o.create("SHA-512/224")}},n.md["sha512/224"]=n.md.algorithms["sha512/224"]=n.sha512.sha224,o.create=function(e){if(s||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),128),l=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(p={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],p["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],p["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],p["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in p))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=p[e],r=null,o=n.util.createBuffer(),i=new Array(80),u=0;u<80;++u)i[u]=new Array(2);var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){h.messageLength=0,h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,i=0;i<e;++i)h.fullMessageLength.push(0);o=n.util.createBuffer(),r=new Array(t.length);for(i=0;i<t.length;++i)r[i]=t[i].slice(0);return h}};return h.start(),h.update=function(e,t){"utf8"===t&&(e=n.util.encodeUtf8(e));var a=e.length;h.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=h.fullMessageLength.length-1;s>=0;--s)h.fullMessageLength[s]+=a[1],a[1]=a[0]+(h.fullMessageLength[s]/4294967296>>>0),h.fullMessageLength[s]=h.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return o.putBytes(e),c(r,i,o),(o.read>2048||0===o.length())&&o.compact(),h},h.digest=function(){var t=n.util.createBuffer();t.putBytes(o.bytes());var s,l=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1;t.putBytes(a.substr(0,h.blockLength-l));for(var p=8*h.fullMessageLength[0],u=0;u<h.fullMessageLength.length-1;++u)p+=(s=8*h.fullMessageLength[u+1])/4294967296>>>0,t.putInt32(p>>>0),p=s>>>0;t.putInt32(p);var d=new Array(r.length);for(u=0;u<r.length;++u)d[u]=r[u].slice(0);c(d,i,t);var f,g=n.util.createBuffer();f="SHA-512"===e?d.length:"SHA-384"===e?d.length-2:d.length-4;for(u=0;u<f;++u)g.putInt32(d[u][0]),u===f-1&&"SHA-512/224"===e||g.putInt32(d[u][1]);return g},h};var a=null,s=!1,l=null,p=null;function c(e,t,r){for(var n,o,i,a,s,p,c,u,d,h,f,g,m,y,v,b,E,_,O,w,S,T,A,C,I,N,P,R,D,k,x,j,L,F=r.length();F>=128;){for(P=0;P<16;++P)t[P][0]=r.getInt32()>>>0,t[P][1]=r.getInt32()>>>0;for(;P<80;++P)n=(((R=(k=t[P-2])[0])>>>19|(D=k[1])<<13)^(D>>>29|R<<3)^R>>>6)>>>0,o=((R<<13|D>>>19)^(D<<3|R>>>29)^(R<<26|D>>>6))>>>0,i=(((R=(j=t[P-15])[0])>>>1|(D=j[1])<<31)^(R>>>8|D<<24)^R>>>7)>>>0,a=((R<<31|D>>>1)^(R<<24|D>>>8)^(R<<25|D>>>7))>>>0,x=t[P-7],L=t[P-16],D=o+x[1]+a+L[1],t[P][0]=n+x[0]+i+L[0]+(D/4294967296>>>0)>>>0,t[P][1]=D>>>0;for(f=e[0][0],g=e[0][1],m=e[1][0],y=e[1][1],v=e[2][0],b=e[2][1],E=e[3][0],_=e[3][1],O=e[4][0],w=e[4][1],S=e[5][0],T=e[5][1],A=e[6][0],C=e[6][1],I=e[7][0],N=e[7][1],P=0;P<80;++P)c=((O>>>14|w<<18)^(O>>>18|w<<14)^(w>>>9|O<<23))>>>0,u=(A^O&(S^A))>>>0,s=((f>>>28|g<<4)^(g>>>2|f<<30)^(g>>>7|f<<25))>>>0,p=((f<<4|g>>>28)^(g<<30|f>>>2)^(g<<25|f>>>7))>>>0,d=(f&m|v&(f^m))>>>0,h=(g&y|b&(g^y))>>>0,D=N+(((O<<18|w>>>14)^(O<<14|w>>>18)^(w<<23|O>>>9))>>>0)+((C^w&(T^C))>>>0)+l[P][1]+t[P][1],n=I+c+u+l[P][0]+t[P][0]+(D/4294967296>>>0)>>>0,o=D>>>0,i=s+d+((D=p+h)/4294967296>>>0)>>>0,a=D>>>0,I=A,N=C,A=S,C=T,S=O,T=w,O=E+n+((D=_+o)/4294967296>>>0)>>>0,w=D>>>0,E=v,_=b,v=m,b=y,m=f,y=g,f=n+i+((D=o+a)/4294967296>>>0)>>>0,g=D>>>0;D=e[0][1]+g,e[0][0]=e[0][0]+f+(D/4294967296>>>0)>>>0,e[0][1]=D>>>0,D=e[1][1]+y,e[1][0]=e[1][0]+m+(D/4294967296>>>0)>>>0,e[1][1]=D>>>0,D=e[2][1]+b,e[2][0]=e[2][0]+v+(D/4294967296>>>0)>>>0,e[2][1]=D>>>0,D=e[3][1]+_,e[3][0]=e[3][0]+E+(D/4294967296>>>0)>>>0,e[3][1]=D>>>0,D=e[4][1]+w,e[4][0]=e[4][0]+O+(D/4294967296>>>0)>>>0,e[4][1]=D>>>0,D=e[5][1]+T,e[5][0]=e[5][0]+S+(D/4294967296>>>0)>>>0,e[5][1]=D>>>0,D=e[6][1]+C,e[6][0]=e[6][0]+A+(D/4294967296>>>0)>>>0,e[6][1]=D>>>0,D=e[7][1]+N,e[7][0]=e[7][0]+I+(D/4294967296>>>0)>>>0,e[7][1]=D>>>0,F-=128}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.applicationDefault=function(e){void 0===o&&(o=(0,n.getApplicationDefault)(e));return o},t.cert=function(e,t){const r=JSON.stringify(e);r in i||(i[r]=new n.ServiceAccountCredential(e,t));return i[r]},t.refreshToken=function(e,t){const r=JSON.stringify(e);r in a||(a[r]=new n.RefreshTokenCredential(e,t));return a[r]},t.clearGlobalAppDefaultCred=function(){o=void 0};const n=r(62);let o;const i={},a={}},function(e,t,r){"use strict";const n=r(1).Writable,o=r(68).inherits,i=r(287),a=r(508),s=r(509),l=Buffer.from("-"),p=Buffer.from("\r\n"),c=function(){};function u(e){if(!(this instanceof u))return new u(e);if(n.call(this,e),!e||!e.headerFirst&&"string"!=typeof e.boundary)throw new TypeError("Boundary required");"string"==typeof e.boundary?this.setBoundary(e.boundary):this._bparser=void 0,this._headerFirst=e.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:e.partHwm},this._pause=!1;const t=this;this._hparser=new s(e),this._hparser.on("header",(function(e){t._inHeader=!1,t._part.emit("header",e)}))}o(u,n),u.prototype.emit=function(e){if("finish"!==e||this._realFinish)n.prototype.emit.apply(this,arguments);else if(!this._finished){const e=this;process.nextTick((function(){if(e.emit("error",new Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){const t=e._isPreamble?"Preamble":"Part";return e._part.emit("error",new Error(t+" terminated early due to unexpected end of multipart data")),e._part.push(null),void process.nextTick((function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1}))}e._realFinish=!0,e.emit("finish"),e._realFinish=!1}))}},u.prototype._write=function(e,t,r){if(!this._hparser&&!this._bparser)return r();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new a(this._partOpts),0!==this.listenerCount("preamble")?this.emit("preamble",this._part):this._ignore());const t=this._hparser.push(e);if(this._inHeader||void 0===t||!(t<e.length))return r();e=e.slice(t)}this._firstWrite&&(this._bparser.push(p),this._firstWrite=!1),this._bparser.push(e),this._pause?this._cb=r:r()},u.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0},u.prototype.setBoundary=function(e){const t=this;this._bparser=new i("\r\n--"+e),this._bparser.on("info",(function(e,r,n,o){t._oninfo(e,r,n,o)}))},u.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",c),this._part.resume())},u.prototype._oninfo=function(e,t,r,n){let o;const i=this;let s,p=0,c=!0;if(!this._part&&this._justMatched&&t){for(;this._dashes<2&&r+p<n;){if(45!==t[r+p]){this._dashes&&(o=l),this._dashes=0;break}++p,++this._dashes}if(2===this._dashes&&(r+p<n&&0!==this.listenerCount("trailer")&&this.emit("trailer",t.slice(r+p,n)),this.reset(),this._finished=!0,0===i._parts&&(i._realFinish=!0,i.emit("finish"),i._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new a(this._partOpts),this._part._read=function(e){i._unpause()},this._isPreamble&&0!==this.listenerCount("preamble")?this.emit("preamble",this._part):!0!==this._isPreamble&&0!==this.listenerCount("part")?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),t&&r<n&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(o&&(c=this._part.push(o)),c=this._part.push(t.slice(r,n)),c||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(o&&this._hparser.push(o),s=this._hparser.push(t.slice(r,n)),!this._inHeader&&void 0!==s&&s<n&&this._oninfo(!1,t,r+s,n))),e&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:r!==n&&(++this._parts,this._part.on("end",(function(){0==--i._parts&&(i._finished?(i._realFinish=!0,i.emit("finish"),i._realFinish=!1):i._unpause())}))),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)},u.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){const e=this._cb;this._cb=void 0,e()}},e.exports=u},function(e,t,r){"use strict";const{EventEmitter:n}=r(161),{inherits:o}=r(68);function i(e){if("string"==typeof e&&(e=Buffer.from(e)),!Buffer.isBuffer(e))throw new TypeError("The needle has to be a String or a Buffer.");const t=e.length,r=t-1;if(0===t)throw new Error("The needle cannot be an empty String/Buffer.");if(t>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Uint8Array(256).fill(t),this._lookbehind_size=0,this._needle=e,this._bufpos=0,this._lookbehind=Buffer.alloc(r);for(var n=0;n<r;++n)this._occ[e[n]]=r-n}o(i,n),i.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0},i.prototype.push=function(e,t){Buffer.isBuffer(e)||(e=Buffer.from(e,"binary"));const r=e.length;let n;for(this._bufpos=t||0;n!==r&&this.matches<this.maxMatches;)n=this._sbmh_feed(e);return n},i.prototype._sbmh_feed=function(e){const t=e.length,r=this._needle,n=r.length,o=n-1,i=r[o];let a,s=-this._lookbehind_size;if(s<0){for(;s<0&&s<=t-n;){if(a=e[s+o],a===i&&this._sbmh_memcmp(e,s,o))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=s+n;s+=this._occ[a]}for(;s<0&&!this._sbmh_memcmp(e,s,t-s);)++s;if(!(s>=0)){const r=this._lookbehind_size+s;return r>0&&this.emit("info",!1,this._lookbehind,0,r),this._lookbehind_size-=r,this._lookbehind.copy(this._lookbehind,0,r,this._lookbehind_size),e.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=t,this._bufpos=t,t}this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0}if(s=e.indexOf(r,s+this._bufpos),-1!==s)return++this.matches,0===s?this.emit("info",!0):this.emit("info",!0,e,this._bufpos,s),this._bufpos=s+n;for(s=t-o,s<0&&(s=0);s!==t&&(e[s]!==r[0]||0!==Buffer.compare(e.subarray(s+1,t),r.subarray(1,t-s)));)++s;return s!==t&&(e.copy(this._lookbehind,0,s,t),this._lookbehind_size=t-s),0!==s&&this.emit("info",!1,e,this._bufpos,s),this._bufpos=t,t},i.prototype._sbmh_lookup_char=function(e,t){return t<0?this._lookbehind[this._lookbehind_size+t]:e[t]},i.prototype._sbmh_memcmp=function(e,t,r){for(var n=0;n<r;++n)if(this._sbmh_lookup_char(e,t+n)!==this._needle[n])return!1;return!0},e.exports=i},function(e,t,r){"use strict";const n=r(171),o=/%[a-fA-F0-9][a-fA-F0-9]/g,i={"%00":"\0","%01":"","%02":"","%03":"","%04":"","%05":"","%06":"","%07":"","%08":"\b","%09":"\t","%0a":"\n","%0A":"\n","%0b":"\v","%0B":"\v","%0c":"\f","%0C":"\f","%0d":"\r","%0D":"\r","%0e":"","%0E":"","%0f":"","%0F":"","%10":"","%11":"","%12":"","%13":"","%14":"","%15":"","%16":"","%17":"","%18":"","%19":"","%1a":"","%1A":"","%1b":"","%1B":"","%1c":"","%1C":"","%1d":"","%1D":"","%1e":"","%1E":"","%1f":"","%1F":"","%20":" ","%21":"!","%22":'"',"%23":"#","%24":"$","%25":"%","%26":"&","%27":"'","%28":"(","%29":")","%2a":"*","%2A":"*","%2b":"+","%2B":"+","%2c":",","%2C":",","%2d":"-","%2D":"-","%2e":".","%2E":".","%2f":"/","%2F":"/","%30":"0","%31":"1","%32":"2","%33":"3","%34":"4","%35":"5","%36":"6","%37":"7","%38":"8","%39":"9","%3a":":","%3A":":","%3b":";","%3B":";","%3c":"<","%3C":"<","%3d":"=","%3D":"=","%3e":">","%3E":">","%3f":"?","%3F":"?","%40":"@","%41":"A","%42":"B","%43":"C","%44":"D","%45":"E","%46":"F","%47":"G","%48":"H","%49":"I","%4a":"J","%4A":"J","%4b":"K","%4B":"K","%4c":"L","%4C":"L","%4d":"M","%4D":"M","%4e":"N","%4E":"N","%4f":"O","%4F":"O","%50":"P","%51":"Q","%52":"R","%53":"S","%54":"T","%55":"U","%56":"V","%57":"W","%58":"X","%59":"Y","%5a":"Z","%5A":"Z","%5b":"[","%5B":"[","%5c":"\\","%5C":"\\","%5d":"]","%5D":"]","%5e":"^","%5E":"^","%5f":"_","%5F":"_","%60":"`","%61":"a","%62":"b","%63":"c","%64":"d","%65":"e","%66":"f","%67":"g","%68":"h","%69":"i","%6a":"j","%6A":"j","%6b":"k","%6B":"k","%6c":"l","%6C":"l","%6d":"m","%6D":"m","%6e":"n","%6E":"n","%6f":"o","%6F":"o","%70":"p","%71":"q","%72":"r","%73":"s","%74":"t","%75":"u","%76":"v","%77":"w","%78":"x","%79":"y","%7a":"z","%7A":"z","%7b":"{","%7B":"{","%7c":"|","%7C":"|","%7d":"}","%7D":"}","%7e":"~","%7E":"~","%7f":"","%7F":"","%80":"","%81":"","%82":"","%83":"","%84":"","%85":"","%86":"","%87":"","%88":"","%89":"","%8a":"","%8A":"","%8b":"","%8B":"","%8c":"","%8C":"","%8d":"","%8D":"","%8e":"","%8E":"","%8f":"","%8F":"","%90":"","%91":"","%92":"","%93":"","%94":"","%95":"","%96":"","%97":"","%98":"","%99":"","%9a":"","%9A":"","%9b":"","%9B":"","%9c":"","%9C":"","%9d":"","%9D":"","%9e":"","%9E":"","%9f":"","%9F":"","%a0":"","%A0":"","%a1":"","%A1":"","%a2":"","%A2":"","%a3":"","%A3":"","%a4":"","%A4":"","%a5":"","%A5":"","%a6":"","%A6":"","%a7":"","%A7":"","%a8":"","%A8":"","%a9":"","%A9":"","%aa":"","%Aa":"","%aA":"","%AA":"","%ab":"","%Ab":"","%aB":"","%AB":"","%ac":"","%Ac":"","%aC":"","%AC":"","%ad":"","%Ad":"","%aD":"","%AD":"","%ae":"","%Ae":"","%aE":"","%AE":"","%af":"","%Af":"","%aF":"","%AF":"","%b0":"","%B0":"","%b1":"","%B1":"","%b2":"","%B2":"","%b3":"","%B3":"","%b4":"","%B4":"","%b5":"","%B5":"","%b6":"","%B6":"","%b7":"","%B7":"","%b8":"","%B8":"","%b9":"","%B9":"","%ba":"","%Ba":"","%bA":"","%BA":"","%bb":"","%Bb":"","%bB":"","%BB":"","%bc":"","%Bc":"","%bC":"","%BC":"","%bd":"","%Bd":"","%bD":"","%BD":"","%be":"","%Be":"","%bE":"","%BE":"","%bf":"","%Bf":"","%bF":"","%BF":"","%c0":"","%C0":"","%c1":"","%C1":"","%c2":"","%C2":"","%c3":"","%C3":"","%c4":"","%C4":"","%c5":"","%C5":"","%c6":"","%C6":"","%c7":"","%C7":"","%c8":"","%C8":"","%c9":"","%C9":"","%ca":"","%Ca":"","%cA":"","%CA":"","%cb":"","%Cb":"","%cB":"","%CB":"","%cc":"","%Cc":"","%cC":"","%CC":"","%cd":"","%Cd":"","%cD":"","%CD":"","%ce":"","%Ce":"","%cE":"","%CE":"","%cf":"","%Cf":"","%cF":"","%CF":"","%d0":"","%D0":"","%d1":"","%D1":"","%d2":"","%D2":"","%d3":"","%D3":"","%d4":"","%D4":"","%d5":"","%D5":"","%d6":"","%D6":"","%d7":"","%D7":"","%d8":"","%D8":"","%d9":"","%D9":"","%da":"","%Da":"","%dA":"","%DA":"","%db":"","%Db":"","%dB":"","%DB":"","%dc":"","%Dc":"","%dC":"","%DC":"","%dd":"","%Dd":"","%dD":"","%DD":"","%de":"","%De":"","%dE":"","%DE":"","%df":"","%Df":"","%dF":"","%DF":"","%e0":"","%E0":"","%e1":"","%E1":"","%e2":"","%E2":"","%e3":"","%E3":"","%e4":"","%E4":"","%e5":"","%E5":"","%e6":"","%E6":"","%e7":"","%E7":"","%e8":"","%E8":"","%e9":"","%E9":"","%ea":"","%Ea":"","%eA":"","%EA":"","%eb":"","%Eb":"","%eB":"","%EB":"","%ec":"","%Ec":"","%eC":"","%EC":"","%ed":"","%Ed":"","%eD":"","%ED":"","%ee":"","%Ee":"","%eE":"","%EE":"","%ef":"","%Ef":"","%eF":"","%EF":"","%f0":"","%F0":"","%f1":"","%F1":"","%f2":"","%F2":"","%f3":"","%F3":"","%f4":"","%F4":"","%f5":"","%F5":"","%f6":"","%F6":"","%f7":"","%F7":"","%f8":"","%F8":"","%f9":"","%F9":"","%fa":"","%Fa":"","%fA":"","%FA":"","%fb":"","%Fb":"","%fB":"","%FB":"","%fc":"","%Fc":"","%fC":"","%FC":"","%fd":"","%Fd":"","%fD":"","%FD":"","%fe":"","%Fe":"","%fE":"","%FE":"","%ff":"","%Ff":"","%fF":"","%FF":""};function a(e){return i[e]}e.exports=function(e){const t=[];let r=0,i="",s=!1,l=!1,p=0,c="";const u=e.length;for(var d=0;d<u;++d){const u=e[d];if("\\"===u&&s){if(!l){l=!0;continue}l=!1}else if('"'===u){if(!l){s?(s=!1,r=0):s=!0;continue}l=!1}else{if(l&&s&&(c+="\\"),l=!1,(2===r||3===r)&&"'"===u){2===r?(r=3,i=c.substring(1)):r=1,c="";continue}if(0===r&&("*"===u||"="===u)&&t.length){r="*"===u?2:1,t[p]=[c,void 0],c="";continue}if(!s&&";"===u){r=0,i?(c.length&&(c=n(c.replace(o,a),"binary",i)),i=""):c.length&&(c=n(c,"binary","utf8")),void 0===t[p]?t[p]=c:t[p][1]=c,c="",++p;continue}if(!s&&(" "===u||"\t"===u))continue}c+=u}return i&&c.length?c=n(c.replace(o,a),"binary",i):c&&(c=n(c,"binary","utf8")),void 0===t[p]?c&&(t[p]=c):t[p][1]=c,t}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.isUidIdentifier=function(e){return void 0!==e.uid},t.isEmailIdentifier=function(e){return void 0!==e.email},t.isPhoneIdentifier=function(e){return void 0!==e.phoneNumber},t.isProviderIdentifier=function(e){const t=e;return void 0!==t.providerId&&void 0!==t.providerUid}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.TenantManager=t.TenantAwareAuth=void 0;const n=r(4),o=r(9),i=r(2),a=r(174),s=r(172),l=r(125);class p extends a.BaseAuth{constructor(e,t){super(e,new l.TenantAwareAuthRequestHandler(e,t),(0,a.createFirebaseTokenGenerator)(e,t)),o.addReadonlyGetter(this,"tenantId",t)}verifyIdToken(e,t=!1){return super.verifyIdToken(e,t).then(e=>{if(e.firebase.tenant!==this.tenantId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MISMATCHING_TENANT_ID);return e})}createSessionCookie(e,t){return n.isNonEmptyString(e)?n.isNonNullObject(t)&&n.isNumber(t.expiresIn)?this.verifyIdToken(e).then(()=>super.createSessionCookie(e,t)):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_SESSION_COOKIE_DURATION)):Promise.reject(new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_ID_TOKEN))}verifySessionCookie(e,t=!1){return super.verifySessionCookie(e,t).then(e=>{if(e.firebase.tenant!==this.tenantId)throw new i.FirebaseAuthError(i.AuthClientErrorCode.MISMATCHING_TENANT_ID);return e})}}t.TenantAwareAuth=p;t.TenantManager=class{constructor(e){this.app=e,this.authRequestHandler=new l.AuthRequestHandler(e),this.tenantsMap={}}authForTenant(e){if(!n.isNonEmptyString(e))throw new i.FirebaseAuthError(i.AuthClientErrorCode.INVALID_TENANT_ID);return void 0===this.tenantsMap[e]&&(this.tenantsMap[e]=new p(this.app,e)),this.tenantsMap[e]}getTenant(e){return this.authRequestHandler.getTenant(e).then(e=>new s.Tenant(e))}listTenants(e,t){return this.authRequestHandler.listTenants(e,t).then(e=>{const t=[];e.tenants.forEach(e=>{t.push(new s.Tenant(e))});const r={tenants:t,pageToken:e.nextPageToken};return void 0===r.pageToken&&delete r.pageToken,r})}deleteTenant(e){return this.authRequestHandler.deleteTenant(e)}createTenant(e){return this.authRequestHandler.createTenant(e).then(e=>new s.Tenant(e))}updateTenant(e,t){return this.authRequestHandler.updateTenant(e,t).then(e=>new s.Tenant(e))}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.JwtErrorCode=t.JwtError=t.EmulatorSignatureVerifier=t.PublicKeySignatureVerifier=t.UrlKeyFetcher=t.JwksFetcher=t.ALGORITHM_RS256=void 0,t.verifyJwtSignature=c,t.decodeJwt=function(e){if(!n.isString(e))return Promise.reject(new u(d.INVALID_ARGUMENT,"The provided token must be a string."));const t=o.decode(e,{complete:!0});if(!t)return Promise.reject(new u(d.INVALID_ARGUMENT,"Decoding token failed."));const r=null==t?void 0:t.header,i=null==t?void 0:t.payload;return Promise.resolve({header:r,payload:i})};const n=r(4),o=r(518),i=r(557),a=r(27);t.ALGORITHM_RS256="RS256";class s{constructor(e,t){if(this.publicKeysExpireAt=0,!n.isURL(e))throw new Error("The provided JWKS URL is not a valid URL.");this.client=i({jwksUri:e,cache:!1,requestAgent:t})}fetchPublicKeys(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)}shouldRefresh(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()}refresh(){return this.client.getSigningKeys().then(e=>{this.publicKeysExpireAt=0;const t=e.reduce((e,t)=>(e[t.kid]=t.getPublicKey(),e),{});return this.publicKeysExpireAt=Date.now()+216e5,this.publicKeys=t,t}).catch(e=>{throw new Error("Error fetching Json Web Keys: "+e.message)})}}t.JwksFetcher=s;class l{constructor(e,t){if(this.clientCertUrl=e,this.httpAgent=t,this.publicKeysExpireAt=0,!n.isURL(e))throw new Error("The provided public client certificate URL is not a valid URL.")}fetchPublicKeys(){return this.shouldRefresh()?this.refresh():Promise.resolve(this.publicKeys)}shouldRefresh(){return!this.publicKeys||this.publicKeysExpireAt<=Date.now()}refresh(){const e=new a.HttpClient,t={method:"GET",url:this.clientCertUrl,httpAgent:this.httpAgent};return e.send(t).then(e=>{if(!e.isJson()||e.data.error)throw new a.RequestResponseError(e);if(this.publicKeysExpireAt=0,Object.prototype.hasOwnProperty.call(e.headers,"cache-control")){e.headers["cache-control"].split(",").forEach(e=>{const t=e.trim().split("=");if("max-age"===t[0]){const e=+t[1];this.publicKeysExpireAt=Date.now()+1e3*e}})}return this.publicKeys=e.data,e.data}).catch(e=>{if(e instanceof a.RequestResponseError){let t="Error fetching public keys for Google certs: ";const r=e.response;throw r.isJson()&&r.data.error?(t+=""+r.data.error,r.data.error_description&&(t+=" ("+r.data.error_description+")")):t+=""+r.text,new Error(t)}throw e})}}t.UrlKeyFetcher=l;class p{constructor(e){if(this.keyFetcher=e,!n.isNonNullObject(e))throw new Error("The provided key fetcher is not an object or null.")}static withCertificateUrl(e,t){return new p(new l(e,t))}static withJwksUrl(e,t){return new p(new s(e,t))}verify(e){return n.isString(e)?c(e,(r=this.keyFetcher,(e,t)=>{e.kid||t(new Error("no-kid-in-header-error"));const n=e.kid||"";r.fetchPublicKeys().then(e=>{Object.prototype.hasOwnProperty.call(e,n)?t(null,e[n]):t(new Error("no-matching-kid-error"))}).catch(e=>{t(e)})}),{algorithms:[t.ALGORITHM_RS256]}).catch(t=>{if(t.code===d.NO_KID_IN_HEADER)return this.verifyWithoutKid(e);throw t}):Promise.reject(new u(d.INVALID_ARGUMENT,"The provided token must be a string."));var r}verifyWithoutKid(e){return this.keyFetcher.fetchPublicKeys().then(t=>this.verifyWithAllKeys(e,t))}verifyWithAllKeys(e,t){const r=[];return Object.values(t).forEach(t=>{const n=c(e,t).then(()=>!0).catch(e=>{if(e.code===d.TOKEN_EXPIRED)throw e;return!1});r.push(n)}),Promise.all(r).then(e=>{if(e.every(e=>!1===e))throw new u(d.INVALID_SIGNATURE,"Invalid token signature.")})}}t.PublicKeySignatureVerifier=p;function c(e,t,r){return n.isString(e)?new Promise((n,i)=>{o.verify(e,t,r,e=>{if(!e)return n();if("TokenExpiredError"===e.name)return i(new u(d.TOKEN_EXPIRED,"The provided token has expired. Get a fresh token from your client app and try again."));if("JsonWebTokenError"===e.name&&e.message&&e.message.includes("error in secret or public key callback: ")){const t=e.message.split("error in secret or public key callback: ").pop()||"Error fetching public keys.";let r=d.KEY_FETCH_ERROR;return"no-matching-kid-error"===t?r=d.NO_MATCHING_KID:"no-kid-in-header-error"===t&&(r=d.NO_KID_IN_HEADER),i(new u(r,t))}return i(new u(d.INVALID_SIGNATURE,e.message))})}):Promise.reject(new u(d.INVALID_ARGUMENT,"The provided token must be a string."))}t.EmulatorSignatureVerifier=class{verify(e){return c(e,void 0,{algorithms:["none"]})}};class u extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.__proto__=u.prototype}}var d;t.JwtError=u,function(e){e.INVALID_ARGUMENT="invalid-argument",e.INVALID_CREDENTIAL="invalid-credential",e.TOKEN_EXPIRED="token-expired",e.INVALID_SIGNATURE="invalid-token",e.NO_MATCHING_KID="no-matching-kid-error",e.NO_KID_IN_HEADER="no-kid-error",e.KEY_FETCH_ERROR="key-fetch-error"}(d||(t.JwtErrorCode=d={}))},function(e,t,r){var n=r(175);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var o=r.payload;if("string"==typeof o)try{var i=JSON.parse(o);null!==i&&"object"==typeof i&&(o=i)}catch(e){}return!0===t.complete?{header:r.header,payload:o,signature:r.signature}:o}},function(e,t,r){var n=r(47).Buffer,o=r(1);function i(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(6).inherits(i,o),i.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},i.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=i},function(e,t,r){var n=r(260),o=r(47).Buffer,i=r(0),a=r(162),s=r(6),l="secret must be a string or buffer",p="key must be a string or a buffer",c="function"==typeof i.createPublicKey;function u(e){if(!o.isBuffer(e)&&"string"!=typeof e){if(!c)throw g(p);if("object"!=typeof e)throw g(p);if("string"!=typeof e.type)throw g(p);if("string"!=typeof e.asymmetricKeyType)throw g(p);if("function"!=typeof e.export)throw g(p)}}function d(e){if(!o.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw g("key must be a string, a buffer or an object")}function h(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=s.format.bind(s,e).apply(null,t);return new TypeError(r)}function m(e){var t;return t=e,o.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){!function(e){if(!o.isBuffer(e)){if("string"==typeof e)return e;if(!c)throw g(l);if("object"!=typeof e)throw g(l);if("secret"!==e.type)throw g(l);if("function"!=typeof e.export)throw g(l)}}(r),t=m(t);var n=i.createHmac("sha"+e,r);return h((n.update(t),n.digest("base64")))}}function v(e){return function(t,r,i){var a=y(e)(t,i);return n(o.from(r),o.from(a))}}function b(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return h((n.update(t),n.sign(r,"base64")))}}function E(e){return function(t,r,n){u(n),t=m(t),r=f(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify(n,r,"base64")}}function _(e){return function(t,r){d(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return h((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function O(e){return function(t,r,n){u(n),t=m(t),r=f(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function w(e){var t=b(e);return function(){var r=t.apply(null,arguments);return r=a.derToJose(r,"ES"+e)}}function S(e){var t=E(e);return function(r,n,o){return n=a.joseToDer(n,"ES"+e).toString("base64"),t(r,n,o)}}function T(){return function(){return""}}function A(){return function(e,t){return""===t}}c&&(p+=" or a KeyObject",l+="or a KeyObject"),e.exports=function(e){var t={hs:y,rs:b,ps:_,es:w,none:T},r={hs:v,rs:E,ps:O,es:S,none:A},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var o=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[o](i),verify:r[o](i)}}},function(e,t,r){var n=r(18).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},function(e,t,r){var n=r(128),o=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},function(e,t,r){var n=r(128),o=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},function(e,t,r){var n=r(522);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var o=n(e);if(void 0===o)return;return Math.floor(r+o/1e3)}return"number"==typeof e?r+e:void 0}},function(e,t,r){const n=r(523),o=r(548),i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},a={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;const r=t.asymmetricKeyType;if(!r)return;const s=i[r];if(!s)throw new Error(`Unknown key type "${r}".`);if(!s.includes(e))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${s.join(", ")}.`);if(n)switch(r){case"ec":const r=t.asymmetricKeyDetails.namedCurve,n=a[e];if(r!==n)throw new Error(`"alg" parameter "${e}" requires curve "${n}".`);break;case"rsa-pss":if(o){const r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:o,saltLength:i}=t.asymmetricKeyDetails;if(n!=="sha"+r||o!==n)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==i&&i>r>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),o=r.test(t);return n&&o&&(e=+e,t=+t),e===t?0:n&&!o?-1:o&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>0===n(e,t,r)},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>0!==n(e,t,r)},function(e,t,r){const n=r(301),o=r(302),i=r(131),a=r(180),s=r(179),l=r(181);e.exports=(e,t,r,p)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,p);case"!=":return o(e,r,p);case">":return i(e,r,p);case">=":return a(e,r,p);case"<":return s(e,r,p);case"<=":return l(e,r,p);default:throw new TypeError("Invalid operator: "+t)}}},function(e,t,r){var n=r(176);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},function(e,t,r){e.exports=function(e){function t(e){let r,o,i,a=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(559),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){const n=r(307),o=r(195);function i(e){if(e.alg)return e.alg;if("RSA"===e.kty)return"RS256";if("EC"===e.kty)switch(e.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-521":return"ES512"}if("OKP"===e.kty)switch(e.crv){case"Ed25519":case"Ed448":return"EdDSA"}throw new o("Unsupported JWK")}e.exports={retrieveSigningKeys:async function(e){const t=[];e=e.filter(({use:e})=>"sig"===e||void 0===e).filter(({kty:e})=>"RSA"===e||"EC"===e||"OKP"===e);for(const r of e)try{const e=await n.importJWK(r,i(r));if("public"!==e.type)continue;let o;switch(e[Symbol.toStringTag]){case"CryptoKey":{const t=await n.exportSPKI(e);o=()=>t;break}case"KeyObject":default:o=()=>e.export({format:"pem",type:"spki"})}t.push({get publicKey(){return o()},get rsaPublicKey(){return o()},getPublicKey:()=>o(),..."string"==typeof r.kid&&r.kid?{kid:r.kid}:void 0,..."string"==typeof r.alg&&r.alg?{alg:r.alg}:void 0})}catch(e){continue}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoRuntime=t.base64url=t.generateSecret=t.generateKeyPair=t.errors=t.decodeJwt=t.decodeProtectedHeader=t.importJWK=t.importX509=t.importPKCS8=t.importSPKI=t.exportJWK=t.exportSPKI=t.exportPKCS8=t.UnsecuredJWT=t.createRemoteJWKSet=t.createLocalJWKSet=t.EmbeddedJWK=t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=t.EncryptJWT=t.SignJWT=t.GeneralSign=t.FlattenedSign=t.CompactSign=t.FlattenedEncrypt=t.CompactEncrypt=t.jwtDecrypt=t.jwtVerify=t.generalVerify=t.flattenedVerify=t.compactVerify=t.GeneralEncrypt=t.generalDecrypt=t.flattenedDecrypt=t.compactDecrypt=void 0;var n=r(308);Object.defineProperty(t,"compactDecrypt",{enumerable:!0,get:function(){return n.compactDecrypt}});var o=r(184);Object.defineProperty(t,"flattenedDecrypt",{enumerable:!0,get:function(){return o.flattenedDecrypt}});var i=r(566);Object.defineProperty(t,"generalDecrypt",{enumerable:!0,get:function(){return i.generalDecrypt}});var a=r(567);Object.defineProperty(t,"GeneralEncrypt",{enumerable:!0,get:function(){return a.GeneralEncrypt}});var s=r(323);Object.defineProperty(t,"compactVerify",{enumerable:!0,get:function(){return s.compactVerify}});var l=r(190);Object.defineProperty(t,"flattenedVerify",{enumerable:!0,get:function(){return l.flattenedVerify}});var p=r(572);Object.defineProperty(t,"generalVerify",{enumerable:!0,get:function(){return p.generalVerify}});var c=r(573);Object.defineProperty(t,"jwtVerify",{enumerable:!0,get:function(){return c.jwtVerify}});var u=r(574);Object.defineProperty(t,"jwtDecrypt",{enumerable:!0,get:function(){return u.jwtDecrypt}});var d=r(330);Object.defineProperty(t,"CompactEncrypt",{enumerable:!0,get:function(){return d.CompactEncrypt}});var h=r(189);Object.defineProperty(t,"FlattenedEncrypt",{enumerable:!0,get:function(){return h.FlattenedEncrypt}});var f=r(331);Object.defineProperty(t,"CompactSign",{enumerable:!0,get:function(){return f.CompactSign}});var g=r(192);Object.defineProperty(t,"FlattenedSign",{enumerable:!0,get:function(){return g.FlattenedSign}});var m=r(575);Object.defineProperty(t,"GeneralSign",{enumerable:!0,get:function(){return m.GeneralSign}});var y=r(576);Object.defineProperty(t,"SignJWT",{enumerable:!0,get:function(){return y.SignJWT}});var v=r(577);Object.defineProperty(t,"EncryptJWT",{enumerable:!0,get:function(){return v.EncryptJWT}});var b=r(578);Object.defineProperty(t,"calculateJwkThumbprint",{enumerable:!0,get:function(){return b.calculateJwkThumbprint}}),Object.defineProperty(t,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return b.calculateJwkThumbprintUri}});var E=r(579);Object.defineProperty(t,"EmbeddedJWK",{enumerable:!0,get:function(){return E.EmbeddedJWK}});var _=r(332);Object.defineProperty(t,"createLocalJWKSet",{enumerable:!0,get:function(){return _.createLocalJWKSet}});var O=r(580);Object.defineProperty(t,"createRemoteJWKSet",{enumerable:!0,get:function(){return O.createRemoteJWKSet}});var w=r(582);Object.defineProperty(t,"UnsecuredJWT",{enumerable:!0,get:function(){return w.UnsecuredJWT}});var S=r(322);Object.defineProperty(t,"exportPKCS8",{enumerable:!0,get:function(){return S.exportPKCS8}}),Object.defineProperty(t,"exportSPKI",{enumerable:!0,get:function(){return S.exportSPKI}}),Object.defineProperty(t,"exportJWK",{enumerable:!0,get:function(){return S.exportJWK}});var T=r(138);Object.defineProperty(t,"importSPKI",{enumerable:!0,get:function(){return T.importSPKI}}),Object.defineProperty(t,"importPKCS8",{enumerable:!0,get:function(){return T.importPKCS8}}),Object.defineProperty(t,"importX509",{enumerable:!0,get:function(){return T.importX509}}),Object.defineProperty(t,"importJWK",{enumerable:!0,get:function(){return T.importJWK}});var A=r(583);Object.defineProperty(t,"decodeProtectedHeader",{enumerable:!0,get:function(){return A.decodeProtectedHeader}});var C=r(584);Object.defineProperty(t,"decodeJwt",{enumerable:!0,get:function(){return C.decodeJwt}}),t.errors=r(3);var I=r(585);Object.defineProperty(t,"generateKeyPair",{enumerable:!0,get:function(){return I.generateKeyPair}});var N=r(586);Object.defineProperty(t,"generateSecret",{enumerable:!0,get:function(){return N.generateSecret}}),t.base64url=r(194);var P=r(587);Object.defineProperty(t,"cryptoRuntime",{enumerable:!0,get:function(){return P.default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactDecrypt=void 0;const n=r(184),o=r(3),i=r(12);t.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=i.decoder.decode(e)),"string"!=typeof e)throw new o.JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:a,1:s,2:l,3:p,4:c,length:u}=e.split(".");if(5!==u)throw new o.JWEInvalid("Invalid Compact JWE");const d=await(0,n.flattenedDecrypt)({ciphertext:p,iv:l||void 0,protected:a||void 0,tag:c||void 0,encrypted_key:s||void 0},t,r),h={plaintext:d.plaintext,protectedHeader:d.protectedHeader};return"function"==typeof t?{...h,key:d.key}:h}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.default=(e,t)=>(0,n.createHash)(e).update(t).digest()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(311),i=r(312),a=r(12),s=r(3),l=r(561),p=r(313),c=r(36),u=r(73),d=r(35),h=r(37),f=r(186),g=r(38);t.default=(e,t,r,m,y,v)=>{let b;if((0,c.isCryptoKey)(t))(0,u.checkEncCryptoKey)(t,e,"decrypt"),b=n.KeyObject.from(t);else{if(!(t instanceof Uint8Array||(0,d.default)(t)))throw new TypeError((0,h.default)(t,...g.types,"Uint8Array"));b=t}switch((0,i.default)(e,b),(0,o.default)(e,m),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,o,i,c){const u=parseInt(e.slice(1,4),10);(0,d.default)(t)&&(t=t.export());const h=t.subarray(u>>3),g=t.subarray(0,u>>3),m=parseInt(e.slice(-3),10),y=`aes-${u}-cbc`;if(!(0,f.default)(y))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const v=(0,p.default)(c,o,r,m,g,u);let b,E;try{b=(0,l.default)(i,v)}catch{}if(!b)throw new s.JWEDecryptionFailed;try{const e=(0,n.createDecipheriv)(y,h,o);E=(0,a.concat)(e.update(r),e.final())}catch{}if(!E)throw new s.JWEDecryptionFailed;return E}(e,b,r,m,y,v);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,o,i,a){const l=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,f.default)(l))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{const e=(0,n.createDecipheriv)(l,t,o,{authTagLength:16});e.setAuthTag(i),a.byteLength&&e.setAAD(a,{plaintextLength:r.length});const s=e.update(r);return e.final(),s}catch{throw new s.JWEDecryptionFailed}}(e,b,r,m,y,v);default:throw new s.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o=r(185);t.default=(e,t)=>{if(t.length<<3!==(0,o.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3),o=r(35);t.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new n.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){const e=t.byteLength<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`)}else{if(!(0,o.default)(t)||"secret"!==t.type)throw new TypeError("Invalid Content Encryption Key type");{const e=t.symmetricKeySize<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(12);t.default=function(e,t,r,i,a,s){const l=(0,o.concat)(e,t,r,(0,o.uint64be)(e.length<<3)),p=(0,n.createHmac)("sha"+i,a);return p.update(l),p.digest().slice(0,s>>3)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deflate=t.inflate=void 0;const n=r(6),o=r(22),i=r(3),a=(0,n.promisify)(o.inflateRaw),s=(0,n.promisify)(o.deflateRaw);t.inflate=e=>a(e,{maxOutputLength:25e4}).catch(()=>{throw new i.JWEDecompressionFailed});t.deflate=e=>s(e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhAllowed=t.generateEpk=t.deriveKey=void 0;const n=r(0),o=r(6),i=r(135),a=r(12),s=r(3),l=r(36),p=r(73),c=r(35),u=r(37),d=r(38),h=(0,o.promisify)(n.generateKeyPair);t.deriveKey=async function(e,t,r,o,i=new Uint8Array(0),s=new Uint8Array(0)){let h,f;if((0,l.isCryptoKey)(e))(0,p.checkEncCryptoKey)(e,"ECDH"),h=n.KeyObject.from(e);else{if(!(0,c.default)(e))throw new TypeError((0,u.default)(e,...d.types));h=e}if((0,l.isCryptoKey)(t))(0,p.checkEncCryptoKey)(t,"ECDH","deriveBits"),f=n.KeyObject.from(t);else{if(!(0,c.default)(t))throw new TypeError((0,u.default)(t,...d.types));f=t}const g=(0,a.concat)((0,a.lengthAndInput)(a.encoder.encode(r)),(0,a.lengthAndInput)(i),(0,a.lengthAndInput)(s),(0,a.uint32be)(o)),m=(0,n.diffieHellman)({privateKey:f,publicKey:h});return(0,a.concatKdf)(m,o,g)},t.generateEpk=async function(e){let t;if((0,l.isCryptoKey)(e))t=n.KeyObject.from(e);else{if(!(0,c.default)(e))throw new TypeError((0,u.default)(e,...d.types));t=e}switch(t.asymmetricKeyType){case"x25519":return h("x25519");case"x448":return h("x448");case"ec":{const e=(0,i.default)(t);return h("ec",{namedCurve:e})}default:throw new s.JOSENotSupported("Invalid or unsupported EPK")}};t.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,i.default)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;const n=r(6),o=r(0),i=r(134),a=r(12),s=r(20),l=r(187),p=r(563),c=r(36),u=r(73),d=r(35),h=r(37),f=r(38),g=(0,n.promisify)(o.pbkdf2);function m(e,t){if((0,d.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,c.isCryptoKey)(e))return(0,u.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),o.KeyObject.from(e).export();throw new TypeError((0,h.default)(e,...f.types,"Uint8Array"))}t.encrypt=async(e,t,r,n=2048,o=(0,i.default)(new Uint8Array(16)))=>{(0,p.default)(o);const c=(0,a.p2s)(e,o),u=parseInt(e.slice(13,16),10)>>3,d=m(t,e),h=await g(d,c,n,u,"sha"+e.slice(8,11));return{encryptedKey:await(0,l.wrap)(e.slice(-6),h,r),p2c:n,p2s:(0,s.encode)(o)}};t.decrypt=async(e,t,r,n,o)=>{(0,p.default)(o);const i=(0,a.p2s)(e,o),s=parseInt(e.slice(13,16),10)>>3,c=m(t,e),u=await g(c,i,n,s,"sha"+e.slice(8,11));return(0,l.unwrap)(e.slice(-6),u,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;const n=r(0),o=r(136),i=r(36),a=r(73),s=r(35),l=r(37),p=r(38),c=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,o.default)(e,t)},u=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return n.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return n.constants.RSA_PKCS1_PADDING;default:return}},d=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function h(e,t,...r){if((0,s.default)(e))return e;if((0,i.isCryptoKey)(e))return(0,a.checkEncCryptoKey)(e,t,...r),n.KeyObject.from(e);throw new TypeError((0,l.default)(e,...p.types))}t.encrypt=(e,t,r)=>{const o=u(e),i=d(e),a=h(t,e,"wrapKey","encrypt");return c(a,e),(0,n.publicEncrypt)({key:a,oaepHash:i,padding:o},r)};t.decrypt=(e,t,r)=>{const o=u(e),i=d(e),a=h(t,e,"unwrapKey","decrypt");return c(a,e),(0,n.privateDecrypt)({key:a,oaepHash:i,padding:o},r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;const n=r(319),o=r(310),i=r(185),a=r(20);t.wrap=async function(e,t,r,o){const s=e.slice(0,7);o||(o=(0,i.default)(s));const{ciphertext:l,tag:p}=await(0,n.default)(s,r,t,o,new Uint8Array(0));return{encryptedKey:l,iv:(0,a.encode)(o),tag:(0,a.encode)(p)}},t.unwrap=async function(e,t,r,n,i){const a=e.slice(0,7);return(0,o.default)(a,t,r,n,i,new Uint8Array(0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(311),i=r(312),a=r(12),s=r(313),l=r(36),p=r(73),c=r(35),u=r(37),d=r(3),h=r(186),f=r(38);t.default=(e,t,r,g,m)=>{let y;if((0,l.isCryptoKey)(r))(0,p.checkEncCryptoKey)(r,e,"encrypt"),y=n.KeyObject.from(r);else{if(!(r instanceof Uint8Array||(0,c.default)(r)))throw new TypeError((0,u.default)(r,...f.types,"Uint8Array"));y=r}switch((0,i.default)(e,y),(0,o.default)(e,g),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,o,i){const l=parseInt(e.slice(1,4),10);(0,c.default)(r)&&(r=r.export());const p=r.subarray(l>>3),u=r.subarray(0,l>>3),f=`aes-${l}-cbc`;if(!(0,h.default)(f))throw new d.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const g=(0,n.createCipheriv)(f,p,o),m=(0,a.concat)(g.update(t),g.final()),y=parseInt(e.slice(-3),10);return{ciphertext:m,tag:(0,s.default)(i,o,m,y,u,l)}}(e,t,y,g,m);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,o,i){const a=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,h.default)(a))throw new d.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const s=(0,n.createCipheriv)(a,r,o,{authTagLength:16});i.byteLength&&s.setAAD(i,{plaintextLength:t.length});const l=s.update(t);return s.final(),{ciphertext:l,tag:s.getAuthTag()}}(e,t,y,g,m);default:throw new d.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(187),o=r(315),i=r(316),a=r(317),s=r(20),l=r(137),p=r(3),c=r(322),u=r(140),d=r(318);t.default=async function(e,t,r,h,f={}){let g,m,y;switch((0,u.default)(e,r,"encrypt"),e){case"dir":y=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!o.ecdhAllowed(r))throw new p.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:i,apv:a}=f;let{epk:u}=f;u||(u=(await o.generateEpk(r)).privateKey);const{x:d,y:v,crv:b,kty:E}=await(0,c.exportJWK)(u),_=await o.deriveKey(r,u,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,l.bitLength)(t):parseInt(e.slice(-5,-2),10),i,a);if(m={epk:{x:d,crv:b,kty:E}},"EC"===E&&(m.epk.y=v),i&&(m.apu=(0,s.encode)(i)),a&&(m.apv=(0,s.encode)(a)),"ECDH-ES"===e){y=_;break}y=h||(0,l.default)(t);const O=e.slice(-6);g=await(0,n.wrap)(O,_,y);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":y=h||(0,l.default)(t),g=await(0,a.encrypt)(e,r,y);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{y=h||(0,l.default)(t);const{p2c:n,p2s:o}=f;({encryptedKey:g,...m}=await(0,i.encrypt)(e,r,y,n,o));break}case"A128KW":case"A192KW":case"A256KW":y=h||(0,l.default)(t),g=await(0,n.wrap)(e,r,y);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{y=h||(0,l.default)(t);const{iv:n}=f;({encryptedKey:g,...m}=await(0,d.wrap)(e,r,y,n));break}default:throw new p.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:y,encryptedKey:g,parameters:m}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportJWK=t.exportPKCS8=t.exportSPKI=void 0;const n=r(188),o=r(188),i=r(568);t.exportSPKI=async function(e){return(0,n.toSPKI)(e)},t.exportPKCS8=async function(e){return(0,o.toPKCS8)(e)},t.exportJWK=async function(e){return(0,i.default)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactVerify=void 0;const n=r(190),o=r(3),i=r(12);t.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=i.decoder.decode(e)),"string"!=typeof e)throw new o.JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:a,1:s,2:l,length:p}=e.split(".");if(3!==p)throw new o.JWSInvalid("Invalid Compact JWS");const c=await(0,n.flattenedVerify)({payload:s,protected:a,signature:l},t,r),u={payload:c.payload,protectedHeader:c.protectedHeader};return"function"==typeof t?{...u,key:c.key}:u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(135),i=r(3),a=r(136),s=r(139),l={padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},p=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);t.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),t;case s.rsaPssParams&&"PS256":case s.rsaPssParams&&"PS384":case s.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){const{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:o}=t.asymmetricKeyDetails,i=parseInt(e.slice(-3),10);if(void 0!==r&&(r!=="sha"+i||n!==r))throw new TypeError('Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" '+e);if(void 0!==o&&o>i>>3)throw new TypeError('Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" '+e)}else if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,a.default)(t,e),{key:t,...l};case!s.rsaPssParams&&"PS256":case!s.rsaPssParams&&"PS384":case!s.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),{key:t,...l};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");const r=(0,o.default)(t),n=p.get(e);if(r!==n)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(6),i=r(324),a=r(571),s=r(325),l=r(327);let p;p=n.sign.length>3?(0,o.promisify)(n.sign):n.sign;t.default=async(e,t,r)=>{const o=(0,l.default)(e,t,"sign");if(e.startsWith("HS")){const t=n.createHmac((0,a.default)(e),o);return t.update(r),t.digest()}return p((0,i.default)(e),r,(0,s.default)(e,o))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(36),i=r(73),a=r(37),s=r(38);t.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,a.default)(t,...s.types));return(0,n.createSecretKey)(t)}if(t instanceof n.KeyObject)return t;if((0,o.isCryptoKey)(t))return(0,i.checkSigCryptoKey)(t,e,r),n.KeyObject.from(t);throw new TypeError((0,a.default)(t,...s.types,"Uint8Array"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>Math.floor(e.getTime()/1e3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;t.default=e=>{const t=n.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactEncrypt=void 0;const n=r(189);t.CompactEncrypt=class{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactSign=void 0;const n=r(192);t.CompactSign=class{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const r=await this._flattened.sign(e,t);if(void 0===r.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalJWKSet=t.LocalJWKSet=t.isJWKSLike=void 0;const n=r(138),o=r(3),i=r(24);function a(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(s)}function s(e){return(0,i.default)(e)}t.isJWKSLike=a;class l{constructor(e){if(this._cached=new WeakMap,!a(e))throw new o.JWKSInvalid("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:n}={...e,...null==t?void 0:t.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new o.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:s,length:l}=a;if(0===l)throw new o.JWKSNoMatchingKey;if(1!==l){const e=new o.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await p(t,e,r)}catch{continue}},e}return p(this._cached,s,r)}}async function p(e,t,r){const i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[r]){const e=await(0,n.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new o.JWKSInvalid("JSON Web Key Set members must be public keys");i[r]=e}return i[r]}t.LocalJWKSet=l,t.createLocalJWKSet=function(e){const t=new l(e);return async function(e,r){return t.getKey(e,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=t.generateSecret=void 0;const n=r(0),o=r(6),i=r(134),a=r(136),s=r(3),l=(0,o.promisify)(n.generateKeyPair);t.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,n.createSecretKey)((0,i.default)(new Uint8Array(r>>3)))},t.generateKeyPair=async function(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{const e=null!==(r=null==t?void 0:t.modulusLength)&&void 0!==r?r:2048;if("number"!=typeof e||e<2048)throw new s.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");const n=await l("rsa",{modulusLength:e,publicExponent:65537});return(0,a.setModulusLength)(n.privateKey,e),(0,a.setModulusLength)(n.publicKey,e),n}case"ES256":return l("ec",{namedCurve:"P-256"});case"ES256K":return l("ec",{namedCurve:"secp256k1"});case"ES384":return l("ec",{namedCurve:"P-384"});case"ES512":return l("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return l("ed25519");case"Ed448":return l("ed448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":const e=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(e){case void 0:case"P-256":case"P-384":case"P-521":return l("ec",{namedCurve:e});case"X25519":return l("x25519");case"X448":return l("x448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},function(e,t,r){"use strict";const n=r(594),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),p=Symbol("dispose"),c=Symbol("noDisposeOnSet"),u=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1;const g=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(m(e,t)){if(v(e,n),!e[s])return}else r&&(e[h]&&(n.value.now=Date.now()),e[u].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},y=e=>{if(e[i]>e[o])for(let t=e[u].tail;e[i]>e[o]&&null!==t;){const r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){const r=t.value;e[p]&&e[p](r.key,r.value),e[i]-=r.length,e[d].delete(r.key),e[u].removeNode(t)}};class b{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const E=(e,t,r,n)=>{let o=r.value;m(e,o)&&(v(e,r),e[s]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||f;if(this[a]="function"!=typeof t?f:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[p]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,y(this)}get max(){return this[o]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[a]&&(this[a]=e,this[i]=0,this[u].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),y(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let r=this[u].tail;null!==r;){const n=r.prev;E(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[u].head;null!==r;){const n=r.next;E(this,e,r,t),r=n}}keys(){return this[u].toArray().map(e=>e.key)}values(){return this[u].toArray().map(e=>e.value)}reset(){this[p]&&this[u]&&this[u].length&&this[u].forEach(e=>this[p](e.key,e.value)),this[d]=new Map,this[u]=new n,this[i]=0}dump(){return this[u].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[u]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[d].has(e)){if(s>this[o])return v(this,this[d].get(e)),!1;const a=this[d].get(e).value;return this[p]&&(this[c]||this[p](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[i]+=s-a.length,a.length=s,this.get(e),y(this),!0}const h=new b(e,t,s,n,r);return h.length>this[o]?(this[p]&&this[p](e,t),!1):(this[i]+=h.length,this[u].unshift(h),this[d].set(e,this[u].head),y(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[u].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>g(this,t,!1))}}},function(e,t,r){(function(e){var r="[object Arguments]",n="[object Function]",o="[object GeneratorFunction]",i="[object Map]",a="[object Set]",s=/\w*$/,l=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,c={};c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object DataView]"]=c["[object Boolean]"]=c["[object Date]"]=c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c[i]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object Symbol]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Error]"]=c[n]=c["[object WeakMap]"]=!1;var u="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),f=t&&!t.nodeType&&t,g=f&&"object"==typeof e&&e&&!e.nodeType&&e,m=g&&g.exports===f;function y(e,t){return e.set(t[0],t[1]),e}function v(e,t){return e.add(t),e}function b(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function E(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function _(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function O(e,t){return function(r){return e(t(r))}}function w(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var S,T=Array.prototype,A=Function.prototype,C=Object.prototype,I=h["__core-js_shared__"],N=(S=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",P=A.toString,R=C.hasOwnProperty,D=C.toString,k=RegExp("^"+P.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=m?h.Buffer:void 0,j=h.Symbol,L=h.Uint8Array,F=O(Object.getPrototypeOf,Object),M=Object.create,U=C.propertyIsEnumerable,B=T.splice,V=Object.getOwnPropertySymbols,q=x?x.isBuffer:void 0,G=O(Object.keys,Object),H=ge(h,"DataView"),z=ge(h,"Map"),W=ge(h,"Promise"),J=ge(h,"Set"),K=ge(h,"WeakMap"),Y=ge(Object,"create"),$=Ee(H),Q=Ee(z),X=Ee(W),Z=Ee(J),ee=Ee(K),te=j?j.prototype:void 0,re=te?te.valueOf:void 0;function ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ae(e){this.__data__=new oe(e)}function se(e,t){var n=Oe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&we(e)}(e)&&R.call(e,"callee")&&(!U.call(e,"callee")||D.call(e)==r)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=n.length,i=!!o;for(var a in e)!t&&!R.call(e,a)||i&&("length"==a||ve(a,o))||n.push(a);return n}function le(e,t,r){var n=e[t];R.call(e,t)&&_e(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function pe(e,t){for(var r=e.length;r--;)if(_e(e[r][0],t))return r;return-1}function ce(e,t,l,p,u,d,h){var f;if(p&&(f=d?p(e,u,d,h):p(e)),void 0!==f)return f;if(!Ae(e))return e;var g=Oe(e);if(g){if(f=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&R.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,f)}else{var m=ye(e),O=m==n||m==o;if(Se(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if("[object Object]"==m||m==r||O&&!d){if(E(e))return d?e:{};if(f=function(e){return"function"!=typeof e.constructor||be(e)?{}:(t=F(e),Ae(t)?M(t):{});var t}(O?{}:e),!t)return function(e,t){return he(e,me(e),t)}(e,function(e,t){return e&&he(t,Ce(t),e)}(f,e))}else{if(!c[m])return d?e:{};f=function(e,t,r,n){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return de(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var r=t?de(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?de(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case i:return function(e,t,r){return b(t?r(_(e),!0):_(e),y,new e.constructor)}(e,n,r);case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,s.exec(e));return t.lastIndex=e.lastIndex,t}(e);case a:return function(e,t,r){return b(t?r(w(e),!0):w(e),v,new e.constructor)}(e,n,r);case"[object Symbol]":return l=e,re?Object(re.call(l)):{}}var l}(e,m,ce,t)}}h||(h=new ae);var S=h.get(e);if(S)return S;if(h.set(e,f),!g)var T=l?function(e){return function(e,t,r){var n=t(e);return Oe(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Ce,me)}(e):Ce(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(T||e,(function(r,n){T&&(r=e[n=r]),le(f,n,ce(r,t,l,p,n,e,h))})),f}function ue(e){return!(!Ae(e)||(t=e,N&&N in t))&&(Te(e)||E(e)?k:l).test(Ee(e));var t}function de(e){var t=new e.constructor(e.byteLength);return new L(t).set(new L(e)),t}function he(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;le(r,a,void 0===s?e[a]:s)}return r}function fe(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ge(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(r)?r:void 0}ne.prototype.clear=function(){this.__data__=Y?Y(null):{}},ne.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ne.prototype.get=function(e){var t=this.__data__;if(Y){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return R.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:R.call(t,e)},ne.prototype.set=function(e,t){return this.__data__[e]=Y&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,r=pe(t,e);return!(r<0)&&(r==t.length-1?t.pop():B.call(t,r,1),!0)},oe.prototype.get=function(e){var t=this.__data__,r=pe(t,e);return r<0?void 0:t[r][1]},oe.prototype.has=function(e){return pe(this.__data__,e)>-1},oe.prototype.set=function(e,t){var r=this.__data__,n=pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ie.prototype.clear=function(){this.__data__={hash:new ne,map:new(z||oe),string:new ne}},ie.prototype.delete=function(e){return fe(this,e).delete(e)},ie.prototype.get=function(e){return fe(this,e).get(e)},ie.prototype.has=function(e){return fe(this,e).has(e)},ie.prototype.set=function(e,t){return fe(this,e).set(e,t),this},ae.prototype.clear=function(){this.__data__=new oe},ae.prototype.delete=function(e){return this.__data__.delete(e)},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!z||n.length<199)return n.push([e,t]),this;r=this.__data__=new ie(n)}return r.set(e,t),this};var me=V?O(V,Object):function(){return[]},ye=function(e){return D.call(e)};function ve(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||C)}function Ee(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function _e(e,t){return e===t||e!=e&&t!=t}(H&&"[object DataView]"!=ye(new H(new ArrayBuffer(1)))||z&&ye(new z)!=i||W&&"[object Promise]"!=ye(W.resolve())||J&&ye(new J)!=a||K&&"[object WeakMap]"!=ye(new K))&&(ye=function(e){var t=D.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?Ee(r):void 0;if(n)switch(n){case $:return"[object DataView]";case Q:return i;case X:return"[object Promise]";case Z:return a;case ee:return"[object WeakMap]"}return t});var Oe=Array.isArray;function we(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Te(e)}var Se=q||function(){return!1};function Te(e){var t=Ae(e)?D.call(e):"";return t==n||t==o}function Ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ce(e){return we(e)?se(e):function(e){if(!be(e))return G(e);var t=[];for(var r in Object(e))R.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return ce(e,!0,!0)}}).call(this,r(596)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepFreeze=void 0,t.deepFreeze=function e(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(r){!t.hasOwnProperty(r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||t[r].constructor===Buffer||Object.isFrozen(t[r])||e(t[r])}))),t}},function(e,t){var r=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};r.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?n():this.parentBucket?this.parentBucket.removeTokens(e,(function(o,i){return o?t(o,null):e>r.content?n():(r.content-=e,void t(null,Math.min(i,r.content)))})):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function n(){var n=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout((function(){r.removeTokens(e,t)}),n),!1}},tryRemoveTokens:function(e){return!this.bucketSize||!(e>this.bucketSize)&&(this.drip(),!(e>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(e))&&(this.content-=e,!0)))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}else this.content=this.bucketSize}},e.exports=r},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.UserRecord=t.UserInfo=t.UserMetadata=t.MultiFactorSettings=t.TotpMultiFactorInfo=t.TotpInfo=t.PhoneMultiFactorInfo=t.MultiFactorInfo=void 0;const n=r(26),o=r(4),i=r(9),a=r(2),s=Buffer.from("REDACTED").toString("base64");function l(e){try{const t=new Date(parseInt(e,10));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}return null}var p;!function(e){e.Phone="phone",e.Totp="totp"}(p||(p={}));class c{static initMultiFactorInfo(e){let t=null;try{void 0!==e.phoneInfo?t=new u(e):void 0!==e.totpInfo&&(t=new d(e))}catch(e){}return t}constructor(e){this.initFromServerResponse(e)}toJSON(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}}initFromServerResponse(e){const t=e&&this.getFactorId(e);if(!t||!e||!e.mfaEnrollmentId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor info response");i.addReadonlyGetter(this,"uid",e.mfaEnrollmentId),i.addReadonlyGetter(this,"factorId",t),i.addReadonlyGetter(this,"displayName",e.displayName),e.enrolledAt?i.addReadonlyGetter(this,"enrollmentTime",new Date(e.enrolledAt).toUTCString()):i.addReadonlyGetter(this,"enrollmentTime",null)}}t.MultiFactorInfo=c;class u extends c{constructor(e){super(e),i.addReadonlyGetter(this,"phoneNumber",e.phoneInfo)}toJSON(){return Object.assign(super.toJSON(),{phoneNumber:this.phoneNumber})}getFactorId(e){return e&&e.phoneInfo?p.Phone:null}}t.PhoneMultiFactorInfo=u;t.TotpInfo=class{};class d extends c{constructor(e){super(e),i.addReadonlyGetter(this,"totpInfo",e.totpInfo)}toJSON(){return Object.assign(super.toJSON(),{totpInfo:this.totpInfo})}getFactorId(e){return e&&e.totpInfo?p.Totp:null}}t.TotpMultiFactorInfo=d;class h{constructor(e){const t=[];if(!(0,o.isNonNullObject)(e))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid multi-factor response");e.mfaInfo&&e.mfaInfo.forEach(e=>{const r=c.initMultiFactorInfo(e);r&&t.push(r)}),i.addReadonlyGetter(this,"enrolledFactors",Object.freeze(t))}toJSON(){return{enrolledFactors:this.enrolledFactors.map(e=>e.toJSON())}}}t.MultiFactorSettings=h;class f{constructor(e){i.addReadonlyGetter(this,"creationTime",l(e.createdAt)),i.addReadonlyGetter(this,"lastSignInTime",l(e.lastLoginAt));const t=e.lastRefreshAt?new Date(e.lastRefreshAt).toUTCString():null;i.addReadonlyGetter(this,"lastRefreshTime",t)}toJSON(){return{lastSignInTime:this.lastSignInTime,creationTime:this.creationTime,lastRefreshTime:this.lastRefreshTime}}}t.UserMetadata=f;class g{constructor(e){if(!e.rawId||!e.providerId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user info response");i.addReadonlyGetter(this,"uid",e.rawId),i.addReadonlyGetter(this,"displayName",e.displayName),i.addReadonlyGetter(this,"email",e.email),i.addReadonlyGetter(this,"photoURL",e.photoUrl),i.addReadonlyGetter(this,"providerId",e.providerId),i.addReadonlyGetter(this,"phoneNumber",e.phoneNumber)}toJSON(){return{uid:this.uid,displayName:this.displayName,email:this.email,photoURL:this.photoURL,providerId:this.providerId,phoneNumber:this.phoneNumber}}}t.UserInfo=g;t.UserRecord=class{constructor(e){if(!e.localId)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INTERNAL_ERROR,"INTERNAL ASSERT FAILED: Invalid user response");i.addReadonlyGetter(this,"uid",e.localId),i.addReadonlyGetter(this,"email",e.email),i.addReadonlyGetter(this,"emailVerified",!!e.emailVerified),i.addReadonlyGetter(this,"displayName",e.displayName),i.addReadonlyGetter(this,"photoURL",e.photoUrl),i.addReadonlyGetter(this,"phoneNumber",e.phoneNumber),i.addReadonlyGetter(this,"disabled",e.disabled||!1),i.addReadonlyGetter(this,"metadata",new f(e));const t=[];for(const r of e.providerUserInfo||[])t.push(new g(r));i.addReadonlyGetter(this,"providerData",t),e.passwordHash===s?i.addReadonlyGetter(this,"passwordHash",void 0):i.addReadonlyGetter(this,"passwordHash",e.passwordHash),i.addReadonlyGetter(this,"passwordSalt",e.salt),e.customAttributes&&i.addReadonlyGetter(this,"customClaims",JSON.parse(e.customAttributes));let r=null;void 0!==e.validSince&&(r=l(1e3*parseInt(e.validSince,10))),i.addReadonlyGetter(this,"tokensValidAfterTime",r||void 0),i.addReadonlyGetter(this,"tenantId",e.tenantId);const n=new h(e);n.enrolledFactors.length>0&&i.addReadonlyGetter(this,"multiFactor",n)}toJSON(){const e={uid:this.uid,email:this.email,emailVerified:this.emailVerified,displayName:this.displayName,photoURL:this.photoURL,phoneNumber:this.phoneNumber,disabled:this.disabled,metadata:this.metadata.toJSON(),passwordHash:this.passwordHash,passwordSalt:this.passwordSalt,customClaims:(0,n.deepCopy)(this.customClaims),tokensValidAfterTime:this.tokensValidAfterTime,tenantId:this.tenantId};this.multiFactor&&(e.multiFactor=this.multiFactor.toJSON()),e.providerData=[];for(const t of this.providerData)e.providerData.push(t.toJSON());return e}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectConfigManager=void 0;const n=r(173),o=r(125);t.ProjectConfigManager=class{constructor(e){this.authRequestHandler=new o.AuthRequestHandler(e)}getProjectConfig(){return this.authRequestHandler.getProjectConfig().then(e=>new n.ProjectConfig(e))}updateProjectConfig(e){return this.authRequestHandler.updateProjectConfig(e).then(e=>new n.ProjectConfig(e))}}},function(e,t,r){"use strict";var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&o(t,e,r[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Service=t.DEFAULT_PROJECT_ID_TOKEN=void 0;
/*!
 * Copyright 2022 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const s=r(52),l=a(r(239)),p=r(87),c=r(56);t.DEFAULT_PROJECT_ID_TOKEN="{{projectId}}";class u{constructor(e,r={}){this.baseUrl=e.baseUrl,this.apiEndpoint=e.apiEndpoint,this.timeout=r.timeout,this.globalInterceptors=Array.isArray(r.interceptors_)?r.interceptors_:[],this.interceptors=[],this.packageJson=e.packageJson,this.projectId=r.projectId||t.DEFAULT_PROJECT_ID_TOKEN,this.projectIdRequired=!1!==e.projectIdRequired,this.providedUserAgent=r.userAgent,this.universeDomain=r.universeDomain||s.DEFAULT_UNIVERSE,this.customEndpoint=e.customEndpoint||!1,this.makeAuthenticatedRequest=p.util.makeAuthenticatedRequestFactory({...e,projectIdRequired:this.projectIdRequired,projectId:this.projectId,authClient:r.authClient||e.authClient,credentials:r.credentials,keyFile:r.keyFilename,email:r.email,clientOptions:{universeDomain:r.universeDomain,...r.clientOptions}}),this.authClient=this.makeAuthenticatedRequest.authClient;!!process.env.FUNCTION_NAME&&this.interceptors.push({request:e=>(e.forever=!1,e)})}getRequestInterceptors(){return[].slice.call(this.globalInterceptors).concat(this.interceptors).filter(e=>"function"==typeof e.request).map(e=>e.request)}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}async getProjectIdAsync(){const e=await this.authClient.getProjectId();return this.projectId===t.DEFAULT_PROJECT_ID_TOKEN&&e&&(this.projectId=e),this.projectId}request_(e,t){const r=0===(e={...e,timeout:this.timeout}).uri.indexOf("http"),n=[this.baseUrl];this.projectIdRequired&&(e.projectId?(n.push("projects"),n.push(e.projectId)):(n.push("projects"),n.push(this.projectId))),n.push(e.uri),r&&n.splice(0,n.indexOf(e.uri)),e.uri=n.map(e=>e.replace(/^\/*|\/*$/g,"")).join("/").replace(/\/:/g,":");const o=this.getRequestInterceptors();(Array.isArray(e.interceptors_)?e.interceptors_:[]).forEach(e=>{"function"==typeof e.request&&o.push(e.request)}),o.forEach(t=>{e=t(e)}),delete e.interceptors_;const i=this.packageJson;let a=(0,c.getUserAgentString)();if(this.providedUserAgent&&(a=`${this.providedUserAgent} ${a}`),e.headers={...e.headers,"User-Agent":a,"x-goog-api-client":`${(0,c.getRuntimeTrackingString)()} gccl/${i.version}-${(0,c.getModuleFormat)()} gccl-invocation-id/${l.v4()}`},e[p.GCCL_GCS_CMD_KEY]&&(e.headers["x-goog-api-client"]+=" gccl-gcs-cmd/"+e[p.GCCL_GCS_CMD_KEY]),e.shouldReturnStream)return this.makeAuthenticatedRequest(e);this.makeAuthenticatedRequest(e,t)}request(e,t){u.prototype.request_.call(this,e,t)}requestStream(e){const t={...e,shouldReturnStream:!0};return u.prototype.request_.call(this,t)}}t.Service=u},function(e,t,r){"use strict";const{PassThrough:n}=r(1),o=r(118);let i=()=>{};"undefined"!=typeof process&&"env"in process&&"object"==typeof process.env&&"retry-request"===process.env.DEBUG&&(i=e=>{console.log("retry-request:",e)});const a={objectMode:!1,retries:2,maxRetryDelay:64,retryDelayMultiplier:2,totalTimeout:600,noResponseRetries:2,currentRetryAttempt:0,shouldRetryFn:function(e){const t=[[100,199],[429,429],[500,599]],r=e.statusCode;let n;for(i("Response status: "+r);n=t.shift();)if(r>=n[0]&&r<=n[1])return!0}};function s(e){const{maxRetryDelay:t,retryDelayMultiplier:r,retryNumber:n,timeOfFirstRequest:o,totalTimeout:i}=e,a=1e3*t,s=1e3*i,l=Math.floor(1e3*Math.random()),p=1e3*Math.pow(r,n)+l,c=s-(Date.now()-o);return Math.min(p,c,a)}e.exports=function(e,t,r){"string"==typeof e&&(e={url:e});const l="function"!=typeof arguments[arguments.length-1];"function"==typeof t&&(r=t);const p=t&&"number"==typeof t.currentRetryAttempt;if(void 0===(t=o({},a,t)).request)throw new Error("A request library must be provided to retry-request.");let c,u,d,h,f=t.currentRetryAttempt,g=0,m=!1;const y={abort:function(){h&&h.abort&&h.abort()}};l&&(c=new n({objectMode:t.objectMode}),c.abort=b);const v=Date.now();return f>0?_(f):E(),l?c:y;function b(){d=null,u&&(u.abort&&u.abort(),u.cancel&&u.cancel(),u.destroy?u.destroy():u.end&&u.end())}function E(){let r=!1;function o(e=[]){r||(r=!0,c.emit("complete",...e))}f++,i("Current retry attempt: "+f),l?(m=!1,d=new n({objectMode:t.objectMode}),u=t.request(e),setImmediate(()=>{c.emit("request")}),u.on("error",e=>{m||(m=!0,O(e))}).on("response",(e,t)=>{m||(m=!0,O(null,e,t))}).on("complete",(...e)=>o(e)).on("finish",(...e)=>o(e)),u.pipe(d)):h=t.request(e,O)}function _(e){l&&b();const r=s({maxRetryDelay:t.maxRetryDelay,retryDelayMultiplier:t.retryDelayMultiplier,retryNumber:e,timeOfFirstRequest:v,totalTimeout:t.totalTimeout});i("Next retry delay: "+r),r<=0?g=t.noResponseRetries+1:setTimeout(E,r)}function O(e,n,o){if(e)return g++,void(g<=t.noResponseRetries?_(g):l?(c.emit("error",e),c.end()):r(e,n,o));(p?f:f-1)<t.retries&&t.shouldRetryFn(n)?_(f):l?(c.emit("response",n),d.pipe(c),u.on("error",e=>{c.destroy(e)})):r(e,n,o)}},e.exports.defaults=a,e.exports.getNextRetryDelay=s},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(624):e.exports=r(626)},function(e,t,r){e.exports=function(e){function t(e){let r,o,i,a=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(625),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){e.exports=function(e){function t(e){let r,o,i,a=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e,t){let r=0,n=0,o=-1,i=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(o=n,i=r,n++):(r++,n++);else{if(-1===o)return!1;n=o+1,i++,r=i}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(o(e,r))return!1;for(const r of t.names)if(o(e,r))return!0;return!1},t.humanize=r(633),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=w;r(23).EventEmitter;var o=function(e,t){return e.listeners(t).length},i=r(348),a=r(18).Buffer,s=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l,p=r(6);l=p&&p.debuglog?p.debuglog("stream"):function(){};var c,u,d,h=r(643),f=r(349),g=r(350).getHighWaterMark,m=r(75).codes,y=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,b=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(88)(S,i);var _=f.errorOrDestroy,O=["error","close","destroy","pause","resume"];function w(e,t,o){n=n||r(89),e=e||{},"boolean"!=typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",o),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(352).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(89),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new w(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function T(e,t,r,n,o){l("readableAddChunk",t);var i,p=e._readableState;if(null===t)p.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}(e,p);else if(o||(i=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof s||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(p,t)),i)_(e,i);else if(p.objectMode||t&&t.length>0)if("string"==typeof t||p.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)p.endEmitted?_(e,new E):A(e,p,t,!0);else if(p.ended)_(e,new v);else{if(p.destroyed)return!1;p.reading=!1,p.decoder&&!r?(t=p.decoder.write(t),p.objectMode||0!==t.length?A(e,p,t,!1):P(e,p)):A(e,p,t,!1)}else n||(p.reading=!1,P(e,p));return!p.ended&&(p.length<p.highWaterMark||0===p.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),P(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},S.prototype.unshift=function(e){return T(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){c||(c=r(352).StringDecoder);var t=new c(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,o="";null!==n;)o+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(N,e))}function N(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function P(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function k(e){l("readable nexttick read 0"),e.read(0)}function x(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):I(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,o=t.needReadable;return l("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",o=!0),t.ended||t.reading?l("reading or ended",o=!1):o&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){_(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,l("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:g;function a(t,o){l("onunpipe"),t===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,l("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",p),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",u),c=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||p())}function s(){l("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",a);var p=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",p);var c=!1;function u(t){l("ondata");var o=e.write(t);l("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!c&&(l("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){l("onerror",t),g(),e.removeListener("error",d),0===o(e,"error")&&_(e,t)}function h(){e.removeListener("finish",f),g()}function f(){l("onfinish"),e.removeListener("close",h),g()}function g(){l("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",r),n.flowing||(l("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,l("on readable",n.length,n.reading),n.length?I(this):n.reading||process.nextTick(k,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(D,this),r},S.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(D,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(x,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(l("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<O.length;i++)e.on(O[i],this.emit.bind(this,O[i]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=r(646)),u(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=L,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===d&&(d=r(647)),d(S,e,t)})},function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e,t){i(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(o,r):(r._writableState.errorEmitted=!0,process.nextTick(n,r,e)):process.nextTick(n,r,e):t?(process.nextTick(o,r),t(e)):process.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,r){"use strict";var n=r(75).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,o){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(o?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=w;var i={deprecate:r(645)},a=r(348),s=r(18).Buffer,l=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var p,c=r(349),u=r(350).getHighWaterMark,d=r(75).codes,h=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,E=d.ERR_UNKNOWN_ENCODING,_=c.errorOrDestroy;function O(){}function w(e,t,i){o=o||r(89),e=e||{},"boolean"!=typeof i&&(i=t instanceof o),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(process.nextTick(o,n),process.nextTick(P,e,t),e._writableState.errorEmitted=!0,_(e,n)):(o(n),e._writableState.errorEmitted=!0,_(e,n),P(e,t))}(e,r,n,t,o);else{var i=I(r)||e.destroyed;i||r.corked||r.bufferProcessing||!r.bufferedRequest||C(e,r),n?process.nextTick(A,e,r,i,o):A(e,r,i,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(o=o||r(89));if(!t&&!p.call(S,this))return new S(e);this._writableState=new w(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function T(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),P(e,t)}function C(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var o=t.bufferedRequestCount,i=new Array(o),a=t.corkedRequestsFree;a.entry=r;for(var s=0,l=!0;r;)i[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;i.allBuffers=l,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var p=r.chunk,c=r.encoding,u=r.callback;if(T(e,t,!1,t.objectMode?1:p.length,p,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function N(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(N,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(88)(S,a),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:i.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===S&&(e&&e._writableState instanceof w)}})):p=function(e){return e instanceof this},S.prototype.pipe=function(){_(this,new m)},S.prototype.write=function(e,t,r){var n,o=this._writableState,i=!1,a=!o.objectMode&&(n=e,s.isBuffer(n)||n instanceof l);return a&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=O),o.ending?function(e,t){var r=new b;_(e,r),process.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new h("chunk",["string","Buffer"],r)),!o||(_(e,o),process.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,i=function(e,t,r,n,o,i){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=s.from(t,r));return t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var l=t.objectMode?1:n.length;t.length+=l;var p=t.length<t.highWaterMark;p||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,l,n,o,i);return p}(this,o,a,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||C(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new f("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=c.destroy,S.prototype._undestroy=c.undestroy,S.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";var n=r(47).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=p,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=a(t[n]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if((o=a(t[n]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if((o=a(t[n]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=c;var n=r(75).codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(89);function p(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(88)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new o("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){"use strict";
/*!
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStream=t.paginator=t.Paginator=void 0;
/*!
 * @module common/paginator
 */
const n=r(655),o=r(118),i=r(656);Object.defineProperty(t,"ResourceStream",{enumerable:!0,get:function(){return i.ResourceStream}});
/*! Developer Documentation
 *
 * paginator is used to auto-paginate `nextQuery` methods as well as
 * streamifying them.
 *
 * Before:
 *
 *   search.query('done=true', function(err, results, nextQuery) {
 *     search.query(nextQuery, function(err, results, nextQuery) {});
 *   });
 *
 * After:
 *
 *   search.query('done=true', function(err, results) {});
 *
 * Methods to extend should be written to accept callbacks and return a
 * `nextQuery`.
 */
class a{extend(e,t){(t=n(t)).forEach(t=>{const r=e.prototype[t];e.prototype[t+"_"]=r,e.prototype[t]=function(...e){const t=s.parseArguments_(e);return s.run_(t,r.bind(this))}})}streamify(e){return function(...t){const r=s.parseArguments_(t),n=this[e+"_"]||this[e];return s.runAsStream_(r,n.bind(this))}}parseArguments_(e){let t,r,n=!0,i=-1,a=-1;const s=e[0],l=e[e.length-1];"function"==typeof s?r=s:t=s,"function"==typeof l&&(r=l),"object"==typeof t&&(t=o(!0,{},t),t.maxResults&&"number"==typeof t.maxResults?a=t.maxResults:"number"==typeof t.pageSize&&(a=t.pageSize),t.maxApiCalls&&"number"==typeof t.maxApiCalls&&(i=t.maxApiCalls,delete t.maxApiCalls),-1===a&&!1!==t.autoPaginate||(n=!1));const p={query:t||{},autoPaginate:n,maxApiCalls:i,maxResults:a,callback:r};return p.streamOptions=o(!0,{},p.query),delete p.streamOptions.autoPaginate,delete p.streamOptions.maxResults,delete p.streamOptions.pageSize,p}run_(e,t){const r=e.query,n=e.callback;if(!e.autoPaginate)return t(r,n);const o=new Array;let i=[];const a=new Promise((r,n)=>{const a=s.runAsStream_(e,t);a.on("error",n).on("data",e=>o.push(e)).on("end",()=>{i=a._otherArgs||[],r(o)})});if(!n)return a.then(e=>[e,r,...i]);a.then(e=>n(null,e,r,...i),e=>n(e))}runAsStream_(e,t){return new i.ResourceStream(e,t)}}t.Paginator=a;const s=new a;t.paginator=s},function(e,t,r){"use strict";let n=r(657);e.exports=new n(r(658),r(659))},function(e,t,r){"use strict";const n=r(660);e.exports=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new n;let r=0;const o=async(e,n,...o)=>{r++;const i=(async()=>e(...o))();n(i);try{await i}catch{}r--,t.size>0&&t.dequeue()()},i=(n,...i)=>new Promise(a=>{((n,i,...a)=>{t.enqueue(o.bind(null,n,i,...a)),(async()=>{await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()})()})(n,a,...i)});return Object.defineProperties(i,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AclRoleAccessorMethods=t.Acl=void 0;const n=r(57);class o{constructor(){this.owners={},this.readers={},this.writers={},this.owners={},this.readers={},this.writers={},o.roles.forEach(this._assignAccessMethods.bind(this))}_assignAccessMethods(e){const t=o.accessMethods,r=o.entities;this[e.toLowerCase()+"s"]=r.reduce((r,n)=>{const o="-"===n.charAt(n.length-1);return t.forEach(t=>{let i=t+n[0].toUpperCase()+n.substring(1);o&&(i=i.replace("-","")),r[i]=(r,i,a)=>{let s;"function"==typeof i&&(a=i,i={}),o?s=n+r:(s=n,a=r);const l=[i=Object.assign({entity:s,role:e},i)];return"function"==typeof a&&l.push(a),this[t].apply(this,l)}}),r},{})}}t.AclRoleAccessorMethods=o,o.accessMethods=["add","delete"],o.entities=["allAuthenticatedUsers","allUsers","domain-","group-","project-","user-"],o.roles=["OWNER","READER","WRITER"];class i extends o{constructor(e){super(),this.pathPrefix=e.pathPrefix,this.request_=e.request}add(e,t){const r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"POST",uri:"",qs:r,maxRetries:0,json:{entity:e.entity,role:e.role.toUpperCase()}},(e,r)=>{e?t(e,null,r):t(null,this.makeAclObject_(r),r)})}delete(e,t){const r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"DELETE",uri:"/"+encodeURIComponent(e.entity),qs:r},(e,r)=>{t(e,r)})}get(e,t){const r="object"==typeof e?e:null,n="function"==typeof e?e:t;let o="";const i={};r&&(o="/"+encodeURIComponent(r.entity),r.generation&&(i.generation=r.generation),r.userProject&&(i.userProject=r.userProject)),this.request({uri:o,qs:i},(e,t)=>{if(e)return void n(e,null,t);let r;r=t.items?t.items.map(this.makeAclObject_):this.makeAclObject_(t),n(null,r,t)})}update(e,t){const r={};e.generation&&(r.generation=e.generation),e.userProject&&(r.userProject=e.userProject),this.request({method:"PUT",uri:"/"+encodeURIComponent(e.entity),qs:r,json:{role:e.role.toUpperCase()}},(e,r)=>{e?t(e,null,r):t(null,this.makeAclObject_(r),r)})}makeAclObject_(e){const t={entity:e.entity,role:e.role};return e.projectTeam&&(t.projectTeam=e.projectTeam),t}request(e,t){e.uri=this.pathPrefix+e.uri,this.request_(e,t)}}t.Acl=i,
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,n.promisifyAll)(i,{exclude:["request"]})},function(e,t,r){"use strict";var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),a=0;a<r.length;a++)"default"!==r[a]&&o(t,e,r[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SigningError=t.URLSigner=t.PATH_STYLED_HOST=t.SignerExceptionMessages=void 0;const s=a(r(0)),l=a(r(11)),p=r(109),c=r(56);var u;!function(e){e.ACCESSIBLE_DATE_INVALID="The accessible at date provided was invalid.",e.EXPIRATION_BEFORE_ACCESSIBLE_DATE="An expiration date cannot be before accessible date.",e.X_GOOG_CONTENT_SHA256="The header X-Goog-Content-SHA256 must be a hexadecimal string."}(u||(t.SignerExceptionMessages=u={}));t.PATH_STYLED_HOST="https://storage.googleapis.com";t.URLSigner=class{constructor(e,t,r,n=new p.Storage){this.auth=e,this.bucket=t,this.file=r,this.storage=n}getSignedUrl(e){const t=this.parseExpires(e.expires),r=e.method,n=this.parseAccessibleAt(e.accessibleAt);if(t<n)throw new Error(u.EXPIRATION_BEFORE_ACCESSIBLE_DATE);let o;const i=e.virtualHostedStyle||!1;e.cname?o=e.cname:i&&(o=`https://${this.bucket.name}.storage.${this.storage.universeDomain}`);const a=Object.assign({},e,{method:r,expiration:t,accessibleAt:new Date(1e3*n),bucket:this.bucket.name,file:this.file?(0,c.encodeURI)(this.file.name,!1):void 0});o&&(a.cname=o);const s=e.version||"v2";let p;if("v2"===s)p=this.getSignedUrlV2(a);else{if("v4"!==s)throw new Error(`Invalid signed URL version: ${s}. Supported versions are 'v2' and 'v4'.`);p=this.getSignedUrlV4(a)}return p.then(t=>{var r;t=Object.assign(t,e.queryParams);const n=new l.URL((null===(r=e.host)||void 0===r?void 0:r.toString())||a.cname||this.storage.apiEndpoint);return n.pathname=this.getResourcePath(!!a.cname,this.bucket.name,a.file),n.search=(0,c.qsStringify)(t),n.href})}getSignedUrlV2(e){const t=this.getCanonicalHeaders(e.extensionHeaders||{}),r=this.getResourcePath(!1,e.bucket,e.file),n=[e.method,e.contentMd5||"",e.contentType||"",e.expiration,t+r].join("\n");return(async()=>{var t;const r=this.auth;try{const o=await r.sign(n,null===(t=e.signingEndpoint)||void 0===t?void 0:t.toString());return{GoogleAccessId:(await r.getCredentials()).client_email,Expires:e.expiration,Signature:o}}catch(e){const t=e,r=new d(t.message);throw r.stack=t.stack,r}})()}getSignedUrlV4(e){var t;e.accessibleAt=e.accessibleAt?e.accessibleAt:new Date;const r=e.expiration-.001*e.accessibleAt.valueOf();if(r>604800)throw new Error("Max allowed expiration is seven days (604800 seconds).");const n=Object.assign({},e.extensionHeaders),o=new l.URL((null===(t=e.host)||void 0===t?void 0:t.toString())||e.cname||this.storage.apiEndpoint);let i;n.host=o.hostname,e.contentMd5&&(n["content-md5"]=e.contentMd5),e.contentType&&(n["content-type"]=e.contentType);const a=n["x-goog-content-sha256"];if(a){if("string"!=typeof a||!/[A-Fa-f0-9]{40}/.test(a))throw new Error(u.X_GOOG_CONTENT_SHA256);i=a}const p=Object.keys(n).map(e=>e.toLowerCase()).sort().join(";"),h=this.getCanonicalHeaders(n),f=(0,c.formatAsUTCISO)(e.accessibleAt)+"/auto/storage/goog4_request";return(async()=>{var t;const n=`${(await this.auth.getCredentials()).client_email}/${f}`,o=(0,c.formatAsUTCISO)(e.accessibleAt?e.accessibleAt:new Date,!0),a={"X-Goog-Algorithm":"GOOG4-RSA-SHA256","X-Goog-Credential":n,"X-Goog-Date":o,"X-Goog-Expires":r.toString(10),"X-Goog-SignedHeaders":p,...e.queryParams||{}},l=this.getCanonicalQueryParams(a),u=this.getCanonicalRequest(e.method,this.getResourcePath(!!e.cname,e.bucket,e.file),l,h,p,i),g=s.createHash("sha256").update(u).digest("hex"),m=["GOOG4-RSA-SHA256",o,f,g].join("\n");try{const r=await this.auth.sign(m,null===(t=e.signingEndpoint)||void 0===t?void 0:t.toString()),n=Buffer.from(r,"base64").toString("hex");return Object.assign({},a,{"X-Goog-Signature":n})}catch(e){const t=e,r=new d(t.message);throw r.stack=t.stack,r}})()}getCanonicalHeaders(e){return(0,c.objectEntries)(e).map(([e,t])=>[e.toLowerCase(),t]).sort((e,t)=>e[0].localeCompare(t[0])).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}:${(""+t).trim().replace(/\s{2,}/g," ")}\n`).join("")}getCanonicalRequest(e,t,r,n,o,i){return[e,t,r,n,o,i||"UNSIGNED-PAYLOAD"].join("\n")}getCanonicalQueryParams(e){return(0,c.objectEntries)(e).map(([e,t])=>[(0,c.encodeURI)(e,!0),(0,c.encodeURI)(t,!0)]).sort((e,t)=>e[0]<t[0]?-1:1).map(([e,t])=>`${e}=${t}`).join("&")}getResourcePath(e,t,r){return e?"/"+(r||""):r?`/${t}/${r}`:"/"+t}parseExpires(e,t=new Date){const r=new Date(e).valueOf();if(isNaN(r))throw new Error(p.ExceptionMessages.EXPIRATION_DATE_INVALID);if(r<t.valueOf())throw new Error(p.ExceptionMessages.EXPIRATION_DATE_PAST);return Math.floor(r/1e3)}parseAccessibleAt(e){const t=new Date(e||new Date).valueOf();if(isNaN(t))throw new Error(u.ACCESSIBLE_DATE_INVALID);return Math.floor(t/1e3)}};class d extends Error{constructor(){super(...arguments),this.name="SigningError"}}t.SigningError=d},function(e,t,r){"use strict";var n,o,i,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.HashStreamValidator=void 0;const l=r(0),p=r(1),c=r(111),u=r(110);class d extends p.Transform{constructor(e={}){if(super(),this.updateHashesOnly=!1,n.set(this,void 0),o.set(this,void 0),i.set(this,""),this.crc32cEnabled=!!e.crc32c,this.md5Enabled=!!e.md5,this.updateHashesOnly=!!e.updateHashesOnly,this.crc32cExpected=e.crc32cExpected,this.md5Expected=e.md5Expected,this.crc32cEnabled)if(e.crc32cInstance)a(this,n,e.crc32cInstance,"f");else{const t=e.crc32cGenerator||c.CRC32C_DEFAULT_VALIDATOR_GENERATOR;a(this,n,t(),"f")}this.md5Enabled&&a(this,o,(0,l.createHash)("md5"),"f")}get crc32c(){var e;return null===(e=s(this,n,"f"))||void 0===e?void 0:e.toString()}_flush(e){if(s(this,o,"f")&&a(this,i,s(this,o,"f").digest("base64"),"f"),this.updateHashesOnly)return void e();let t=this.crc32cEnabled||this.md5Enabled;if(this.crc32cEnabled&&this.crc32cExpected&&(t=!this.test("crc32c",this.crc32cExpected)),this.md5Enabled&&this.md5Expected&&(t=!this.test("md5",this.md5Expected)),t){const t=new u.RequestError(u.FileExceptionMessages.DOWNLOAD_MISMATCH);t.code="CONTENT_DOWNLOAD_MISMATCH",e(t)}else e()}_transform(e,t,r){this.push(e,t);try{s(this,n,"f")&&s(this,n,"f").update(e),s(this,o,"f")&&s(this,o,"f").update(e),r()}catch(e){r(e)}}test(e,t){const r=Buffer.isBuffer(t)?t.toString("base64"):t;return"crc32c"===e&&s(this,n,"f")?s(this,n,"f").validate(r):!("md5"!==e||!s(this,o,"f"))&&s(this,i,"f")===r}}t.HashStreamValidator=d,n=new WeakMap,o=new WeakMap,i=new WeakMap},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Iam=t.IAMExceptionMessages=void 0;const n=r(57),o=r(56);var i;!function(e){e.POLICY_OBJECT_REQUIRED="A policy object is required.",e.PERMISSIONS_REQUIRED="Permissions are required."}(i||(t.IAMExceptionMessages=i={}));class a{constructor(e){this.request_=e.request.bind(e),this.resourceId_="buckets/"+e.getId()}getPolicy(e,t){const{options:r,callback:n}=(0,o.normalize)(e,t),i={};r.userProject&&(i.userProject=r.userProject),null!==r.requestedPolicyVersion&&void 0!==r.requestedPolicyVersion&&(i.optionsRequestedPolicyVersion=r.requestedPolicyVersion),this.request_({uri:"/iam",qs:i},n)}setPolicy(e,t,r){if(null===e||"object"!=typeof e)throw new Error(i.POLICY_OBJECT_REQUIRED);const{options:n,callback:a}=(0,o.normalize)(t,r);let s;void 0===e.etag&&(s=0),this.request_({method:"PUT",uri:"/iam",maxRetries:s,json:Object.assign({resourceId:this.resourceId_},e),qs:n},a)}testPermissions(e,t,r){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error(i.PERMISSIONS_REQUIRED);const{options:n,callback:a}=(0,o.normalize)(t,r),s=Array.isArray(e)?e:[e],l=Object.assign({permissions:s},n);this.request_({uri:"/iam/testPermissions",qs:l,useQuerystring:!0},(e,t)=>{if(e)return void a(e,null,t);const r=Array.isArray(t.permissions)?t.permissions:[],n=s.reduce((e,t)=>(e[t]=r.indexOf(t)>-1,e),{});a(null,n,t)})}}t.Iam=a,
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,n.promisifyAll)(a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notification=void 0;const n=r(74),o=r(57);class i extends n.ServiceObject{constructor(e,t){const r={},n={create:!0,delete:{reqOpts:{qs:r}},get:{reqOpts:{qs:r}},getMetadata:{reqOpts:{qs:r}},exists:!0};super({parent:e,baseUrl:"/notificationConfigs",id:t.toString(),createMethod:e.createNotification.bind(e),methods:n})}}t.Notification=i,
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,o.promisifyAll)(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Channel=void 0;const n=r(74),o=r(57);class i extends n.ServiceObject{constructor(e,t,r){super({parent:e,baseUrl:"/channels",id:"",methods:{}}),this.metadata.id=t,this.metadata.resourceId=r}stop(e){e=e||n.util.noop,this.request({method:"POST",uri:"/stop",json:this.metadata},(t,r)=>{e(t,r)})}}t.Channel=i,
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,o.promisifyAll)(i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HmacKey=void 0;const n=r(74),o=r(109),i=r(57);class a extends n.ServiceObject{constructor(e,t,r){super({parent:e,id:t,baseUrl:`/projects/${r&&r.projectId||e.projectId}/hmacKeys`,methods:{delete:!0,get:!0,getMetadata:!0,setMetadata:{reqOpts:{method:"PUT"}}}}),this.storage=e,this.instanceRetryValue=e.retryOptions.autoRetry}setMetadata(e,t,r){this.storage.retryOptions.idempotencyStrategy!==o.IdempotencyStrategy.RetryAlways&&(this.storage.retryOptions.autoRetry=!1);const n="object"==typeof t?t:{};r="function"==typeof t?t:r,super.setMetadata(e,n).then(e=>r(null,...e)).catch(r).finally(()=>{this.storage.retryOptions.autoRetry=this.instanceRetryValue})}}t.HmacKey=a,
/*! Developer Documentation
 *
 * All async methods (except for streams) will return a Promise in the event
 * that a callback is omitted.
 */
(0,i.promisifyAll)(a)},function(e,t,r){"use strict";const n=r(203),o={allowBooleanAttributes:!1,unpairedTags:[]};function i(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function a(e,t){const r=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const n=e.substr(r,t-r);if(t>5&&"xml"===n)return d("InvalidXml","XML declaration allowed only at the start of the document.",f(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&(r--,0===r))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},o,t);const r=[];let p=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=a(e,o),o.err)return o}else{if("<"!==e[o]){if(i(e[o]))continue;return d("InvalidChar","char '"+e[o]+"' is not expected.",f(e,o))}{let m=o;if(o++,"!"===e[o]){o=s(e,o);continue}{let y=!1;"/"===e[o]&&(y=!0,o++);let v="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)v+=e[o];if(v=v.trim(),"/"===v[v.length-1]&&(v=v.substring(0,v.length-1),o--),g=v,!n.isName(g)){let t;return t=0===v.trim().length?"Invalid space after '<'.":"Tag '"+v+"' is an invalid name.",d("InvalidTag",t,f(e,o))}const b=l(e,o);if(!1===b)return d("InvalidAttr","Attributes for '"+v+"' have open quote.",f(e,o));let E=b.value;if(o=b.index,"/"===E[E.length-1]){const r=o-E.length;E=E.substring(0,E.length-1);const n=c(E,t);if(!0!==n)return d(n.err.code,n.err.msg,f(e,r+n.err.line));p=!0}else if(y){if(!b.tagClosed)return d("InvalidTag","Closing tag '"+v+"' doesn't have proper closing.",f(e,o));if(E.trim().length>0)return d("InvalidTag","Closing tag '"+v+"' can't have attributes or invalid starting.",f(e,m));if(0===r.length)return d("InvalidTag","Closing tag '"+v+"' has not been opened.",f(e,m));{const t=r.pop();if(v!==t.tagName){let r=f(e,t.tagStartPos);return d("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+r.line+", col "+r.col+") instead of closing tag '"+v+"'.",f(e,m))}0==r.length&&(h=!0)}}else{const n=c(E,t);if(!0!==n)return d(n.err.code,n.err.msg,f(e,o-E.length+n.err.line));if(!0===h)return d("InvalidXml","Multiple possible root nodes found.",f(e,o));-1!==t.unpairedTags.indexOf(v)||r.push({tagName:v,tagStartPos:m}),p=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=s(e,o);continue}if("?"!==e[o+1])break;if(o=a(e,++o),o.err)return o}else if("&"===e[o]){const t=u(e,o);if(-1==t)return d("InvalidChar","char '&' is not expected.",f(e,o));o=t}else if(!0===h&&!i(e[o]))return d("InvalidXml","Extra text at the end",f(e,o));"<"===e[o]&&o--}}}var g;return p?1==r.length?d("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",f(e,r[0].tagStartPos)):!(r.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(r.map(e=>e.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};function l(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===n?n=e[t]:n!==e[t]||(n="");else if(">"===e[t]&&""===n){o=!0;break}r+=e[t]}return""===n&&{value:r,index:t,tagClosed:o}}const p=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function c(e,t){const r=n.getAllMatches(e,p),o={};for(let e=0;e<r.length;e++){if(0===r[e][1].length)return d("InvalidAttr","Attribute '"+r[e][2]+"' has no space in starting.",g(r[e]));if(void 0!==r[e][3]&&void 0===r[e][4])return d("InvalidAttr","Attribute '"+r[e][2]+"' is without value.",g(r[e]));if(void 0===r[e][3]&&!t.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+r[e][2]+"' is not allowed.",g(r[e]));const n=r[e][2];if(!h(n))return d("InvalidAttr","Attribute '"+n+"' is an invalid name.",g(r[e]));if(o.hasOwnProperty(n))return d("InvalidAttr","Attribute '"+n+"' is repeated.",g(r[e]));o[n]=1}return!0}function u(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}(e,++t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function d(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function h(e){return n.isName(e)}function f(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function g(e){return e.startIndex+e[1].length}},function(e,t){e.exports=function(e){return"function"==typeof e?e:Array.isArray(e)?t=>{for(const r of e){if("string"==typeof r&&t===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}}:()=>!1}},function(e,t,r){"use strict";var n=r(0);function o(e,t){return function(e,t){var r;r="passthrough"!==t.algorithm?n.createHash(t.algorithm):new c;void 0===r.write&&(r.write=r.update,r.end=r.update);p(t,r).dispatch(e),r.update||r.end("");if(r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var o=r.read();if("buffer"===t.encoding)return o;return o.toString(t.encoding)}(e,t=s(e,t))}(t=e.exports=o).sha1=function(e){return o(e)},t.keys=function(e){return o(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(e){return o(e,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(e){return o(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var i=n.getHashes?n.getHashes().slice():["sha1","md5"];i.push("passthrough");var a=["buffer","hex","binary","base64"];function s(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<i.length;++n)i[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=i[n]);if(-1===i.indexOf(r.algorithm))throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+i.join(", "));if(-1===a.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+a.join(", "));return r}function l(e){if("function"!=typeof e)return!1;return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function p(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var o=Object.prototype.toString.call(t),i=/\[object (.*)\]/i.exec(o);i=(i=i?i[1]:"unknown:["+o+"]").toLowerCase();var a;if((a=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+a+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"===i||"function"===i||"asyncfunction"===i){var s=Object.keys(t);e.unorderedObjects&&(s=s.sort()),!1===e.respectType||l(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),n("object:"+s.length+":");var p=this;return s.forEach((function(r){p.dispatch(r),n(":"),e.excludeValues||p.dispatch(t[r]),n(",")}))}if(!this["_"+i]){if(e.ignoreUnknown)return n("["+i+"]");throw new Error('Unknown object type "'+i+'"')}this["_"+i](t)},_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var i=this;if(n("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var a=[],s=t.map((function(t){var n=new c,o=r.slice();return p(e,n,o).dispatch(t),a=a.concat(o.slice(r.length)),n.read().toString()}));return r=r.concat(a),s.sort(),this._array(s,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),l(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString())},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function c(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}t.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),p(t=s(e,t),r).dispatch(e)}},function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(204),n.BufferWriter=r(684),n.Reader=r(205),n.BufferReader=r(685),n.util=r(59),n.rpc=r(370),n.roots=r(371),n.configure=o,o()},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";t.Service=r(686)},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),l=0;l<s.length;++l){var p=s[l].resolve(),c=e._fieldsArray.indexOf(p),u=p.resolvedType instanceof n?"int32":p.type,d=o.basic[u];t="m"+i.safeProp(p.name),p.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,p.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(p.id<<3|2)>>>0,8|o.mapKey[p.keyType],p.keyType),void 0===d?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|d,u,t),r("}")("}")):p.repeated?(r("if(%s!=null&&%s.length){",t,t),p.packed&&void 0!==o.packed[u]?r("w.uint32(%i).fork()",(p.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",u,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===d?a(r,p,c,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(p.id<<3|d)>>>0,u,t)),r("}")):(p.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,p.name),void 0===d?a(r,p,c,t):r("w.uint32(%i).%s(%s)",(p.id<<3|d)>>>0,u,t))}return r("return w")};var n=r(50),o=r(91),i=r(16);function a(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),l=s.resolvedType instanceof n?"int32":s.type,p="m"+i.safeProp(s.name);t("case %i: {",s.id),s.map?(t("if(%s===util.emptyObject)",p)("%s={}",p)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[s.keyType]?t("k=%j",o.defaults[s.keyType]):t("k=null"),void 0!==o.defaults[l]?t("value=%j",o.defaults[l]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===o.basic[l]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",l),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',p):t("%s[k]=value",p)):s.repeated?(t("if(!(%s&&%s.length))",p,p)("%s=[]",p),void 0!==o.packed[l]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",p,l)("}else"),void 0===o.basic[l]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",p,r):t("%s.push(r.%s())",p,l)):void 0===o.basic[l]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",p,r):t("%s=r.%s()",p,l),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",a(c))}return t("return m")};var n=r(50),o=r(91),i=r(16);function a(e){return"missing required '"+e.name+"'"}},function(e,t,r){"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var l=0;l<e.fieldsArray.length;++l){var p=e._fieldsArray[l].resolve(),c="m"+o.safeProp(p.name);if(p.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,p.name),p.map)t("if(!util.isObject(%s))",c)("return%j",i(p,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),s(t,p,"k[i]"),a(t,p,l,c+"[k[i]]")("}");else if(p.repeated)t("if(!Array.isArray(%s))",c)("return%j",i(p,"array"))("for(var i=0;i<%s.length;++i){",c),a(t,p,l,c+"[i]")("}");else{if(p.partOf){var u=o.safeProp(p.partOf.name);1===n[p.partOf.name]&&t("if(p%s===1)",u)("return%j",p.partOf.name+": multiple values"),n[p.partOf.name]=1,t("p%s=1",u)}a(t,p,l,c)}p.optional&&t("}")}return t("return null")};var n=r(50),o=r(16);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},function(e,t,r){"use strict";var n=t,o=r(50),i=r(16);function a(e,t,r,n){var i=!1;if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var a=t.resolvedType.values,s=Object.keys(a),l=0;l<s.length;++l)a[s[l]]!==t.typeDefault||i||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),i=!0),e("case%j:",s[l])("case %i:",a[s[l]])("m%s=%j",n,a[s[l]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var p=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,p)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,p?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),l=i.safeProp(s.name);s.map?(r("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),a(r,s,n,l+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),a(r,s,n,l+"[i]")("}")("}")):(s.resolvedType instanceof o||r("if(d%s!=null){",l),a(r,s,n,l),s.resolvedType instanceof o||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],l=[],p=0;p<t.length;++p)t[p].partOf||(t[p].resolve().repeated?n:t[p].map?a:l).push(t[p]);if(n.length){for(r("if(o.arrays||o.defaults){"),p=0;p<n.length;++p)r("d%s=[]",i.safeProp(n[p].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),p=0;p<a.length;++p)r("d%s={}",i.safeProp(a[p].name));r("}")}if(l.length){for(r("if(o.defaults){"),p=0;p<l.length;++p){var c=l[p],u=i.safeProp(c.name);if(c.resolvedType instanceof o)r("d%s=o.enums===String?%j:%j",u,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",u)("}else")("d%s=o.longs===String?%j:%i",u,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var d="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",u,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",u,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",u,u)("}")}else r("d%s=%j",u,c.typeDefault)}r("}")}var h=!1;for(p=0;p<t.length;++p){c=t[p];var f=e._fieldsArray.indexOf(c);u=i.safeProp(c.name);c.map?(h||(h=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",u,u)("d%s={}",u)("for(var j=0;j<ks2.length;++j){"),s(r,c,f,u+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",u,u)("d%s=[]",u)("for(var j=0;j<m%s.length;++j){",u),s(r,c,f,u+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",u,c.name),s(r,c,f,u),c.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},function(e,t,r){"use strict";var n=t,o=r(210);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var a=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),a["@type"]=n,a}return this.toObject(e,t)}}},function(e,t,r){"use strict";e.exports=h;var n=/[\s{}=;:[\],'"()<>]/g,o=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,i=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,s=/^\s*\*?\/*/,l=/\n/g,p=/\s/,c=/\\(.?)/g,u={0:"\0",r:"\r",n:"\n",t:"\t"};function d(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return u[t]||""}}))}function h(e,t){e=e.toString();var r=0,c=e.length,u=1,h=0,f={},g=[],m=null;function y(e){return Error("illegal "+e+" (line "+u+")")}function v(t){return e.charAt(t)}function b(r,n,o){var i,p={type:e.charAt(r++),lineEmpty:!1,leading:o},c=r-(t?2:3);do{if(--c<0||"\n"===(i=e.charAt(c))){p.lineEmpty=!0;break}}while(" "===i||"\t"===i);for(var d=e.substring(r,n).split(l),g=0;g<d.length;++g)d[g]=d[g].replace(t?s:a,"").trim();p.text=d.join("\n").trim(),f[u]=p,h=u}function E(t){var r=_(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function _(e){for(var t=e;t<c&&"\n"!==v(t);)t++;return t}function O(){if(g.length>0)return g.shift();if(m)return function(){var t="'"===m?i:o;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw y("string");return r=t.lastIndex,w(m),m=null,d(n[1])}();var a,s,l,h,f,O=0===r;do{if(r===c)return null;for(a=!1;p.test(l=v(r));)if("\n"===l&&(O=!0,++u),++r===c)return null;if("/"===v(r)){if(++r===c)throw y("comment");if("/"===v(r))if(t){if(h=r,f=!1,E(r-1)){f=!0;do{if((r=_(r))===c)break;if(r++,!O)break}while(E(r))}else r=Math.min(c,_(r)+1);f&&(b(h,r,O),O=!0),u++,a=!0}else{for(f="/"===v(h=r+1);"\n"!==v(++r);)if(r===c)return null;++r,f&&(b(h,r-1,O),O=!0),++u,a=!0}else{if("*"!==(l=v(r)))return"/";h=r+1,f=t||"*"===v(h);do{if("\n"===l&&++u,++r===c)throw y("comment");s=l,l=v(r)}while("*"!==s||"/"!==l);++r,f&&(b(h,r-2,O),O=!0),a=!0}}}while(a);var S=r;if(n.lastIndex=0,!n.test(v(S++)))for(;S<c&&!n.test(v(S));)++S;var T=e.substring(r,r=S);return'"'!==T&&"'"!==T||(m=T),T}function w(e){g.push(e)}function S(){if(!g.length){var e=O();if(null===e)return null;w(e)}return g[0]}return Object.defineProperty({next:O,peek:S,push:w,skip:function(e,t){var r=S();if(r===e)return O(),!0;if(!t)throw y("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r,n=null;return void 0===e?(r=f[u-1],delete f[u-1],r&&(t||"*"===r.type||r.lineEmpty)&&(n=r.leading?r.text:null)):(h<e&&S(),r=f[e],delete f[e],!r||r.lineEmpty||!t&&"/"!==r.type||(n=r.leading?null:r.text)),n}},"line",{get:function(){return u}})}h.unescape=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toProto3JSON=void 0;const n=r(379),o=r(214),i=r(148),a=r(381),s=r(382),l=r(383),p=r(384),c=r(385),u=r(386);function d(e){var t;if("object"==typeof e){if("Long"===(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name))return e.toString();throw new Error("toProto3JSON: don't know how to convert value "+e)}return e}t.toProto3JSON=function e(t,r){const h=t.$type;if(!h)throw new Error("Cannot serialize object to proto3 JSON since its .$type is unknown. Use Type.fromObject(obj) before calling toProto3JSON.");h.resolveAll();const f=(0,i.getFullyQualifiedTypeName)(h);if(".google.protobuf.Any"===f)return(0,n.googleProtobufAnyToProto3JSON)(t,r);if(".google.protobuf.Value"===f)return(0,s.googleProtobufValueToProto3JSON)(t);if(".google.protobuf.Struct"===f)return(0,s.googleProtobufStructToProto3JSON)(t);if(".google.protobuf.ListValue"===f)return(0,s.googleProtobufListValueToProto3JSON)(t);if(".google.protobuf.Duration"===f)return(0,l.googleProtobufDurationToProto3JSON)(t);if(".google.protobuf.Timestamp"===f)return(0,p.googleProtobufTimestampToProto3JSON)(t);if(".google.protobuf.FieldMask"===f)return(0,u.googleProtobufFieldMaskToProto3JSON)(t);if(i.wrapperTypes.has(f))return(0,c.wrapperToProto3JSON)(t);const g={};for(const[n,s]of Object.entries(t)){const t=h.fields[n],l=t.resolvedType,p=l?(0,i.getFullyQualifiedTypeName)(l):null;if(null!==s)if(Array.isArray(s)){if(0===s.length)continue;g[n]=s.map(l?t=>e(t,r):d)}else if(t.map){const t={};for(const[n,o]of Object.entries(s))t[n]=l?e(o,r):d(o);g[n]=t}else if(".google.protobuf.NullValue"!==p)if(l&&"values"in l&&null!==s)(null==r?void 0:r.numericEnums)?g[n]=(0,a.resolveEnumValueToNumber)(l,s):g[n]=(0,a.resolveEnumValueToString)(l,s);else if(l)g[n]=e(s,r);else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s&&null!==s)Buffer.isBuffer(s)||s instanceof Uint8Array?g[n]=(0,o.bytesToProto3JSON)(s):g[n]=d(s);else{if("number"==typeof s&&!Number.isFinite(s)){g[n]=s.toString();continue}g[n]=s}else g[n]=null;else g[n]=null}return g}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googleProtobufAnyFromProto3JSON=t.googleProtobufAnyToProto3JSON=void 0;const n=r(380),o=r(378),i=new Set(["google.protobuf.Any","google.protobuf.Duration","google.protobuf.FieldMask","google.protobuf.ListValue","google.protobuf.Struct","google.protobuf.Timestamp","google.protobuf.Value"]);t.googleProtobufAnyToProto3JSON=function(e,t){const r=e.type_url.replace(/^.*\//,"");let n;try{n=e.$type.root.lookupType(r)}catch(e){throw new Error(`googleProtobufAnyToProto3JSON: cannot find type ${r}: ${e}`)}const a=n.decode(e.value),s=(0,o.toProto3JSON)(a,t);return i.has(r)?{"@type":e.type_url,value:s}:(s["@type"]=e.type_url,s)},t.googleProtobufAnyFromProto3JSON=function(e,t){if(null===t||"object"!=typeof t||Array.isArray(t))throw new Error("googleProtobufAnyFromProto3JSON: must be an object to decode google.protobuf.Any");const r=t["@type"];if(!r||"string"!=typeof r)throw new Error("googleProtobufAnyFromProto3JSON: JSON serialization of google.protobuf.Any must contain @type field");const o=r.replace(/^.*\//,"");let a;try{a=e.lookupType(o)}catch(e){throw new Error(`googleProtobufAnyFromProto3JSON: cannot find type ${o}: ${e}`)}let s=t;if(i.has(o)){if(!("value"in t))throw new Error(`googleProtobufAnyFromProto3JSON: JSON representation of google.protobuf.Any with type ${o} must contain the value field`);s=t.value}const l=(0,n.fromProto3JSON)(a,s);if(null===l)return{type_url:r,value:null};const p=a.encode(l).finish();return{type_url:r,value:Buffer.from(p,0,p.byteLength).toString("base64")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromProto3JSON=t.fromProto3JSONToInternalRepresentation=void 0;const n=r(379),o=r(214),i=r(381),a=r(382),s=r(148),l=r(383),p=r(384),c=r(385),u=r(386);function d(e,t){const r="string"==typeof e?e:(0,s.getFullyQualifiedTypeName)(e);if("string"!=typeof e&&"values"in e)return".google.protobuf.NullValue"===r?"NULL_VALUE":(0,i.resolveEnumValueToString)(e,t);if("string"!=typeof e&&e.resolveAll(),"string"==typeof e)return t;if(".google.protobuf.Value"===r)return(0,a.googleProtobufValueFromProto3JSON)(t);if(s.wrapperTypes.has(r)){if(null!==t&&"object"==typeof t||Array.isArray(t))throw new Error(`fromProto3JSONToInternalRepresentation: JSON representation for ${r} expects a string, a number, or a boolean, but got ${typeof t}`);return(0,c.wrapperFromProto3JSON)(r,t)}if(null===t)return null;if(".google.protobuf.Any"===r)return(0,n.googleProtobufAnyFromProto3JSON)(e.root,t);if(".google.protobuf.Struct"===r){if("object"!=typeof t)throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got "+typeof t);if(Array.isArray(t))throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Struct must be an object but got an array");return(0,a.googleProtobufStructFromProto3JSON)(t)}if(".google.protobuf.ListValue"===r){if(!Array.isArray(t))throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.ListValue must be an array but got "+typeof t);return(0,a.googleProtobufListValueFromProto3JSON)(t)}if(".google.protobuf.Duration"===r){if("string"!=typeof t)throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Duration must be a string but got "+typeof t);return(0,l.googleProtobufDurationFromProto3JSON)(t)}if(".google.protobuf.Timestamp"===r){if("string"!=typeof t)throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.Timestamp must be a string but got "+typeof t);return(0,p.googleProtobufTimestampFromProto3JSON)(t)}if(".google.protobuf.FieldMask"===r){if("string"!=typeof t)throw new Error("fromProto3JSONToInternalRepresentation: google.protobuf.FieldMask must be a string but got "+typeof t);return(0,u.googleProtobufFieldMaskFromProto3JSON)(t)}const h={};for(const[r,n]of Object.entries(t)){const t=e.fields[r];if(!t)continue;const i=t.resolvedType,a=t.type;if(t.repeated)if(null===n)h[r]=[];else{if(!Array.isArray(n))throw new Error("fromProto3JSONToInternalRepresentation: expected an array for field "+r);h[r]=n.map(e=>d(i||a,e))}else if(t.map){const e={};for(const[t,r]of Object.entries(n))e[t]=d(i||a,r);h[r]=e}else if(a.match(/^(?:(?:(?:u?int|fixed)(?:32|64))|float|double)$/)){if("number"!=typeof n&&"string"!=typeof n)throw new Error(`fromProto3JSONToInternalRepresentation: field ${r} of type ${t.type} cannot contain value ${n}`);h[r]=n}else if("string"===a){if("string"!=typeof n)throw new Error(`fromProto3JSONToInternalRepresentation: field ${r} of type ${t.type} cannot contain value ${n}`);h[r]=n}else if("bool"===a){if("boolean"!=typeof n)throw new Error(`fromProto3JSONToInternalRepresentation: field ${r} of type ${t.type} cannot contain value ${n}`);h[r]=n}else if("bytes"===a){if("string"!=typeof n)throw new Error(`fromProto3JSONToInternalRepresentation: field ${r} of type ${t.type} cannot contain value ${n}`);h[r]=(0,o.bytesFromProto3JSON)(n)}else{(0,s.assert)(null!==i,"Expected to be able to resolve type for field "+t.name);const e=d(i,n);h[r]=e}}return h}t.fromProto3JSONToInternalRepresentation=d,t.fromProto3JSON=function(e,t){const r=d(e,t);return null===r?null:((0,s.assert)("object"==typeof r&&!Array.isArray(r),"fromProto3JSON: expected an object, not "+t),e.fromObject(r))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveEnumValueToNumber=t.resolveEnumValueToString=void 0,t.resolveEnumValueToString=function(e,t){if("number"==typeof t){const r=e.valuesById[t];return void 0===r?t:r}if("string"==typeof t)return t;throw new Error("resolveEnumValueToString: enum value must be a string or a number")},t.resolveEnumValueToNumber=function(e,t){if("number"==typeof t)return t;if("string"==typeof t){const r=e.values[t];return void 0===r?t:r}throw new Error("resolveEnumValueToNumber: enum value must be a string or a number")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googleProtobufValueFromProto3JSON=t.googleProtobufListValueFromProto3JSON=t.googleProtobufStructFromProto3JSON=t.googleProtobufValueToProto3JSON=t.googleProtobufListValueToProto3JSON=t.googleProtobufStructToProto3JSON=void 0;const n=r(148);function o(e){const t={},r=e.fields;for(const[e,n]of Object.entries(r))t[e]=a(n);return t}function i(e){return(0,n.assert)(Array.isArray(e.values),"ListValue internal representation must contain array of values"),e.values.map(a)}function a(e){return Object.prototype.hasOwnProperty.call(e,"nullValue")?null:Object.prototype.hasOwnProperty.call(e,"numberValue")&&"number"==typeof e.numberValue?Number.isFinite(e.numberValue)?e.numberValue:e.numberValue.toString():Object.prototype.hasOwnProperty.call(e,"stringValue")&&"string"==typeof e.stringValue?e.stringValue:Object.prototype.hasOwnProperty.call(e,"boolValue")&&"boolean"==typeof e.boolValue?e.boolValue:Object.prototype.hasOwnProperty.call(e,"structValue")&&"object"==typeof e.structValue?o(e.structValue):Object.prototype.hasOwnProperty.call(e,"listValue")&&"object"==typeof e&&"object"==typeof e.listValue?i(e.listValue):null}function s(e){const t={};for(const[r,n]of Object.entries(e))t[r]=p(n);return{fields:t}}function l(e){return{values:e.map(e=>p(e))}}function p(e){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return{numberValue:e};if("string"==typeof e)return{stringValue:e};if("boolean"==typeof e)return{boolValue:e};if(Array.isArray(e))return{listValue:l(e)};if("object"==typeof e)return{structValue:s(e)};throw new Error("googleProtobufValueFromProto3JSON: incorrect parameter type: "+typeof e)}t.googleProtobufStructToProto3JSON=o,t.googleProtobufListValueToProto3JSON=i,t.googleProtobufValueToProto3JSON=a,t.googleProtobufStructFromProto3JSON=s,t.googleProtobufListValueFromProto3JSON=l,t.googleProtobufValueFromProto3JSON=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googleProtobufDurationFromProto3JSON=t.googleProtobufDurationToProto3JSON=void 0,t.googleProtobufDurationToProto3JSON=function(e){let t=e.seconds.toString();if("number"==typeof e.nanos&&e.nanos>0){t+="."+e.nanos.toString().padStart(9,"0").replace(/^((?:\d\d\d)+?)(?:0*)$/,"$1")}return t+="s",t},t.googleProtobufDurationFromProto3JSON=function(e){const t=e.match(/^(\d*)(?:\.(\d*))?s$/);if(!t)throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${e} passed as google.protobuf.Duration`);let r=0,n=0;"string"==typeof t[1]&&t[1].length>0&&(r=parseInt(t[1])),"string"==typeof t[2]&&t[2].length>0&&(n=parseInt(t[2].padEnd(9,"0")));const o={};return 0!==r&&(o.seconds=r),0!==n&&(o.nanos=n),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googleProtobufTimestampFromProto3JSON=t.googleProtobufTimestampToProto3JSON=void 0,t.googleProtobufTimestampToProto3JSON=function(e){var t;const r=e.seconds,n=new Date(1e3*r).toISOString();let o=null===(t=e.nanos)||void 0===t?void 0:t.toString().padStart(9,"0");for(;o&&o.length>3&&o.endsWith("000");)o=o.slice(0,-3);return n.replace(/(?:\.\d{0,9})/,"."+o)},t.googleProtobufTimestampFromProto3JSON=function(e){if(!e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?/))throw new Error(`googleProtobufDurationFromProto3JSON: incorrect value ${e} passed as google.protobuf.Duration`);const t=new Date(e).getTime(),r=Math.floor(t/1e3);let n=0;const o=e.split(".")[1];o&&(n=parseInt(o.slice(0,-1).padEnd(9,"0")));const i={};return 0!==r&&(i.seconds=r),0!==n&&(i.nanos=n),i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapperFromProto3JSON=t.wrapperToProto3JSON=void 0;const n=r(214),o=r(148);t.wrapperToProto3JSON=function(e){return Object.prototype.hasOwnProperty.call(e,"value")?Buffer.isBuffer(e.value)||e.value instanceof Uint8Array?(0,n.bytesToProto3JSON)(e.value):"object"==typeof e.value?((0,o.assert)("Long"===e.value.constructor.name,"wrapperToProto3JSON: expected to see a number, a string, a boolean, or a Long, but got "+e.value),e.value.toString()):"number"!=typeof e.value||Number.isFinite(e.value)?e.value:e.value.toString():null},t.wrapperFromProto3JSON=function(e,t){if(null===t)return{value:null};if(".google.protobuf.BytesValue"===e){if("string"!=typeof t)throw new Error("numberWrapperFromProto3JSON: expected to get a string for google.protobuf.BytesValue but got "+typeof t);return{value:(0,n.bytesFromProto3JSON)(t)}}return{value:t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.googleProtobufFieldMaskFromProto3JSON=t.googleProtobufFieldMaskToProto3JSON=void 0,t.googleProtobufFieldMaskToProto3JSON=function(e){return e.paths.join(",")},t.googleProtobufFieldMaskFromProto3JSON=function(e){return{paths:e.split(",")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTimeoutArg=function(e,t,r,n){return(o,i)=>{const a=new Date,s=r.options||{};s.deadline=new Date(a.getTime()+t);const l=r.metadataBuilder?r.metadataBuilder(n,r.headers||{}):null;return e(o,l,s,i)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingApiCaller=void 0;const n=r(78),o=r(149);t.StreamingApiCaller=class{constructor(e){this.descriptor=e}init(e){return new o.StreamProxy(this.descriptor.type,e,this.descriptor.rest,this.descriptor.gaxStreamingRetries)}wrap(e){switch(this.descriptor.type){case o.StreamType.SERVER_STREAMING:return(t,r,n)=>e(t,r,n);case o.StreamType.CLIENT_STREAMING:return(t,r,n,o)=>e(r,n,o);case o.StreamType.BIDI_STREAMING:return(t,r,n)=>e(r,n);default:(0,n.warn)("streaming_wrap_unknown_stream_type","Unknown stream type: "+this.descriptor.type)}return e}call(e,t,r,n){n.setStream(e,t,r.retryRequestOptions,r.retry)}fail(e,t){e.emit("error",t)}result(e){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageDescriptor=void 0;const n=r(1),o=r(212),i=r(698);t.PageDescriptor=class{constructor(e,t,r){this.requestPageTokenField=e,this.responsePageTokenField=t,this.resourceField=r}createStream(e,t,r){const o=new n.PassThrough({objectMode:!0}),i="maxResults"in(r=Object.assign({},r,{autoPaginate:!1}))?r.maxResults:-1;let a=0,s=!1;function l(n,p,c,u){if(n)o.emit("error",n);else{o.emit("response",u);for(let e=0;e<p.length;++e){if(o._readableState.ended)return;null!==p[e]&&(o.push(p[e]),a++,a===i&&o.end())}o._readableState.ended||(c?("pageToken"in r&&delete r.pageToken,o.isPaused()?(t=c,s=!1):setImmediate(e,c,r,l)):o.end())}}return o.on("resume",()=>{s||(s=!0,e(t,r,l))}),o}asyncIterate(e,t,r){r=Object.assign({},r,{autoPaginate:!1});return this.createIterator(e,t,r)}createIterator(e,t,r){return{[Symbol.asyncIterator](){let n=t;const o=[];return{async next(){if(o.length>0)return Promise.resolve({done:!1,value:o.shift()});let t=0;for(;0===o.length&&n;){let i;if([i,n]=await e(n,r),i&&!Array.isArray(i))for(const[e,t]of Object.entries(i))o.push([e,t]);else o.push(...i);if(0===o.length&&(++t,t>10))break}return 0===o.length?Promise.resolve({done:!0,value:void 0}):Promise.resolve({done:!1,value:o.shift()})}}}}}getApiCaller(e){return e.autoPaginate?new i.PagedApiCaller(this):new o.NormalApiCaller}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getField=i,t.deepCopyWithoutMatchedFields=a,t.deleteField=s,t.buildQueryStringComponents=l,t.encodeWithSlashes=p,t.encodeWithoutSlashes=c,t.applyPattern=u,t.match=h,t.flattenObject=function e(t){const r={};for(const n in t)if(void 0!==t[n])if(Array.isArray(t[n]))r[n]=t[n];else if("object"!=typeof t[n]||null===t[n])r[n]=t[n];else{const o=e(t[n]);for(const e in o)r[`${n}.${e}`]=o[e]}return r},t.isProto3OptionalField=function(e){return e&&e.options&&e.options.proto3_optional},t.transcode=function(e,t){const r=[];for(const e of t){if(!("(google.api.http)"in e))continue;const t=e["(google.api.http)"];if(r.push(t),null==t?void 0:t.additional_bindings){const e=Array.isArray(t.additional_bindings)?t.additional_bindings:[t.additional_bindings];r.push(...e)}}for(const t of r)for(const r of o){if(!(r in t))continue;const n=t[r],o=h(e,n);if(void 0===o)continue;const{url:p,matchedFields:c}=o;let u=a(e,new Set(c));if("*"===t.body)return{httpMethod:r,url:p,queryString:"",data:u};const f=u;t.body?(u=i(f,d(t.body),!0),s(f,d(t.body))):u="";const g=l(f).join("&");return(!u||"object"==typeof u&&0===Object.keys(u).length)&&(u=""),{httpMethod:r,url:p,queryString:g,data:u}}return},t.overrideHttpRules=function(e,t){for(const r of e){if(!r.selector)continue;const e=t.lookup(r.selector);if(e&&e.parsedOptions)for(const t of e.parsedOptions){if(!("(google.api.http)"in t))continue;const e=t["(google.api.http)"];for(const t in e){if(t in r){if("additional_bindings"===t)continue;e[t]=r[t]}r.additional_bindings&&(e.additional_bindings=e.additional_bindings?Array.isArray(e.additional_bindings)?e.additional_bindings:[e.additional_bindings]:[],e.additional_bindings.push(...r.additional_bindings))}}}};const n=r(92),o=["get","post","put","patch","delete"];function i(e,t,r=!1){const n=t.split(".");let o=e;for(const e of n){if("object"!=typeof o)return;o=o[e]}if(r||"object"!=typeof o||Array.isArray(o)||null===o)return o}function a(e,t,r=""){if("object"!=typeof e||null===e)return e;const n=Object.assign({},e);for(const e in n){if(t.has(`${r}${e}`)){delete n[e];continue}const o=`${r}${e}.`;Array.isArray(n[e])?n[e]=n[e].map(e=>a(e,new Set)):"object"==typeof n[e]&&null!==n[e]&&(n[e]=a(n[e],t,o))}return n}function s(e,t){const r=t.split(".");for(;r.length>1;){if("object"!=typeof e)return;e=e[r.shift()]}const n=r.shift();"object"==typeof e&&delete e[n]}function l(e,t=""){const r=[];for(const n in e)if(Array.isArray(e[n]))for(const o of e[n])r.push(`${t}${c(n)}=${c(o.toString())}`);else"object"==typeof e[n]&&null!==e[n]?r.push(...l(e[n],n+".")):r.push(`${t}${c(n)}=${c(null===e[n]?"null":e[n].toString())}`);return r}function p(e){return e.split("").map(e=>e.match(/[-_.~0-9a-zA-Z]/)?e:encodeURIComponent(e)).join("")}function c(e){return e.split("").map(e=>e.match(/[-_.~0-9a-zA-Z/]/)?e:encodeURIComponent(e)).join("")}function u(e,t){if(!e||"*"===e)return p(t);if(!e.includes("*")&&e!==t)return;const r=new RegExp("^"+(n=e,n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).replace(/\\\*\\\*/g,"(.+)").replace(/\\\*/g,"([^/]+)")+"$");var n;return t.match(r)?c(t):void 0}function d(e){return e.split(".").map(e=>(0,n.toCamelCase)(e)).join(".")}function h(e,t){let r=t;const n=[];for(;;){const t=r.match(/^(.*)\{([^}=]+)(?:=([^}]*))?\}(.*)/);if(!t)break;const[,o,a,s,l]=t,p=d(a);n.push(d(p));const c=i(e,p);if(void 0===c)return;const h=u(s,null===c?"null":c.toString());if(void 0===h)return;r=o+h+l}return{matchedFields:n,url:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeRequest=function(e,t,r,o,i,s){const l=e.resolvedRequestType.fromObject(i),p=n.toProto3JSON(l,{numericEnums:s});if(!p)throw new Error(`Cannot send null request to RPC ${e.name}.`);if("object"!=typeof p||Array.isArray(p))throw new Error(`Request to RPC ${e.name} must be an object.`);const c=(0,a.transcode)(p,e.parsedOptions);if(!c)throw new Error(`Cannot build HTTP request for ${JSON.stringify(p)}, method: ${e.name}`);s&&(c.queryString=(c.queryString?c.queryString+"&":"")+"$alt=json%3Benum-encoding=int");const u=c.httpMethod.toUpperCase(),d=JSON.stringify(c.data),h=`${t}://${r}:${o}/${c.url.replace(/^\//,"")}?${c.queryString}`;return{method:u,url:h,headers:{"Content-Type":"application/json"},body:d}},t.decodeResponse=function(e,t,r){const a=(new TextDecoder).decode(r),s=JSON.parse(a);if(!t){throw i.GoogleError.parseHttpError(s)}const l=n.fromProto3JSON(e.resolvedResponseType,s);if(!l)throw new Error("Received null response from RPC "+e.name);return e.resolvedResponseType.toObject(l,o.defaultToObjectOptions)};const n=r(213),o=r(49),i=r(40),a=r(390)},function(e,t,r){var n,o,i;o=[r(93)],void 0===(i="function"==typeof(n=function(e){var t,r,n,o,i,a=e.Reader,s=e.Writer,l=e.util,p=e.roots.iam_protos||(e.roots.iam_protos={});function c(t,r,n){e.rpc.Service.call(this,t,r,n)}function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function d(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.permissions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function f(e){if(this.permissions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function g(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function m(e){if(this.bindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function y(e){if(this.members=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function v(e){if(this.bindingDeltas=[],this.auditConfigDeltas=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function b(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function E(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function _(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function O(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function w(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function S(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function T(e){if(this.pattern=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function A(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function C(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function I(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function N(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function P(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function R(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function D(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function k(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function x(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function j(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function L(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function F(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function M(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function U(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function B(e){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function V(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function q(e){if(this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function G(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function H(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function z(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function W(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function J(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function K(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Y(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function $(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Q(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function X(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Z(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ee(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return p.google=((i={}).iam=((n={}).v1=((r={}).IAMPolicy=(((c.prototype=Object.create(e.rpc.Service.prototype)).constructor=c).create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(c.prototype.setIamPolicy=function e(t,r){return this.rpcCall(e,p.google.iam.v1.SetIamPolicyRequest,p.google.iam.v1.Policy,t,r)},"name",{value:"SetIamPolicy"}),Object.defineProperty(c.prototype.getIamPolicy=function e(t,r){return this.rpcCall(e,p.google.iam.v1.GetIamPolicyRequest,p.google.iam.v1.Policy,t,r)},"name",{value:"GetIamPolicy"}),Object.defineProperty(c.prototype.testIamPermissions=function e(t,r){return this.rpcCall(e,p.google.iam.v1.TestIamPermissionsRequest,p.google.iam.v1.TestIamPermissionsResponse,t,r)},"name",{value:"TestIamPermissions"}),c),r.SetIamPolicyRequest=(u.prototype.resource="",u.prototype.policy=null,u.create=function(e){return new u(e)},u.encode=function(e,t){return t=t||s.create(),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.policy&&Object.hasOwnProperty.call(e,"policy")&&p.google.iam.v1.Policy.encode(e.policy,t.uint32(18).fork()).ldelim(),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.SetIamPolicyRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.string();break;case 2:n.policy=p.google.iam.v1.Policy.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},u.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},u.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resource&&e.hasOwnProperty("resource")&&!l.isString(e.resource)?"resource: string expected":null!=e.policy&&e.hasOwnProperty("policy")&&(e=p.google.iam.v1.Policy.verify(e.policy))?"policy."+e:null},u.fromObject=function(e){if(e instanceof p.google.iam.v1.SetIamPolicyRequest)return e;var t=new p.google.iam.v1.SetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.policy){if("object"!=typeof e.policy)throw TypeError(".google.iam.v1.SetIamPolicyRequest.policy: object expected");t.policy=p.google.iam.v1.Policy.fromObject(e.policy)}return t},u.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.resource="",r.policy=null),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=e.resource),null!=e.policy&&e.hasOwnProperty("policy")&&(r.policy=p.google.iam.v1.Policy.toObject(e.policy,t)),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},u),r.GetIamPolicyRequest=(d.prototype.resource="",d.prototype.options=null,d.create=function(e){return new d(e)},d.encode=function(e,t){return t=t||s.create(),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.iam.v1.GetPolicyOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.GetIamPolicyRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.string();break;case 2:n.options=p.google.iam.v1.GetPolicyOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},d.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},d.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resource&&e.hasOwnProperty("resource")&&!l.isString(e.resource)?"resource: string expected":null!=e.options&&e.hasOwnProperty("options")&&(e=p.google.iam.v1.GetPolicyOptions.verify(e.options))?"options."+e:null},d.fromObject=function(e){if(e instanceof p.google.iam.v1.GetIamPolicyRequest)return e;var t=new p.google.iam.v1.GetIamPolicyRequest;if(null!=e.resource&&(t.resource=String(e.resource)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.iam.v1.GetIamPolicyRequest.options: object expected");t.options=p.google.iam.v1.GetPolicyOptions.fromObject(e.options)}return t},d.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.resource="",r.options=null),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=e.resource),null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.iam.v1.GetPolicyOptions.toObject(e.options,t)),r},d.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},d),r.TestIamPermissionsRequest=(h.prototype.resource="",h.prototype.permissions=l.emptyArray,h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||s.create(),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).string(e.resource),null!=e.permissions&&e.permissions.length)for(var r=0;r<e.permissions.length;++r)t.uint32(18).string(e.permissions[r]);return t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.TestIamPermissionsRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.string();break;case 2:n.permissions&&n.permissions.length||(n.permissions=[]),n.permissions.push(e.string());break;default:e.skipType(7&o)}}return n},h.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},h.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&!l.isString(e.resource))return"resource: string expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!l.isString(e.permissions[t]))return"permissions: string[] expected"}return null},h.fromObject=function(e){if(e instanceof p.google.iam.v1.TestIamPermissionsRequest)return e;var t=new p.google.iam.v1.TestIamPermissionsRequest;if(null!=e.resource&&(t.resource=String(e.resource)),e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsRequest.permissions: array expected");t.permissions=[];for(var r=0;r<e.permissions.length;++r)t.permissions[r]=String(e.permissions[r])}return t},h.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.permissions=[]),t.defaults&&(r.resource=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=e.resource),e.permissions&&e.permissions.length){r.permissions=[];for(var n=0;n<e.permissions.length;++n)r.permissions[n]=e.permissions[n]}return r},h.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},h),r.TestIamPermissionsResponse=(f.prototype.permissions=l.emptyArray,f.create=function(e){return new f(e)},f.encode=function(e,t){if(t=t||s.create(),null!=e.permissions&&e.permissions.length)for(var r=0;r<e.permissions.length;++r)t.uint32(10).string(e.permissions[r]);return t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.TestIamPermissionsResponse;e.pos<r;){var o=e.uint32();o>>>3==1?(n.permissions&&n.permissions.length||(n.permissions=[]),n.permissions.push(e.string())):e.skipType(7&o)}return n},f.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},f.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(var t=0;t<e.permissions.length;++t)if(!l.isString(e.permissions[t]))return"permissions: string[] expected"}return null},f.fromObject=function(e){if(e instanceof p.google.iam.v1.TestIamPermissionsResponse)return e;var t=new p.google.iam.v1.TestIamPermissionsResponse;if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".google.iam.v1.TestIamPermissionsResponse.permissions: array expected");t.permissions=[];for(var r=0;r<e.permissions.length;++r)t.permissions[r]=String(e.permissions[r])}return t},f.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.permissions=[]),e.permissions&&e.permissions.length){r.permissions=[];for(var n=0;n<e.permissions.length;++n)r.permissions[n]=e.permissions[n]}return r},f.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},f),r.GetPolicyOptions=(g.prototype.requestedPolicyVersion=0,g.create=function(e){return new g(e)},g.encode=function(e,t){return t=t||s.create(),null!=e.requestedPolicyVersion&&Object.hasOwnProperty.call(e,"requestedPolicyVersion")&&t.uint32(8).int32(e.requestedPolicyVersion),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.GetPolicyOptions;e.pos<r;){var o=e.uint32();o>>>3==1?n.requestedPolicyVersion=e.int32():e.skipType(7&o)}return n},g.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},g.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.requestedPolicyVersion&&e.hasOwnProperty("requestedPolicyVersion")&&!l.isInteger(e.requestedPolicyVersion)?"requestedPolicyVersion: integer expected":null},g.fromObject=function(e){var t;return e instanceof p.google.iam.v1.GetPolicyOptions?e:(t=new p.google.iam.v1.GetPolicyOptions,null!=e.requestedPolicyVersion&&(t.requestedPolicyVersion=0|e.requestedPolicyVersion),t)},g.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.requestedPolicyVersion=0),null!=e.requestedPolicyVersion&&e.hasOwnProperty("requestedPolicyVersion")&&(r.requestedPolicyVersion=e.requestedPolicyVersion),r},g.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},g),r.Policy=(m.prototype.version=0,m.prototype.bindings=l.emptyArray,m.prototype.etag=l.newBuffer([]),m.create=function(e){return new m(e)},m.encode=function(e,t){if(t=t||s.create(),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).int32(e.version),null!=e.etag&&Object.hasOwnProperty.call(e,"etag")&&t.uint32(26).bytes(e.etag),null!=e.bindings&&e.bindings.length)for(var r=0;r<e.bindings.length;++r)p.google.iam.v1.Binding.encode(e.bindings[r],t.uint32(34).fork()).ldelim();return t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.Policy;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.version=e.int32();break;case 4:n.bindings&&n.bindings.length||(n.bindings=[]),n.bindings.push(p.google.iam.v1.Binding.decode(e,e.uint32()));break;case 3:n.etag=e.bytes();break;default:e.skipType(7&o)}}return n},m.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},m.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!l.isInteger(e.version))return"version: integer expected";if(null!=e.bindings&&e.hasOwnProperty("bindings")){if(!Array.isArray(e.bindings))return"bindings: array expected";for(var t=0;t<e.bindings.length;++t){var r=p.google.iam.v1.Binding.verify(e.bindings[t]);if(r)return"bindings."+r}}return null!=e.etag&&e.hasOwnProperty("etag")&&!(e.etag&&"number"==typeof e.etag.length||l.isString(e.etag))?"etag: buffer expected":null},m.fromObject=function(e){if(e instanceof p.google.iam.v1.Policy)return e;var t=new p.google.iam.v1.Policy;if(null!=e.version&&(t.version=0|e.version),e.bindings){if(!Array.isArray(e.bindings))throw TypeError(".google.iam.v1.Policy.bindings: array expected");t.bindings=[];for(var r=0;r<e.bindings.length;++r){if("object"!=typeof e.bindings[r])throw TypeError(".google.iam.v1.Policy.bindings: object expected");t.bindings[r]=p.google.iam.v1.Binding.fromObject(e.bindings[r])}}return null!=e.etag&&("string"==typeof e.etag?l.base64.decode(e.etag,t.etag=l.newBuffer(l.base64.length(e.etag)),0):e.etag.length&&(t.etag=e.etag)),t},m.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.bindings=[]),t.defaults&&(r.version=0,t.bytes===String?r.etag="":(r.etag=[],t.bytes!==Array&&(r.etag=l.newBuffer(r.etag)))),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.etag&&e.hasOwnProperty("etag")&&(r.etag=t.bytes===String?l.base64.encode(e.etag,0,e.etag.length):t.bytes===Array?Array.prototype.slice.call(e.etag):e.etag),e.bindings&&e.bindings.length){r.bindings=[];for(var n=0;n<e.bindings.length;++n)r.bindings[n]=p.google.iam.v1.Binding.toObject(e.bindings[n],t)}return r},m.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},m),r.Binding=(y.prototype.role="",y.prototype.members=l.emptyArray,y.prototype.condition=null,y.create=function(e){return new y(e)},y.encode=function(e,t){if(t=t||s.create(),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(10).string(e.role),null!=e.members&&e.members.length)for(var r=0;r<e.members.length;++r)t.uint32(18).string(e.members[r]);return null!=e.condition&&Object.hasOwnProperty.call(e,"condition")&&p.google.type.Expr.encode(e.condition,t.uint32(26).fork()).ldelim(),t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.Binding;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.role=e.string();break;case 2:n.members&&n.members.length||(n.members=[]),n.members.push(e.string());break;case 3:n.condition=p.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},y.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.role&&e.hasOwnProperty("role")&&!l.isString(e.role))return"role: string expected";if(null!=e.members&&e.hasOwnProperty("members")){if(!Array.isArray(e.members))return"members: array expected";for(var t=0;t<e.members.length;++t)if(!l.isString(e.members[t]))return"members: string[] expected"}if(null!=e.condition&&e.hasOwnProperty("condition")){var r=p.google.type.Expr.verify(e.condition);if(r)return"condition."+r}return null},y.fromObject=function(e){if(e instanceof p.google.iam.v1.Binding)return e;var t=new p.google.iam.v1.Binding;if(null!=e.role&&(t.role=String(e.role)),e.members){if(!Array.isArray(e.members))throw TypeError(".google.iam.v1.Binding.members: array expected");t.members=[];for(var r=0;r<e.members.length;++r)t.members[r]=String(e.members[r])}if(null!=e.condition){if("object"!=typeof e.condition)throw TypeError(".google.iam.v1.Binding.condition: object expected");t.condition=p.google.type.Expr.fromObject(e.condition)}return t},y.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.members=[]),t.defaults&&(r.role="",r.condition=null),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),e.members&&e.members.length){r.members=[];for(var n=0;n<e.members.length;++n)r.members[n]=e.members[n]}return null!=e.condition&&e.hasOwnProperty("condition")&&(r.condition=p.google.type.Expr.toObject(e.condition,t)),r},y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},y),r.PolicyDelta=(v.prototype.bindingDeltas=l.emptyArray,v.prototype.auditConfigDeltas=l.emptyArray,v.create=function(e){return new v(e)},v.encode=function(e,t){if(t=t||s.create(),null!=e.bindingDeltas&&e.bindingDeltas.length)for(var r=0;r<e.bindingDeltas.length;++r)p.google.iam.v1.BindingDelta.encode(e.bindingDeltas[r],t.uint32(10).fork()).ldelim();if(null!=e.auditConfigDeltas&&e.auditConfigDeltas.length)for(r=0;r<e.auditConfigDeltas.length;++r)p.google.iam.v1.AuditConfigDelta.encode(e.auditConfigDeltas[r],t.uint32(18).fork()).ldelim();return t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.PolicyDelta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.bindingDeltas&&n.bindingDeltas.length||(n.bindingDeltas=[]),n.bindingDeltas.push(p.google.iam.v1.BindingDelta.decode(e,e.uint32()));break;case 2:n.auditConfigDeltas&&n.auditConfigDeltas.length||(n.auditConfigDeltas=[]),n.auditConfigDeltas.push(p.google.iam.v1.AuditConfigDelta.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},v.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},v.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.bindingDeltas&&e.hasOwnProperty("bindingDeltas")){if(!Array.isArray(e.bindingDeltas))return"bindingDeltas: array expected";for(var t=0;t<e.bindingDeltas.length;++t)if(r=p.google.iam.v1.BindingDelta.verify(e.bindingDeltas[t]))return"bindingDeltas."+r}if(null!=e.auditConfigDeltas&&e.hasOwnProperty("auditConfigDeltas")){if(!Array.isArray(e.auditConfigDeltas))return"auditConfigDeltas: array expected";var r;for(t=0;t<e.auditConfigDeltas.length;++t)if(r=p.google.iam.v1.AuditConfigDelta.verify(e.auditConfigDeltas[t]))return"auditConfigDeltas."+r}return null},v.fromObject=function(e){if(e instanceof p.google.iam.v1.PolicyDelta)return e;var t=new p.google.iam.v1.PolicyDelta;if(e.bindingDeltas){if(!Array.isArray(e.bindingDeltas))throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: array expected");t.bindingDeltas=[];for(var r=0;r<e.bindingDeltas.length;++r){if("object"!=typeof e.bindingDeltas[r])throw TypeError(".google.iam.v1.PolicyDelta.bindingDeltas: object expected");t.bindingDeltas[r]=p.google.iam.v1.BindingDelta.fromObject(e.bindingDeltas[r])}}if(e.auditConfigDeltas){if(!Array.isArray(e.auditConfigDeltas))throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: array expected");for(t.auditConfigDeltas=[],r=0;r<e.auditConfigDeltas.length;++r){if("object"!=typeof e.auditConfigDeltas[r])throw TypeError(".google.iam.v1.PolicyDelta.auditConfigDeltas: object expected");t.auditConfigDeltas[r]=p.google.iam.v1.AuditConfigDelta.fromObject(e.auditConfigDeltas[r])}}return t},v.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.bindingDeltas=[],r.auditConfigDeltas=[]),e.bindingDeltas&&e.bindingDeltas.length){r.bindingDeltas=[];for(var n=0;n<e.bindingDeltas.length;++n)r.bindingDeltas[n]=p.google.iam.v1.BindingDelta.toObject(e.bindingDeltas[n],t)}if(e.auditConfigDeltas&&e.auditConfigDeltas.length)for(r.auditConfigDeltas=[],n=0;n<e.auditConfigDeltas.length;++n)r.auditConfigDeltas[n]=p.google.iam.v1.AuditConfigDelta.toObject(e.auditConfigDeltas[n],t);return r},v.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},v),r.BindingDelta=(b.prototype.action=0,b.prototype.role="",b.prototype.member="",b.prototype.condition=null,b.create=function(e){return new b(e)},b.encode=function(e,t){return t=t||s.create(),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(18).string(e.role),null!=e.member&&Object.hasOwnProperty.call(e,"member")&&t.uint32(26).string(e.member),null!=e.condition&&Object.hasOwnProperty.call(e,"condition")&&p.google.type.Expr.encode(e.condition,t.uint32(34).fork()).ldelim(),t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.BindingDelta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.action=e.int32();break;case 2:n.role=e.string();break;case 3:n.member=e.string();break;case 4:n.condition=p.google.type.Expr.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},b.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},b.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}return null!=e.role&&e.hasOwnProperty("role")&&!l.isString(e.role)?"role: string expected":null!=e.member&&e.hasOwnProperty("member")&&!l.isString(e.member)?"member: string expected":null!=e.condition&&e.hasOwnProperty("condition")&&(e=p.google.type.Expr.verify(e.condition))?"condition."+e:null},b.fromObject=function(e){if(e instanceof p.google.iam.v1.BindingDelta)return e;var t=new p.google.iam.v1.BindingDelta;switch(e.action){case"ACTION_UNSPECIFIED":case 0:t.action=0;break;case"ADD":case 1:t.action=1;break;case"REMOVE":case 2:t.action=2}if(null!=e.role&&(t.role=String(e.role)),null!=e.member&&(t.member=String(e.member)),null!=e.condition){if("object"!=typeof e.condition)throw TypeError(".google.iam.v1.BindingDelta.condition: object expected");t.condition=p.google.type.Expr.fromObject(e.condition)}return t},b.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.action=t.enums===String?"ACTION_UNSPECIFIED":0,r.role="",r.member="",r.condition=null),null!=e.action&&e.hasOwnProperty("action")&&(r.action=t.enums===String?p.google.iam.v1.BindingDelta.Action[e.action]:e.action),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),null!=e.member&&e.hasOwnProperty("member")&&(r.member=e.member),null!=e.condition&&e.hasOwnProperty("condition")&&(r.condition=p.google.type.Expr.toObject(e.condition,t)),r},b.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},b.Action=(t={},(o=Object.create(t))[t[0]="ACTION_UNSPECIFIED"]=0,o[t[1]="ADD"]=1,o[t[2]="REMOVE"]=2,o),b),r.AuditConfigDelta=(E.prototype.action=0,E.prototype.service="",E.prototype.exemptedMember="",E.prototype.logType="",E.create=function(e){return new E(e)},E.encode=function(e,t){return t=t||s.create(),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).int32(e.action),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(18).string(e.service),null!=e.exemptedMember&&Object.hasOwnProperty.call(e,"exemptedMember")&&t.uint32(26).string(e.exemptedMember),null!=e.logType&&Object.hasOwnProperty.call(e,"logType")&&t.uint32(34).string(e.logType),t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.AuditConfigDelta;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.action=e.int32();break;case 2:n.service=e.string();break;case 3:n.exemptedMember=e.string();break;case 4:n.logType=e.string();break;default:e.skipType(7&o)}}return n},E.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},E.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.action&&e.hasOwnProperty("action"))switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:}return null!=e.service&&e.hasOwnProperty("service")&&!l.isString(e.service)?"service: string expected":null!=e.exemptedMember&&e.hasOwnProperty("exemptedMember")&&!l.isString(e.exemptedMember)?"exemptedMember: string expected":null!=e.logType&&e.hasOwnProperty("logType")&&!l.isString(e.logType)?"logType: string expected":null},E.fromObject=function(e){if(e instanceof p.google.iam.v1.AuditConfigDelta)return e;var t=new p.google.iam.v1.AuditConfigDelta;switch(e.action){case"ACTION_UNSPECIFIED":case 0:t.action=0;break;case"ADD":case 1:t.action=1;break;case"REMOVE":case 2:t.action=2}return null!=e.service&&(t.service=String(e.service)),null!=e.exemptedMember&&(t.exemptedMember=String(e.exemptedMember)),null!=e.logType&&(t.logType=String(e.logType)),t},E.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.action=t.enums===String?"ACTION_UNSPECIFIED":0,r.service="",r.exemptedMember="",r.logType=""),null!=e.action&&e.hasOwnProperty("action")&&(r.action=t.enums===String?p.google.iam.v1.AuditConfigDelta.Action[e.action]:e.action),null!=e.service&&e.hasOwnProperty("service")&&(r.service=e.service),null!=e.exemptedMember&&e.hasOwnProperty("exemptedMember")&&(r.exemptedMember=e.exemptedMember),null!=e.logType&&e.hasOwnProperty("logType")&&(r.logType=e.logType),r},E.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},E.Action=(t={},(o=Object.create(t))[t[0]="ACTION_UNSPECIFIED"]=0,o[t[1]="ADD"]=1,o[t[2]="REMOVE"]=2,o),E),r.logging=((t={}).AuditData=(_.prototype.policyDelta=null,_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||s.create(),null!=e.policyDelta&&Object.hasOwnProperty.call(e,"policyDelta")&&p.google.iam.v1.PolicyDelta.encode(e.policyDelta,t.uint32(18).fork()).ldelim(),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.iam.v1.logging.AuditData;e.pos<r;){var o=e.uint32();o>>>3==2?n.policyDelta=p.google.iam.v1.PolicyDelta.decode(e,e.uint32()):e.skipType(7&o)}return n},_.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},_.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.policyDelta&&e.hasOwnProperty("policyDelta")&&(e=p.google.iam.v1.PolicyDelta.verify(e.policyDelta))?"policyDelta."+e:null},_.fromObject=function(e){if(e instanceof p.google.iam.v1.logging.AuditData)return e;var t=new p.google.iam.v1.logging.AuditData;if(null!=e.policyDelta){if("object"!=typeof e.policyDelta)throw TypeError(".google.iam.v1.logging.AuditData.policyDelta: object expected");t.policyDelta=p.google.iam.v1.PolicyDelta.fromObject(e.policyDelta)}return t},_.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.policyDelta=null),null!=e.policyDelta&&e.hasOwnProperty("policyDelta")&&(r.policyDelta=p.google.iam.v1.PolicyDelta.toObject(e.policyDelta,t)),r},_.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_),t),r),n),i.api=((o={}).Http=(O.prototype.rules=l.emptyArray,O.prototype.fullyDecodeReservedExpansion=!1,O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||s.create(),null!=e.rules&&e.rules.length)for(var r=0;r<e.rules.length;++r)p.google.api.HttpRule.encode(e.rules[r],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,"fullyDecodeReservedExpansion")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.api.Http;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(p.google.api.HttpRule.decode(e,e.uint32()));break;case 2:n.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&o)}}return n},O.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},O.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var r=p.google.api.HttpRule.verify(e.rules[t]);if(r)return"rules."+r}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&"boolean"!=typeof e.fullyDecodeReservedExpansion?"fullyDecodeReservedExpansion: boolean expected":null},O.fromObject=function(e){if(e instanceof p.google.api.Http)return e;var t=new p.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=p.google.api.HttpRule.fromObject(e.rules[r])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},O.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.rules=[]),t.defaults&&(r.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){r.rules=[];for(var n=0;n<e.rules.length;++n)r.rules[n]=p.google.api.HttpRule.toObject(e.rules[n],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(r.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),r},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O),o.HttpRule=(w.prototype.selector="",w.prototype.get="",w.prototype.put="",w.prototype.post="",w.prototype.delete="",w.prototype.patch="",w.prototype.custom=null,w.prototype.body="",w.prototype.responseBody="",w.prototype.additionalBindings=l.emptyArray,Object.defineProperty(w.prototype,"pattern",{get:l.oneOfGetter(t=["get","put","post","delete","patch","custom"]),set:l.oneOfSetter(t)}),w.create=function(e){return new w(e)},w.encode=function(e,t){if(t=t||s.create(),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,"get")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,"put")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,"post")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,"delete")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,"patch")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,"custom")&&p.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var r=0;r<e.additionalBindings.length;++r)p.google.api.HttpRule.encode(e.additionalBindings[r],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,"responseBody")&&t.uint32(98).string(e.responseBody),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.api.HttpRule;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.selector=e.string();break;case 2:n.get=e.string();break;case 3:n.put=e.string();break;case 4:n.post=e.string();break;case 5:n.delete=e.string();break;case 6:n.patch=e.string();break;case 8:n.custom=p.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:n.body=e.string();break;case 12:n.responseBody=e.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(p.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},w.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},w.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.selector&&e.hasOwnProperty("selector")&&!l.isString(e.selector))return"selector: string expected";if(null!=e.get&&e.hasOwnProperty("get")&&(t.pattern=1,!l.isString(e.get)))return"get: string expected";if(null!=e.put&&e.hasOwnProperty("put")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!l.isString(e.put))return"put: string expected"}if(null!=e.post&&e.hasOwnProperty("post")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!l.isString(e.post))return"post: string expected"}if(null!=e.delete&&e.hasOwnProperty("delete")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!l.isString(e.delete))return"delete: string expected"}if(null!=e.patch&&e.hasOwnProperty("patch")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!l.isString(e.patch))return"patch: string expected"}if(null!=e.custom&&e.hasOwnProperty("custom")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,r=p.google.api.CustomHttpPattern.verify(e.custom))return"custom."+r}if(null!=e.body&&e.hasOwnProperty("body")&&!l.isString(e.body))return"body: string expected";if(null!=e.responseBody&&e.hasOwnProperty("responseBody")&&!l.isString(e.responseBody))return"responseBody: string expected";if(null!=e.additionalBindings&&e.hasOwnProperty("additionalBindings")){if(!Array.isArray(e.additionalBindings))return"additionalBindings: array expected";for(var r,n=0;n<e.additionalBindings.length;++n)if(r=p.google.api.HttpRule.verify(e.additionalBindings[n]))return"additionalBindings."+r}return null},w.fromObject=function(e){if(e instanceof p.google.api.HttpRule)return e;var t=new p.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=p.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=p.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},w.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body="",r.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs)&&(r.pattern="get"),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs)&&(r.pattern="put"),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs)&&(r.pattern="post"),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs)&&(r.pattern="delete"),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs)&&(r.pattern="patch"),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=p.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(r.pattern="custom"),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n)r.additionalBindings[n]=p.google.api.HttpRule.toObject(e.additionalBindings[n],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(r.responseBody=e.responseBody),r},w.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},w),o.CustomHttpPattern=(S.prototype.kind="",S.prototype.path="",S.create=function(e){return new S(e)},S.encode=function(e,t){return t=t||s.create(),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.api.CustomHttpPattern;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.kind=e.string();break;case 2:n.path=e.string();break;default:e.skipType(7&o)}}return n},S.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},S.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.kind&&e.hasOwnProperty("kind")&&!l.isString(e.kind)?"kind: string expected":null!=e.path&&e.hasOwnProperty("path")&&!l.isString(e.path)?"path: string expected":null},S.fromObject=function(e){var t;return e instanceof p.google.api.CustomHttpPattern?e:(t=new p.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},S.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},S.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},S),o.FieldBehavior=(t={},(r=Object.create(t))[t[0]="FIELD_BEHAVIOR_UNSPECIFIED"]=0,r[t[1]="OPTIONAL"]=1,r[t[2]="REQUIRED"]=2,r[t[3]="OUTPUT_ONLY"]=3,r[t[4]="INPUT_ONLY"]=4,r[t[5]="IMMUTABLE"]=5,r),o.ResourceDescriptor=(T.prototype.type="",T.prototype.pattern=l.emptyArray,T.prototype.nameField="",T.prototype.history=0,T.prototype.plural="",T.prototype.singular="",T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||s.create(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.pattern&&e.pattern.length)for(var r=0;r<e.pattern.length;++r)t.uint32(18).string(e.pattern[r]);return null!=e.nameField&&Object.hasOwnProperty.call(e,"nameField")&&t.uint32(26).string(e.nameField),null!=e.history&&Object.hasOwnProperty.call(e,"history")&&t.uint32(32).int32(e.history),null!=e.plural&&Object.hasOwnProperty.call(e,"plural")&&t.uint32(42).string(e.plural),null!=e.singular&&Object.hasOwnProperty.call(e,"singular")&&t.uint32(50).string(e.singular),t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.api.ResourceDescriptor;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type=e.string();break;case 2:n.pattern&&n.pattern.length||(n.pattern=[]),n.pattern.push(e.string());break;case 3:n.nameField=e.string();break;case 4:n.history=e.int32();break;case 5:n.plural=e.string();break;case 6:n.singular=e.string();break;default:e.skipType(7&o)}}return n},T.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},T.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type")&&!l.isString(e.type))return"type: string expected";if(null!=e.pattern&&e.hasOwnProperty("pattern")){if(!Array.isArray(e.pattern))return"pattern: array expected";for(var t=0;t<e.pattern.length;++t)if(!l.isString(e.pattern[t]))return"pattern: string[] expected"}if(null!=e.nameField&&e.hasOwnProperty("nameField")&&!l.isString(e.nameField))return"nameField: string expected";if(null!=e.history&&e.hasOwnProperty("history"))switch(e.history){default:return"history: enum value expected";case 0:case 1:case 2:}return null!=e.plural&&e.hasOwnProperty("plural")&&!l.isString(e.plural)?"plural: string expected":null!=e.singular&&e.hasOwnProperty("singular")&&!l.isString(e.singular)?"singular: string expected":null},T.fromObject=function(e){if(e instanceof p.google.api.ResourceDescriptor)return e;var t=new p.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");t.pattern=[];for(var r=0;r<e.pattern.length;++r)t.pattern[r]=String(e.pattern[r])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){case"HISTORY_UNSPECIFIED":case 0:t.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:t.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:t.history=2}return null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),t},T.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.pattern=[]),t.defaults&&(r.type="",r.nameField="",r.history=t.enums===String?"HISTORY_UNSPECIFIED":0,r.plural="",r.singular=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.pattern&&e.pattern.length){r.pattern=[];for(var n=0;n<e.pattern.length;++n)r.pattern[n]=e.pattern[n]}return null!=e.nameField&&e.hasOwnProperty("nameField")&&(r.nameField=e.nameField),null!=e.history&&e.hasOwnProperty("history")&&(r.history=t.enums===String?p.google.api.ResourceDescriptor.History[e.history]:e.history),null!=e.plural&&e.hasOwnProperty("plural")&&(r.plural=e.plural),null!=e.singular&&e.hasOwnProperty("singular")&&(r.singular=e.singular),r},T.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},T.History=(t={},(r=Object.create(t))[t[0]="HISTORY_UNSPECIFIED"]=0,r[t[1]="ORIGINALLY_SINGLE_PATTERN"]=1,r[t[2]="FUTURE_MULTI_PATTERN"]=2,r),T),o.ResourceReference=(A.prototype.type="",A.prototype.childType="",A.create=function(e){return new A(e)},A.encode=function(e,t){return t=t||s.create(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(10).string(e.type),null!=e.childType&&Object.hasOwnProperty.call(e,"childType")&&t.uint32(18).string(e.childType),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.api.ResourceReference;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type=e.string();break;case 2:n.childType=e.string();break;default:e.skipType(7&o)}}return n},A.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},A.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type&&e.hasOwnProperty("type")&&!l.isString(e.type)?"type: string expected":null!=e.childType&&e.hasOwnProperty("childType")&&!l.isString(e.childType)?"childType: string expected":null},A.fromObject=function(e){var t;return e instanceof p.google.api.ResourceReference?e:(t=new p.google.api.ResourceReference,null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t)},A.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.type="",r.childType=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.childType&&e.hasOwnProperty("childType")&&(r.childType=e.childType),r},A.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},A),o),i.protobuf=((n={}).FileDescriptorSet=(C.prototype.file=l.emptyArray,C.create=function(e){return new C(e)},C.encode=function(e,t){if(t=t||s.create(),null!=e.file&&e.file.length)for(var r=0;r<e.file.length;++r)p.google.protobuf.FileDescriptorProto.encode(e.file[r],t.uint32(10).fork()).ldelim();return t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.FileDescriptorSet;e.pos<r;){var o=e.uint32();o>>>3==1?(n.file&&n.file.length||(n.file=[]),n.file.push(p.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&o)}return n},C.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},C.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.file&&e.hasOwnProperty("file")){if(!Array.isArray(e.file))return"file: array expected";for(var t=0;t<e.file.length;++t){var r=p.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(r)return"file."+r}}return null},C.fromObject=function(e){if(e instanceof p.google.protobuf.FileDescriptorSet)return e;var t=new p.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=p.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},C.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var n=0;n<e.file.length;++n)r.file[n]=p.google.protobuf.FileDescriptorProto.toObject(e.file[n],t)}return r},C.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},C),n.FileDescriptorProto=(I.prototype.name="",I.prototype.package="",I.prototype.dependency=l.emptyArray,I.prototype.publicDependency=l.emptyArray,I.prototype.weakDependency=l.emptyArray,I.prototype.messageType=l.emptyArray,I.prototype.enumType=l.emptyArray,I.prototype.service=l.emptyArray,I.prototype.extension=l.emptyArray,I.prototype.options=null,I.prototype.sourceCodeInfo=null,I.prototype.syntax="",I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var r=0;r<e.dependency.length;++r)t.uint32(26).string(e.dependency[r]);if(null!=e.messageType&&e.messageType.length)for(r=0;r<e.messageType.length;++r)p.google.protobuf.DescriptorProto.encode(e.messageType[r],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)p.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(r=0;r<e.service.length;++r)p.google.protobuf.ServiceDescriptorProto.encode(e.service[r],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)p.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&p.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(r=0;r<e.publicDependency.length;++r)t.uint32(80).int32(e.publicDependency[r]);if(null!=e.weakDependency&&e.weakDependency.length)for(r=0;r<e.weakDependency.length;++r)t.uint32(88).int32(e.weakDependency[r]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.FileDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.package=e.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(e.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.publicDependency.push(e.int32());else n.publicDependency.push(e.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.weakDependency.push(e.int32());else n.weakDependency.push(e.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(p.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(p.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(p.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:n.options=p.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:n.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:n.syntax=e.string();break;default:e.skipType(7&o)}}return n},I.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},I.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.package&&e.hasOwnProperty("package")&&!l.isString(e.package))return"package: string expected";if(null!=e.dependency&&e.hasOwnProperty("dependency")){if(!Array.isArray(e.dependency))return"dependency: array expected";for(var t=0;t<e.dependency.length;++t)if(!l.isString(e.dependency[t]))return"dependency: string[] expected"}if(null!=e.publicDependency&&e.hasOwnProperty("publicDependency")){if(!Array.isArray(e.publicDependency))return"publicDependency: array expected";for(t=0;t<e.publicDependency.length;++t)if(!l.isInteger(e.publicDependency[t]))return"publicDependency: integer[] expected"}if(null!=e.weakDependency&&e.hasOwnProperty("weakDependency")){if(!Array.isArray(e.weakDependency))return"weakDependency: array expected";for(t=0;t<e.weakDependency.length;++t)if(!l.isInteger(e.weakDependency[t]))return"weakDependency: integer[] expected"}if(null!=e.messageType&&e.hasOwnProperty("messageType")){if(!Array.isArray(e.messageType))return"messageType: array expected";for(t=0;t<e.messageType.length;++t)if(r=p.google.protobuf.DescriptorProto.verify(e.messageType[t]))return"messageType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=p.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.service&&e.hasOwnProperty("service")){if(!Array.isArray(e.service))return"service: array expected";for(t=0;t<e.service.length;++t)if(r=p.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return"service."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=p.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=p.google.protobuf.FileOptions.verify(e.options))?"options."+r:null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r=p.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo))?"sourceCodeInfo."+r:null!=e.syntax&&e.hasOwnProperty("syntax")&&!l.isString(e.syntax)?"syntax: string expected":null},I.fromObject=function(e){if(e instanceof p.google.protobuf.FileDescriptorProto)return e;var t=new p.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=p.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=p.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=p.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=p.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=p.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},I.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var n=0;n<e.dependency.length;++n)r.dependency[n]=e.dependency[n]}if(e.messageType&&e.messageType.length)for(r.messageType=[],n=0;n<e.messageType.length;++n)r.messageType[n]=p.google.protobuf.DescriptorProto.toObject(e.messageType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=p.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.service&&e.service.length)for(r.service=[],n=0;n<e.service.length;++n)r.service[n]=p.google.protobuf.ServiceDescriptorProto.toObject(e.service[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=p.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=p.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],n=0;n<e.publicDependency.length;++n)r.publicDependency[n]=e.publicDependency[n];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],n=0;n<e.weakDependency.length;++n)r.weakDependency[n]=e.weakDependency[n];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),r},I.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},I),n.DescriptorProto=(N.prototype.name="",N.prototype.field=l.emptyArray,N.prototype.extension=l.emptyArray,N.prototype.nestedType=l.emptyArray,N.prototype.enumType=l.emptyArray,N.prototype.extensionRange=l.emptyArray,N.prototype.oneofDecl=l.emptyArray,N.prototype.options=null,N.prototype.reservedRange=l.emptyArray,N.prototype.reservedName=l.emptyArray,N.create=function(e){return new N(e)},N.encode=function(e,t){if(t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var r=0;r<e.field.length;++r)p.google.protobuf.FieldDescriptorProto.encode(e.field[r],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(r=0;r<e.nestedType.length;++r)p.google.protobuf.DescriptorProto.encode(e.nestedType[r],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)p.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(r=0;r<e.extensionRange.length;++r)p.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[r],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)p.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(r=0;r<e.oneofDecl.length;++r)p.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[r],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)p.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[r],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(82).string(e.reservedName[r]);return t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.DescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(p.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(p.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(p.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(p.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(p.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:n.options=p.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(p.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},N.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},N.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.field&&e.hasOwnProperty("field")){if(!Array.isArray(e.field))return"field: array expected";for(var t=0;t<e.field.length;++t)if(r=p.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return"field."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=p.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}if(null!=e.nestedType&&e.hasOwnProperty("nestedType")){if(!Array.isArray(e.nestedType))return"nestedType: array expected";for(t=0;t<e.nestedType.length;++t)if(r=p.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return"nestedType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=p.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.extensionRange&&e.hasOwnProperty("extensionRange")){if(!Array.isArray(e.extensionRange))return"extensionRange: array expected";for(t=0;t<e.extensionRange.length;++t)if(r=p.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return"extensionRange."+r}if(null!=e.oneofDecl&&e.hasOwnProperty("oneofDecl")){if(!Array.isArray(e.oneofDecl))return"oneofDecl: array expected";for(t=0;t<e.oneofDecl.length;++t)if(r=p.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return"oneofDecl."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=p.google.protobuf.MessageOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";var r;for(t=0;t<e.reservedRange.length;++t)if(r=p.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!l.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},N.fromObject=function(e){if(e instanceof p.google.protobuf.DescriptorProto)return e;var t=new p.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=p.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=p.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=p.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=p.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=p.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=p.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=p.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=p.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},N.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var n=0;n<e.field.length;++n)r.field[n]=p.google.protobuf.FieldDescriptorProto.toObject(e.field[n],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],n=0;n<e.nestedType.length;++n)r.nestedType[n]=p.google.protobuf.DescriptorProto.toObject(e.nestedType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=p.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],n=0;n<e.extensionRange.length;++n)r.extensionRange[n]=p.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=p.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],n=0;n<e.oneofDecl.length;++n)r.oneofDecl[n]=p.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[n],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=p.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N.ExtensionRange=(P.prototype.start=0,P.prototype.end=0,P.prototype.options=null,P.create=function(e){return new P(e)},P.encode=function(e,t){return t=t||s.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.DescriptorProto.ExtensionRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;case 3:n.options=p.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},P.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},P.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!l.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!l.isInteger(e.end)?"end: integer expected":null!=e.options&&e.hasOwnProperty("options")&&(e=p.google.protobuf.ExtensionRangeOptions.verify(e.options))?"options."+e:null},P.fromObject=function(e){if(e instanceof p.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new p.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");t.options=p.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},P.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0,r.options=null),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),r},P.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},P),N.ReservedRange=(R.prototype.start=0,R.prototype.end=0,R.create=function(e){return new R(e)},R.encode=function(e,t){return t=t||s.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.DescriptorProto.ReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},R.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},R.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!l.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!l.isInteger(e.end)?"end: integer expected":null},R.fromObject=function(e){var t;return e instanceof p.google.protobuf.DescriptorProto.ReservedRange?e:(t=new p.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},R.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},R.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},R),N),n.ExtensionRangeOptions=(D.prototype.uninterpretedOption=l.emptyArray,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||s.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.ExtensionRangeOptions;e.pos<r;){var o=e.uint32();o>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return n},D.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},D.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},D.fromObject=function(e){if(e instanceof p.google.protobuf.ExtensionRangeOptions)return e;var t=new p.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},D.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},D.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},D),n.FieldDescriptorProto=(k.prototype.name="",k.prototype.number=0,k.prototype.label=1,k.prototype.type=1,k.prototype.typeName="",k.prototype.extendee="",k.prototype.defaultValue="",k.prototype.oneofIndex=0,k.prototype.jsonName="",k.prototype.options=null,k.prototype.proto3Optional=!1,k.create=function(e){return new k(e)},k.encode=function(e,t){return t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,"proto3Optional")&&t.uint32(136).bool(e.proto3Optional),t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.FieldDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 3:n.number=e.int32();break;case 4:n.label=e.int32();break;case 5:n.type=e.int32();break;case 6:n.typeName=e.string();break;case 2:n.extendee=e.string();break;case 7:n.defaultValue=e.string();break;case 9:n.oneofIndex=e.int32();break;case 10:n.jsonName=e.string();break;case 8:n.options=p.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:n.proto3Optional=e.bool();break;default:e.skipType(7&o)}}return n},k.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},k.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!l.isInteger(e.number))return"number: integer expected";if(null!=e.label&&e.hasOwnProperty("label"))switch(e.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty("typeName")&&!l.isString(e.typeName))return"typeName: string expected";if(null!=e.extendee&&e.hasOwnProperty("extendee")&&!l.isString(e.extendee))return"extendee: string expected";if(null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!l.isString(e.defaultValue))return"defaultValue: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!l.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!l.isString(e.jsonName))return"jsonName: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=p.google.protobuf.FieldOptions.verify(e.options);if(t)return"options."+t}return null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&"boolean"!=typeof e.proto3Optional?"proto3Optional: boolean expected":null},k.fromObject=function(e){if(e instanceof p.google.protobuf.FieldDescriptorProto)return e;var t=new p.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=p.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},k.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName="",r.proto3Optional=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums===String?p.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?p.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&(r.proto3Optional=e.proto3Optional),r},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k.Type=(t={},(r=Object.create(t))[t[1]="TYPE_DOUBLE"]=1,r[t[2]="TYPE_FLOAT"]=2,r[t[3]="TYPE_INT64"]=3,r[t[4]="TYPE_UINT64"]=4,r[t[5]="TYPE_INT32"]=5,r[t[6]="TYPE_FIXED64"]=6,r[t[7]="TYPE_FIXED32"]=7,r[t[8]="TYPE_BOOL"]=8,r[t[9]="TYPE_STRING"]=9,r[t[10]="TYPE_GROUP"]=10,r[t[11]="TYPE_MESSAGE"]=11,r[t[12]="TYPE_BYTES"]=12,r[t[13]="TYPE_UINT32"]=13,r[t[14]="TYPE_ENUM"]=14,r[t[15]="TYPE_SFIXED32"]=15,r[t[16]="TYPE_SFIXED64"]=16,r[t[17]="TYPE_SINT32"]=17,r[t[18]="TYPE_SINT64"]=18,r),k.Label=(t={},(r=Object.create(t))[t[1]="LABEL_OPTIONAL"]=1,r[t[2]="LABEL_REQUIRED"]=2,r[t[3]="LABEL_REPEATED"]=3,r),k),n.OneofDescriptorProto=(x.prototype.name="",x.prototype.options=null,x.create=function(e){return new x(e)},x.encode=function(e,t){return t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.OneofDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.options=p.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},x.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},x.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name)?"name: string expected":null!=e.options&&e.hasOwnProperty("options")&&(e=p.google.protobuf.OneofOptions.verify(e.options))?"options."+e:null},x.fromObject=function(e){if(e instanceof p.google.protobuf.OneofDescriptorProto)return e;var t=new p.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=p.google.protobuf.OneofOptions.fromObject(e.options)}return t},x.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.OneofOptions.toObject(e.options,t)),r},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x),n.EnumDescriptorProto=(j.prototype.name="",j.prototype.value=l.emptyArray,j.prototype.options=null,j.prototype.reservedRange=l.emptyArray,j.prototype.reservedName=l.emptyArray,j.create=function(e){return new j(e)},j.encode=function(e,t){if(t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var r=0;r<e.value.length;++r)p.google.protobuf.EnumValueDescriptorProto.encode(e.value[r],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)p.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[r],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(42).string(e.reservedName[r]);return t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.EnumDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(p.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=p.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(p.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},j.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},j.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t)if(r=p.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return"value."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=p.google.protobuf.EnumOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";var r;for(t=0;t<e.reservedRange.length;++t)if(r=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!l.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},j.fromObject=function(e){if(e instanceof p.google.protobuf.EnumDescriptorProto)return e;var t=new p.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=p.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=p.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");t.reservedRange[r]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},j.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.value=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var n=0;n<e.value.length;++n)r.value[n]=p.google.protobuf.EnumValueDescriptorProto.toObject(e.value[n],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=p.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j.EnumReservedRange=(L.prototype.start=0,L.prototype.end=0,L.create=function(e){return new L(e)},L.encode=function(e,t){return t=t||s.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},L.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},L.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!l.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!l.isInteger(e.end)?"end: integer expected":null},L.fromObject=function(e){var t;return e instanceof p.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new p.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},L.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L),j),n.EnumValueDescriptorProto=(F.prototype.name="",F.prototype.number=0,F.prototype.options=null,F.create=function(e){return new F(e)},F.encode=function(e,t){return t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},F.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},F.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.EnumValueDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.number=e.int32();break;case 3:n.options=p.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},F.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},F.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name)?"name: string expected":null!=e.number&&e.hasOwnProperty("number")&&!l.isInteger(e.number)?"number: integer expected":null!=e.options&&e.hasOwnProperty("options")&&(e=p.google.protobuf.EnumValueOptions.verify(e.options))?"options."+e:null},F.fromObject=function(e){if(e instanceof p.google.protobuf.EnumValueDescriptorProto)return e;var t=new p.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=p.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},F.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F),n.ServiceDescriptorProto=(M.prototype.name="",M.prototype.method=l.emptyArray,M.prototype.options=null,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var r=0;r<e.method.length;++r)p.google.protobuf.MethodDescriptorProto.encode(e.method[r],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.ServiceDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(p.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=p.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},M.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},M.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.method&&e.hasOwnProperty("method")){if(!Array.isArray(e.method))return"method: array expected";for(var t=0;t<e.method.length;++t)if(r=p.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return"method."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=p.google.protobuf.ServiceOptions.verify(e.options))?"options."+r:null},M.fromObject=function(e){if(e instanceof p.google.protobuf.ServiceDescriptorProto)return e;var t=new p.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=p.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=p.google.protobuf.ServiceOptions.fromObject(e.options)}return t},M.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var n=0;n<e.method.length;++n)r.method[n]=p.google.protobuf.MethodDescriptorProto.toObject(e.method[n],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.ServiceOptions.toObject(e.options,t)),r},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M),n.MethodDescriptorProto=(U.prototype.name="",U.prototype.inputType="",U.prototype.outputType="",U.prototype.options=null,U.prototype.clientStreaming=!1,U.prototype.serverStreaming=!1,U.create=function(e){return new U(e)},U.encode=function(e,t){return t=t||s.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&p.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.MethodDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.inputType=e.string();break;case 3:n.outputType=e.string();break;case 4:n.options=p.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:n.clientStreaming=e.bool();break;case 6:n.serverStreaming=e.bool();break;default:e.skipType(7&o)}}return n},U.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},U.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!l.isString(e.name))return"name: string expected";if(null!=e.inputType&&e.hasOwnProperty("inputType")&&!l.isString(e.inputType))return"inputType: string expected";if(null!=e.outputType&&e.hasOwnProperty("outputType")&&!l.isString(e.outputType))return"outputType: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=p.google.protobuf.MethodOptions.verify(e.options);if(t)return"options."+t}return null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&"boolean"!=typeof e.clientStreaming?"clientStreaming: boolean expected":null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&"boolean"!=typeof e.serverStreaming?"serverStreaming: boolean expected":null},U.fromObject=function(e){if(e instanceof p.google.protobuf.MethodDescriptorProto)return e;var t=new p.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=p.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},U.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=p.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U),n.FileOptions=(B.prototype.javaPackage="",B.prototype.javaOuterClassname="",B.prototype.javaMultipleFiles=!1,B.prototype.javaGenerateEqualsAndHash=!1,B.prototype.javaStringCheckUtf8=!1,B.prototype.optimizeFor=1,B.prototype.goPackage="",B.prototype.ccGenericServices=!1,B.prototype.javaGenericServices=!1,B.prototype.pyGenericServices=!1,B.prototype.phpGenericServices=!1,B.prototype.deprecated=!1,B.prototype.ccEnableArenas=!0,B.prototype.objcClassPrefix="",B.prototype.csharpNamespace="",B.prototype.swiftPrefix="",B.prototype.phpClassPrefix="",B.prototype.phpNamespace="",B.prototype.phpMetadataNamespace="",B.prototype.rubyPackage="",B.prototype.uninterpretedOption=l.emptyArray,B.prototype[".google.api.resourceDefinition"]=l.emptyArray,B.create=function(e){return new B(e)},B.encode=function(e,t){if(t=t||s.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,"swiftPrefix")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,"phpClassPrefix")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,"phpNamespace")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,"phpGenericServices")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,"phpMetadataNamespace")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,"rubyPackage")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(r=0;r<e[".google.api.resourceDefinition"].length;++r)p.google.api.ResourceDescriptor.encode(e[".google.api.resourceDefinition"][r],t.uint32(8426).fork()).ldelim();return t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.FileOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.javaPackage=e.string();break;case 8:n.javaOuterClassname=e.string();break;case 10:n.javaMultipleFiles=e.bool();break;case 20:n.javaGenerateEqualsAndHash=e.bool();break;case 27:n.javaStringCheckUtf8=e.bool();break;case 9:n.optimizeFor=e.int32();break;case 11:n.goPackage=e.string();break;case 16:n.ccGenericServices=e.bool();break;case 17:n.javaGenericServices=e.bool();break;case 18:n.pyGenericServices=e.bool();break;case 42:n.phpGenericServices=e.bool();break;case 23:n.deprecated=e.bool();break;case 31:n.ccEnableArenas=e.bool();break;case 36:n.objcClassPrefix=e.string();break;case 37:n.csharpNamespace=e.string();break;case 39:n.swiftPrefix=e.string();break;case 40:n.phpClassPrefix=e.string();break;case 41:n.phpNamespace=e.string();break;case 44:n.phpMetadataNamespace=e.string();break;case 45:n.rubyPackage=e.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:n[".google.api.resourceDefinition"]&&n[".google.api.resourceDefinition"].length||(n[".google.api.resourceDefinition"]=[]),n[".google.api.resourceDefinition"].push(p.google.api.ResourceDescriptor.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},B.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},B.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&!l.isString(e.javaPackage))return"javaPackage: string expected";if(null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&!l.isString(e.javaOuterClassname))return"javaOuterClassname: string expected";if(null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&"boolean"!=typeof e.javaMultipleFiles)return"javaMultipleFiles: boolean expected";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&"boolean"!=typeof e.javaGenerateEqualsAndHash)return"javaGenerateEqualsAndHash: boolean expected";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&"boolean"!=typeof e.javaStringCheckUtf8)return"javaStringCheckUtf8: boolean expected";if(null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor"))switch(e.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty("goPackage")&&!l.isString(e.goPackage))return"goPackage: string expected";if(null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&"boolean"!=typeof e.ccGenericServices)return"ccGenericServices: boolean expected";if(null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&"boolean"!=typeof e.javaGenericServices)return"javaGenericServices: boolean expected";if(null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&"boolean"!=typeof e.pyGenericServices)return"pyGenericServices: boolean expected";if(null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&"boolean"!=typeof e.phpGenericServices)return"phpGenericServices: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&"boolean"!=typeof e.ccEnableArenas)return"ccEnableArenas: boolean expected";if(null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&!l.isString(e.objcClassPrefix))return"objcClassPrefix: string expected";if(null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&!l.isString(e.csharpNamespace))return"csharpNamespace: string expected";if(null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&!l.isString(e.swiftPrefix))return"swiftPrefix: string expected";if(null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&!l.isString(e.phpClassPrefix))return"phpClassPrefix: string expected";if(null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&!l.isString(e.phpNamespace))return"phpNamespace: string expected";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&!l.isString(e.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&!l.isString(e.rubyPackage))return"rubyPackage: string expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}if(null!=e[".google.api.resourceDefinition"]&&e.hasOwnProperty(".google.api.resourceDefinition")){if(!Array.isArray(e[".google.api.resourceDefinition"]))return".google.api.resourceDefinition: array expected";var r;for(t=0;t<e[".google.api.resourceDefinition"].length;++t)if(r=p.google.api.ResourceDescriptor.verify(e[".google.api.resourceDefinition"][t]))return".google.api.resourceDefinition."+r}return null},B.fromObject=function(e){if(e instanceof p.google.protobuf.FileOptions)return e;var t=new p.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.resourceDefinition"]){if(!Array.isArray(e[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(t[".google.api.resourceDefinition"]=[],r=0;r<e[".google.api.resourceDefinition"].length;++r){if("object"!=typeof e[".google.api.resourceDefinition"][r])throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");t[".google.api.resourceDefinition"][r]=p.google.api.ResourceDescriptor.fromObject(e[".google.api.resourceDefinition"][r])}}return t},B.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.resourceDefinition"]=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!0,r.objcClassPrefix="",r.csharpNamespace="",r.swiftPrefix="",r.phpClassPrefix="",r.phpNamespace="",r.phpGenericServices=!1,r.phpMetadataNamespace="",r.rubyPackage=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums===String?p.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&(r.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&(r.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&(r.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&(r.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&(r.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&(r.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(r[".google.api.resourceDefinition"]=[],n=0;n<e[".google.api.resourceDefinition"].length;++n)r[".google.api.resourceDefinition"][n]=p.google.api.ResourceDescriptor.toObject(e[".google.api.resourceDefinition"][n],t);return r},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B.OptimizeMode=(t={},(r=Object.create(t))[t[1]="SPEED"]=1,r[t[2]="CODE_SIZE"]=2,r[t[3]="LITE_RUNTIME"]=3,r),B),n.MessageOptions=(V.prototype.messageSetWireFormat=!1,V.prototype.noStandardDescriptorAccessor=!1,V.prototype.deprecated=!1,V.prototype.mapEntry=!1,V.prototype.uninterpretedOption=l.emptyArray,V.prototype[".google.api.resource"]=null,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||s.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.resource"]&&Object.hasOwnProperty.call(e,".google.api.resource")&&p.google.api.ResourceDescriptor.encode(e[".google.api.resource"],t.uint32(8426).fork()).ldelim(),t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.MessageOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageSetWireFormat=e.bool();break;case 2:n.noStandardDescriptorAccessor=e.bool();break;case 3:n.deprecated=e.bool();break;case 7:n.mapEntry=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1053:n[".google.api.resource"]=p.google.api.ResourceDescriptor.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},V.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},V.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&"boolean"!=typeof e.messageSetWireFormat)return"messageSetWireFormat: boolean expected";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&"boolean"!=typeof e.noStandardDescriptorAccessor)return"noStandardDescriptorAccessor: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&"boolean"!=typeof e.mapEntry)return"mapEntry: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(r=p.google.api.ResourceDescriptor.verify(e[".google.api.resource"]))?".google.api.resource."+r:null},V.fromObject=function(e){if(e instanceof p.google.protobuf.MessageOptions)return e;var t=new p.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.resource"]){if("object"!=typeof e[".google.api.resource"])throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");t[".google.api.resource"]=p.google.api.ResourceDescriptor.fromObject(e[".google.api.resource"])}return t},V.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1,r[".google.api.resource"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(r[".google.api.resource"]=p.google.api.ResourceDescriptor.toObject(e[".google.api.resource"],t)),r},V.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},V),n.FieldOptions=(q.prototype.ctype=0,q.prototype.packed=!1,q.prototype.jstype=0,q.prototype.lazy=!1,q.prototype.deprecated=!1,q.prototype.weak=!1,q.prototype.uninterpretedOption=l.emptyArray,q.prototype[".google.api.fieldBehavior"]=l.emptyArray,q.prototype[".google.api.resourceReference"]=null,q.create=function(e){return new q(e)},q.encode=function(e,t){if(t=t||s.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length){for(t.uint32(8418).fork(),r=0;r<e[".google.api.fieldBehavior"].length;++r)t.int32(e[".google.api.fieldBehavior"][r]);t.ldelim()}return null!=e[".google.api.resourceReference"]&&Object.hasOwnProperty.call(e,".google.api.resourceReference")&&p.google.api.ResourceReference.encode(e[".google.api.resourceReference"],t.uint32(8442).fork()).ldelim(),t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.FieldOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.ctype=e.int32();break;case 2:n.packed=e.bool();break;case 6:n.jstype=e.int32();break;case 5:n.lazy=e.bool();break;case 3:n.deprecated=e.bool();break;case 10:n.weak=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1052:if(n[".google.api.fieldBehavior"]&&n[".google.api.fieldBehavior"].length||(n[".google.api.fieldBehavior"]=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n[".google.api.fieldBehavior"].push(e.int32());else n[".google.api.fieldBehavior"].push(e.int32());break;case 1055:n[".google.api.resourceReference"]=p.google.api.ResourceReference.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},q.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.jstype&&e.hasOwnProperty("jstype"))switch(e.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty("lazy")&&"boolean"!=typeof e.lazy)return"lazy: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.weak&&e.hasOwnProperty("weak")&&"boolean"!=typeof e.weak)return"weak: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}if(null!=e[".google.api.fieldBehavior"]&&e.hasOwnProperty(".google.api.fieldBehavior")){if(!Array.isArray(e[".google.api.fieldBehavior"]))return".google.api.fieldBehavior: array expected";for(t=0;t<e[".google.api.fieldBehavior"].length;++t)switch(e[".google.api.fieldBehavior"][t]){default:return".google.api.fieldBehavior: enum value[] expected";case 0:case 1:case 2:case 3:case 4:case 5:}}var r;return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(r=p.google.api.ResourceReference.verify(e[".google.api.resourceReference"]))?".google.api.resourceReference."+r:null},q.fromObject=function(e){if(e instanceof p.google.protobuf.FieldOptions)return e;var t=new p.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.fieldBehavior"]){if(!Array.isArray(e[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(t[".google.api.fieldBehavior"]=[],r=0;r<e[".google.api.fieldBehavior"].length;++r)switch(e[".google.api.fieldBehavior"][r]){default:case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:t[".google.api.fieldBehavior"][r]=0;break;case"OPTIONAL":case 1:t[".google.api.fieldBehavior"][r]=1;break;case"REQUIRED":case 2:t[".google.api.fieldBehavior"][r]=2;break;case"OUTPUT_ONLY":case 3:t[".google.api.fieldBehavior"][r]=3;break;case"INPUT_ONLY":case 4:t[".google.api.fieldBehavior"][r]=4;break;case"IMMUTABLE":case 5:t[".google.api.fieldBehavior"][r]=5}}if(null!=e[".google.api.resourceReference"]){if("object"!=typeof e[".google.api.resourceReference"])throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");t[".google.api.resourceReference"]=p.google.api.ResourceReference.fromObject(e[".google.api.resourceReference"])}return t},q.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.fieldBehavior"]=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1,r[".google.api.resourceReference"]=null),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums===String?p.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums===String?p.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length)for(r[".google.api.fieldBehavior"]=[],n=0;n<e[".google.api.fieldBehavior"].length;++n)r[".google.api.fieldBehavior"][n]=t.enums===String?p.google.api.FieldBehavior[e[".google.api.fieldBehavior"][n]]:e[".google.api.fieldBehavior"][n];return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(r[".google.api.resourceReference"]=p.google.api.ResourceReference.toObject(e[".google.api.resourceReference"],t)),r},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q.CType=(t={},(r=Object.create(t))[t[0]="STRING"]=0,r[t[1]="CORD"]=1,r[t[2]="STRING_PIECE"]=2,r),q.JSType=(t={},(r=Object.create(t))[t[0]="JS_NORMAL"]=0,r[t[1]="JS_STRING"]=1,r[t[2]="JS_NUMBER"]=2,r),q),n.OneofOptions=(G.prototype.uninterpretedOption=l.emptyArray,G.create=function(e){return new G(e)},G.encode=function(e,t){if(t=t||s.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.OneofOptions;e.pos<r;){var o=e.uint32();o>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return n},G.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},G.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},G.fromObject=function(e){if(e instanceof p.google.protobuf.OneofOptions)return e;var t=new p.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},G.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G),n.EnumOptions=(H.prototype.allowAlias=!1,H.prototype.deprecated=!1,H.prototype.uninterpretedOption=l.emptyArray,H.create=function(e){return new H(e)},H.encode=function(e,t){if(t=t||s.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.EnumOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.allowAlias=e.bool();break;case 3:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},H.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},H.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&"boolean"!=typeof e.allowAlias)return"allowAlias: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},H.fromObject=function(e){if(e instanceof p.google.protobuf.EnumOptions)return e;var t=new p.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},H.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H),n.EnumValueOptions=(z.prototype.deprecated=!1,z.prototype.uninterpretedOption=l.emptyArray,z.create=function(e){return new z(e)},z.encode=function(e,t){if(t=t||s.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.EnumValueOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},z.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},z.fromObject=function(e){if(e instanceof p.google.protobuf.EnumValueOptions)return e;var t=new p.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},z.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z),n.ServiceOptions=(W.prototype.deprecated=!1,W.prototype.uninterpretedOption=l.emptyArray,W.prototype[".google.api.defaultHost"]="",W.prototype[".google.api.oauthScopes"]="",W.create=function(e){return new W(e)},W.encode=function(e,t){if(t=t||s.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.defaultHost"]&&Object.hasOwnProperty.call(e,".google.api.defaultHost")&&t.uint32(8394).string(e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&Object.hasOwnProperty.call(e,".google.api.oauthScopes")&&t.uint32(8402).string(e[".google.api.oauthScopes"]),t},W.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},W.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.ServiceOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.api.defaultHost"]=e.string();break;case 1050:n[".google.api.oauthScopes"]=e.string();break;default:e.skipType(7&o)}}return n},W.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},W.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&!l.isString(e[".google.api.defaultHost"])?".google.api.defaultHost: string expected":null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&!l.isString(e[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},W.fromObject=function(e){if(e instanceof p.google.protobuf.ServiceOptions)return e;var t=new p.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},W.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),r},W.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},W),n.MethodOptions=(J.prototype.deprecated=!1,J.prototype.idempotencyLevel=0,J.prototype.uninterpretedOption=l.emptyArray,J.prototype[".google.api.http"]=null,J.prototype[".google.api.methodSignature"]=l.emptyArray,J.create=function(e){return new J(e)},J.encode=function(e,t){if(t=t||s.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,"idempotencyLevel")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)p.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r=0;r<e[".google.api.methodSignature"].length;++r)t.uint32(8410).string(e[".google.api.methodSignature"][r]);return null!=e[".google.api.http"]&&Object.hasOwnProperty.call(e,".google.api.http")&&p.google.api.HttpRule.encode(e[".google.api.http"],t.uint32(578365826).fork()).ldelim(),t},J.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},J.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.MethodOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 34:n.idempotencyLevel=e.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(p.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:n[".google.api.http"]=p.google.api.HttpRule.decode(e,e.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(e.string());break;default:e.skipType(7&o)}}return n},J.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},J.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel"))switch(e.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=p.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;if(null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r=p.google.api.HttpRule.verify(e[".google.api.http"])))return".google.api.http."+r;if(null!=e[".google.api.methodSignature"]&&e.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(e[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(t=0;t<e[".google.api.methodSignature"].length;++t)if(!l.isString(e[".google.api.methodSignature"][t]))return".google.api.methodSignature: string[] expected"}return null},J.fromObject=function(e){if(e instanceof p.google.protobuf.MethodOptions)return e;var t=new p.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:t.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:t.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=p.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=p.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}return t},J.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r.idempotencyLevel=t.enums===String?"IDEMPOTENCY_UNKNOWN":0,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel")&&(r.idempotencyLevel=t.enums===String?p.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=p.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],n=0;n<e[".google.api.methodSignature"].length;++n)r[".google.api.methodSignature"][n]=e[".google.api.methodSignature"][n];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=p.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},J.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},J.IdempotencyLevel=(t={},(r=Object.create(t))[t[0]="IDEMPOTENCY_UNKNOWN"]=0,r[t[1]="NO_SIDE_EFFECTS"]=1,r[t[2]="IDEMPOTENT"]=2,r),J),n.UninterpretedOption=(K.prototype.name=l.emptyArray,K.prototype.identifierValue="",K.prototype.positiveIntValue=l.Long?l.Long.fromBits(0,0,!0):0,K.prototype.negativeIntValue=l.Long?l.Long.fromBits(0,0,!1):0,K.prototype.doubleValue=0,K.prototype.stringValue=l.newBuffer([]),K.prototype.aggregateValue="",K.create=function(e){return new K(e)},K.encode=function(e,t){if(t=t||s.create(),null!=e.name&&e.name.length)for(var r=0;r<e.name.length;++r)p.google.protobuf.UninterpretedOption.NamePart.encode(e.name[r],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},K.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},K.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.UninterpretedOption;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(p.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:n.identifierValue=e.string();break;case 4:n.positiveIntValue=e.uint64();break;case 5:n.negativeIntValue=e.int64();break;case 6:n.doubleValue=e.double();break;case 7:n.stringValue=e.bytes();break;case 8:n.aggregateValue=e.string();break;default:e.skipType(7&o)}}return n},K.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},K.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")){if(!Array.isArray(e.name))return"name: array expected";for(var t=0;t<e.name.length;++t){var r=p.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(r)return"name."+r}}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&!l.isString(e.identifierValue)?"identifierValue: string expected":null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&!(l.isInteger(e.positiveIntValue)||e.positiveIntValue&&l.isInteger(e.positiveIntValue.low)&&l.isInteger(e.positiveIntValue.high))?"positiveIntValue: integer|Long expected":null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&!(l.isInteger(e.negativeIntValue)||e.negativeIntValue&&l.isInteger(e.negativeIntValue.low)&&l.isInteger(e.negativeIntValue.high))?"negativeIntValue: integer|Long expected":null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&"number"!=typeof e.doubleValue?"doubleValue: number expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!(e.stringValue&&"number"==typeof e.stringValue.length||l.isString(e.stringValue))?"stringValue: buffer expected":null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&!l.isString(e.aggregateValue)?"aggregateValue: string expected":null},K.fromObject=function(e){if(e instanceof p.google.protobuf.UninterpretedOption)return e;var t=new p.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var r=0;r<e.name.length;++r){if("object"!=typeof e.name[r])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[r]=p.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[r])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(l.Long?(t.positiveIntValue=l.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new l.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(l.Long?(t.negativeIntValue=l.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new l.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?l.base64.decode(e.stringValue,t.stringValue=l.newBuffer(l.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},K.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.name=[]),t.defaults&&(n.identifierValue="",l.Long?(r=new l.Long(0,0,!0),n.positiveIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.positiveIntValue=t.longs===String?"0":0,l.Long?(r=new l.Long(0,0,!1),n.negativeIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.negativeIntValue=t.longs===String?"0":0,n.doubleValue=0,t.bytes===String?n.stringValue="":(n.stringValue=[],t.bytes!==Array&&(n.stringValue=l.newBuffer(n.stringValue))),n.aggregateValue=""),e.name&&e.name.length){n.name=[];for(var o=0;o<e.name.length;++o)n.name[o]=p.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[o],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(n.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?n.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:n.positiveIntValue=t.longs===String?l.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new l.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?n.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:n.negativeIntValue=t.longs===String?l.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new l.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(n.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=t.bytes===String?l.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(n.aggregateValue=e.aggregateValue),n},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K.NamePart=(Y.prototype.namePart="",Y.prototype.isExtension=!1,Y.create=function(e){return new Y(e)},Y.encode=function(e,t){return(t=t||s.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},Y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Y.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.UninterpretedOption.NamePart;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.namePart=e.string();break;case 2:n.isExtension=e.bool();break;default:e.skipType(7&o)}}if(!n.hasOwnProperty("namePart"))throw l.ProtocolError("missing required 'namePart'",{instance:n});if(n.hasOwnProperty("isExtension"))return n;throw l.ProtocolError("missing required 'isExtension'",{instance:n})},Y.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Y.verify=function(e){return"object"!=typeof e||null===e?"object expected":l.isString(e.namePart)?"boolean"!=typeof e.isExtension?"isExtension: boolean expected":null:"namePart: string expected"},Y.fromObject=function(e){var t;return e instanceof p.google.protobuf.UninterpretedOption.NamePart?e:(t=new p.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},Y.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y),K),n.SourceCodeInfo=($.prototype.location=l.emptyArray,$.create=function(e){return new $(e)},$.encode=function(e,t){if(t=t||s.create(),null!=e.location&&e.location.length)for(var r=0;r<e.location.length;++r)p.google.protobuf.SourceCodeInfo.Location.encode(e.location[r],t.uint32(10).fork()).ldelim();return t},$.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},$.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.SourceCodeInfo;e.pos<r;){var o=e.uint32();o>>>3==1?(n.location&&n.location.length||(n.location=[]),n.location.push(p.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&o)}return n},$.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},$.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.location&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(var t=0;t<e.location.length;++t){var r=p.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(r)return"location."+r}}return null},$.fromObject=function(e){if(e instanceof p.google.protobuf.SourceCodeInfo)return e;var t=new p.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=p.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},$.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var n=0;n<e.location.length;++n)r.location[n]=p.google.protobuf.SourceCodeInfo.Location.toObject(e.location[n],t)}return r},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$.Location=(Q.prototype.path=l.emptyArray,Q.prototype.span=l.emptyArray,Q.prototype.leadingComments="",Q.prototype.trailingComments="",Q.prototype.leadingDetachedComments=l.emptyArray,Q.create=function(e){return new Q(e)},Q.encode=function(e,t){if(t=t||s.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}if(null!=e.span&&e.span.length){for(t.uint32(18).fork(),r=0;r<e.span.length;++r)t.int32(e.span[r]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r=0;r<e.leadingDetachedComments.length;++r)t.uint32(50).string(e.leadingDetachedComments[r]);return t},Q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Q.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.SourceCodeInfo.Location;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.span.push(e.int32());else n.span.push(e.int32());break;case 3:n.leadingComments=e.string();break;case 4:n.trailingComments=e.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(e.string());break;default:e.skipType(7&o)}}return n},Q.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Q.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!l.isInteger(e.path[t]))return"path: integer[] expected"}if(null!=e.span&&e.hasOwnProperty("span")){if(!Array.isArray(e.span))return"span: array expected";for(t=0;t<e.span.length;++t)if(!l.isInteger(e.span[t]))return"span: integer[] expected"}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&!l.isString(e.leadingComments))return"leadingComments: string expected";if(null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&!l.isString(e.trailingComments))return"trailingComments: string expected";if(null!=e.leadingDetachedComments&&e.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(e.leadingDetachedComments))return"leadingDetachedComments: array expected";for(t=0;t<e.leadingDetachedComments.length;++t)if(!l.isString(e.leadingDetachedComments[t]))return"leadingDetachedComments: string[] expected"}return null},Q.fromObject=function(e){if(e instanceof p.google.protobuf.SourceCodeInfo.Location)return e;var t=new p.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},Q.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q),$),n.GeneratedCodeInfo=(X.prototype.annotation=l.emptyArray,X.create=function(e){return new X(e)},X.encode=function(e,t){if(t=t||s.create(),null!=e.annotation&&e.annotation.length)for(var r=0;r<e.annotation.length;++r)p.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[r],t.uint32(10).fork()).ldelim();return t},X.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},X.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.GeneratedCodeInfo;e.pos<r;){var o=e.uint32();o>>>3==1?(n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(p.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&o)}return n},X.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},X.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.annotation&&e.hasOwnProperty("annotation")){if(!Array.isArray(e.annotation))return"annotation: array expected";for(var t=0;t<e.annotation.length;++t){var r=p.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(r)return"annotation."+r}}return null},X.fromObject=function(e){if(e instanceof p.google.protobuf.GeneratedCodeInfo)return e;var t=new p.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=p.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},X.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var n=0;n<e.annotation.length;++n)r.annotation[n]=p.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[n],t)}return r},X.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},X.Annotation=(Z.prototype.path=l.emptyArray,Z.prototype.sourceFile="",Z.prototype.begin=0,Z.prototype.end=0,Z.create=function(e){return new Z(e)},Z.encode=function(e,t){if(t=t||s.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},Z.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},Z.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:n.sourceFile=e.string();break;case 3:n.begin=e.int32();break;case 4:n.end=e.int32();break;default:e.skipType(7&o)}}return n},Z.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},Z.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!l.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&!l.isString(e.sourceFile)?"sourceFile: string expected":null!=e.begin&&e.hasOwnProperty("begin")&&!l.isInteger(e.begin)?"begin: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!l.isInteger(e.end)?"end: integer expected":null},Z.fromObject=function(e){if(e instanceof p.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new p.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},Z.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},Z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Z),X),n),i.type=((o={}).Expr=(ee.prototype.expression="",ee.prototype.title="",ee.prototype.description="",ee.prototype.location="",ee.create=function(e){return new ee(e)},ee.encode=function(e,t){return t=t||s.create(),null!=e.expression&&Object.hasOwnProperty.call(e,"expression")&&t.uint32(10).string(e.expression),null!=e.title&&Object.hasOwnProperty.call(e,"title")&&t.uint32(18).string(e.title),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.location&&Object.hasOwnProperty.call(e,"location")&&t.uint32(34).string(e.location),t},ee.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},ee.decode=function(e,t){e instanceof a||(e=a.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new p.google.type.Expr;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.expression=e.string();break;case 2:n.title=e.string();break;case 3:n.description=e.string();break;case 4:n.location=e.string();break;default:e.skipType(7&o)}}return n},ee.decodeDelimited=function(e){return e instanceof a||(e=new a(e)),this.decode(e,e.uint32())},ee.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.expression&&e.hasOwnProperty("expression")&&!l.isString(e.expression)?"expression: string expected":null!=e.title&&e.hasOwnProperty("title")&&!l.isString(e.title)?"title: string expected":null!=e.description&&e.hasOwnProperty("description")&&!l.isString(e.description)?"description: string expected":null!=e.location&&e.hasOwnProperty("location")&&!l.isString(e.location)?"location: string expected":null},ee.fromObject=function(e){var t;return e instanceof p.google.type.Expr?e:(t=new p.google.type.Expr,null!=e.expression&&(t.expression=String(e.expression)),null!=e.title&&(t.title=String(e.title)),null!=e.description&&(t.description=String(e.description)),null!=e.location&&(t.location=String(e.location)),t)},ee.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.expression="",r.title="",r.description="",r.location=""),null!=e.expression&&e.hasOwnProperty("expression")&&(r.expression=e.expression),null!=e.title&&e.hasOwnProperty("title")&&(r.title=e.title),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.location&&e.hasOwnProperty("location")&&(r.location=e.location),r},ee.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ee),o),i),p})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){var n,o,i;o=[r(93)],void 0===(i="function"==typeof(n=function(e){var t,r,n,o,i=e.Reader,a=e.Writer,s=e.util,l=e.roots.locations_protos||(e.roots.locations_protos={});function p(t,r,n){e.rpc.Service.call(this,t,r,n)}function c(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(this.locations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function d(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function f(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function g(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function m(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function y(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function v(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function b(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function E(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function _(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function O(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function w(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function S(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function T(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function A(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function C(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function I(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function N(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function P(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function R(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function D(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function k(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function x(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function j(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function L(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function F(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function M(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function U(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function B(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function V(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function q(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function G(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function H(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return l.google=((o={}).cloud=((n={}).location=((t={}).Locations=(((p.prototype=Object.create(e.rpc.Service.prototype)).constructor=p).create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(p.prototype.listLocations=function e(t,r){return this.rpcCall(e,l.google.cloud.location.ListLocationsRequest,l.google.cloud.location.ListLocationsResponse,t,r)},"name",{value:"ListLocations"}),Object.defineProperty(p.prototype.getLocation=function e(t,r){return this.rpcCall(e,l.google.cloud.location.GetLocationRequest,l.google.cloud.location.Location,t,r)},"name",{value:"GetLocation"}),p),t.ListLocationsRequest=(c.prototype.name="",c.prototype.filter="",c.prototype.pageSize=0,c.prototype.pageToken="",c.create=function(e){return new c(e)},c.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.filter&&Object.hasOwnProperty.call(e,"filter")&&t.uint32(18).string(e.filter),null!=e.pageSize&&Object.hasOwnProperty.call(e,"pageSize")&&t.uint32(24).int32(e.pageSize),null!=e.pageToken&&Object.hasOwnProperty.call(e,"pageToken")&&t.uint32(34).string(e.pageToken),t},c.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},c.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.cloud.location.ListLocationsRequest;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.filter=e.string();break;case 3:n.pageSize=e.int32();break;case 4:n.pageToken=e.string();break;default:e.skipType(7&o)}}return n},c.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},c.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.filter&&e.hasOwnProperty("filter")&&!s.isString(e.filter)?"filter: string expected":null!=e.pageSize&&e.hasOwnProperty("pageSize")&&!s.isInteger(e.pageSize)?"pageSize: integer expected":null!=e.pageToken&&e.hasOwnProperty("pageToken")&&!s.isString(e.pageToken)?"pageToken: string expected":null},c.fromObject=function(e){var t;return e instanceof l.google.cloud.location.ListLocationsRequest?e:(t=new l.google.cloud.location.ListLocationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},c.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.filter="",r.pageSize=0,r.pageToken=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),r},c.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},c),t.ListLocationsResponse=(u.prototype.locations=s.emptyArray,u.prototype.nextPageToken="",u.create=function(e){return new u(e)},u.encode=function(e,t){if(t=t||a.create(),null!=e.locations&&e.locations.length)for(var r=0;r<e.locations.length;++r)l.google.cloud.location.Location.encode(e.locations[r],t.uint32(10).fork()).ldelim();return null!=e.nextPageToken&&Object.hasOwnProperty.call(e,"nextPageToken")&&t.uint32(18).string(e.nextPageToken),t},u.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},u.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.cloud.location.ListLocationsResponse;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.locations&&n.locations.length||(n.locations=[]),n.locations.push(l.google.cloud.location.Location.decode(e,e.uint32()));break;case 2:n.nextPageToken=e.string();break;default:e.skipType(7&o)}}return n},u.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},u.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.locations&&e.hasOwnProperty("locations")){if(!Array.isArray(e.locations))return"locations: array expected";for(var t=0;t<e.locations.length;++t){var r=l.google.cloud.location.Location.verify(e.locations[t]);if(r)return"locations."+r}}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&!s.isString(e.nextPageToken)?"nextPageToken: string expected":null},u.fromObject=function(e){if(e instanceof l.google.cloud.location.ListLocationsResponse)return e;var t=new l.google.cloud.location.ListLocationsResponse;if(e.locations){if(!Array.isArray(e.locations))throw TypeError(".google.cloud.location.ListLocationsResponse.locations: array expected");t.locations=[];for(var r=0;r<e.locations.length;++r){if("object"!=typeof e.locations[r])throw TypeError(".google.cloud.location.ListLocationsResponse.locations: object expected");t.locations[r]=l.google.cloud.location.Location.fromObject(e.locations[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},u.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.locations=[]),t.defaults&&(r.nextPageToken=""),e.locations&&e.locations.length){r.locations=[];for(var n=0;n<e.locations.length;++n)r.locations[n]=l.google.cloud.location.Location.toObject(e.locations[n],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},u.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},u),t.GetLocationRequest=(d.prototype.name="",d.create=function(e){return new d(e)},d.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),t},d.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},d.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.cloud.location.GetLocationRequest;e.pos<r;){var o=e.uint32();o>>>3==1?n.name=e.string():e.skipType(7&o)}return n},d.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},d.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null},d.fromObject=function(e){var t;return e instanceof l.google.cloud.location.GetLocationRequest?e:(t=new l.google.cloud.location.GetLocationRequest,null!=e.name&&(t.name=String(e.name)),t)},d.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},d.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},d),t.Location=(h.prototype.name="",h.prototype.locationId="",h.prototype.displayName="",h.prototype.labels=s.emptyObject,h.prototype.metadata=null,h.create=function(e){return new h(e)},h.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.labels&&Object.hasOwnProperty.call(e,"labels"))for(var r=Object.keys(e.labels),n=0;n<r.length;++n)t.uint32(18).fork().uint32(10).string(r[n]).uint32(18).string(e.labels[r[n]]).ldelim();return null!=e.metadata&&Object.hasOwnProperty.call(e,"metadata")&&l.google.protobuf.Any.encode(e.metadata,t.uint32(26).fork()).ldelim(),null!=e.locationId&&Object.hasOwnProperty.call(e,"locationId")&&t.uint32(34).string(e.locationId),null!=e.displayName&&Object.hasOwnProperty.call(e,"displayName")&&t.uint32(42).string(e.displayName),t},h.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},h.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.cloud.location.Location;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 4:n.locationId=e.string();break;case 5:n.displayName=e.string();break;case 2:n.labels===s.emptyObject&&(n.labels={});for(var a=e.uint32()+e.pos,p="",c="";e.pos<a;){var u=e.uint32();switch(u>>>3){case 1:p=e.string();break;case 2:c=e.string();break;default:e.skipType(7&u)}}n.labels[p]=c;break;case 3:n.metadata=l.google.protobuf.Any.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},h.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},h.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.locationId&&e.hasOwnProperty("locationId")&&!s.isString(e.locationId))return"locationId: string expected";if(null!=e.displayName&&e.hasOwnProperty("displayName")&&!s.isString(e.displayName))return"displayName: string expected";if(null!=e.labels&&e.hasOwnProperty("labels")){if(!s.isObject(e.labels))return"labels: object expected";for(var t=Object.keys(e.labels),r=0;r<t.length;++r)if(!s.isString(e.labels[t[r]]))return"labels: string{k:string} expected"}if(null!=e.metadata&&e.hasOwnProperty("metadata")){var n=l.google.protobuf.Any.verify(e.metadata);if(n)return"metadata."+n}return null},h.fromObject=function(e){if(e instanceof l.google.cloud.location.Location)return e;var t=new l.google.cloud.location.Location;if(null!=e.name&&(t.name=String(e.name)),null!=e.locationId&&(t.locationId=String(e.locationId)),null!=e.displayName&&(t.displayName=String(e.displayName)),e.labels){if("object"!=typeof e.labels)throw TypeError(".google.cloud.location.Location.labels: object expected");t.labels={};for(var r=Object.keys(e.labels),n=0;n<r.length;++n)t.labels[r[n]]=String(e.labels[r[n]])}if(null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".google.cloud.location.Location.metadata: object expected");t.metadata=l.google.protobuf.Any.fromObject(e.metadata)}return t},h.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.labels={}),t.defaults&&(n.name="",n.metadata=null,n.locationId="",n.displayName=""),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.labels&&(r=Object.keys(e.labels)).length){n.labels={};for(var o=0;o<r.length;++o)n.labels[r[o]]=e.labels[r[o]]}return null!=e.metadata&&e.hasOwnProperty("metadata")&&(n.metadata=l.google.protobuf.Any.toObject(e.metadata,t)),null!=e.locationId&&e.hasOwnProperty("locationId")&&(n.locationId=e.locationId),null!=e.displayName&&e.hasOwnProperty("displayName")&&(n.displayName=e.displayName),n},h.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},h),t),n),o.api=((t={}).Http=(f.prototype.rules=s.emptyArray,f.prototype.fullyDecodeReservedExpansion=!1,f.create=function(e){return new f(e)},f.encode=function(e,t){if(t=t||a.create(),null!=e.rules&&e.rules.length)for(var r=0;r<e.rules.length;++r)l.google.api.HttpRule.encode(e.rules[r],t.uint32(10).fork()).ldelim();return null!=e.fullyDecodeReservedExpansion&&Object.hasOwnProperty.call(e,"fullyDecodeReservedExpansion")&&t.uint32(16).bool(e.fullyDecodeReservedExpansion),t},f.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},f.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.Http;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rules&&n.rules.length||(n.rules=[]),n.rules.push(l.google.api.HttpRule.decode(e,e.uint32()));break;case 2:n.fullyDecodeReservedExpansion=e.bool();break;default:e.skipType(7&o)}}return n},f.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},f.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(var t=0;t<e.rules.length;++t){var r=l.google.api.HttpRule.verify(e.rules[t]);if(r)return"rules."+r}}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&"boolean"!=typeof e.fullyDecodeReservedExpansion?"fullyDecodeReservedExpansion: boolean expected":null},f.fromObject=function(e){if(e instanceof l.google.api.Http)return e;var t=new l.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=l.google.api.HttpRule.fromObject(e.rules[r])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},f.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.rules=[]),t.defaults&&(r.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){r.rules=[];for(var n=0;n<e.rules.length;++n)r.rules[n]=l.google.api.HttpRule.toObject(e.rules[n],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(r.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),r},f.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},f),t.HttpRule=(g.prototype.selector="",g.prototype.get=null,g.prototype.put=null,g.prototype.post=null,g.prototype.delete=null,g.prototype.patch=null,g.prototype.custom=null,g.prototype.body="",g.prototype.responseBody="",g.prototype.additionalBindings=s.emptyArray,Object.defineProperty(g.prototype,"pattern",{get:s.oneOfGetter(n=["get","put","post","delete","patch","custom"]),set:s.oneOfSetter(n)}),g.create=function(e){return new g(e)},g.encode=function(e,t){if(t=t||a.create(),null!=e.selector&&Object.hasOwnProperty.call(e,"selector")&&t.uint32(10).string(e.selector),null!=e.get&&Object.hasOwnProperty.call(e,"get")&&t.uint32(18).string(e.get),null!=e.put&&Object.hasOwnProperty.call(e,"put")&&t.uint32(26).string(e.put),null!=e.post&&Object.hasOwnProperty.call(e,"post")&&t.uint32(34).string(e.post),null!=e.delete&&Object.hasOwnProperty.call(e,"delete")&&t.uint32(42).string(e.delete),null!=e.patch&&Object.hasOwnProperty.call(e,"patch")&&t.uint32(50).string(e.patch),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(58).string(e.body),null!=e.custom&&Object.hasOwnProperty.call(e,"custom")&&l.google.api.CustomHttpPattern.encode(e.custom,t.uint32(66).fork()).ldelim(),null!=e.additionalBindings&&e.additionalBindings.length)for(var r=0;r<e.additionalBindings.length;++r)l.google.api.HttpRule.encode(e.additionalBindings[r],t.uint32(90).fork()).ldelim();return null!=e.responseBody&&Object.hasOwnProperty.call(e,"responseBody")&&t.uint32(98).string(e.responseBody),t},g.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},g.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.HttpRule;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.selector=e.string();break;case 2:n.get=e.string();break;case 3:n.put=e.string();break;case 4:n.post=e.string();break;case 5:n.delete=e.string();break;case 6:n.patch=e.string();break;case 8:n.custom=l.google.api.CustomHttpPattern.decode(e,e.uint32());break;case 7:n.body=e.string();break;case 12:n.responseBody=e.string();break;case 11:n.additionalBindings&&n.additionalBindings.length||(n.additionalBindings=[]),n.additionalBindings.push(l.google.api.HttpRule.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},g.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},g.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.selector&&e.hasOwnProperty("selector")&&!s.isString(e.selector))return"selector: string expected";if(null!=e.get&&e.hasOwnProperty("get")&&(t.pattern=1,!s.isString(e.get)))return"get: string expected";if(null!=e.put&&e.hasOwnProperty("put")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.put))return"put: string expected"}if(null!=e.post&&e.hasOwnProperty("post")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.post))return"post: string expected"}if(null!=e.delete&&e.hasOwnProperty("delete")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.delete))return"delete: string expected"}if(null!=e.patch&&e.hasOwnProperty("patch")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,!s.isString(e.patch))return"patch: string expected"}if(null!=e.custom&&e.hasOwnProperty("custom")){if(1===t.pattern)return"pattern: multiple values";if(t.pattern=1,r=l.google.api.CustomHttpPattern.verify(e.custom))return"custom."+r}if(null!=e.body&&e.hasOwnProperty("body")&&!s.isString(e.body))return"body: string expected";if(null!=e.responseBody&&e.hasOwnProperty("responseBody")&&!s.isString(e.responseBody))return"responseBody: string expected";if(null!=e.additionalBindings&&e.hasOwnProperty("additionalBindings")){if(!Array.isArray(e.additionalBindings))return"additionalBindings: array expected";for(var r,n=0;n<e.additionalBindings.length;++n)if(r=l.google.api.HttpRule.verify(e.additionalBindings[n]))return"additionalBindings."+r}return null},g.fromObject=function(e){if(e instanceof l.google.api.HttpRule)return e;var t=new l.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=l.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=l.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},g.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body="",r.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs)&&(r.pattern="get"),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs)&&(r.pattern="put"),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs)&&(r.pattern="post"),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs)&&(r.pattern="delete"),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs)&&(r.pattern="patch"),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=l.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(r.pattern="custom"),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n)r.additionalBindings[n]=l.google.api.HttpRule.toObject(e.additionalBindings[n],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(r.responseBody=e.responseBody),r},g.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},g),t.CustomHttpPattern=(m.prototype.kind="",m.prototype.path="",m.create=function(e){return new m(e)},m.encode=function(e,t){return t=t||a.create(),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(10).string(e.kind),null!=e.path&&Object.hasOwnProperty.call(e,"path")&&t.uint32(18).string(e.path),t},m.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},m.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.api.CustomHttpPattern;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.kind=e.string();break;case 2:n.path=e.string();break;default:e.skipType(7&o)}}return n},m.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},m.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.kind&&e.hasOwnProperty("kind")&&!s.isString(e.kind)?"kind: string expected":null!=e.path&&e.hasOwnProperty("path")&&!s.isString(e.path)?"path: string expected":null},m.fromObject=function(e){var t;return e instanceof l.google.api.CustomHttpPattern?e:(t=new l.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},m.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},m.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},m),t),o.protobuf=((n={}).FileDescriptorSet=(y.prototype.file=s.emptyArray,y.create=function(e){return new y(e)},y.encode=function(e,t){if(t=t||a.create(),null!=e.file&&e.file.length)for(var r=0;r<e.file.length;++r)l.google.protobuf.FileDescriptorProto.encode(e.file[r],t.uint32(10).fork()).ldelim();return t},y.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},y.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileDescriptorSet;e.pos<r;){var o=e.uint32();o>>>3==1?(n.file&&n.file.length||(n.file=[]),n.file.push(l.google.protobuf.FileDescriptorProto.decode(e,e.uint32()))):e.skipType(7&o)}return n},y.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},y.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.file&&e.hasOwnProperty("file")){if(!Array.isArray(e.file))return"file: array expected";for(var t=0;t<e.file.length;++t){var r=l.google.protobuf.FileDescriptorProto.verify(e.file[t]);if(r)return"file."+r}}return null},y.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorSet)return e;var t=new l.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=l.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},y.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var n=0;n<e.file.length;++n)r.file[n]=l.google.protobuf.FileDescriptorProto.toObject(e.file[n],t)}return r},y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},y),n.FileDescriptorProto=(v.prototype.name="",v.prototype.package="",v.prototype.dependency=s.emptyArray,v.prototype.publicDependency=s.emptyArray,v.prototype.weakDependency=s.emptyArray,v.prototype.messageType=s.emptyArray,v.prototype.enumType=s.emptyArray,v.prototype.service=s.emptyArray,v.prototype.extension=s.emptyArray,v.prototype.options=null,v.prototype.sourceCodeInfo=null,v.prototype.syntax="",v.create=function(e){return new v(e)},v.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.package&&Object.hasOwnProperty.call(e,"package")&&t.uint32(18).string(e.package),null!=e.dependency&&e.dependency.length)for(var r=0;r<e.dependency.length;++r)t.uint32(26).string(e.dependency[r]);if(null!=e.messageType&&e.messageType.length)for(r=0;r<e.messageType.length;++r)l.google.protobuf.DescriptorProto.encode(e.messageType[r],t.uint32(34).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(42).fork()).ldelim();if(null!=e.service&&e.service.length)for(r=0;r<e.service.length;++r)l.google.protobuf.ServiceDescriptorProto.encode(e.service[r],t.uint32(50).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(58).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FileOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.sourceCodeInfo&&Object.hasOwnProperty.call(e,"sourceCodeInfo")&&l.google.protobuf.SourceCodeInfo.encode(e.sourceCodeInfo,t.uint32(74).fork()).ldelim(),null!=e.publicDependency&&e.publicDependency.length)for(r=0;r<e.publicDependency.length;++r)t.uint32(80).int32(e.publicDependency[r]);if(null!=e.weakDependency&&e.weakDependency.length)for(r=0;r<e.weakDependency.length;++r)t.uint32(88).int32(e.weakDependency[r]);return null!=e.syntax&&Object.hasOwnProperty.call(e,"syntax")&&t.uint32(98).string(e.syntax),t},v.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},v.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.package=e.string();break;case 3:n.dependency&&n.dependency.length||(n.dependency=[]),n.dependency.push(e.string());break;case 10:if(n.publicDependency&&n.publicDependency.length||(n.publicDependency=[]),2==(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)n.publicDependency.push(e.int32());else n.publicDependency.push(e.int32());break;case 11:if(n.weakDependency&&n.weakDependency.length||(n.weakDependency=[]),2==(7&o))for(a=e.uint32()+e.pos;e.pos<a;)n.weakDependency.push(e.int32());else n.weakDependency.push(e.int32());break;case 4:n.messageType&&n.messageType.length||(n.messageType=[]),n.messageType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 5:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 6:n.service&&n.service.length||(n.service=[]),n.service.push(l.google.protobuf.ServiceDescriptorProto.decode(e,e.uint32()));break;case 7:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 8:n.options=l.google.protobuf.FileOptions.decode(e,e.uint32());break;case 9:n.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.decode(e,e.uint32());break;case 12:n.syntax=e.string();break;default:e.skipType(7&o)}}return n},v.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},v.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.package&&e.hasOwnProperty("package")&&!s.isString(e.package))return"package: string expected";if(null!=e.dependency&&e.hasOwnProperty("dependency")){if(!Array.isArray(e.dependency))return"dependency: array expected";for(var t=0;t<e.dependency.length;++t)if(!s.isString(e.dependency[t]))return"dependency: string[] expected"}if(null!=e.publicDependency&&e.hasOwnProperty("publicDependency")){if(!Array.isArray(e.publicDependency))return"publicDependency: array expected";for(t=0;t<e.publicDependency.length;++t)if(!s.isInteger(e.publicDependency[t]))return"publicDependency: integer[] expected"}if(null!=e.weakDependency&&e.hasOwnProperty("weakDependency")){if(!Array.isArray(e.weakDependency))return"weakDependency: array expected";for(t=0;t<e.weakDependency.length;++t)if(!s.isInteger(e.weakDependency[t]))return"weakDependency: integer[] expected"}if(null!=e.messageType&&e.hasOwnProperty("messageType")){if(!Array.isArray(e.messageType))return"messageType: array expected";for(t=0;t<e.messageType.length;++t)if(r=l.google.protobuf.DescriptorProto.verify(e.messageType[t]))return"messageType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.service&&e.hasOwnProperty("service")){if(!Array.isArray(e.service))return"service: array expected";for(t=0;t<e.service.length;++t)if(r=l.google.protobuf.ServiceDescriptorProto.verify(e.service[t]))return"service."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.FileOptions.verify(e.options))?"options."+r:null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r=l.google.protobuf.SourceCodeInfo.verify(e.sourceCodeInfo))?"sourceCodeInfo."+r:null!=e.syntax&&e.hasOwnProperty("syntax")&&!s.isString(e.syntax)?"syntax: string expected":null},v.fromObject=function(e){if(e instanceof l.google.protobuf.FileDescriptorProto)return e;var t=new l.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=l.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=l.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=l.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}return null!=e.syntax&&(t.syntax=String(e.syntax)),t},v.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var n=0;n<e.dependency.length;++n)r.dependency[n]=e.dependency[n]}if(e.messageType&&e.messageType.length)for(r.messageType=[],n=0;n<e.messageType.length;++n)r.messageType[n]=l.google.protobuf.DescriptorProto.toObject(e.messageType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.service&&e.service.length)for(r.service=[],n=0;n<e.service.length;++n)r.service[n]=l.google.protobuf.ServiceDescriptorProto.toObject(e.service[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=l.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],n=0;n<e.publicDependency.length;++n)r.publicDependency[n]=e.publicDependency[n];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],n=0;n<e.weakDependency.length;++n)r.weakDependency[n]=e.weakDependency[n];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),r},v.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},v),n.DescriptorProto=(b.prototype.name="",b.prototype.field=s.emptyArray,b.prototype.extension=s.emptyArray,b.prototype.nestedType=s.emptyArray,b.prototype.enumType=s.emptyArray,b.prototype.extensionRange=s.emptyArray,b.prototype.oneofDecl=s.emptyArray,b.prototype.options=null,b.prototype.reservedRange=s.emptyArray,b.prototype.reservedName=s.emptyArray,b.create=function(e){return new b(e)},b.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.field&&e.field.length)for(var r=0;r<e.field.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.field[r],t.uint32(18).fork()).ldelim();if(null!=e.nestedType&&e.nestedType.length)for(r=0;r<e.nestedType.length;++r)l.google.protobuf.DescriptorProto.encode(e.nestedType[r],t.uint32(26).fork()).ldelim();if(null!=e.enumType&&e.enumType.length)for(r=0;r<e.enumType.length;++r)l.google.protobuf.EnumDescriptorProto.encode(e.enumType[r],t.uint32(34).fork()).ldelim();if(null!=e.extensionRange&&e.extensionRange.length)for(r=0;r<e.extensionRange.length;++r)l.google.protobuf.DescriptorProto.ExtensionRange.encode(e.extensionRange[r],t.uint32(42).fork()).ldelim();if(null!=e.extension&&e.extension.length)for(r=0;r<e.extension.length;++r)l.google.protobuf.FieldDescriptorProto.encode(e.extension[r],t.uint32(50).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MessageOptions.encode(e.options,t.uint32(58).fork()).ldelim(),null!=e.oneofDecl&&e.oneofDecl.length)for(r=0;r<e.oneofDecl.length;++r)l.google.protobuf.OneofDescriptorProto.encode(e.oneofDecl[r],t.uint32(66).fork()).ldelim();if(null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)l.google.protobuf.DescriptorProto.ReservedRange.encode(e.reservedRange[r],t.uint32(74).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(82).string(e.reservedName[r]);return t},b.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},b.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.field&&n.field.length||(n.field=[]),n.field.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 6:n.extension&&n.extension.length||(n.extension=[]),n.extension.push(l.google.protobuf.FieldDescriptorProto.decode(e,e.uint32()));break;case 3:n.nestedType&&n.nestedType.length||(n.nestedType=[]),n.nestedType.push(l.google.protobuf.DescriptorProto.decode(e,e.uint32()));break;case 4:n.enumType&&n.enumType.length||(n.enumType=[]),n.enumType.push(l.google.protobuf.EnumDescriptorProto.decode(e,e.uint32()));break;case 5:n.extensionRange&&n.extensionRange.length||(n.extensionRange=[]),n.extensionRange.push(l.google.protobuf.DescriptorProto.ExtensionRange.decode(e,e.uint32()));break;case 8:n.oneofDecl&&n.oneofDecl.length||(n.oneofDecl=[]),n.oneofDecl.push(l.google.protobuf.OneofDescriptorProto.decode(e,e.uint32()));break;case 7:n.options=l.google.protobuf.MessageOptions.decode(e,e.uint32());break;case 9:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(l.google.protobuf.DescriptorProto.ReservedRange.decode(e,e.uint32()));break;case 10:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},b.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},b.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.field&&e.hasOwnProperty("field")){if(!Array.isArray(e.field))return"field: array expected";for(var t=0;t<e.field.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.field[t]))return"field."+r}if(null!=e.extension&&e.hasOwnProperty("extension")){if(!Array.isArray(e.extension))return"extension: array expected";for(t=0;t<e.extension.length;++t)if(r=l.google.protobuf.FieldDescriptorProto.verify(e.extension[t]))return"extension."+r}if(null!=e.nestedType&&e.hasOwnProperty("nestedType")){if(!Array.isArray(e.nestedType))return"nestedType: array expected";for(t=0;t<e.nestedType.length;++t)if(r=l.google.protobuf.DescriptorProto.verify(e.nestedType[t]))return"nestedType."+r}if(null!=e.enumType&&e.hasOwnProperty("enumType")){if(!Array.isArray(e.enumType))return"enumType: array expected";for(t=0;t<e.enumType.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.verify(e.enumType[t]))return"enumType."+r}if(null!=e.extensionRange&&e.hasOwnProperty("extensionRange")){if(!Array.isArray(e.extensionRange))return"extensionRange: array expected";for(t=0;t<e.extensionRange.length;++t)if(r=l.google.protobuf.DescriptorProto.ExtensionRange.verify(e.extensionRange[t]))return"extensionRange."+r}if(null!=e.oneofDecl&&e.hasOwnProperty("oneofDecl")){if(!Array.isArray(e.oneofDecl))return"oneofDecl: array expected";for(t=0;t<e.oneofDecl.length;++t)if(r=l.google.protobuf.OneofDescriptorProto.verify(e.oneofDecl[t]))return"oneofDecl."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.MessageOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";var r;for(t=0;t<e.reservedRange.length;++t)if(r=l.google.protobuf.DescriptorProto.ReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!s.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},b.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto)return e;var t=new l.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=l.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=l.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=l.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=l.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=l.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=l.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=l.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},b.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var n=0;n<e.field.length;++n)r.field[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.field[n],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],n=0;n<e.nestedType.length;++n)r.nestedType[n]=l.google.protobuf.DescriptorProto.toObject(e.nestedType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=l.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],n=0;n<e.extensionRange.length;++n)r.extensionRange[n]=l.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=l.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],n=0;n<e.oneofDecl.length;++n)r.oneofDecl[n]=l.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[n],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=l.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},b.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},b.ExtensionRange=(E.prototype.start=0,E.prototype.end=0,E.prototype.options=null,E.create=function(e){return new E(e)},E.encode=function(e,t){return t=t||a.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ExtensionRangeOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},E.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},E.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto.ExtensionRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;case 3:n.options=l.google.protobuf.ExtensionRangeOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},E.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},E.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!s.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null!=e.options&&e.hasOwnProperty("options")&&(e=l.google.protobuf.ExtensionRangeOptions.verify(e.options))?"options."+e:null},E.fromObject=function(e){if(e instanceof l.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new l.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");t.options=l.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},E.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0,r.options=null),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),r},E.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},E),b.ReservedRange=(_.prototype.start=0,_.prototype.end=0,_.create=function(e){return new _(e)},_.encode=function(e,t){return t=t||a.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},_.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},_.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.DescriptorProto.ReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},_.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},_.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!s.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null},_.fromObject=function(e){var t;return e instanceof l.google.protobuf.DescriptorProto.ReservedRange?e:(t=new l.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},_.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},_.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_),b),n.ExtensionRangeOptions=(O.prototype.uninterpretedOption=s.emptyArray,O.create=function(e){return new O(e)},O.encode=function(e,t){if(t=t||a.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},O.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},O.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ExtensionRangeOptions;e.pos<r;){var o=e.uint32();o>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return n},O.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},O.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},O.fromObject=function(e){if(e instanceof l.google.protobuf.ExtensionRangeOptions)return e;var t=new l.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},O.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O),n.FieldDescriptorProto=(w.prototype.name="",w.prototype.number=0,w.prototype.label=1,w.prototype.type=1,w.prototype.typeName="",w.prototype.extendee="",w.prototype.defaultValue="",w.prototype.oneofIndex=0,w.prototype.jsonName="",w.prototype.options=null,w.prototype.proto3Optional=!1,w.create=function(e){return new w(e)},w.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.extendee&&Object.hasOwnProperty.call(e,"extendee")&&t.uint32(18).string(e.extendee),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(24).int32(e.number),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(32).int32(e.label),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.typeName&&Object.hasOwnProperty.call(e,"typeName")&&t.uint32(50).string(e.typeName),null!=e.defaultValue&&Object.hasOwnProperty.call(e,"defaultValue")&&t.uint32(58).string(e.defaultValue),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.FieldOptions.encode(e.options,t.uint32(66).fork()).ldelim(),null!=e.oneofIndex&&Object.hasOwnProperty.call(e,"oneofIndex")&&t.uint32(72).int32(e.oneofIndex),null!=e.jsonName&&Object.hasOwnProperty.call(e,"jsonName")&&t.uint32(82).string(e.jsonName),null!=e.proto3Optional&&Object.hasOwnProperty.call(e,"proto3Optional")&&t.uint32(136).bool(e.proto3Optional),t},w.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},w.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FieldDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 3:n.number=e.int32();break;case 4:n.label=e.int32();break;case 5:n.type=e.int32();break;case 6:n.typeName=e.string();break;case 2:n.extendee=e.string();break;case 7:n.defaultValue=e.string();break;case 9:n.oneofIndex=e.int32();break;case 10:n.jsonName=e.string();break;case 8:n.options=l.google.protobuf.FieldOptions.decode(e,e.uint32());break;case 17:n.proto3Optional=e.bool();break;default:e.skipType(7&o)}}return n},w.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},w.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.number&&e.hasOwnProperty("number")&&!s.isInteger(e.number))return"number: integer expected";if(null!=e.label&&e.hasOwnProperty("label"))switch(e.label){default:return"label: enum value expected";case 1:case 2:case 3:}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:}if(null!=e.typeName&&e.hasOwnProperty("typeName")&&!s.isString(e.typeName))return"typeName: string expected";if(null!=e.extendee&&e.hasOwnProperty("extendee")&&!s.isString(e.extendee))return"extendee: string expected";if(null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&!s.isString(e.defaultValue))return"defaultValue: string expected";if(null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&!s.isInteger(e.oneofIndex))return"oneofIndex: integer expected";if(null!=e.jsonName&&e.hasOwnProperty("jsonName")&&!s.isString(e.jsonName))return"jsonName: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.FieldOptions.verify(e.options);if(t)return"options."+t}return null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&"boolean"!=typeof e.proto3Optional?"proto3Optional: boolean expected":null},w.fromObject=function(e){if(e instanceof l.google.protobuf.FieldDescriptorProto)return e;var t=new l.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REQUIRED":case 2:t.label=2;break;case"LABEL_REPEATED":case 3:t.label=3}switch(e.type){case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=l.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},w.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName="",r.proto3Optional=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums===String?l.google.protobuf.FieldDescriptorProto.Label[e.label]:e.label),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums===String?l.google.protobuf.FieldDescriptorProto.Type[e.type]:e.type),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&(r.proto3Optional=e.proto3Optional),r},w.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},w.Type=(t={},(r=Object.create(t))[t[1]="TYPE_DOUBLE"]=1,r[t[2]="TYPE_FLOAT"]=2,r[t[3]="TYPE_INT64"]=3,r[t[4]="TYPE_UINT64"]=4,r[t[5]="TYPE_INT32"]=5,r[t[6]="TYPE_FIXED64"]=6,r[t[7]="TYPE_FIXED32"]=7,r[t[8]="TYPE_BOOL"]=8,r[t[9]="TYPE_STRING"]=9,r[t[10]="TYPE_GROUP"]=10,r[t[11]="TYPE_MESSAGE"]=11,r[t[12]="TYPE_BYTES"]=12,r[t[13]="TYPE_UINT32"]=13,r[t[14]="TYPE_ENUM"]=14,r[t[15]="TYPE_SFIXED32"]=15,r[t[16]="TYPE_SFIXED64"]=16,r[t[17]="TYPE_SINT32"]=17,r[t[18]="TYPE_SINT64"]=18,r),w.Label=(t={},(r=Object.create(t))[t[1]="LABEL_OPTIONAL"]=1,r[t[2]="LABEL_REQUIRED"]=2,r[t[3]="LABEL_REPEATED"]=3,r),w),n.OneofDescriptorProto=(S.prototype.name="",S.prototype.options=null,S.create=function(e){return new S(e)},S.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.OneofOptions.encode(e.options,t.uint32(18).fork()).ldelim(),t},S.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},S.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.OneofDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.options=l.google.protobuf.OneofOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},S.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},S.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.options&&e.hasOwnProperty("options")&&(e=l.google.protobuf.OneofOptions.verify(e.options))?"options."+e:null},S.fromObject=function(e){if(e instanceof l.google.protobuf.OneofDescriptorProto)return e;var t=new l.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=l.google.protobuf.OneofOptions.fromObject(e.options)}return t},S.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.OneofOptions.toObject(e.options,t)),r},S.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},S),n.EnumDescriptorProto=(T.prototype.name="",T.prototype.value=s.emptyArray,T.prototype.options=null,T.prototype.reservedRange=s.emptyArray,T.prototype.reservedName=s.emptyArray,T.create=function(e){return new T(e)},T.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.value&&e.value.length)for(var r=0;r<e.value.length;++r)l.google.protobuf.EnumValueDescriptorProto.encode(e.value[r],t.uint32(18).fork()).ldelim();if(null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumOptions.encode(e.options,t.uint32(26).fork()).ldelim(),null!=e.reservedRange&&e.reservedRange.length)for(r=0;r<e.reservedRange.length;++r)l.google.protobuf.EnumDescriptorProto.EnumReservedRange.encode(e.reservedRange[r],t.uint32(34).fork()).ldelim();if(null!=e.reservedName&&e.reservedName.length)for(r=0;r<e.reservedName.length;++r)t.uint32(42).string(e.reservedName[r]);return t},T.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},T.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.value&&n.value.length||(n.value=[]),n.value.push(l.google.protobuf.EnumValueDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=l.google.protobuf.EnumOptions.decode(e,e.uint32());break;case 4:n.reservedRange&&n.reservedRange.length||(n.reservedRange=[]),n.reservedRange.push(l.google.protobuf.EnumDescriptorProto.EnumReservedRange.decode(e,e.uint32()));break;case 5:n.reservedName&&n.reservedName.length||(n.reservedName=[]),n.reservedName.push(e.string());break;default:e.skipType(7&o)}}return n},T.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},T.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.value&&e.hasOwnProperty("value")){if(!Array.isArray(e.value))return"value: array expected";for(var t=0;t<e.value.length;++t)if(r=l.google.protobuf.EnumValueDescriptorProto.verify(e.value[t]))return"value."+r}if(null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.EnumOptions.verify(e.options)))return"options."+r;if(null!=e.reservedRange&&e.hasOwnProperty("reservedRange")){if(!Array.isArray(e.reservedRange))return"reservedRange: array expected";var r;for(t=0;t<e.reservedRange.length;++t)if(r=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.verify(e.reservedRange[t]))return"reservedRange."+r}if(null!=e.reservedName&&e.hasOwnProperty("reservedName")){if(!Array.isArray(e.reservedName))return"reservedName: array expected";for(t=0;t<e.reservedName.length;++t)if(!s.isString(e.reservedName[t]))return"reservedName: string[] expected"}return null},T.fromObject=function(e){if(e instanceof l.google.protobuf.EnumDescriptorProto)return e;var t=new l.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=l.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=l.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");t.reservedRange[r]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},T.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.value=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var n=0;n<e.value.length;++n)r.value[n]=l.google.protobuf.EnumValueDescriptorProto.toObject(e.value[n],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=l.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},T.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},T.EnumReservedRange=(A.prototype.start=0,A.prototype.end=0,A.create=function(e){return new A(e)},A.encode=function(e,t){return t=t||a.create(),null!=e.start&&Object.hasOwnProperty.call(e,"start")&&t.uint32(8).int32(e.start),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(16).int32(e.end),t},A.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},A.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.start=e.int32();break;case 2:n.end=e.int32();break;default:e.skipType(7&o)}}return n},A.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},A.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.start&&e.hasOwnProperty("start")&&!s.isInteger(e.start)?"start: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null},A.fromObject=function(e){var t;return e instanceof l.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new l.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},A.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},A.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},A),T),n.EnumValueDescriptorProto=(C.prototype.name="",C.prototype.number=0,C.prototype.options=null,C.create=function(e){return new C(e)},C.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.number&&Object.hasOwnProperty.call(e,"number")&&t.uint32(16).int32(e.number),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.EnumValueOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},C.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},C.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumValueDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.number=e.int32();break;case 3:n.options=l.google.protobuf.EnumValueOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},C.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},C.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name)?"name: string expected":null!=e.number&&e.hasOwnProperty("number")&&!s.isInteger(e.number)?"number: integer expected":null!=e.options&&e.hasOwnProperty("options")&&(e=l.google.protobuf.EnumValueOptions.verify(e.options))?"options."+e:null},C.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueDescriptorProto)return e;var t=new l.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=l.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},C.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},C.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},C),n.ServiceDescriptorProto=(I.prototype.name="",I.prototype.method=s.emptyArray,I.prototype.options=null,I.create=function(e){return new I(e)},I.encode=function(e,t){if(t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.method&&e.method.length)for(var r=0;r<e.method.length;++r)l.google.protobuf.MethodDescriptorProto.encode(e.method[r],t.uint32(18).fork()).ldelim();return null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.ServiceOptions.encode(e.options,t.uint32(26).fork()).ldelim(),t},I.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},I.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ServiceDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.method&&n.method.length||(n.method=[]),n.method.push(l.google.protobuf.MethodDescriptorProto.decode(e,e.uint32()));break;case 3:n.options=l.google.protobuf.ServiceOptions.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},I.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},I.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.method&&e.hasOwnProperty("method")){if(!Array.isArray(e.method))return"method: array expected";for(var t=0;t<e.method.length;++t)if(r=l.google.protobuf.MethodDescriptorProto.verify(e.method[t]))return"method."+r}var r;return null!=e.options&&e.hasOwnProperty("options")&&(r=l.google.protobuf.ServiceOptions.verify(e.options))?"options."+r:null},I.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceDescriptorProto)return e;var t=new l.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=l.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=l.google.protobuf.ServiceOptions.fromObject(e.options)}return t},I.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var n=0;n<e.method.length;++n)r.method[n]=l.google.protobuf.MethodDescriptorProto.toObject(e.method[n],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.ServiceOptions.toObject(e.options,t)),r},I.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},I),n.MethodDescriptorProto=(N.prototype.name="",N.prototype.inputType="",N.prototype.outputType="",N.prototype.options=null,N.prototype.clientStreaming=!1,N.prototype.serverStreaming=!1,N.create=function(e){return new N(e)},N.encode=function(e,t){return t=t||a.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.inputType&&Object.hasOwnProperty.call(e,"inputType")&&t.uint32(18).string(e.inputType),null!=e.outputType&&Object.hasOwnProperty.call(e,"outputType")&&t.uint32(26).string(e.outputType),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&l.google.protobuf.MethodOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.clientStreaming&&Object.hasOwnProperty.call(e,"clientStreaming")&&t.uint32(40).bool(e.clientStreaming),null!=e.serverStreaming&&Object.hasOwnProperty.call(e,"serverStreaming")&&t.uint32(48).bool(e.serverStreaming),t},N.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},N.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MethodDescriptorProto;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.inputType=e.string();break;case 3:n.outputType=e.string();break;case 4:n.options=l.google.protobuf.MethodOptions.decode(e,e.uint32());break;case 5:n.clientStreaming=e.bool();break;case 6:n.serverStreaming=e.bool();break;default:e.skipType(7&o)}}return n},N.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},N.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.inputType&&e.hasOwnProperty("inputType")&&!s.isString(e.inputType))return"inputType: string expected";if(null!=e.outputType&&e.hasOwnProperty("outputType")&&!s.isString(e.outputType))return"outputType: string expected";if(null!=e.options&&e.hasOwnProperty("options")){var t=l.google.protobuf.MethodOptions.verify(e.options);if(t)return"options."+t}return null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&"boolean"!=typeof e.clientStreaming?"clientStreaming: boolean expected":null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&"boolean"!=typeof e.serverStreaming?"serverStreaming: boolean expected":null},N.fromObject=function(e){if(e instanceof l.google.protobuf.MethodDescriptorProto)return e;var t=new l.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=l.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},N.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=l.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N),n.FileOptions=(P.prototype.javaPackage="",P.prototype.javaOuterClassname="",P.prototype.javaMultipleFiles=!1,P.prototype.javaGenerateEqualsAndHash=!1,P.prototype.javaStringCheckUtf8=!1,P.prototype.optimizeFor=1,P.prototype.goPackage="",P.prototype.ccGenericServices=!1,P.prototype.javaGenericServices=!1,P.prototype.pyGenericServices=!1,P.prototype.phpGenericServices=!1,P.prototype.deprecated=!1,P.prototype.ccEnableArenas=!0,P.prototype.objcClassPrefix="",P.prototype.csharpNamespace="",P.prototype.swiftPrefix="",P.prototype.phpClassPrefix="",P.prototype.phpNamespace="",P.prototype.phpMetadataNamespace="",P.prototype.rubyPackage="",P.prototype.uninterpretedOption=s.emptyArray,P.create=function(e){return new P(e)},P.encode=function(e,t){if(t=t||a.create(),null!=e.javaPackage&&Object.hasOwnProperty.call(e,"javaPackage")&&t.uint32(10).string(e.javaPackage),null!=e.javaOuterClassname&&Object.hasOwnProperty.call(e,"javaOuterClassname")&&t.uint32(66).string(e.javaOuterClassname),null!=e.optimizeFor&&Object.hasOwnProperty.call(e,"optimizeFor")&&t.uint32(72).int32(e.optimizeFor),null!=e.javaMultipleFiles&&Object.hasOwnProperty.call(e,"javaMultipleFiles")&&t.uint32(80).bool(e.javaMultipleFiles),null!=e.goPackage&&Object.hasOwnProperty.call(e,"goPackage")&&t.uint32(90).string(e.goPackage),null!=e.ccGenericServices&&Object.hasOwnProperty.call(e,"ccGenericServices")&&t.uint32(128).bool(e.ccGenericServices),null!=e.javaGenericServices&&Object.hasOwnProperty.call(e,"javaGenericServices")&&t.uint32(136).bool(e.javaGenericServices),null!=e.pyGenericServices&&Object.hasOwnProperty.call(e,"pyGenericServices")&&t.uint32(144).bool(e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&Object.hasOwnProperty.call(e,"javaGenerateEqualsAndHash")&&t.uint32(160).bool(e.javaGenerateEqualsAndHash),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(184).bool(e.deprecated),null!=e.javaStringCheckUtf8&&Object.hasOwnProperty.call(e,"javaStringCheckUtf8")&&t.uint32(216).bool(e.javaStringCheckUtf8),null!=e.ccEnableArenas&&Object.hasOwnProperty.call(e,"ccEnableArenas")&&t.uint32(248).bool(e.ccEnableArenas),null!=e.objcClassPrefix&&Object.hasOwnProperty.call(e,"objcClassPrefix")&&t.uint32(290).string(e.objcClassPrefix),null!=e.csharpNamespace&&Object.hasOwnProperty.call(e,"csharpNamespace")&&t.uint32(298).string(e.csharpNamespace),null!=e.swiftPrefix&&Object.hasOwnProperty.call(e,"swiftPrefix")&&t.uint32(314).string(e.swiftPrefix),null!=e.phpClassPrefix&&Object.hasOwnProperty.call(e,"phpClassPrefix")&&t.uint32(322).string(e.phpClassPrefix),null!=e.phpNamespace&&Object.hasOwnProperty.call(e,"phpNamespace")&&t.uint32(330).string(e.phpNamespace),null!=e.phpGenericServices&&Object.hasOwnProperty.call(e,"phpGenericServices")&&t.uint32(336).bool(e.phpGenericServices),null!=e.phpMetadataNamespace&&Object.hasOwnProperty.call(e,"phpMetadataNamespace")&&t.uint32(354).string(e.phpMetadataNamespace),null!=e.rubyPackage&&Object.hasOwnProperty.call(e,"rubyPackage")&&t.uint32(362).string(e.rubyPackage),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},P.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},P.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FileOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.javaPackage=e.string();break;case 8:n.javaOuterClassname=e.string();break;case 10:n.javaMultipleFiles=e.bool();break;case 20:n.javaGenerateEqualsAndHash=e.bool();break;case 27:n.javaStringCheckUtf8=e.bool();break;case 9:n.optimizeFor=e.int32();break;case 11:n.goPackage=e.string();break;case 16:n.ccGenericServices=e.bool();break;case 17:n.javaGenericServices=e.bool();break;case 18:n.pyGenericServices=e.bool();break;case 42:n.phpGenericServices=e.bool();break;case 23:n.deprecated=e.bool();break;case 31:n.ccEnableArenas=e.bool();break;case 36:n.objcClassPrefix=e.string();break;case 37:n.csharpNamespace=e.string();break;case 39:n.swiftPrefix=e.string();break;case 40:n.phpClassPrefix=e.string();break;case 41:n.phpNamespace=e.string();break;case 44:n.phpMetadataNamespace=e.string();break;case 45:n.rubyPackage=e.string();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},P.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},P.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&!s.isString(e.javaPackage))return"javaPackage: string expected";if(null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&!s.isString(e.javaOuterClassname))return"javaOuterClassname: string expected";if(null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&"boolean"!=typeof e.javaMultipleFiles)return"javaMultipleFiles: boolean expected";if(null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&"boolean"!=typeof e.javaGenerateEqualsAndHash)return"javaGenerateEqualsAndHash: boolean expected";if(null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&"boolean"!=typeof e.javaStringCheckUtf8)return"javaStringCheckUtf8: boolean expected";if(null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor"))switch(e.optimizeFor){default:return"optimizeFor: enum value expected";case 1:case 2:case 3:}if(null!=e.goPackage&&e.hasOwnProperty("goPackage")&&!s.isString(e.goPackage))return"goPackage: string expected";if(null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&"boolean"!=typeof e.ccGenericServices)return"ccGenericServices: boolean expected";if(null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&"boolean"!=typeof e.javaGenericServices)return"javaGenericServices: boolean expected";if(null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&"boolean"!=typeof e.pyGenericServices)return"pyGenericServices: boolean expected";if(null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&"boolean"!=typeof e.phpGenericServices)return"phpGenericServices: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&"boolean"!=typeof e.ccEnableArenas)return"ccEnableArenas: boolean expected";if(null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&!s.isString(e.objcClassPrefix))return"objcClassPrefix: string expected";if(null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&!s.isString(e.csharpNamespace))return"csharpNamespace: string expected";if(null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&!s.isString(e.swiftPrefix))return"swiftPrefix: string expected";if(null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&!s.isString(e.phpClassPrefix))return"phpClassPrefix: string expected";if(null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&!s.isString(e.phpNamespace))return"phpNamespace: string expected";if(null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&!s.isString(e.phpMetadataNamespace))return"phpMetadataNamespace: string expected";if(null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&!s.isString(e.rubyPackage))return"rubyPackage: string expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},P.fromObject=function(e){if(e instanceof l.google.protobuf.FileOptions)return e;var t=new l.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.phpGenericServices&&(t.phpGenericServices=Boolean(e.phpGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},P.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!0,r.objcClassPrefix="",r.csharpNamespace="",r.swiftPrefix="",r.phpClassPrefix="",r.phpNamespace="",r.phpGenericServices=!1,r.phpMetadataNamespace="",r.rubyPackage=""),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums===String?l.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]:e.optimizeFor),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&(r.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&(r.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&(r.phpNamespace=e.phpNamespace),null!=e.phpGenericServices&&e.hasOwnProperty("phpGenericServices")&&(r.phpGenericServices=e.phpGenericServices),null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&(r.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&(r.rubyPackage=e.rubyPackage),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},P.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},P.OptimizeMode=(t={},(r=Object.create(t))[t[1]="SPEED"]=1,r[t[2]="CODE_SIZE"]=2,r[t[3]="LITE_RUNTIME"]=3,r),P),n.MessageOptions=(R.prototype.messageSetWireFormat=!1,R.prototype.noStandardDescriptorAccessor=!1,R.prototype.deprecated=!1,R.prototype.mapEntry=!1,R.prototype.uninterpretedOption=s.emptyArray,R.create=function(e){return new R(e)},R.encode=function(e,t){if(t=t||a.create(),null!=e.messageSetWireFormat&&Object.hasOwnProperty.call(e,"messageSetWireFormat")&&t.uint32(8).bool(e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&Object.hasOwnProperty.call(e,"noStandardDescriptorAccessor")&&t.uint32(16).bool(e.noStandardDescriptorAccessor),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.mapEntry&&Object.hasOwnProperty.call(e,"mapEntry")&&t.uint32(56).bool(e.mapEntry),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},R.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},R.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MessageOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.messageSetWireFormat=e.bool();break;case 2:n.noStandardDescriptorAccessor=e.bool();break;case 3:n.deprecated=e.bool();break;case 7:n.mapEntry=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},R.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},R.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&"boolean"!=typeof e.messageSetWireFormat)return"messageSetWireFormat: boolean expected";if(null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&"boolean"!=typeof e.noStandardDescriptorAccessor)return"noStandardDescriptorAccessor: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&"boolean"!=typeof e.mapEntry)return"mapEntry: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},R.fromObject=function(e){if(e instanceof l.google.protobuf.MessageOptions)return e;var t=new l.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},R.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},R.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},R),n.FieldOptions=(D.prototype.ctype=0,D.prototype.packed=!1,D.prototype.jstype=0,D.prototype.lazy=!1,D.prototype.deprecated=!1,D.prototype.weak=!1,D.prototype.uninterpretedOption=s.emptyArray,D.create=function(e){return new D(e)},D.encode=function(e,t){if(t=t||a.create(),null!=e.ctype&&Object.hasOwnProperty.call(e,"ctype")&&t.uint32(8).int32(e.ctype),null!=e.packed&&Object.hasOwnProperty.call(e,"packed")&&t.uint32(16).bool(e.packed),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.lazy&&Object.hasOwnProperty.call(e,"lazy")&&t.uint32(40).bool(e.lazy),null!=e.jstype&&Object.hasOwnProperty.call(e,"jstype")&&t.uint32(48).int32(e.jstype),null!=e.weak&&Object.hasOwnProperty.call(e,"weak")&&t.uint32(80).bool(e.weak),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},D.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},D.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.FieldOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.ctype=e.int32();break;case 2:n.packed=e.bool();break;case 6:n.jstype=e.int32();break;case 5:n.lazy=e.bool();break;case 3:n.deprecated=e.bool();break;case 10:n.weak=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},D.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},D.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.ctype&&e.hasOwnProperty("ctype"))switch(e.ctype){default:return"ctype: enum value expected";case 0:case 1:case 2:}if(null!=e.packed&&e.hasOwnProperty("packed")&&"boolean"!=typeof e.packed)return"packed: boolean expected";if(null!=e.jstype&&e.hasOwnProperty("jstype"))switch(e.jstype){default:return"jstype: enum value expected";case 0:case 1:case 2:}if(null!=e.lazy&&e.hasOwnProperty("lazy")&&"boolean"!=typeof e.lazy)return"lazy: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.weak&&e.hasOwnProperty("weak")&&"boolean"!=typeof e.weak)return"weak: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},D.fromObject=function(e){if(e instanceof l.google.protobuf.FieldOptions)return e;var t=new l.google.protobuf.FieldOptions;switch(e.ctype){case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}if(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},D.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums===String?l.google.protobuf.FieldOptions.CType[e.ctype]:e.ctype),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums===String?l.google.protobuf.FieldOptions.JSType[e.jstype]:e.jstype),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},D.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},D.CType=(t={},(r=Object.create(t))[t[0]="STRING"]=0,r[t[1]="CORD"]=1,r[t[2]="STRING_PIECE"]=2,r),D.JSType=(t={},(r=Object.create(t))[t[0]="JS_NORMAL"]=0,r[t[1]="JS_STRING"]=1,r[t[2]="JS_NUMBER"]=2,r),D),n.OneofOptions=(k.prototype.uninterpretedOption=s.emptyArray,k.create=function(e){return new k(e)},k.encode=function(e,t){if(t=t||a.create(),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},k.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},k.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.OneofOptions;e.pos<r;){var o=e.uint32();o>>>3==999?(n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()))):e.skipType(7&o)}return n},k.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},k.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},k.fromObject=function(e){if(e instanceof l.google.protobuf.OneofOptions)return e;var t=new l.google.protobuf.OneofOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},k.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k),n.EnumOptions=(x.prototype.allowAlias=!1,x.prototype.deprecated=!1,x.prototype.uninterpretedOption=s.emptyArray,x.create=function(e){return new x(e)},x.encode=function(e,t){if(t=t||a.create(),null!=e.allowAlias&&Object.hasOwnProperty.call(e,"allowAlias")&&t.uint32(16).bool(e.allowAlias),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(24).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},x.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},x.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.allowAlias=e.bool();break;case 3:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},x.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},x.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&"boolean"!=typeof e.allowAlias)return"allowAlias: boolean expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},x.fromObject=function(e){if(e instanceof l.google.protobuf.EnumOptions)return e;var t=new l.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},x.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x),n.EnumValueOptions=(j.prototype.deprecated=!1,j.prototype.uninterpretedOption=s.emptyArray,j.create=function(e){return new j(e)},j.encode=function(e,t){if(t=t||a.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(8).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return t},j.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},j.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.EnumValueOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},j.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},j.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null},j.fromObject=function(e){if(e instanceof l.google.protobuf.EnumValueOptions)return e;var t=new l.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},j.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j),n.ServiceOptions=(L.prototype.deprecated=!1,L.prototype.uninterpretedOption=s.emptyArray,L.prototype[".google.api.defaultHost"]="",L.prototype[".google.api.oauthScopes"]="",L.create=function(e){return new L(e)},L.encode=function(e,t){if(t=t||a.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();return null!=e[".google.api.defaultHost"]&&Object.hasOwnProperty.call(e,".google.api.defaultHost")&&t.uint32(8394).string(e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&Object.hasOwnProperty.call(e,".google.api.oauthScopes")&&t.uint32(8402).string(e[".google.api.oauthScopes"]),t},L.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},L.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.ServiceOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 1049:n[".google.api.defaultHost"]=e.string();break;case 1050:n[".google.api.oauthScopes"]=e.string();break;default:e.skipType(7&o)}}return n},L.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},L.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t){var r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]);if(r)return"uninterpretedOption."+r}}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&!s.isString(e[".google.api.defaultHost"])?".google.api.defaultHost: string expected":null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&!s.isString(e[".google.api.oauthScopes"])?".google.api.oauthScopes: string expected":null},L.fromObject=function(e){if(e instanceof l.google.protobuf.ServiceOptions)return e;var t=new l.google.protobuf.ServiceOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),t},L.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),r},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L),n.MethodOptions=(F.prototype.deprecated=!1,F.prototype.idempotencyLevel=0,F.prototype.uninterpretedOption=s.emptyArray,F.prototype[".google.api.http"]=null,F.prototype[".google.api.methodSignature"]=s.emptyArray,F.create=function(e){return new F(e)},F.encode=function(e,t){if(t=t||a.create(),null!=e.deprecated&&Object.hasOwnProperty.call(e,"deprecated")&&t.uint32(264).bool(e.deprecated),null!=e.idempotencyLevel&&Object.hasOwnProperty.call(e,"idempotencyLevel")&&t.uint32(272).int32(e.idempotencyLevel),null!=e.uninterpretedOption&&e.uninterpretedOption.length)for(var r=0;r<e.uninterpretedOption.length;++r)l.google.protobuf.UninterpretedOption.encode(e.uninterpretedOption[r],t.uint32(7994).fork()).ldelim();if(null!=e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r=0;r<e[".google.api.methodSignature"].length;++r)t.uint32(8410).string(e[".google.api.methodSignature"][r]);return null!=e[".google.api.http"]&&Object.hasOwnProperty.call(e,".google.api.http")&&l.google.api.HttpRule.encode(e[".google.api.http"],t.uint32(578365826).fork()).ldelim(),t},F.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},F.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.MethodOptions;e.pos<r;){var o=e.uint32();switch(o>>>3){case 33:n.deprecated=e.bool();break;case 34:n.idempotencyLevel=e.int32();break;case 999:n.uninterpretedOption&&n.uninterpretedOption.length||(n.uninterpretedOption=[]),n.uninterpretedOption.push(l.google.protobuf.UninterpretedOption.decode(e,e.uint32()));break;case 72295728:n[".google.api.http"]=l.google.api.HttpRule.decode(e,e.uint32());break;case 1051:n[".google.api.methodSignature"]&&n[".google.api.methodSignature"].length||(n[".google.api.methodSignature"]=[]),n[".google.api.methodSignature"].push(e.string());break;default:e.skipType(7&o)}}return n},F.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},F.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.deprecated&&e.hasOwnProperty("deprecated")&&"boolean"!=typeof e.deprecated)return"deprecated: boolean expected";if(null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel"))switch(e.idempotencyLevel){default:return"idempotencyLevel: enum value expected";case 0:case 1:case 2:}if(null!=e.uninterpretedOption&&e.hasOwnProperty("uninterpretedOption")){if(!Array.isArray(e.uninterpretedOption))return"uninterpretedOption: array expected";for(var t=0;t<e.uninterpretedOption.length;++t)if(r=l.google.protobuf.UninterpretedOption.verify(e.uninterpretedOption[t]))return"uninterpretedOption."+r}var r;if(null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r=l.google.api.HttpRule.verify(e[".google.api.http"])))return".google.api.http."+r;if(null!=e[".google.api.methodSignature"]&&e.hasOwnProperty(".google.api.methodSignature")){if(!Array.isArray(e[".google.api.methodSignature"]))return".google.api.methodSignature: array expected";for(t=0;t<e[".google.api.methodSignature"].length;++t)if(!s.isString(e[".google.api.methodSignature"][t]))return".google.api.methodSignature: string[] expected"}return null},F.fromObject=function(e){if(e instanceof l.google.protobuf.MethodOptions)return e;var t=new l.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){case"IDEMPOTENCY_UNKNOWN":case 0:t.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:t.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:t.idempotencyLevel=2}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=l.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=l.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}return t},F.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r.idempotencyLevel=t.enums===String?"IDEMPOTENCY_UNKNOWN":0,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel")&&(r.idempotencyLevel=t.enums===String?l.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]:e.idempotencyLevel),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=l.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],n=0;n<e[".google.api.methodSignature"].length;++n)r[".google.api.methodSignature"][n]=e[".google.api.methodSignature"][n];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=l.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F.IdempotencyLevel=(t={},(r=Object.create(t))[t[0]="IDEMPOTENCY_UNKNOWN"]=0,r[t[1]="NO_SIDE_EFFECTS"]=1,r[t[2]="IDEMPOTENT"]=2,r),F),n.UninterpretedOption=(M.prototype.name=s.emptyArray,M.prototype.identifierValue="",M.prototype.positiveIntValue=s.Long?s.Long.fromBits(0,0,!0):0,M.prototype.negativeIntValue=s.Long?s.Long.fromBits(0,0,!1):0,M.prototype.doubleValue=0,M.prototype.stringValue=s.newBuffer([]),M.prototype.aggregateValue="",M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||a.create(),null!=e.name&&e.name.length)for(var r=0;r<e.name.length;++r)l.google.protobuf.UninterpretedOption.NamePart.encode(e.name[r],t.uint32(18).fork()).ldelim();return null!=e.identifierValue&&Object.hasOwnProperty.call(e,"identifierValue")&&t.uint32(26).string(e.identifierValue),null!=e.positiveIntValue&&Object.hasOwnProperty.call(e,"positiveIntValue")&&t.uint32(32).uint64(e.positiveIntValue),null!=e.negativeIntValue&&Object.hasOwnProperty.call(e,"negativeIntValue")&&t.uint32(40).int64(e.negativeIntValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(49).double(e.doubleValue),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(58).bytes(e.stringValue),null!=e.aggregateValue&&Object.hasOwnProperty.call(e,"aggregateValue")&&t.uint32(66).string(e.aggregateValue),t},M.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},M.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.UninterpretedOption;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.name&&n.name.length||(n.name=[]),n.name.push(l.google.protobuf.UninterpretedOption.NamePart.decode(e,e.uint32()));break;case 3:n.identifierValue=e.string();break;case 4:n.positiveIntValue=e.uint64();break;case 5:n.negativeIntValue=e.int64();break;case 6:n.doubleValue=e.double();break;case 7:n.stringValue=e.bytes();break;case 8:n.aggregateValue=e.string();break;default:e.skipType(7&o)}}return n},M.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},M.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")){if(!Array.isArray(e.name))return"name: array expected";for(var t=0;t<e.name.length;++t){var r=l.google.protobuf.UninterpretedOption.NamePart.verify(e.name[t]);if(r)return"name."+r}}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&!s.isString(e.identifierValue)?"identifierValue: string expected":null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&!(s.isInteger(e.positiveIntValue)||e.positiveIntValue&&s.isInteger(e.positiveIntValue.low)&&s.isInteger(e.positiveIntValue.high))?"positiveIntValue: integer|Long expected":null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&!(s.isInteger(e.negativeIntValue)||e.negativeIntValue&&s.isInteger(e.negativeIntValue.low)&&s.isInteger(e.negativeIntValue.high))?"negativeIntValue: integer|Long expected":null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&"number"!=typeof e.doubleValue?"doubleValue: number expected":null!=e.stringValue&&e.hasOwnProperty("stringValue")&&!(e.stringValue&&"number"==typeof e.stringValue.length||s.isString(e.stringValue))?"stringValue: buffer expected":null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&!s.isString(e.aggregateValue)?"aggregateValue: string expected":null},M.fromObject=function(e){if(e instanceof l.google.protobuf.UninterpretedOption)return e;var t=new l.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var r=0;r<e.name.length;++r){if("object"!=typeof e.name[r])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[r]=l.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[r])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(s.Long?(t.positiveIntValue=s.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new s.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(s.Long?(t.negativeIntValue=s.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new s.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?s.base64.decode(e.stringValue,t.stringValue=s.newBuffer(s.base64.length(e.stringValue)),0):e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},M.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.name=[]),t.defaults&&(n.identifierValue="",s.Long?(r=new s.Long(0,0,!0),n.positiveIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.positiveIntValue=t.longs===String?"0":0,s.Long?(r=new s.Long(0,0,!1),n.negativeIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.negativeIntValue=t.longs===String?"0":0,n.doubleValue=0,t.bytes===String?n.stringValue="":(n.stringValue=[],t.bytes!==Array&&(n.stringValue=s.newBuffer(n.stringValue))),n.aggregateValue=""),e.name&&e.name.length){n.name=[];for(var o=0;o<e.name.length;++o)n.name[o]=l.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[o],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(n.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?n.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:n.positiveIntValue=t.longs===String?s.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new s.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?n.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:n.negativeIntValue=t.longs===String?s.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new s.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(n.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=t.bytes===String?s.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(n.aggregateValue=e.aggregateValue),n},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M.NamePart=(U.prototype.namePart="",U.prototype.isExtension=!1,U.create=function(e){return new U(e)},U.encode=function(e,t){return(t=t||a.create()).uint32(10).string(e.namePart),t.uint32(16).bool(e.isExtension),t},U.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},U.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.UninterpretedOption.NamePart;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.namePart=e.string();break;case 2:n.isExtension=e.bool();break;default:e.skipType(7&o)}}if(!n.hasOwnProperty("namePart"))throw s.ProtocolError("missing required 'namePart'",{instance:n});if(n.hasOwnProperty("isExtension"))return n;throw s.ProtocolError("missing required 'isExtension'",{instance:n})},U.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},U.verify=function(e){return"object"!=typeof e||null===e?"object expected":s.isString(e.namePart)?"boolean"!=typeof e.isExtension?"isExtension: boolean expected":null:"namePart: string expected"},U.fromObject=function(e){var t;return e instanceof l.google.protobuf.UninterpretedOption.NamePart?e:(t=new l.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},U.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U),M),n.SourceCodeInfo=(B.prototype.location=s.emptyArray,B.create=function(e){return new B(e)},B.encode=function(e,t){if(t=t||a.create(),null!=e.location&&e.location.length)for(var r=0;r<e.location.length;++r)l.google.protobuf.SourceCodeInfo.Location.encode(e.location[r],t.uint32(10).fork()).ldelim();return t},B.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},B.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.SourceCodeInfo;e.pos<r;){var o=e.uint32();o>>>3==1?(n.location&&n.location.length||(n.location=[]),n.location.push(l.google.protobuf.SourceCodeInfo.Location.decode(e,e.uint32()))):e.skipType(7&o)}return n},B.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},B.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.location&&e.hasOwnProperty("location")){if(!Array.isArray(e.location))return"location: array expected";for(var t=0;t<e.location.length;++t){var r=l.google.protobuf.SourceCodeInfo.Location.verify(e.location[t]);if(r)return"location."+r}}return null},B.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo)return e;var t=new l.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=l.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},B.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var n=0;n<e.location.length;++n)r.location[n]=l.google.protobuf.SourceCodeInfo.Location.toObject(e.location[n],t)}return r},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B.Location=(V.prototype.path=s.emptyArray,V.prototype.span=s.emptyArray,V.prototype.leadingComments="",V.prototype.trailingComments="",V.prototype.leadingDetachedComments=s.emptyArray,V.create=function(e){return new V(e)},V.encode=function(e,t){if(t=t||a.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}if(null!=e.span&&e.span.length){for(t.uint32(18).fork(),r=0;r<e.span.length;++r)t.int32(e.span[r]);t.ldelim()}if(null!=e.leadingComments&&Object.hasOwnProperty.call(e,"leadingComments")&&t.uint32(26).string(e.leadingComments),null!=e.trailingComments&&Object.hasOwnProperty.call(e,"trailingComments")&&t.uint32(34).string(e.trailingComments),null!=e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r=0;r<e.leadingDetachedComments.length;++r)t.uint32(50).string(e.leadingDetachedComments[r]);return t},V.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},V.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.SourceCodeInfo.Location;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:if(n.span&&n.span.length||(n.span=[]),2==(7&o))for(a=e.uint32()+e.pos;e.pos<a;)n.span.push(e.int32());else n.span.push(e.int32());break;case 3:n.leadingComments=e.string();break;case 4:n.trailingComments=e.string();break;case 6:n.leadingDetachedComments&&n.leadingDetachedComments.length||(n.leadingDetachedComments=[]),n.leadingDetachedComments.push(e.string());break;default:e.skipType(7&o)}}return n},V.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},V.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!s.isInteger(e.path[t]))return"path: integer[] expected"}if(null!=e.span&&e.hasOwnProperty("span")){if(!Array.isArray(e.span))return"span: array expected";for(t=0;t<e.span.length;++t)if(!s.isInteger(e.span[t]))return"span: integer[] expected"}if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&!s.isString(e.leadingComments))return"leadingComments: string expected";if(null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&!s.isString(e.trailingComments))return"trailingComments: string expected";if(null!=e.leadingDetachedComments&&e.hasOwnProperty("leadingDetachedComments")){if(!Array.isArray(e.leadingDetachedComments))return"leadingDetachedComments: array expected";for(t=0;t<e.leadingDetachedComments.length;++t)if(!s.isString(e.leadingDetachedComments[t]))return"leadingDetachedComments: string[] expected"}return null},V.fromObject=function(e){if(e instanceof l.google.protobuf.SourceCodeInfo.Location)return e;var t=new l.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},V.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},V.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},V),B),n.GeneratedCodeInfo=(q.prototype.annotation=s.emptyArray,q.create=function(e){return new q(e)},q.encode=function(e,t){if(t=t||a.create(),null!=e.annotation&&e.annotation.length)for(var r=0;r<e.annotation.length;++r)l.google.protobuf.GeneratedCodeInfo.Annotation.encode(e.annotation[r],t.uint32(10).fork()).ldelim();return t},q.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},q.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.GeneratedCodeInfo;e.pos<r;){var o=e.uint32();o>>>3==1?(n.annotation&&n.annotation.length||(n.annotation=[]),n.annotation.push(l.google.protobuf.GeneratedCodeInfo.Annotation.decode(e,e.uint32()))):e.skipType(7&o)}return n},q.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},q.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.annotation&&e.hasOwnProperty("annotation")){if(!Array.isArray(e.annotation))return"annotation: array expected";for(var t=0;t<e.annotation.length;++t){var r=l.google.protobuf.GeneratedCodeInfo.Annotation.verify(e.annotation[t]);if(r)return"annotation."+r}}return null},q.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo)return e;var t=new l.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=l.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},q.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var n=0;n<e.annotation.length;++n)r.annotation[n]=l.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[n],t)}return r},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q.Annotation=(G.prototype.path=s.emptyArray,G.prototype.sourceFile="",G.prototype.begin=0,G.prototype.end=0,G.create=function(e){return new G(e)},G.encode=function(e,t){if(t=t||a.create(),null!=e.path&&e.path.length){t.uint32(10).fork();for(var r=0;r<e.path.length;++r)t.int32(e.path[r]);t.ldelim()}return null!=e.sourceFile&&Object.hasOwnProperty.call(e,"sourceFile")&&t.uint32(18).string(e.sourceFile),null!=e.begin&&Object.hasOwnProperty.call(e,"begin")&&t.uint32(24).int32(e.begin),null!=e.end&&Object.hasOwnProperty.call(e,"end")&&t.uint32(32).int32(e.end),t},G.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},G.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.GeneratedCodeInfo.Annotation;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:if(n.path&&n.path.length||(n.path=[]),2==(7&o))for(var a=e.uint32()+e.pos;e.pos<a;)n.path.push(e.int32());else n.path.push(e.int32());break;case 2:n.sourceFile=e.string();break;case 3:n.begin=e.int32();break;case 4:n.end=e.int32();break;default:e.skipType(7&o)}}return n},G.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},G.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.path&&e.hasOwnProperty("path")){if(!Array.isArray(e.path))return"path: array expected";for(var t=0;t<e.path.length;++t)if(!s.isInteger(e.path[t]))return"path: integer[] expected"}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&!s.isString(e.sourceFile)?"sourceFile: string expected":null!=e.begin&&e.hasOwnProperty("begin")&&!s.isInteger(e.begin)?"begin: integer expected":null!=e.end&&e.hasOwnProperty("end")&&!s.isInteger(e.end)?"end: integer expected":null},G.fromObject=function(e){if(e instanceof l.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new l.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}return null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),t},G.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G),q),n.Any=(H.prototype.type_url="",H.prototype.value=s.newBuffer([]),H.create=function(e){return new H(e)},H.encode=function(e,t){return t=t||a.create(),null!=e.type_url&&Object.hasOwnProperty.call(e,"type_url")&&t.uint32(10).string(e.type_url),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),t},H.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},H.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new l.google.protobuf.Any;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.type_url=e.string();break;case 2:n.value=e.bytes();break;default:e.skipType(7&o)}}return n},H.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},H.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.type_url&&e.hasOwnProperty("type_url")&&!s.isString(e.type_url)?"type_url: string expected":null!=e.value&&e.hasOwnProperty("value")&&!(e.value&&"number"==typeof e.value.length||s.isString(e.value))?"value: buffer expected":null},H.fromObject=function(e){var t;return e instanceof l.google.protobuf.Any?e:(t=new l.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&("string"==typeof e.value?s.base64.decode(e.value,t.value=s.newBuffer(s.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),t)},H.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.type_url="",t.bytes===String?r.value="":(r.value=[],t.bytes!==Array&&(r.value=s.newBuffer(r.value)))),null!=e.type_url&&e.hasOwnProperty("type_url")&&(r.type_url=e.type_url),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.bytes===String?s.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),r},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H),n),o),l})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathTemplate=void 0;t.PathTemplate=class{constructor(e){this.bindings={},this.data=e,this.segments=this.parsePathTemplate(e),this.size=this.segments.length}match(e){let t=e.split("/");const r={};if(t.length!==this.segments.length){if(!this.data.includes("**"))throw new TypeError(`This path ${e} does not match path template ${this.data}, the number of parameters is not same.`);if(t.length!==this.segments.length+1)throw new TypeError(`This path ${e} does not match path template ${this.data}, the number of parameters is not same with one wildcard.`)}for(let e=0;e<this.segments.length&&t.length>0;e++)if(this.segments[e]!==t[0]){if(!this.segments[e].includes("*"))throw new TypeError(`segment does not match, ${this.segments[e]} and  ${t[e]}.`);{let n=this.segments[e];const o=n.match(/\{[$0-9a-zA-Z_]+=.*?\}/g);if(!o)throw new Error("Error processing path template segment "+n);const i=o.map(e=>e.replace(/^\{/,"").replace(/=.*/,""));if(n.includes("**"))r[i[0]]=t[0]+"/"+t[1],t=t.slice(2);else{if(1===i.length)r[i[0]]=t[0];else{const o=t[0].split(/[-_.~]/);if(o.length!==i.length)throw new Error(`segment ${n} does not match ${t[0]}`);for(const e of i)r[e]=o[0],n=n.replace(`{${e}=*}`,""+o[0]),o.shift();if(n!==t[0])throw new TypeError(`non slash resource pattern ${this.segments[e]} and ${t[0]} should have same separator`)}t.shift()}}}else t.shift();return r}render(e){if(Object.keys(e).length!==Object.keys(this.bindings).length)throw new TypeError(`The number of variables ${Object.keys(e).length} does not match the number of needed variables ${Object.keys(this.bindings).length}`);let t=this.inspect();for(const r of Object.keys(e)){const n=e[r].toString();if(!this.bindings[r])throw new TypeError("render fails for not matching "+e[r]);const o=this.bindings[r];if("*"===o){if(!n.match(/[^/{}]+/))throw new TypeError("render fails for not matching "+n);t=t.replace(`{${r}=*}`,""+n)}else if("**"===o){if(!n.match(/[^{}]+/))throw new TypeError("render fails for not matching "+n);t=t.replace(`{${r}=**}`,""+n)}}return t}inspect(){return this.segments.join("/")}parsePathTemplate(e){const t=function(e){let t=0,r=0,n=0;const o=[];for(;r>=t&&r<e.length;){if("{"===e.charAt(r))n+=1;else if("}"===e.charAt(r))n-=1;else if("/"===e.charAt(r)){if(r===e.length-1)throw new TypeError("Invalid path, it can not be ended by /");0===n&&(o.push(e.substring(t,r)),t=r+1)}if(r===e.length-1){if(0!==n)throw new TypeError("Brackets are invalid.");o.push(e.substring(t))}r+=1}return o}(e);let r=0,n=0;const o=[];let i;if(t.forEach(e=>{if("*"===e||"**"===e)this.bindings["$"+r]=e,o.push(`{$${r}=${e}}`),r+=1,"**"===e&&++n;else if(i=e.match(/\{[0-9a-zA-Z-.~_]+(?:=.*?)?\}/g)){for(const t of i){const r=t.match(/^\{([0-9a-zA-Z-.~_]+)(?:=(.*?))?\}$/);if(!r)throw new Error("Cannot process path template segment "+t);const o=r[1];let i=r[2];i?"*"===i?this.bindings[o]=i:"**"===i&&(++n,this.bindings[o]=i):(i="*",e=e.replace(o,o+"=*"),this.bindings[o]=i)}o.push(e)}else e.match(/[0-9a-zA-Z-.~_]+/)&&o.push(e)}),n>1)throw new TypeError("Can not have more than one wildcard.");return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IamClient=void 0;const n=r(114),o=r(146),i=r(710),a=r(49);let s=r(94).version;const l=r(711);t.IamClient=class{constructor(e,t){this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{}},this.innerApiCalls={},this.gaxGrpc=e;const r=Object.assign({servicePath:t.servicePath,port:t.port,clientConfig:t.clientConfig,apiEndpoint:t.apiEndpoint,fallback:t.fallback},t);s=r.fallback?a.version:s,r.scopes=this.constructor.scopes,this._opts=r,this.auth=e.auth;const n=["gax/"+s,"gapic/"+s];"undefined"!=typeof process&&"versions"in process?n.push("gl-node/"+process.versions.node):n.push("gl-web/"+s),r.fallback||n.push("grpc/"+e.grpcVersion),r.libName&&r.libVersion&&n.push(`${r.libName}/${r.libVersion}`),this._protos=this.gaxGrpc.loadProtoJSON(l),this._defaults=e.constructSettings("google.iam.v1.IAMPolicy",i,r.clientConfig||{},{"x-goog-api-client":n.join(" ")}),this.innerApiCalls={}}initialize(){if(this.iamPolicyStub)return this.iamPolicyStub;this.iamPolicyStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.iam.v1.IAMPolicy"):this._protos.google.iam.v1.IAMPolicy,this._opts);const e=["getIamPolicy","setIamPolicy","testIamPermissions"];for(const t of e){const e=this.iamPolicyStub.then(e=>(...r)=>{if(this._terminated)return Promise.reject("The client has already been closed.");return e[t].apply(e,r)},e=>()=>{throw e});this.innerApiCalls[t]=(0,n.createApiCall)(e,this._defaults[t],this.descriptors.page[t])}return this.iamPolicyStub}static get servicePath(){return"cloudkms.googleapis.com"}static get apiEndpoint(){return"cloudkms.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudkms"]}getProjectId(e){return this.auth&&"getProjectId"in this.auth?this.auth.getProjectId(e):e?void e(new Error("Cannot determine project ID.")):Promise.reject("Cannot determine project ID.")}getIamPolicy(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=o.fromParams({resource:e.resource}),this.initialize(),this.innerApiCalls.getIamPolicy(e,n,r)}setIamPolicy(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=o.fromParams({resource:e.resource}),this.initialize(),this.innerApiCalls.setIamPolicy(e,n,r)}testIamPermissions(e,t,r){let n;return t instanceof Function&&void 0===r?(r=t,n={}):n=t,e=e||{},n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=o.fromParams({resource:e.resource}),this.initialize(),this.innerApiCalls.testIamPermissions(e,n,r)}close(){return this.initialize(),this._terminated?Promise.resolve():this.iamPolicyStub.then(e=>{this._terminated=!0,e.close()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocationsClient=void 0;const n=r(64),o=r(78),i=r(114),a=r(146),s=r(389),l=r(712),p=r(713),c=r(94).version;t.LocationsClient=class{constructor(e,t){var r,n;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}},this.gaxGrpc=e;const i=this.constructor,a=(null==t?void 0:t.servicePath)||(null==t?void 0:t.apiEndpoint)||i.servicePath;this._providedCustomServicePath=!(!(null==t?void 0:t.servicePath)&&!(null==t?void 0:t.apiEndpoint));const u=(null==t?void 0:t.port)||i.port,d=null!==(r=null==t?void 0:t.clientConfig)&&void 0!==r?r:{},h=null!==(n=null==t?void 0:t.fallback)&&void 0!==n?n:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);t=Object.assign({servicePath:a,port:u,clientConfig:d,fallback:h},t),a===i.servicePath||"scopes"in t||(t.scopes=i.scopes),this._opts=t,this.auth=e.auth,a===i.servicePath&&(this.auth.defaultScopes=i.scopes);const f=["gax/"+c,"gapic/"+c];"undefined"!=typeof process&&"versions"in process?f.push("gl-node/"+process.versions.node):f.push("gl-web/"+c),t.fallback?"rest"===t.fallback&&f.push("rest/"+e.grpcVersion):f.push("grpc/"+e.grpcVersion),t.libName&&t.libVersion&&f.push(`${t.libName}/${t.libVersion}`),this._protos=e.loadProtoJSON(l),this.descriptors.page={listLocations:new s.PageDescriptor("pageToken","nextPageToken","locations")},this._defaults=e.constructSettings("google.cloud.location.Locations",p,t.clientConfig||{},{"x-goog-api-client":f.join(" ")}),this.innerApiCalls={},this.warn=o.warn}initialize(){if(this.locationsStub)return this.locationsStub;this.locationsStub=this.gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.cloud.location.Locations"):this._protos.google.cloud.location.Locations,this._opts,this._providedCustomServicePath);const e=["listLocations","getLocation"];for(const t of e){const e=this.locationsStub.then(e=>(...r)=>{if(this._terminated)return Promise.reject("The client has already been closed.");return e[t].apply(e,r)},e=>()=>{throw e}),r=this.descriptors.page[t]||void 0,n=(0,i.createApiCall)(e,this._defaults[t],r);this.innerApiCalls[t]=n}return this.locationsStub}static get servicePath(){return"cloud.googleapis.com"}static get apiEndpoint(){return"cloud.googleapis.com"}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getLocation(e,t,r){let n;return e=e||{},"function"==typeof t&&void 0===r?(r=t,n={}):n=t,n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=a.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.getLocation(e,n,r)}listLocations(e,t,r){let n;return e=e||{},"function"==typeof t&&void 0===r?(r=t,n={}):n=t,n=n||{},n.otherArgs=n.otherArgs||{},n.otherArgs.headers=n.otherArgs.headers||{},n.otherArgs.headers["x-goog-request-params"]=a.fromParams({name:e.name||""}),this.initialize(),this.innerApiCalls.listLocations(e,n,r)}listLocationsAsync(e,t){e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=a.fromParams({name:e.name||""}),t=t||{};const r=new n.CallSettings(t);return this.initialize(),this.descriptors.page.listLocations.asyncIterate(this.innerApiCalls.listLocations,e,r)}close(){return this.initialize(),this._terminated?Promise.resolve():this.locationsStub.then(e=>{this._terminated=!0,e.close()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkWriter=t.BulkWriterError=t.DEFAULT_JITTER_FACTOR=t.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=t.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=t.RETRY_MAX_BATCH_SIZE=void 0;const n=r(45),o=r(143),i=r(714),a=r(41),s=r(13),l=r(150),p=r(14),c=r(25),u=r(42);
/*!
 * The maximum number of writes can be can in a single batch that is being retried.
 */
t.RETRY_MAX_BATCH_SIZE=10,
/*!
 * The starting maximum number of operations per second as allowed by the
 * 500/50/5 rule.
 *
 * https://firebase.google.com/docs/firestore/best-practices#ramping_up_traffic.
 */
t.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT=500,
/*!
 * The maximum number of operations per second as allowed by the 500/50/5 rule.
 * By default the rate limiter will not exceed this value.
 *
 * https://firebase.google.com/docs/firestore/best-practices#ramping_up_traffic.
 */
t.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT=1e4,
/*!
 * The default jitter to apply to the exponential backoff used in retries. For
 * example, a factor of 0.3 means a 30% jitter is applied.
 */
t.DEFAULT_JITTER_FACTOR=.3;class d{constructor(e,t,r,n,o){this.ref=e,this.type=t,this.sendFn=r,this.errorFn=n,this.successFn=o,this.deferred=new s.Deferred,this.failedAttempts=0,this._backoffDuration=0,this._flushed=!1}get promise(){return this.deferred.promise}get backoffDuration(){return this._backoffDuration}markFlushed(){this._flushed=!0}get flushed(){return this._flushed}onError(e){++this.failedAttempts;try{const t=new g(e.code,e.message,this.ref,this.type,this.failedAttempts),r=this.errorFn(t);(0,c.logger)("BulkWriter.errorFn",null,"Ran error callback on error code:",e.code,", shouldRetry:",r," for document:",this.ref.path),r?(this.lastStatus=e.code,this.updateBackoffDuration(),this.sendFn(this)):this.deferred.reject(t)}catch(e){this.deferred.reject(e)}}updateBackoffDuration(){8===this.lastStatus?this._backoffDuration=o.DEFAULT_BACKOFF_MAX_DELAY_MS:0===this._backoffDuration?this._backoffDuration=o.DEFAULT_BACKOFF_INITIAL_DELAY_MS:this._backoffDuration*=o.DEFAULT_BACKOFF_FACTOR}onSuccess(e){try{this.successFn(this.ref,e),this.deferred.resolve(e)}catch(e){this.deferred.reject(e)}}}class h extends l.WriteBatch{constructor(e,t){super(e),this.docPaths=new Set,this.pendingOps=[],this._maxBatchSize=t}get maxBatchSize(){return this._maxBatchSize}setMaxBatchSize(e){n(this.pendingOps.length<=e,"New batch size cannot be less than the number of enqueued writes"),this._maxBatchSize=e}has(e){return this.docPaths.has(e.path)}async bulkCommit(e={}){return this._firestore._traceUtil.startActiveSpan(u.SPAN_NAME_BULK_WRITER_COMMIT,async()=>{var t;const n=null!==(t=null==e?void 0:e.requestTag)&&void 0!==t?t:(0,s.requestTag)(),o=Error().stack;let i;try{(0,c.logger)("BulkCommitBatch.bulkCommit",n,`Sending next batch with ${this._opCount} writes`);const e=(0,s.getRetryCodes)("batchWrite");i=await this._commit({retryCodes:e,methodName:"batchWrite",requestTag:n})}catch(e){const t=Array.from({length:this.pendingOps.length});i={writeResults:t.map(()=>({})),status:t.map(()=>e)}}for(let e=0;e<(i.writeResults||[]).length;++e){const t=a.Timestamp.fromMillis(0),n=(i.status||[])[e];if(0===n.code){const r=a.Timestamp.fromProto(i.writeResults[e].updateTime||t);this.pendingOps[e].onSuccess(new l.WriteResult(r))}else{const t=new(r(49).GoogleError)(n.message||void 0);t.code=n.code,this.pendingOps[e].onError((0,s.wrapError)(t,o))}}},{[u.ATTRIBUTE_KEY_DOC_COUNT]:this._opCount})}processLastOperation(e){n(!this.docPaths.has(e.ref.path),"Batch should not contain writes to the same document"),this.docPaths.add(e.ref.path),this.pendingOps.push(e)}}class f{constructor(e,t){this.operation=e,this.sendFn=t}}class g extends Error{constructor(e,t,r,n,o){super(t),this.code=e,this.message=t,this.documentRef=r,this.operationType=n,this.failedAttempts=o}}t.BulkWriterError=g;class m{_getBufferedOperationsCount(){return this._bufferedOperations.length}_setMaxBatchSize(e){n(0===this._bulkCommitBatch.pendingOps.length,"BulkCommitBatch should be empty"),this._maxBatchSize=e,this._bulkCommitBatch=new h(this.firestore,e)}_setMaxPendingOpCount(e){this._maxPendingOpCount=e}constructor(e,r){var n,a;if(this.firestore=e,this._maxBatchSize=20,this._bulkCommitBatch=new h(this.firestore,this._maxBatchSize),this._lastOp=Promise.resolve(),this._closing=!1,this._pendingOpsCount=0,this._bufferedOperations=[],this._errorHandlerSet=!1,this._maxPendingOpCount=500,this._successFn=()=>{},this._errorFn=e=>{const t="delete"===e.operationType&&13===e.code;return((0,s.getRetryCodes)("batchWrite").includes(e.code)||t)&&e.failedAttempts<o.MAX_RETRY_ATTEMPTS},this.firestore._incrementBulkWritersCount(),function(e){if((0,p.validateOptional)(e,{optional:!0}))return;if(!(0,s.isObject)(e))throw new Error((0,p.invalidArgumentMessage)("options","bulkWriter() options argument")+" Input is not an object.");const t=e;if(void 0===t.throttling||"boolean"==typeof t.throttling)return;void 0!==t.throttling.initialOpsPerSecond&&(0,p.validateInteger)("initialOpsPerSecond",t.throttling.initialOpsPerSecond,{minValue:1});if(void 0!==t.throttling.maxOpsPerSecond&&((0,p.validateInteger)("maxOpsPerSecond",t.throttling.maxOpsPerSecond,{minValue:1}),void 0!==t.throttling.initialOpsPerSecond&&t.throttling.initialOpsPerSecond>t.throttling.maxOpsPerSecond))throw new Error((0,p.invalidArgumentMessage)("options","bulkWriter() options argument")+' "maxOpsPerSecond" cannot be less than "initialOpsPerSecond".')}(r),!1===(null==r?void 0:r.throttling))this._rateLimiter=new i.RateLimiter(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);else{let e=t.DEFAULT_INITIAL_OPS_PER_SECOND_LIMIT,o=t.DEFAULT_MAXIMUM_OPS_PER_SECOND_LIMIT;"boolean"!=typeof(null==r?void 0:r.throttling)&&(void 0!==(null===(n=null==r?void 0:r.throttling)||void 0===n?void 0:n.maxOpsPerSecond)&&(o=r.throttling.maxOpsPerSecond),void 0!==(null===(a=null==r?void 0:r.throttling)||void 0===a?void 0:a.initialOpsPerSecond)&&(e=r.throttling.initialOpsPerSecond),o<e&&(e=o),e<this._maxBatchSize&&(this._maxBatchSize=e)),this._rateLimiter=new i.RateLimiter(e,1.5,3e5,o)}}create(e,t){return this._verifyNotClosed(),this._enqueue(e,"create",r=>r.create(e,t))}delete(e,t){return this._verifyNotClosed(),this._enqueue(e,"delete",r=>r.delete(e,t))}set(e,t,r){return this._verifyNotClosed(),this._enqueue(e,"set",n=>r?n.set(e,t,r):n.set(e,t))}update(e,t,...r){return this._verifyNotClosed(),this._enqueue(e,"update",n=>n.update(e,t,...r))}onWriteResult(e){this._successFn=e}onWriteError(e){this._errorHandlerSet=!0,this._errorFn=e}flush(){return this._verifyNotClosed(),this._scheduleCurrentBatch(!0),this._bufferedOperations.length>0&&this._bufferedOperations[this._bufferedOperations.length-1].operation.markFlushed(),this._lastOp}close(){this._verifyNotClosed(),this.firestore._decrementBulkWritersCount();const e=this.flush();return this._closing=!0,e}_verifyNotClosed(){if(this._closing)throw new Error("BulkWriter has already been closed.")}_scheduleCurrentBatch(e=!1){if(0===this._bulkCommitBatch._opCount)return;const t=this._bulkCommitBatch;this._bulkCommitBatch=new h(this.firestore,this._maxBatchSize);const r=t.pendingOps.reduce((e,t)=>e.backoffDuration>t.backoffDuration?e:t).backoffDuration,n=m._applyJitter(r),i=new s.Deferred;n>0?(0,o.delayExecution)(()=>i.resolve(),n):i.resolve(),i.promise.then(()=>this._sendBatch(t,e))}async _sendBatch(e,t=!1){const r=(0,s.requestTag)();if(this._rateLimiter.tryMakeRequest(e._opCount))await e.bulkCommit({requestTag:r}),t&&this._scheduleCurrentBatch(t);else{const n=this._rateLimiter.getNextRequestDelayMs(e._opCount);(0,c.logger)("BulkWriter._sendBatch",r,`Backing off for ${n} seconds`),(0,o.delayExecution)(()=>this._sendBatch(e,t),n)}}static _applyJitter(e){if(0===e)return 0;const r=t.DEFAULT_JITTER_FACTOR*(2*Math.random()-1);return Math.min(o.DEFAULT_BACKOFF_MAX_DELAY_MS,e+r*e)}_enqueue(e,t,r){const n=new d(e,t,this._sendFn.bind(this,r),this._errorFn.bind(this),this._successFn.bind(this)),o=n.promise.catch(e=>{if(this._errorHandlerSet)return n.promise;throw e});return this._lastOp=this._lastOp.then(()=>(0,s.silencePromise)(o)),this._pendingOpsCount<this._maxPendingOpCount?(this._pendingOpsCount++,this._sendFn(r,n)):this._bufferedOperations.push(new f(n,()=>{this._pendingOpsCount++,this._sendFn(r,n)})),o.then(e=>(this._pendingOpsCount--,this._processBufferedOps(),e)).catch(e=>{throw this._pendingOpsCount--,this._processBufferedOps(),e})}_processBufferedOps(){if(this._pendingOpsCount<this._maxPendingOpCount&&this._bufferedOperations.length>0){this._bufferedOperations.shift().sendFn()}}_sendFn(e,r){r.backoffDuration>0&&(this._bulkCommitBatch.pendingOps.length>=t.RETRY_MAX_BATCH_SIZE&&this._scheduleCurrentBatch(!1),this._bulkCommitBatch.setMaxBatchSize(t.RETRY_MAX_BATCH_SIZE)),this._bulkCommitBatch.has(r.ref)&&this._scheduleCurrentBatch(),e(this._bulkCommitBatch),this._bulkCommitBatch.processLastOperation(r),this._bulkCommitBatch._opCount===this._bulkCommitBatch.maxBatchSize?this._scheduleCurrentBatch():r.flushed&&this._scheduleCurrentBatch(!0)}}t.BulkWriter=m},function(e,t,r){"use strict";
/*!
 * Copyright 2024 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.VECTOR_MAP_VECTORS_KEY=t.RESERVED_MAP_KEY_VECTOR_VALUE=t.RESERVED_MAP_KEY=void 0,t.RESERVED_MAP_KEY="__type__",t.RESERVED_MAP_KEY_VECTOR_VALUE="__vector__",t.VECTOR_MAP_VECTORS_KEY="value"},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.GeoPoint=void 0;const n=r(14);class o{constructor(e,t){(0,n.validateNumber)("latitude",e,{minValue:-90,maxValue:90}),(0,n.validateNumber)("longitude",t,{minValue:-180,maxValue:180}),this._latitude=e,this._longitude=t}get latitude(){return this._latitude}get longitude(){return this._longitude}isEqual(e){return this===e||e instanceof o&&this.latitude===e.latitude&&this.longitude===e.longitude}toProto(){return{geoPointValue:{latitude:this.latitude,longitude:this.longitude}}}static fromProto(e){return new o(e.latitude||0,e.longitude||0)}}t.GeoPoint=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryUtil=void 0;const n=r(1),o=r(41),i=r(65),a=r(13),s=r(220),l=r(152),p=r(25),c=r(401),u=r(402),d=r(221),h=r(42);t.QueryUtil=class{constructor(e,t,r){this._firestore=e,this._queryOptions=t,this._serializer=r}_getResponse(e,t,r=!0,n){const o=Error().stack;return new Promise((i,l)=>{const p=[],c={};this._stream(e,t,r,n).on("error",e=>{l((0,a.wrapError)(e,o))}).on("data",e=>{e.transaction&&(c.transaction=e.transaction),e.readTime&&(c.readTime=e.readTime),e.explainMetrics&&(c.explainMetrics=e.explainMetrics),e.document&&p.push(e.document)}).on("end",()=>{this._queryOptions.limitType===u.LimitType.Last&&p.reverse();const t=c.readTime?e._createSnapshot(c.readTime,p.length,()=>p,()=>{const e=[];for(let t=0;t<p.length;++t)e.push(new s.DocumentChange("added",p[t],-1,t));return e}):void 0;i({transaction:c.transaction,explainMetrics:c.explainMetrics,result:t})})})}_isPermanentRpcError(e,t){return(0,a.isPermanentRpcError)(e,t)}_hasRetryTimedOut(e,t){const r=(0,a.getTotalTimeout)(e);return 0!==r&&Date.now()-t>=r}stream(e){if(this._queryOptions.limitType===u.LimitType.Last)throw new Error("Query results for queries that include limitToLast() constraints cannot be streamed. Use Query.get() instead.");const t=this._stream(e),r=new n.Transform({objectMode:!0,transform(e,t,r){r(void 0,e.document)}});return t.pipe(r),t.on("error",e=>r.destroy(e)),r}_stream(e,t,r=!0,s){const f=(0,a.requestTag)(),g=Date.now(),m=void 0!==s;let y,v=0,b=null;const E=new n.Transform({objectMode:!0,transform:(e,t,r)=>{var n;if(e===d.NOOP_MESSAGE)return void r(void 0);const a={};if((null===(n=e.transaction)||void 0===n?void 0:n.length)&&(a.transaction=e.transaction),e.readTime&&(a.readTime=o.Timestamp.fromProto(e.readTime)),e.document){const t=this._firestore.snapshot_(e.document,e.readTime),r=new i.DocumentSnapshotBuilder(t.ref.withConverter(this._queryOptions.converter));r.fieldsProto=t._fieldsProto,r.readTime=t.readTime,r.createTime=t.createTime,r.updateTime=t.updateTime,b=r.build(),a.document=b}e.explainMetrics&&(a.explainMetrics=l.ExplainMetrics._fromProto(e.explainMetrics,this._serializer)),++v,r(void 0,a),e.done&&((0,p.logger)("QueryUtil._stream",f,"Trigger Logical Termination."),this._firestore._traceUtil.currentSpan().addEvent("Firestore.runQuery: Received RunQueryResponse.Done."),y.unpipe(E),y.resume(),y.end(),E.end())}});return this._firestore.initializeIfNeeded(f).then(async()=>{let n,o=e.toProto(t,s),i=!1;do{n=new a.Deferred,this._firestore._traceUtil.currentSpan().addEvent(h.SPAN_NAME_RUN_QUERY,{[h.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!!o.transaction,[h.ATTRIBUTE_KEY_IS_RETRY_WITH_CURSOR]:i}),y=await this._firestore.requestStream("runQuery",!1,o,f),y.on("error",a=>{y.unpipe(E),m||t||this._isPermanentRpcError(a,"runQuery")?((0,p.logger)("QueryUtil._stream",f,"Query failed with stream error:",a),this._firestore._traceUtil.currentSpan().addEvent(h.SPAN_NAME_RUN_QUERY+": Error.",{"error.message":a.message}),E.destroy(a),n.resolve(!1)):((0,p.logger)("QueryUtil._stream",f,"Query failed with retryable stream error:",a),this._firestore._traceUtil.currentSpan().addEvent(h.SPAN_NAME_RUN_QUERY+": Retryable Error.",{"error.message":a.message}),E.write(d.NOOP_MESSAGE,()=>{if(this._hasRetryTimedOut("runQuery",g))(0,p.logger)("QueryUtil._stream",f,"Query failed with retryable stream error but the total retry timeout has exceeded."),E.destroy(a),n.resolve(!1);else if(b&&r){if(e instanceof c.VectorQuery)throw new Error("Unimplemented: Vector query does not support cursors yet.");let t;if((0,p.logger)("Query._stream",f,"Query failed with retryable stream error and progress was made receiving documents, so the stream is being retried."),i=!0,this._queryOptions.limit){const r=this._queryOptions.limit-v;t=void 0===this._queryOptions.limitType||this._queryOptions.limitType===u.LimitType.First?e.limit(r):e.limitToLast(r)}else t=e;o=this._queryOptions.requireConsistency?t.startAfter(b).toProto(b.readTime):t.startAfter(b).toProto(),b=null,n.resolve(!0)}else(0,p.logger)("QueryUtil._stream",f,`Query failed with retryable stream error however either retryWithCursor="${r}", or no progress was made receiving documents, so the stream is being closed.`),E.destroy(a),n.resolve(!1)}))}),y.on("end",()=>{n.resolve(!1)}),y.resume(),y.pipe(E)}while(await n.promise)}).catch(e=>E.destroy(e)),E}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorQuery=void 0;const n=r(151),o=r(15),i=r(13),a=r(400),s=r(715),l=r(152);class p{constructor(e,t){this._query=e,this._options=t,this._queryUtil=new a.QueryUtil(e._firestore,e._queryOptions,e._serializer)}get query(){return this._query}get _rawVectorField(){return"string"==typeof this._options.vectorField?this._options.vectorField:this._options.vectorField.toString()}get _rawDistanceResultField(){if(void 0!==this._options.distanceResultField)return"string"==typeof this._options.distanceResultField?this._options.distanceResultField:this._options.distanceResultField.toString()}get _rawQueryVector(){return Array.isArray(this._options.queryVector)?this._options.queryVector:this._options.queryVector.toArray()}async explain(e){void 0===e&&(e={});const{result:t,explainMetrics:r}=await this._getResponse(e);if(!r)throw new Error("No explain results");return new l.ExplainResults(r,t||null)}async get(){const{result:e}=await this._getResponse();if(!e)throw new Error("No VectorQuerySnapshot result");return e}_getResponse(e){return this._queryUtil._getResponse(this,void 0,!1,e)}_stream(e){return this._queryUtil._stream(this,e,!1)}toProto(e,t){var r,i,a;const s=this._query.toProto(e),l=Array.isArray(this._options.queryVector)?new n.VectorValue(this._options.queryVector):this._options.queryVector;return s.structuredQuery.findNearest={limit:{value:this._options.limit},distanceMeasure:this._options.distanceMeasure,vectorField:{fieldPath:o.FieldPath.fromArgument(this._options.vectorField).formattedName},queryVector:l._toProto(this._query._serializer),distanceResultField:(null===(r=this._options)||void 0===r?void 0:r.distanceResultField)?o.FieldPath.fromArgument(this._options.distanceResultField).formattedName:void 0,distanceThreshold:(null===(i=this._options)||void 0===i?void 0:i.distanceThreshold)?{value:null===(a=this._options)||void 0===a?void 0:a.distanceThreshold}:void 0},t&&(s.explainOptions=t),s}_createSnapshot(e,t,r,n){return new s.VectorQuerySnapshot(this,e,t,r,n)}startAfter(...e){throw new Error("Unimplemented: Vector query does not support cursors yet.")}isEqual(e){return this===e||e instanceof p&&(!!this.query.isEqual(e.query)&&(this._rawVectorField===e._rawVectorField&&(0,i.isPrimitiveArrayEqual)(this._rawQueryVector,e._rawQueryVector)&&this._options.limit===e._options.limit&&this._options.distanceMeasure===e._options.distanceMeasure&&this._options.distanceThreshold===e._options.distanceThreshold&&this._rawDistanceResultField===e._rawDistanceResultField))}}t.VectorQuery=p},function(e,t,r){"use strict";
/*!
 * Denotes whether a provided limit is applied to the beginning or the end of
 * the result set.
 */
var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LimitType=void 0,function(e){e[e.First=0]="First",e[e.Last=1]="Last"}(n||(t.LimitType=n={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldOrder=void 0;t.FieldOrder=class{constructor(e,t="ASCENDING"){this.field=e,this.direction=t}toProto(){return{field:{fieldPath:this.field.formattedName},direction:this.direction}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterInternal=void 0;t.FilterInternal=class{}},function(e,t,r){"use strict";
/*!
 * Copyright 2023 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeFilter=t.UnaryFilter=t.Filter=void 0;class n{static where(e,t,r){return new o(e,t,r)}static or(...e){return new i(e,"OR")}static and(...e){return new i(e,"AND")}}t.Filter=n;class o extends n{constructor(e,t,r){super(),this.field=e,this.operator=t,this.value=r}_getField(){return this.field}_getOperator(){return this.operator}_getValue(){return this.value}}t.UnaryFilter=o;class i extends n{constructor(e,t){super(),this.filters=e,this.operator=t}_getFilters(){return this.filters}_getOperator(){return this.operator}}t.CompositeFilter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateQuery=void 0;const n=r(45),o=r(95),i=r(407),a=r(41),s=r(13),l=r(152),p=r(25),c=r(718),u=r(1),d=r(42);class h{constructor(e,t){this._query=e,this._aggregates=t,this.clientAliasToServerAliasMap={},this.serverAliasToClientAliasMap={};let r=0;for(const e in this._aggregates)if(Object.prototype.hasOwnProperty.call(this._aggregates,e)){const t="aggregate_"+r++;this.clientAliasToServerAliasMap[e]=t,this.serverAliasToClientAliasMap[t]=e}}get query(){return this._query}async get(){return this._query._firestore._traceUtil.startActiveSpan(d.SPAN_NAME_AGGREGATION_QUERY_GET,async()=>{const{result:e}=await this._get();return e})}async _get(e){const t=await this._getResponse(e);if(!t.result)throw new Error("No AggregateQuery results");return t}_getResponse(e,t){const r=Error().stack;return new Promise((n,o)=>{const i={},a=this._stream(e,t);a.on("error",e=>{o((0,s.wrapError)(e,r))}),a.on("data",e=>{e.transaction&&(i.transaction=e.transaction),e.explainMetrics&&(i.explainMetrics=e.explainMetrics),e.result&&(i.result=e.result)}),a.on("end",()=>{a.destroy(),n(i)})})}_stream(e,t){const r=(0,s.requestTag)(),n=this._query.firestore,o=new u.Transform({objectMode:!0,transform:(e,t,r)=>{var o;const i={};if((null===(o=e.transaction)||void 0===o?void 0:o.length)&&(i.transaction=e.transaction),e.explainMetrics&&(i.explainMetrics=l.ExplainMetrics._fromProto(e.explainMetrics,n._serializer)),e.result){const t=a.Timestamp.fromProto(e.readTime),r=this.decodeResult(e.result);i.result=new c.AggregateQuerySnapshot(this,t,r)}r(void 0,i)}});return n.initializeIfNeeded(r).then(async()=>{const i=this.toProto(e,t),a=await n.requestStream("runAggregationQuery",!1,i,r);o.on("close",()=>{a.resume(),a.end()}),a.on("error",e=>{a.unpipe(o),(0,p.logger)("AggregateQuery._stream",r,"AggregateQuery failed with stream error:",e),this._query._firestore._traceUtil.currentSpan().addEvent(d.SPAN_NAME_RUN_AGGREGATION_QUERY+": Error.",{"error.message":e.message}),o.destroy(e)}),a.resume(),a.pipe(o)}).catch(e=>o.destroy(e)),o}decodeResult(e){const t={},r=e.aggregateFields;if(r){const e=this._query.firestore._serializer;for(const o of Object.keys(r)){const i=this.serverAliasToClientAliasMap[o];if(n(null!=i,`'${o}' not present in server-client alias mapping.`),void 0===this._aggregates[i])throw new Error(`Unexpected alias [${o}] in result aggregate result`);t[i]=e.decodeValue(r[o])}}return t}toProto(e,t){const r=this._query.toProto(),o={parent:r.parent,structuredAggregationQuery:{structuredQuery:r.structuredQuery,aggregations:(0,s.mapToArray)(this._aggregates,(e,t)=>{const r=this.clientAliasToServerAliasMap[t];return n(null!=r,`'${t}' not present in client-server alias mapping.`),new i.Aggregate(r,e.aggregateType,e._field).toProto()})}};return e instanceof Uint8Array?o.transaction=e:e instanceof a.Timestamp?o.readTime=e:e&&(o.newTransaction=e),t&&(o.explainOptions=t),o}isEqual(e){return this===e||e instanceof h&&(!!this.query.isEqual(e.query)&&o(this._aggregates,e._aggregates))}async explain(e){const{result:t,explainMetrics:r}=await this._getResponse(void 0,e||{});if(!r)throw new Error("No explain results");return new l.ExplainResults(r,t||null)}}t.AggregateQuery=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateField=t.Aggregate=void 0;const n=r(15),o=r(45);t.Aggregate=class{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}toProto(){const e={};if("count"===this.aggregateType)e.count={};else if("sum"===this.aggregateType)o(void 0!==this.fieldPath,"Missing field path for sum aggregation."),e.sum={field:{fieldPath:n.FieldPath.fromArgument(this.fieldPath).formattedName}};else{if("avg"!==this.aggregateType)throw new Error(`Aggregate type ${this.aggregateType} unimplemented.`);o(void 0!==this.fieldPath,"Missing field path for average aggregation."),e.avg={field:{fieldPath:n.FieldPath.fromArgument(this.fieldPath).formattedName}}}return e.alias=this.alias,e}};class i{constructor(e,t){this.aggregateType=e,this.type="AggregateField",this._field=t}isEqual(e){return e instanceof i&&this.aggregateType===e.aggregateType&&(void 0===this._field&&void 0===e._field||void 0!==this._field&&void 0!==e._field&&n.FieldPath.fromArgument(this._field).isEqual(n.FieldPath.fromArgument(e._field)))}static count(){return new i("count")}static average(e){return new i("avg",e)}static sum(e){return new i("sum",e)}}t.AggregateField=i},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.primitiveComparator=s,t.compareArrays=p,t.compare=c;const n=r(218),o=r(15);
/*!
 * The type order as defined by the backend.
 */
var i;
/*!
 * @private
 * @internal
 */
function a(e){const t=(0,n.detectValueType)(e);switch(t){case"nullValue":return i.NULL;case"integerValue":case"doubleValue":return i.NUMBER;case"stringValue":return i.STRING;case"booleanValue":return i.BOOLEAN;case"arrayValue":return i.ARRAY;case"timestampValue":return i.TIMESTAMP;case"geoPointValue":return i.GEO_POINT;case"bytesValue":return i.BLOB;case"referenceValue":return i.REF;case"mapValue":return i.OBJECT;case"vectorValue":return i.VECTOR;default:throw new Error("Unexpected value type: "+t)}}
/*!
 * @private
 * @internal
 */function s(e,t){return e<t?-1:e>t?1:0}
/*!
 * Utility function to compare doubles (using Firestore semantics for NaN).
 * @private
 * @internal
 */
/*!
 * @private
 * @internal
 */
function l(e,t){let r,n;return r=void 0!==e.integerValue?Number(e.integerValue):Number(e.doubleValue),n=void 0!==t.integerValue?Number(t.integerValue):Number(t.doubleValue),function(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(r,n)}
/*!
 * @private
 * @internal
 */
/*!
 * @private
 * @internal
 */
function p(e,t){for(let r=0;r<e.length&&r<t.length;r++){const n=c(e[r],t[r]);if(0!==n)return n}return s(e.length,t.length)}
/*!
 * @private
 * @internal
 */
/*!
 * @private
 * @internal
 */
function c(e,t){const r=a(e),n=s(r,a(t));if(0!==n)return n;switch(r){case i.NULL:return 0;case i.BOOLEAN:return s(e.booleanValue,t.booleanValue);case i.STRING:return s(e.stringValue,t.stringValue);case i.NUMBER:return l(e,t);case i.TIMESTAMP:return function(e,t){const r=s(e.seconds||0,t.seconds||0);return 0!==r?r:s(e.nanos||0,t.nanos||0)}
/*!
 * @private
 * @internal
 */(e.timestampValue,t.timestampValue);case i.BLOB:return function(e,t){if(!(e instanceof Buffer&&t instanceof Buffer))throw new Error("Blobs can only be compared if they are Buffers.");return Buffer.compare(e,t)}
/*!
 * @private
 * @internal
 */(e.bytesValue,t.bytesValue);case i.REF:return function(e,t){const r=o.QualifiedResourcePath.fromSlashSeparatedString(e.referenceValue),n=o.QualifiedResourcePath.fromSlashSeparatedString(t.referenceValue);return r.compareTo(n)}
/*!
 * @private
 * @internal
 */(e,t);case i.GEO_POINT:return function(e,t){return s(e.latitude||0,t.latitude||0)||s(e.longitude||0,t.longitude||0)}(e.geoPointValue,t.geoPointValue);case i.ARRAY:return p(e.arrayValue.values||[],t.arrayValue.values||[]);case i.OBJECT:return function(e,t){const r=Object.keys(e),n=Object.keys(t);r.sort(),n.sort();for(let o=0;o<r.length&&o<n.length;o++){const i=s(r[o],n[o]);if(0!==i)return i;const a=r[o],l=c(e[a],t[a]);if(0!==l)return l}return s(r.length,n.length)}
/*!
 * @private
 * @internal
 */(e.mapValue.fields||{},t.mapValue.fields||{});case i.VECTOR:return function(e,t){var r,n,o,i,a,l;const c=null!==(o=null===(n=null===(r=null==e?void 0:e.value)||void 0===r?void 0:r.arrayValue)||void 0===n?void 0:n.values)&&void 0!==o?o:[],u=null!==(l=null===(a=null===(i=null==t?void 0:t.value)||void 0===i?void 0:i.arrayValue)||void 0===a?void 0:a.values)&&void 0!==l?l:[],d=s(c.length,u.length);return 0!==d?d:p(c,u)}(e.mapValue.fields||{},t.mapValue.fields||{});default:throw new Error("Encountered unknown type order: "+r)}}!function(e){e[e.NULL=0]="NULL",e[e.BOOLEAN=1]="BOOLEAN",e[e.NUMBER=2]="NUMBER",e[e.TIMESTAMP=3]="TIMESTAMP",e[e.STRING=4]="STRING",e[e.BLOB=5]="BLOB",e[e.REF=6]="REF",e[e.GEO_POINT=7]="GEO_POINT",e[e.ARRAY=8]="ARRAY",e[e.VECTOR=9]="VECTOR",e[e.OBJECT=10]="OBJECT"}(i||(i={}))},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.QueryWatch=t.DocumentWatch=t.WATCH_IDLE_TIMEOUT_MS=void 0;const n=r(45),o=r(719),i=r(81),a=r(143),s=r(65),l=r(220),p=r(25),c=r(15),u=r(41),d=r(80),h=r(13);
/*!
 * Idle timeout used to detect Watch streams that stall (see
 * https://github.com/googleapis/nodejs-firestore/issues/1057, b/156308554).
 * Under normal load, the Watch backend will send a TARGET_CHANGE message
 * roughly every 30 seconds. As discussed with the backend team, we reset the
 * Watch stream if we do not receive any message within 120 seconds.
 */
t.WATCH_IDLE_TIMEOUT_MS=12e4;
/*!
 * Sentinel value for a document remove.
 */
const f={},g="added",m="modified",y="removed",v=(e,t)=>(n(e===t,"Document watches only support one document."),0),b=()=>{};
/*!
 * The change type for document change events.
 */class E{constructor(e,t=(0,d.defaultConverter)()){this._converter=t,this.isActive=!0,this.currentStream=null,this.resumeToken=void 0,this.docMap=new Map,this.changeMap=new Map,this.current=!1,this.hasPushed=!1,this.firestore=e,this.backoff=new a.ExponentialBackoff,this.requestTag=(0,h.requestTag)(),this.onNext=b,this.onError=b}onSnapshot(e,t){n(this.onNext===b,"onNext should not already be defined."),n(this.onError===b,"onError should not already be defined."),n(void 0===this.docTree,"docTree should not already be defined."),this.onNext=e,this.onError=t,this.docTree=o(this.getComparator()),this.initStream();return this.firestore.registerListener(),()=>{(0,p.logger)("Watch.onSnapshot",this.requestTag,"Unsubscribe called"),this.onNext=()=>{},this.onError=()=>{},this.shutdown()}}currentSize(){const e=this.extractCurrentChanges(u.Timestamp.now());return this.docMap.size+e.adds.length-e.deletes.length}extractCurrentChanges(e){const t=[],r=[],n=[];return this.changeMap.forEach((o,i)=>{o===f?this.docMap.has(i)&&t.push(i):this.docMap.has(i)?(o.readTime=e,n.push(o.build())):(o.readTime=e,r.push(o.build()))}),{deletes:t,adds:r,updates:n}}resetDocs(){(0,p.logger)("Watch.resetDocs",this.requestTag,"Resetting documents"),this.changeMap.clear(),this.resumeToken=void 0,this.docTree.forEach(e=>{this.changeMap.set(e.ref.path,f)}),this.current=!1}closeStream(e){this.isActive&&((0,p.logger)("Watch.closeStream",this.requestTag,"Invoking onError: ",e),this.onError(e)),this.shutdown()}maybeReopenStream(e){this.isActive&&!this.isPermanentWatchError(e)?((0,p.logger)("Watch.maybeReopenStream",this.requestTag,"Stream ended, re-opening after retryable error:",e),this.changeMap.clear(),this.isResourceExhaustedError(e)&&this.backoff.resetToMax(),this.initStream()):this.closeStream(e)}resetIdleTimeout(){this.idleTimeoutHandle&&clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=(0,a.delayExecution)(()=>{var e;(0,p.logger)("Watch.resetIdleTimeout",this.requestTag,"Resetting stream after idle timeout"),null===(e=this.currentStream)||void 0===e||e.end(),this.currentStream=null;const t=new i.GoogleError("Watch stream idle timeout");t.code=i.Status.UNKNOWN,this.maybeReopenStream(t)},t.WATCH_IDLE_TIMEOUT_MS)}resetStream(){(0,p.logger)("Watch.resetStream",this.requestTag,"Restarting stream"),this.currentStream&&(this.currentStream.end(),this.currentStream=null),this.initStream()}initStream(){this.backoff.backoffAndWait().then(async()=>{if(!this.isActive)return void(0,p.logger)("Watch.initStream",this.requestTag,"Not initializing inactive stream");await this.firestore.initializeIfNeeded(this.requestTag);const e={};return e.database=this.firestore.formattedName,e.addTarget=this.getTarget(this.resumeToken),this.firestore.requestStream("listen",!0,e,this.requestTag).then(e=>{if(!this.isActive)return(0,p.logger)("Watch.initStream",this.requestTag,"Closing inactive stream"),void e.emit("end");(0,p.logger)("Watch.initStream",this.requestTag,"Opened new stream"),this.currentStream=e,this.resetIdleTimeout(),this.currentStream.on("data",e=>{this.resetIdleTimeout(),this.onData(e)}).on("error",t=>{this.currentStream===e&&(this.currentStream=null,this.maybeReopenStream(t))}).on("end",()=>{if(this.currentStream===e){this.currentStream=null;const e=new i.GoogleError("Stream ended unexpectedly");e.code=i.Status.UNKNOWN,this.maybeReopenStream(e)}}),this.currentStream.resume()})}).catch(e=>{this.closeStream(e)})}onData(e){if(e.targetChange){(0,p.logger)("Watch.onData",this.requestTag,"Processing target change");const t=e.targetChange,r=!t.targetIds||0===t.targetIds.length;if("NO_CHANGE"===t.targetChangeType)r&&t.readTime&&this.current&&this.pushSnapshot(u.Timestamp.fromProto(t.readTime),t.resumeToken);else if("ADD"===t.targetChangeType)1!==t.targetIds[0]&&this.closeStream(Error("Unexpected target ID sent by server"));else if("REMOVE"===t.targetChangeType){let e=i.Status.INTERNAL,r="internal error";t.cause&&(e=t.cause.code,r=t.cause.message),this.closeStream(new Error("Error "+e+": "+r))}else"RESET"===t.targetChangeType?this.resetDocs():"CURRENT"===t.targetChangeType?this.current=!0:this.closeStream(new Error("Unknown target change type: "+JSON.stringify(t)));t.resumeToken&&this.affectsTarget(t.targetIds,1)&&this.backoff.reset()}else if(e.documentChange){(0,p.logger)("Watch.onData",this.requestTag,"Processing change event");const t=e.documentChange.targetIds||[],r=e.documentChange.removedTargetIds||[];let n=!1,o=!1;for(let e=0;e<t.length;e++)1===t[e]&&(n=!0);for(let e=0;e<r.length;e++)1===r[e]&&(o=!0);const i=e.documentChange.document,a=i.name,l=c.QualifiedResourcePath.fromSlashSeparatedString(a).relativeName;if(n){(0,p.logger)("Watch.onData",this.requestTag,"Received document change");const e=this.firestore.doc(l),t=new s.DocumentSnapshotBuilder(e.withConverter(this._converter));t.fieldsProto=i.fields||{},t.createTime=u.Timestamp.fromProto(i.createTime),t.updateTime=u.Timestamp.fromProto(i.updateTime),this.changeMap.set(l,t)}else o&&((0,p.logger)("Watch.onData",this.requestTag,"Received document remove"),this.changeMap.set(l,f))}else if(e.documentDelete||e.documentRemove){(0,p.logger)("Watch.onData",this.requestTag,"Processing remove event");const t=(e.documentDelete||e.documentRemove).document,r=c.QualifiedResourcePath.fromSlashSeparatedString(t).relativeName;this.changeMap.set(r,f)}else e.filter?((0,p.logger)("Watch.onData",this.requestTag,"Processing filter update"),e.filter.count!==this.currentSize()&&(this.resetDocs(),this.resetStream())):this.closeStream(new Error("Unknown listen response type: "+JSON.stringify(e)))}affectsTarget(e,t){if(void 0===e||0===e.length)return!0;for(const r of e)if(r===t)return!0;return!1}pushSnapshot(e,t){const r=this.computeSnapshot(e);if(!this.hasPushed||r.length>0){(0,p.logger)("Watch.pushSnapshot",this.requestTag,"Sending snapshot with %d changes and %d documents",String(r.length),this.docTree.length);const t=this.docTree;this.onNext(e,t.length,()=>t.keys,()=>r),this.hasPushed=!0}this.changeMap.clear(),this.resumeToken=t}deleteDoc(e){n(this.docMap.has(e),"Document to delete does not exist");const t=this.docMap.get(e),r=this.docTree.find(t),o=r.index;return this.docTree=r.remove(),this.docMap.delete(e),new l.DocumentChange(y,t,o,-1)}addDoc(e){const t=e.ref.path;n(!this.docMap.has(t),"Document to add already exists"),this.docTree=this.docTree.insert(e,null);const r=this.docTree.find(e).index;return this.docMap.set(t,e),new l.DocumentChange(g,e,-1,r)}modifyDoc(e){const t=e.ref.path;n(this.docMap.has(t),"Document to modify does not exist");if(!this.docMap.get(t).updateTime.isEqual(e.updateTime)){const r=this.deleteDoc(t),n=this.addDoc(e);return new l.DocumentChange(m,e,r.oldIndex,n.newIndex)}return null}computeSnapshot(e){const t=this.extractCurrentChanges(e),r=[];return t.deletes.sort((e,t)=>this.getComparator()(this.docMap.get(e),this.docMap.get(t))),t.deletes.forEach(e=>{const t=this.deleteDoc(e);r.push(t)}),t.adds.sort(this.getComparator()),t.adds.forEach(e=>{const t=this.addDoc(e);r.push(t)}),t.updates.sort(this.getComparator()),t.updates.forEach(e=>{const t=this.modifyDoc(e);t&&r.push(t)}),n(this.docTree.length===this.docMap.size,"The update document tree and document map should have the same number of entries."),r}isPermanentWatchError(e){if(void 0===e.code)return(0,p.logger)("Watch.isPermanentError",this.requestTag,"Unable to determine error code: ",e),!1;switch(e.code){case i.Status.ABORTED:case i.Status.CANCELLED:case i.Status.UNKNOWN:case i.Status.DEADLINE_EXCEEDED:case i.Status.RESOURCE_EXHAUSTED:case i.Status.INTERNAL:case i.Status.UNAVAILABLE:case i.Status.UNAUTHENTICATED:return!1;default:return!0}}isResourceExhaustedError(e){return e.code===i.Status.RESOURCE_EXHAUSTED}shutdown(){var e;this.isActive&&(this.isActive=!1,this.idleTimeoutHandle&&(clearTimeout(this.idleTimeoutHandle),this.idleTimeoutHandle=void 0),this.firestore.unregisterListener()),null===(e=this.currentStream)||void 0===e||e.end(),this.currentStream=null}}t.DocumentWatch=class extends E{constructor(e,t){super(e,t._converter),this.ref=t}getComparator(){return v}getTarget(e){return{documents:{documents:[this.ref.formattedName]},targetId:1,resumeToken:e}}};t.QueryWatch=class extends E{constructor(e,t,r){super(e,r),this.query=t,this.comparator=t.comparator()}getComparator(){return this.query.comparator()}getTarget(e){return{query:this.query.toProto(),targetId:1,resumeToken:e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;const n=r(21);class o{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return o.createFromMetadataGenerator((t,r)=>{let o;var i;o="getRequestHeaders"in(i=e)&&"function"==typeof i.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>{e?n(e):t?r(t):n(new Error("Headers not set by metadata plugin"))})}),o.then(e=>{const t=new n.Metadata;for(const r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new s}}t.CallCredentials=o;class i extends o{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new n.Metadata,r=await Promise.all(this.creds.map(t=>t.generateMetadata(e)));for(const e of r)t.merge(e);return t}compose(e){return new i(this.creds.concat([e]))}_equals(e){return this===e||e instanceof i&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class a extends o{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new i([this,e])}_equals(e){return this===e||e instanceof a&&this.metadataGenerator===e.metadataGenerator}}class s extends o{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;const n=r(154),o=r(721);t.ChannelImplementation=class{constructor(e,t,r){if("string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw new TypeError("Channel options must be an object");this.internalChannel=new o.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,o){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,o)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CIPHER_SUITES=void 0,t.getDefaultRootsData=function(){if(o)return null===i&&(i=n.readFileSync(o)),i;return null};const n=r(17);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const o=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let i=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateRetryThrottling=l,t.validateServiceConfig=c,t.extractAndSelectServiceConfig=function(e,t){for(const r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){const e=r.join("").substring("grpc_config=".length);return d(JSON.parse(e),t)}return null};const n=r(67),o=r(7),i=/^\d+(\.\d{1,9})?s$/;function a(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw new Error("Invalid method config name: invalid service: expected type string, got "+typeof e.service);if("method"in e&&""!==e.method){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method: expected type string, got "+typeof e.service);return{service:e.service,method:e.method}}return{service:e.service}}if("method"in e&&void 0!==e.method)throw new Error("Invalid method config name: method set with empty or unset service");return{}}function s(e){var t;const r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const t of e.name)r.name.push(a(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e)if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else{if("string"!=typeof e.timeout||!i.test(e.timeout))throw new Error("Invalid method config: invalid timeout");{const n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:0|(null!==(t=n[1])&&void 0!==t?t:0)}}}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=function(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!i.test(e.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!i.test(e.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e)||!Array.isArray(e.retryableStatusCodes))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(const t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(o.Status).includes(t))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else{if("string"!=typeof t)throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");if(!Object.values(o.Status).includes(t.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=function(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!i.test(e.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(const t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(o.Status).includes(t))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else{if("string"!=typeof t)throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");if(!Object.values(o.Status).includes(t.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}const t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}(e.hedgingPolicy));return r}function l(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function p(e){if("object"!=typeof e||null===e)throw new Error("Invalid loadBalancingConfig: unexpected type "+typeof e);const t=Object.keys(e);if(t.length>1)throw new Error("Invalid loadBalancingConfig: unexpected multiple keys "+t);if(0===t.length)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[t[0]]:e[t[0]]}}function c(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const r of e.loadBalancingConfig)t.loadBalancingConfig.push(p(r))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const r of e.methodConfig)t.methodConfig.push(s(r));"retryThrottling"in e&&(t.retryThrottling=l(e.retryThrottling));const r=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of r)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function u(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:c(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const r of e.clientLanguage){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(r)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const r of e.clientHostname){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(r)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!r.includes(t))throw new Error("Invalid service config choice: unexpected field "+t);return t}function d(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const r of e){const e=u(r);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const r of e.clientLanguage)"node"===r&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeClientConstructor=a,t.loadPackageDefinition=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n],s=n.split(".");if(s.some(e=>i(e)))continue;const l=s[s.length-1];let p=t;for(const e of s.slice(0,-1))p[e]||(p[e]={}),p=p[e];r=o,p[l]="format"in r?o:a(o,l,{})}var r;return t};const n=r(415),o={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function i(e){return["__proto__","prototype","constructor"].includes(e)}function a(e,t,r){r||(r={});class a extends n.Client{}return Object.keys(e).forEach(t=>{if(i(t))return;const r=e[t];let n;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");n=r.requestStream?r.responseStream?"bidi":"client_stream":r.responseStream?"server_stream":"unary";const s=r.requestSerialize,l=r.responseDeserialize,p=function(e,t,r,n){return function(...o){return e.call(this,t,r,n,...o)}}(o[n],r.path,s,l);a.prototype[t]=p,Object.assign(a.prototype[t],r),r.originalName&&!i(r.originalName)&&(a.prototype[r.originalName]=a.prototype[t])}),a.service=e,a.serviceName=t,a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(727),o=r(411),i=r(43),a=r(7),s=r(21),l=r(416),p=Symbol(),c=Symbol(),u=Symbol(),d=Symbol();function h(e){return"function"==typeof e}function f(e){var t;return(null===(t=e.stack)||void 0===t?void 0:t.split("\n").slice(1).join("\n"))||"no stack trace available"}t.Client=class{constructor(e,t,r={}){var n,i;if(r=Object.assign({},r),this[c]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[u]=null!==(i=r.interceptor_providers)&&void 0!==i?i:[],delete r.interceptor_providers,this[c].length>0&&this[u].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[d]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[p]=r.channelOverride;else if(r.channelFactoryOverride){const n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[p]=n(e,t,r)}else this[p]=new o.ChannelImplementation(e,t,r)}close(){this[p].close()}getChannel(){return this[p]}waitForReady(e,t){const r=n=>{if(n)return void t(new Error("Failed to connect before the deadline"));let o;try{o=this[p].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(o===i.ConnectivityState.READY)t();else try{this[p].watchConnectivityState(o,e,r)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(h(e))return{metadata:new s.Metadata,options:{},callback:e};if(h(t))return e instanceof s.Metadata?{metadata:e,options:{},callback:t}:{metadata:new s.Metadata,options:e,callback:t};if(!(e instanceof s.Metadata&&t instanceof Object&&h(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,o,i,s,h){var g,m;const y=this.checkOptionalUnaryResponseArguments(i,s,h),v={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r};let b={argument:o,metadata:y.metadata,call:new n.ClientUnaryCallImpl,channel:this[p],methodDefinition:v,callOptions:y.options,callback:y.callback};this[d]&&(b=this[d](b));const E=b.call,_={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(g=b.callOptions.interceptors)&&void 0!==g?g:[],callInterceptorProviders:null!==(m=b.callOptions.interceptor_providers)&&void 0!==m?m:[]},O=(0,l.getInterceptingCall)(_,b.methodDefinition,b.callOptions,b.channel);E.call=O;let w=null,S=!1,T=new Error;return O.start(b.metadata,{onReceiveMetadata:e=>{E.emit("metadata",e)},onReceiveMessage(e){null!==w&&O.cancelWithStatus(a.Status.UNIMPLEMENTED,"Too many responses received"),w=e},onReceiveStatus(e){if(!S){if(S=!0,e.code===a.Status.OK)if(null===w){const t=f(T);b.callback((0,n.callErrorFromStatus)({code:a.Status.UNIMPLEMENTED,details:"No message received",metadata:e.metadata},t))}else b.callback(null,w);else{const t=f(T);b.callback((0,n.callErrorFromStatus)(e,t))}T=null,E.emit("status",e)}}}),O.sendMessage(o),O.halfClose(),E}makeClientStreamRequest(e,t,r,o,i,s){var h,g;const m=this.checkOptionalUnaryResponseArguments(o,i,s),y={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r};let v={metadata:m.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[p],methodDefinition:y,callOptions:m.options,callback:m.callback};this[d]&&(v=this[d](v));const b=v.call,E={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(h=v.callOptions.interceptors)&&void 0!==h?h:[],callInterceptorProviders:null!==(g=v.callOptions.interceptor_providers)&&void 0!==g?g:[]},_=(0,l.getInterceptingCall)(E,v.methodDefinition,v.callOptions,v.channel);b.call=_;let O=null,w=!1,S=new Error;return _.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){null!==O&&_.cancelWithStatus(a.Status.UNIMPLEMENTED,"Too many responses received"),O=e,_.startRead()},onReceiveStatus(e){if(!w){if(w=!0,e.code===a.Status.OK)if(null===O){const t=f(S);v.callback((0,n.callErrorFromStatus)({code:a.Status.UNIMPLEMENTED,details:"No message received",metadata:e.metadata},t))}else v.callback(null,O);else{const t=f(S);v.callback((0,n.callErrorFromStatus)(e,t))}S=null,b.emit("status",e)}}}),b}checkMetadataAndOptions(e,t){let r,n;return e instanceof s.Metadata?(r=e,n=t||{}):(n=e||{},r=new s.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,o,i,s){var h,g;const m=this.checkMetadataAndOptions(i,s),y={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r};let v={argument:o,metadata:m.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[p],methodDefinition:y,callOptions:m.options};this[d]&&(v=this[d](v));const b=v.call,E={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(h=v.callOptions.interceptors)&&void 0!==h?h:[],callInterceptorProviders:null!==(g=v.callOptions.interceptor_providers)&&void 0!==g?g:[]},_=(0,l.getInterceptingCall)(E,v.methodDefinition,v.callOptions,v.channel);b.call=_;let O=!1,w=new Error;return _.start(v.metadata,{onReceiveMetadata(e){b.emit("metadata",e)},onReceiveMessage(e){b.push(e)},onReceiveStatus(e){if(!O){if(O=!0,b.push(null),e.code!==a.Status.OK){const t=f(w);b.emit("error",(0,n.callErrorFromStatus)(e,t))}w=null,b.emit("status",e)}}}),_.sendMessage(o),_.halfClose(),b}makeBidiStreamRequest(e,t,r,o,i){var s,h;const g=this.checkMetadataAndOptions(o,i),m={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r};let y={metadata:g.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[p],methodDefinition:m,callOptions:g.options};this[d]&&(y=this[d](y));const v=y.call,b={clientInterceptors:this[c],clientInterceptorProviders:this[u],callInterceptors:null!==(s=y.callOptions.interceptors)&&void 0!==s?s:[],callInterceptorProviders:null!==(h=y.callOptions.interceptor_providers)&&void 0!==h?h:[]},E=(0,l.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);v.call=E;let _=!1,O=new Error;return E.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(!_){if(_=!0,v.push(null),e.code!==a.Status.OK){const t=f(O);v.emit("error",(0,n.callErrorFromStatus)(e,t))}O=null,v.emit("status",e)}}}),v}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0,t.getInterceptingCall=function(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let o=[];o=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);const i=Object.assign({},r,{method_definition:t});return o.reduceRight((e,t)=>r=>t(r,e),e=>h(n,e,t))(i)};const n=r(21),o=r(728),i=r(7),a=r(225);class s extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,s)}}t.InterceptorConfigurationError=s;t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const l={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},p={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var r,n,o,i;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(r=t.start)&&void 0!==r?r:p.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:p.sendMessage,halfClose:null!==(o=t.halfClose)&&void 0!==o?o:p.halfClose,cancel:null!==(i=t.cancel)&&void 0!==i?i:p.cancel}:p}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,i,a,s,p;const c={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(a=null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i?void 0:i.bind(t))&&void 0!==a?a:e=>{},onReceiveStatus:null!==(p=null===(s=null==t?void 0:t.onReceiveStatus)||void 0===s?void 0:s.bind(t))&&void 0!==p?p:e=>{}};this.processingMetadata=!0,this.requester.start(e,c,(e,t)=>{var r,n,i;let a;if(this.processingMetadata=!1,(0,o.isInterceptingListener)(t))a=t;else{const e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:l.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:l.onReceiveMessage,onReceiveStatus:null!==(i=t.onReceiveStatus)&&void 0!==i?i:l.onReceiveStatus};a=new o.InterceptingListenerImpl(e,c)}this.nextCall.start(e,a),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};class c{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){return void this.call.cancelWithStatus(i.Status.INTERNAL,"Request message serialization failure: "+(0,a.getErrorMessage)(e))}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var o;let s;try{s=this.methodDefinition.responseDeserialize(e)}catch(e){return r={code:i.Status.INTERNAL,details:"Response message parsing error: "+(0,a.getErrorMessage)(e),metadata:new n.Metadata},void this.call.cancelWithStatus(r.code,r.details)}null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o||o.call(t,s)},onReceiveStatus:e=>{var n,o;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(o=null==t?void 0:t.onReceiveStatus)||void 0===o||o.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class u extends c{constructor(e,t){super(e,t)}start(e,t){var r,n;let o=!1;const i={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;o=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;o||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,i),this.call.startRead()}}class d extends c{}function h(e,t,r){const n=function(e,t,r){var n,o;const i=null!==(n=r.deadline)&&void 0!==n?n:1/0,a=r.host,s=null!==(o=r.parent)&&void 0!==o?o:null,l=r.propagate_flags,p=r.credentials,c=e.createCall(t,i,a,s,l);return p&&c.setCredentials(p),c}(e,r.path,t);return r.responseStream?new d(n,r):new u(n,r)}},function(e,t,r){"use strict";
/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(t,"__esModule",{value:!0}),t.loadFileDescriptorSetFromObject=t.loadFileDescriptorSetFromBuffer=t.fromJSON=t.loadSync=t.load=t.IdempotencyLevel=t.isAnyExtension=t.Long=void 0;const n=r(729),o=r(76),i=r(730),a=r(731),s=r(735);var l;t.Long=s,t.isAnyExtension=function(e){return"@type"in e&&"string"==typeof e["@type"]},function(e){e.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",e.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",e.IDEMPOTENT="IDEMPOTENT"}(l=t.IdempotencyLevel||(t.IdempotencyLevel={}));const p={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){const r=(n=t,i=e.name,""===n?i:n+"."+i);var n,i;return function(e){return e instanceof o.Service||e instanceof o.Type||e instanceof o.Enum}(e)?[[r,e]]:function(e){return e instanceof o.Namespace||e instanceof o.Root}(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>c(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function u(e,t){return function(r){return e.toObject(e.decode(r),t)}}function d(e){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);const r=e.fromObject(t);return e.encode(r).finish()}}function h(e){return(e||[]).reduce((e,t)=>{for(const[r,n]of Object.entries(t))switch(r){case"uninterpreted_option":e.uninterpreted_option.push(t.uninterpreted_option);break;default:e[r]=n}return e},{deprecated:!1,idempotency_level:l.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function f(e,t,r,o){const i=e.resolvedRequestType,a=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:d(i),requestDeserialize:u(i,r),responseSerialize:d(a),responseDeserialize:u(a,r),originalName:n(e.name),requestType:g(i,o),responseType:g(a,o),options:h(e.parsedOptions)}}function g(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,p),fileDescriptorProtos:t}}function m(e,t,r,n){if(e instanceof o.Service)return function(e,t,r,n){const o={};for(const i of e.methodsArray)o[i.name]=f(i,t,r,n);return o}(e,t,r,n);if(e instanceof o.Type)return g(e,n);if(e instanceof o.Enum)return function(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,p),fileDescriptorProtos:t}}(e,n);throw new Error("Type mismatch in reflection object handling")}function y(e,t){const r={};e.resolveAll();const n=e.toDescriptor("proto3").file.map(e=>Buffer.from(i.FileDescriptorProto.encode(e).finish()));for(const[o,i]of c(e,""))r[o]=m(i,o,t,n);return r}function v(e,t){t=t||{};const r=o.Root.fromDescriptor(e);return r.resolveAll(),y(r,t)}t.load=function(e,t){return(0,a.loadProtosWithOptions)(e,t).then(e=>y(e,t))},t.loadSync=function(e,t){return y((0,a.loadProtosWithOptionsSync)(e,t),t)},t.fromJSON=function(e,t){t=t||{};const r=o.Root.fromJSON(e);return r.resolveAll(),y(r,t)},t.loadFileDescriptorSetFromBuffer=function(e,t){return v(i.FileDescriptorSet.decode(e),t)},t.loadFileDescriptorSetFromObject=function(e,t){return v(i.FileDescriptorSet.fromObject(e),t)},(0,a.addCommonProtos)()},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapProxyName=function(e,t){var r;const i={target:e,extraOptions:{}};if(0===(null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1))return i;if("unix"===e.scheme)return i;const a=function(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new u.URL(t)}catch(e){return(0,n.log)(o.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(o.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let i=null;e.username&&(e.password?((0,n.log)(o.LogVerbosity.INFO,"userinfo found in proxy URI"),i=decodeURIComponent(`${e.username}:${e.password}`)):i=e.username);const a=e.hostname;let s=e.port;""===s&&(s="80");const l={address:`${a}:${s}`};i&&(l.creds=i);return h("Proxy server "+l.address+" set by environment variable "+r),l}();if(!a.address)return i;const s=(0,c.splitHostPort)(e.path);if(!s)return i;const l=s.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";e||(e=process.env.no_proxy,t="no_proxy");return e?(h("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===l)return h("Not using proxy for target in no_proxy list: "+(0,c.uriToString)(e)),i;const p={"grpc.http_connect_target":(0,c.uriToString)(e)};a.creds&&(p["grpc.http_connect_creds"]=a.creds);return{target:{scheme:"dns",path:a.address},extraOptions:p}},t.getProxiedConnection=function(e,t,r){var l;if(!("grpc.http_connect_target"in t))return Promise.resolve({});const u=t["grpc.http_connect_target"],f=(0,c.parseUri)(u);if(null===f)return Promise.resolve({});const g=(0,c.splitHostPort)(f.path);if(null===g)return Promise.resolve({});const m=`${g.host}:${null!==(l=g.port)&&void 0!==l?l:d.DEFAULT_PORT}`,y={method:"CONNECT",path:m},v={Host:m};(0,p.isTcpSubchannelAddress)(e)?(y.host=e.host,y.port=e.port):y.socketPath=e.path;"grpc.http_connect_creds"in t&&(v["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64"));y.headers=v;const b=(0,p.subchannelAddressToString)(e);return h("Using proxy "+b+" to connect to "+y.path),new Promise((e,t)=>{const l=a.request(y);l.once("connect",(a,p,u)=>{var d;if(l.removeAllListeners(),p.removeAllListeners(),200===a.statusCode)if(h("Successfully connected to "+y.path+" through proxy "+b),u.length>0&&p.unshift(u),"secureContext"in r){const n=(0,i.getDefaultAuthority)(f),o=(0,c.splitHostPort)(n),a=null!==(d=null==o?void 0:o.host)&&void 0!==d?d:n,l=s.connect(Object.assign({host:a,servername:a,socket:p},r),()=>{h("Successfully established a TLS connection to "+y.path+" through proxy "+b),e({socket:l,realTarget:f})});l.on("error",e=>{h("Failed to establish a TLS connection to "+y.path+" through proxy "+b+" with error "+e.message),t()})}else h("Successfully established a plaintext connection to "+y.path+" through proxy "+b),e({socket:p,realTarget:f});else(0,n.log)(o.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+b+" with status "+a.statusCode),t()}),l.once("error",e=>{l.removeAllListeners(),(0,n.log)(o.LogVerbosity.ERROR,"Failed to connect to proxy "+b+" with error "+e.message),t()}),l.end()})};const n=r(10),o=r(7),i=r(60),a=r(51),s=r(66),l=r(10),p=r(44),c=r(28),u=r(11),d=r(420);function h(e){l.trace(o.LogVerbosity.DEBUG,"proxy",e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PORT=void 0,t.setup=function(){(0,n.registerResolver)("dns",g),(0,n.registerDefaultScheme)("dns")};const n=r(60),o=r(737),i=r(413),a=r(7),s=r(21),l=r(10),p=r(7),c=r(28),u=r(31),d=r(155),h=r(738);function f(e){l.trace(p.LogVerbosity.DEBUG,"dns_resolver",e)}t.DEFAULT_PORT=443;class g{constructor(e,r,n){var i,l,p;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new o.promises.Resolver,f("Resolver constructed for target "+(0,c.uriToString)(e)),e.authority&&this.alternativeResolver.setServers([e.authority]);const h=(0,c.splitHostPort)(e.path);null===h?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,u.isIPv4)(h.host)||(0,u.isIPv6)(h.host)?(this.ipResult=[{addresses:[{host:h.host,port:null!==(i=h.port)&&void 0!==i?i:t.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=h.host,this.port=null!==(l=h.port)&&void 0!==l?l:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:"Name resolution failed for target "+(0,c.uriToString)(this.target),metadata:new s.Metadata};const g={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new d.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},g),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(p=n["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==p?p:3e4,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult)return this.returnedIpResult||(f("Returning IP address for target "+(0,c.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),void this.stopNextResolutionTimer();if(null===this.dnsHostname)f("Failed to parse DNS address "+(0,c.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:"Failed to parse DNS address "+(0,c.uriToString)(this.target),metadata:new s.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;f("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=this.lookup(e),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop(),this.latestLookupResult=e.map(e=>({addresses:[e]}));const t="["+e.map(e=>e.host+":"+e.port).join(",")+"]";f("Resolved addresses for target "+(0,c.uriToString)(this.target)+": "+t),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{}):this.listener.onError(this.defaultResolutionError)},e=>{null!==this.pendingLookupPromise&&(f("Resolution error for target "+(0,c.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=this.resolveTxt(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,i.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:"Parsing service config failed with error "+e.message,metadata:new s.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}async lookup(e){if(h.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){f("Using alternative DNS resolver.");const t=await Promise.allSettled([this.alternativeResolver.resolve4(e),this.alternativeResolver.resolve6(e)]);if(t.every(e=>"rejected"===e.status))throw new Error(t[0].reason);return t.reduce((e,t)=>"fulfilled"===t.status?[...e,...t.value]:e,[]).map(e=>({host:e,port:+this.port}))}return(await o.promises.lookup(e,{all:!0})).map(e=>({host:e.address,port:+this.port}))}async resolveTxt(e){return h.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(f("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(e)):o.promises.resolveTxt(e)}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),null===(t=(e=this.nextResolutionTimer).unref)||void 0===t||t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?f('resolution update delayed by "min time between resolutions" rate limit'):f("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(n||(n={}));t.StreamDecoder=class{constructor(e){this.maxReadMessageLength=e,this.readState=n.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,r=0;const o=[];for(;r<e.length;)switch(this.readState){case n.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=n.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case n.READING_SIZE:if(t=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+t),this.readSizeRemaining-=t,r+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=n.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=n.NO_DATA,o.push(e)}}break;case n.READING_MESSAGE:if(t=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+t)),this.readMessageRemaining-=t,r+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=n.NO_DATA,o.push(t)}break;default:throw new Error("Unexpected read state")}return o}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=function(){return n++};let n=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class n{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=n;class o{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new o([...this.factories])}createFilter(){return new n(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=o},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(n||(t.CompressionAlgorithms=n={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseServerInterceptingCall=t.ServerInterceptingCall=t.ResponderBuilder=t.ServerListenerBuilder=void 0,t.isInterceptingServerListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length},t.getServerInterceptingCall=function(e,t,r,n,o,i){const a={path:o.path,requestStream:"clientStream"===o.type||"bidi"===o.type,responseStream:"serverStream"===o.type||"bidi"===o.type,requestDeserialize:o.deserialize,responseSerialize:o.serialize},s=new b(t,r,n,o,i);return e.reduce((e,t)=>t(a,e),s)};const n=r(21),o=r(7),i=r(85),a=r(225),s=r(22),l=r(421),p=r(10);function c(e){p.trace(o.LogVerbosity.DEBUG,"server_call",e)}t.ServerListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};class u{constructor(e,t){this.listener=e,this.nextListener=t,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.cancelled||(this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.cancelled||(this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}t.ResponderBuilder=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};const d={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveHalfClose:e=>{e()},onCancel:()=>{}},h={start:e=>{e()},sendMetadata:(e,t)=>{t(e)},sendMessage:(e,t)=>{t(e)},sendStatus:(e,t)=>{t(e)}};t.ServerInterceptingCall=class{constructor(e,t){var r,n,o,i;this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:null!==(r=null==t?void 0:t.start)&&void 0!==r?r:h.start,sendMetadata:null!==(n=null==t?void 0:t.sendMetadata)&&void 0!==n?n:h.sendMetadata,sendMessage:null!==(o=null==t?void 0:t.sendMessage)&&void 0!==o?o:h.sendMessage,sendStatus:null!==(i=null==t?void 0:t.sendStatus)&&void 0!==i?i:h.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(t=>{var r,n,o,i;const a={onReceiveMetadata:null!==(r=null==t?void 0:t.onReceiveMetadata)&&void 0!==r?r:d.onReceiveMetadata,onReceiveMessage:null!==(n=null==t?void 0:t.onReceiveMessage)&&void 0!==n?n:d.onReceiveMessage,onReceiveHalfClose:null!==(o=null==t?void 0:t.onReceiveHalfClose)&&void 0!==o?o:d.onReceiveHalfClose,onCancel:null!==(i=null==t?void 0:t.onCancel)&&void 0!==i?i:d.onCancel},s=new u(a,e);this.nextCall.start(s)})}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,e=>{this.processingMetadata=!1,this.nextCall.sendMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,t){this.processingMessage=!0,this.responder.sendMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.pendingMessageCallback=t):this.nextCall.sendMessage(e,t)})}sendStatus(e){this.responder.sendStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextCall.sendStatus(e)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}};const f=/(\d{1,8})\s*([HMSmun])/,g={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},m={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},y={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},v={waitForTrailers:!0};class b{constructor(e,t,r,a,s){var u;this.stream=e,this.callEventTracker=r,this.handler=a,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=o.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;c("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:o.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",e=>{this.handleDataFrame(e)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in s&&(this.maxSendMessageSize=s["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in s&&(this.maxReceiveMessageSize=s["grpc.max_receive_message_length"]),this.host=null!==(u=t[":authority"])&&void 0!==u?u:t.host,this.decoder=new l.StreamDecoder(this.maxReceiveMessageSize);const d=n.Metadata.fromHttp2Headers(t);p.isTracerEnabled("server_call")&&c("Request to "+this.handler.path+" received headers "+JSON.stringify(d.toJSON()));const h=d.get("grpc-timeout");h.length>0&&this.handleTimeoutHeader(h[0]);const f=d.get("grpc-encoding");f.length>0&&(this.incomingEncoding=f[0]),d.remove("grpc-timeout"),d.remove("grpc-encoding"),d.remove("grpc-accept-encoding"),d.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),d.remove(i.constants.HTTP2_HEADER_TE),d.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=d}handleTimeoutHeader(e){const t=e.toString().match(f);if(null===t){const t={code:o.Status.INTERNAL,details:`Invalid grpc-timeout value "${e}"`,metadata:null};return void process.nextTick(()=>{this.sendStatus(t)})}const r=+t[1]*g[t[2]]|0,n=new Date;this.deadline=n.setMilliseconds(n.getMilliseconds()+r),this.deadlineTimer=setTimeout(()=>{const e={code:o.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(e)},r)}checkCancelled(){return this.cancelled||!this.stream.destroyed&&!this.stream.closed||(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new n.Metadata)}serializeMessage(e){const t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}decompressMessage(e,t){const r=e.subarray(5);if("identity"===t)return r;if("deflate"===t||"gzip"===t){let e;return e="deflate"===t?s.createInflate():s.createGunzip(),new Promise((t,n)=>{let i=0;const a=[];e.on("data",t=>{a.push(t),i+=t.byteLength,-1!==this.maxReceiveMessageSize&&i>this.maxReceiveMessageSize&&(e.destroy(),n({code:o.Status.RESOURCE_EXHAUSTED,details:"Received message that decompresses to a size larger than "+this.maxReceiveMessageSize}))}),e.on("end",()=>{t(Buffer.concat(a))}),e.write(r),e.end()})}return Promise.reject({code:o.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}async decompressAndMaybePush(e){if("COMPRESSED"!==e.type)throw new Error("Invalid queue entry type: "+e.type);const t=1===e.compressedMessage.readUInt8(0)?this.incomingEncoding:"identity";let r;try{r=await this.decompressMessage(e.compressedMessage,t)}catch(e){return void this.sendStatus(e)}try{e.parsedMessage=this.handler.deserialize(r)}catch(e){return void this.sendStatus({code:o.Status.INTERNAL,details:"Error deserializing request: "+e.message})}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&"COMPRESSED"!==this.readQueue[0].type){this.isReadPending=!1;const e=this.readQueue.shift();"READABLE"===e.type?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var t;if(this.checkCancelled())return;let r;c("Request to "+this.handler.path+" received data frame of size "+e.length);try{r=this.decoder.write(e)}catch(e){return void this.sendStatus({code:o.Status.RESOURCE_EXHAUSTED,details:e.message})}for(const e of r){this.stream.pause();const r={type:"COMPRESSED",compressedMessage:e,parsedMessage:null};this.readQueue.push(r),this.decompressAndMaybePush(r),null===(t=this.callEventTracker)||void 0===t||t.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){c("Request to "+this.handler.path+" start called"),this.checkCancelled()||(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},y),m),t);this.stream.respond(r,v)}sendMessage(e,t){if(this.checkCancelled())return;let r;try{r=this.serializeMessage(e)}catch(e){return void this.sendStatus({code:o.Status.INTERNAL,details:"Error serializing response: "+(0,a.getErrorMessage)(e),metadata:null})}-1!==this.maxSendMessageSize&&r.length-5>this.maxSendMessageSize?this.sendStatus({code:o.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${r.length} vs. ${this.maxSendMessageSize})`,metadata:null}):(this.maybeSendMetadata(),c("Request to "+this.handler.path+" sent data frame of size "+r.length),this.stream.write(r,e=>{var r;e?this.sendStatus({code:o.Status.INTERNAL,details:"Error writing message: "+(0,a.getErrorMessage)(e),metadata:null}):(null===(r=this.callEventTracker)||void 0===r||r.addMessageSent(),t())}))}sendStatus(e){var t,r;if(!this.checkCancelled())if(c("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+o.Status[e.code]+" details: "+e.details),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));const r=Object.assign({"grpc-status":e.code,"grpc-message":encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));const t=Object.assign(Object.assign({"grpc-status":e.code,"grpc-message":encodeURI(e.details)},y),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.notifyOnCancel()}}startRead(){c("Request to "+this.handler.path+" startRead called"),this.checkCancelled()||(this.isReadPending=!0,0===this.readQueue.length?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;const t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return(null==t?void 0:t.remoteAddress)?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}}t.BaseServerInterceptingCall=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCertificateProviderChannelCredentials=t.FileWatcherCertificateProvider=t.createCertificateProviderServerCredentials=t.createServerCredentialsWithInterceptors=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.EndpointMap=t.endpointHasAddress=t.endpointToString=t.subchannelAddressToString=t.LeafLoadBalancer=t.isLoadBalancerNameRegistered=t.parseLoadBalancingConfig=t.selectLbConfigFromList=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.parseDuration=t.durationToMs=t.splitHostPort=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r(10);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var o=r(60);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return o.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return o.createResolver}});var i=r(28);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return i.uriToString}}),Object.defineProperty(t,"splitHostPort",{enumerable:!0,get:function(){return i.splitHostPort}});var a=r(428);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return a.durationToMs}}),Object.defineProperty(t,"parseDuration",{enumerable:!0,get:function(){return a.parseDuration}});var s=r(155);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return s.BackoffTimeout}});var l=r(97);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return l.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return l.registerLoadBalancerType}}),Object.defineProperty(t,"selectLbConfigFromList",{enumerable:!0,get:function(){return l.selectLbConfigFromList}}),Object.defineProperty(t,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return l.parseLoadBalancingConfig}}),Object.defineProperty(t,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return l.isLoadBalancerNameRegistered}});var p=r(231);Object.defineProperty(t,"LeafLoadBalancer",{enumerable:!0,get:function(){return p.LeafLoadBalancer}});var c=r(44);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return c.subchannelAddressToString}}),Object.defineProperty(t,"endpointToString",{enumerable:!0,get:function(){return c.endpointToString}}),Object.defineProperty(t,"endpointHasAddress",{enumerable:!0,get:function(){return c.endpointHasAddress}}),Object.defineProperty(t,"EndpointMap",{enumerable:!0,get:function(){return c.EndpointMap}});var u=r(226);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return u.ChildLoadBalancerHandler}});var d=r(82);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return d.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return d.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return d.PickResultType}});var h=r(425);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return h.BaseFilter}});var f=r(423);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return f.FilterStackFactory}});var g=r(227);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return g.registerAdminService}});var m=r(229);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return m.BaseSubchannelWrapper}});var y=r(230);Object.defineProperty(t,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return y.createServerCredentialsWithInterceptors}}),Object.defineProperty(t,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return y.createCertificateProviderServerCredentials}});var v=r(747);Object.defineProperty(t,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return v.FileWatcherCertificateProvider}});var b=r(154);Object.defineProperty(t,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return b.createCertificateProviderChannelCredentials}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msToDuration=function(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}},t.durationToMs=function(e){return 1e3*e.seconds+e.nanos/1e6|0},t.isDuration=function(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos},t.parseDuration=function(e){const t=e.match(n);if(!t)return null;return{seconds:Number.parseInt(t[1],10),nanos:t[2]?Number.parseInt(t[2].padEnd(9,"0"),10):0}};const n=/^(\d+)(?:\.(\d+))?s$/},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleProtoFilesRoot=t.GrpcClient=t.ClientStub=void 0;const n=r(417),o=r(159),i=r(17),a=r(52),s=r(223),l=r(67),p=r(46),c=r(46),u=r(76),d=r(366),h=r(64),f=c.join(e,"..","..","build","protos"),g=[];g.push(f);const m=r(752).map(e=>e.replace(/[/\\]/g,c.sep));class y extends s.Client{}t.ClientStub=y;class v{static protoCacheKey(e,t){if(e&&(!Array.isArray(e)||0!==e.length&&e[0]))return JSON.stringify(e)+" "+JSON.stringify(t)}static clearProtoCache(){v.protoCache.clear()}constructor(e={}){var t;this.auth=e.auth||new a.GoogleAuth(e),this.fallback=!1;const n=Number(null===(t=process.version.match(/^v(\d+)/))||void 0===t?void 0:t[1]);if(Number.isNaN(n)||n<10){throw new Error("Node.js v10.0.0 is a minimum requirement. To learn about legacy version support visit: https://github.com/googleapis/google-cloud-node#supported-nodejs-versions")}"grpc"in e?(this.grpc=e.grpc,this.grpcVersion=""):(this.grpc=s,this.grpcVersion=r(224).version)}async _getCredentials(e){if(e.sslCreds)return e.sslCreds;const t=this.grpc,r=e.cert&&e.key?t.credentials.createSsl(null,Buffer.from(e.key),Buffer.from(e.cert)):t.credentials.createSsl(),n=await this.auth.getClient();return t.credentials.combineChannelCredentials(r,t.credentials.createFromGoogleCredential(n))}static defaultOptions(){const e=g.slice();return{keepCase:!1,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:e}}loadFromProto(e,t,r=!1){const o=v.protoCacheKey(e,t);let i=o?v.protoCache.get(o):void 0;if(r||!i){const r=n.loadSync(e,t);i=this.grpc.loadPackageDefinition(r),o&&v.protoCache.set(o,i)}return i}loadProto(e,t,r=!1){if(t||(t=c.basename(e),e=c.dirname(e)),Array.isArray(t)&&0===t.length)return{};const n=v.defaultOptions();return n.includeDirs.unshift(e),this.loadFromProto(t,n,r)}static _resolveFile(e,t){if(i.existsSync(c.join(e,t)))return c.join(e,t);if(m.indexOf(t)>-1)return c.join(f,t);throw new Error(t+" could not be found in "+e)}loadProtoJSON(e,t=!1){const r=d(JSON.stringify(e)).toString(),o=v.protoCache.get(r);if(o&&!t)return o;const i=v.defaultOptions(),a=n.fromJSON(e,i),s=this.grpc.loadPackageDefinition(a);return v.protoCache.set(r,s),s}metadataBuilder(e){const t=new(0,this.grpc.Metadata);for(const r in e){const n=e[r];Array.isArray(n)?n.forEach(e=>t.add(r,e)):t.set(r,""+n)}return function(e,r){let n=!1,o=t;if(r)for(const e in r)if("x-goog-api-client"!==e.toLowerCase()){n||(n=!0,o=o.clone());const t=r[e];Array.isArray(t)?t.forEach(t=>o.add(e,t)):o.set(e,""+t)}return o}}constructSettings(e,t,r,n){return h.constructSettings(e,t,r,this.grpc.status,{metadataBuilder:this.metadataBuilder(n)})}async createStub(e,t,r){const n=["grpc.callInvocationTransformer","grpc.channelFactoryOverride","grpc.gcpApiConfig"],[o,i]=await this._detectClientCertificate(t,t.universeDomain),a=this._mtlsServicePath(t.servicePath,r,o&&i),s=Object.assign({},t,{cert:o,key:i,servicePath:a}),l=a+":"+s.port;if(t.universeDomain||(t.universeDomain="googleapis.com"),t.universeDomain){const e=await this.auth.getUniverseDomain();if(e&&t.universeDomain!==e)throw new Error(`The configured universe domain (${t.universeDomain}) does not match the universe domain found in the credentials (${e}). If you haven't configured the universe domain explicitly, googleapis.com is the default.`)}const p=await this._getCredentials(s),c={"grpc.max_receive_message_length":-1,"grpc.max_send_message_length":-1,"grpc.initial_reconnect_backoff_ms":1e3};Object.keys(s).forEach(e=>{const r=t[e];e.startsWith("grpc.grpc.")&&(e=e.replace(/^grpc\./,"")),e.startsWith("grpc.")&&(n.includes(e)&&(e=e.replace(/^grpc\./,"")),c[e]=r),e.startsWith("grpc-node.")&&(c[e]=r)});return new e(l,p,c)}async _detectClientCertificate(e,t){var r;const n=/(?<cert>-----BEGIN CERTIFICATE-----.*?-----END CERTIFICATE-----)/s,a=/(?<key>-----BEGIN PRIVATE KEY-----.*?-----END PRIVATE KEY-----)/s;if("undefined"!=typeof process&&"true"===(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.GOOGLE_API_USE_CLIENT_CERTIFICATE)){if(t&&"googleapis.com"!==t)throw new Error("mTLS is not supported outside of googleapis.com universe domain.");if((null==e?void 0:e.cert)&&(null==e?void 0:e.key))return[e.cert,e.key];const r=(0,p.join)(l.homedir(),".secureConnect","context_aware_metadata.json"),s=JSON.parse(await async function(e){return new Promise((t,r)=>{i.readFile(e,"utf8",(e,n)=>{if(e)return r(e);t(n)})})}(r));if(!s.cert_provider_command)throw Error("no cert_provider_command found");const c=await async function(e,t){return new Promise((r,n)=>{(0,o.execFile)(e,t,(e,t)=>{if(e)return n(e);r(t)})})}(s.cert_provider_command[0],s.cert_provider_command.slice(1)),u=c.toString().match(n),d=c.toString().match(a);if((null==u?void 0:u.groups)&&(null==d?void 0:d.groups))return[u.groups.cert,d.groups.key];throw Error("unable to parse certificate and key")}return[void 0,void 0]}_mtlsServicePath(e,t,r){var n,o;return t||!e||"undefined"!=typeof process&&"never"===(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.GOOGLE_API_USE_MTLS_ENDPOINT)?e:"undefined"!=typeof process&&"always"===(null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.GOOGLE_API_USE_MTLS_ENDPOINT)||r?e.replace("googleapis.com","mtls.googleapis.com"):e}static createByteLengthFunction(e){return h.createByteLengthFunction(e)}}t.GrpcClient=v,v.protoCache=new Map;class b extends u.Root{constructor(...e){super(...e)}resolvePath(e,t){if(e=c.normalize(e),t=c.normalize(t),c.isAbsolute(t)){if(!i.existsSync(t))throw new Error("The include `"+t+"` was not found.");return t}return m.indexOf(t)>-1?c.join(f,t):b._findIncludePath(e,t)}static _findIncludePath(e,t){e=c.normalize(e),t=c.normalize(t);let r=e,n=i.existsSync(c.join(r,t));for(;!n&&r.length>0;)r=r.substring(0,r.lastIndexOf(c.sep)),n=i.existsSync(c.join(r,t));if(!n)throw new Error("The include `"+t+"` was not found.");return c.join(r,t)}}t.GoogleProtoFilesRoot=b}).call(this,"/")},function(e,t,r){"use strict";
/*!
 * Copyright 2021 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReader=void 0;const n=r(65),o=r(13),i=r(25),a=r(41);t.DocumentReader=class{constructor(e,t,r,n){this.firestore=e,this.allDocuments=t,this.fieldMask=r,this.transactionOrReadTime=n,this.outstandingDocuments=new Set,this.retrievedDocuments=new Map;for(const e of this.allDocuments)this.outstandingDocuments.add(e.formattedName)}async get(e){const{result:t}=await this._get(e);return t}async _get(e){await this.fetchDocuments(e);const t=[];for(const e of this.allDocuments){const r=this.retrievedDocuments.get(e.formattedName);if(void 0===r)throw new Error(`Did not receive document for "${e.path}".`);{const o=new n.DocumentSnapshotBuilder(e);o.fieldsProto=r._fieldsProto,o.readTime=r.readTime,o.createTime=r.createTime,o.updateTime=r.updateTime,t.push(o.build())}}return{result:t,transaction:this.retrievedTransactionId}}async fetchDocuments(e){var t;if(!this.outstandingDocuments.size)return;const r={database:this.firestore.formattedName,documents:Array.from(this.outstandingDocuments)};if(this.transactionOrReadTime instanceof Uint8Array?r.transaction=this.transactionOrReadTime:this.transactionOrReadTime instanceof a.Timestamp?r.readTime=this.transactionOrReadTime.toProto().timestampValue:this.transactionOrReadTime&&(r.newTransaction=this.transactionOrReadTime),this.fieldMask){const e=this.fieldMask.map(e=>e.formattedName);r.mask={fieldPaths:e}}let n=0;try{const o=await this.firestore.requestStream("batchGetDocuments",!1,r,e);o.resume();for await(const r of o){let o;if((null===(t=r.transaction)||void 0===t?void 0:t.length)&&(this.retrievedTransactionId=r.transaction),r.found?((0,i.logger)("DocumentReader.fetchDocuments",e,"Received document: %s",r.found.name),o=this.firestore.snapshot_(r.found,r.readTime)):r.missing&&((0,i.logger)("DocumentReader.fetchDocuments",e,"Document missing: %s",r.missing),o=this.firestore.snapshot_(r.missing,r.readTime)),o){const e=o.ref.formattedName;this.outstandingDocuments.delete(e),this.retrievedDocuments.set(e,o),++n}}}catch(t){const a=!r.transaction&&!r.newTransaction&&n>0&&void 0!==t.code&&!(0,o.isPermanentRpcError)(t,"batchGetDocuments");if((0,i.logger)("DocumentReader.fetchDocuments",e,"BatchGetDocuments failed with error: %s. Retrying: %s",t,a),a)return this.fetchDocuments(e);throw t}finally{(0,i.logger)("DocumentReader.fetchDocuments",e,"Received %d results",n)}}}},function(e,t,r){"use strict";
/*!
 * Copyright 2017 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0,t.parseGetAllArguments=m;const n=r(143),o=r(58),i=r(25),a=r(15),s=r(406),l=r(79),p=r(116),c=r(153),u=r(13),d=r(14),h=r(430),f=r(42),g="Firestore read-only transactions cannot execute writes.";function m(e){let t,r=void 0;if(Array.isArray(e[0]))throw new Error("getAll() no longer accepts an array as its first argument. Please unpack your array and call getAll() with individual arguments.");e.length>0&&(0,u.isPlainObject)(e[e.length-1])?(r=e.pop(),t=e):t=e;for(let e=0;e<t.length;++e)(0,c.validateDocumentReference)(e,t[e]);!function(e,t,r){if(!(0,d.validateOptional)(t,r)){if(!(0,u.isObject)(t))throw new Error((0,d.invalidArgumentMessage)(e,"read option")+" Input is not an object.'");const r=t;if(void 0!==r.fieldMask){if(!Array.isArray(r.fieldMask))throw new Error((0,d.invalidArgumentMessage)(e,"read option")+' "fieldMask" is not an array.');for(let t=0;t<r.fieldMask.length;++t)try{(0,a.validateFieldPath)(t,r.fieldMask[t])}catch(t){throw new Error(`${(0,d.invalidArgumentMessage)(e,"read option")} "fieldMask" is not valid: ${t.message}`)}}}}("options",r,{optional:!0});return{fieldMask:r&&r.fieldMask?r.fieldMask.map(e=>a.FieldPath.fromArgument(e)):void 0,documents:t}}function y(e){if(void 0!==e.code)switch(e.code){case 10:case 1:case 2:case 4:case 13:case 14:case 16:case 8:return!0;case 3:return!!e.message.match(/transaction has expired/);default:return!1}return!1}async function v(e,t){8===(null==t?void 0:t.code)&&e.resetToMax(),await e.backoffAndWait()}t.Transaction=class{constructor(e,t,r){this._maxAttempts=o.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._firestore=e,this._requestTag=t,(null==r?void 0:r.readOnly)?(this._maxAttempts=1,this._readOnlyReadTime=r.readTime):(this._maxAttempts=(null==r?void 0:r.maxAttempts)||o.DEFAULT_MAX_TRANSACTION_ATTEMPTS,this._writeBatch=e.batch(),this._backoff=new n.ExponentialBackoff)}get(e){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error("Firestore transactions require all reads to be executed before all writes.");if(e instanceof l.DocumentReference)return this._firestore._traceUtil.startActiveSpan(f.SPAN_NAME_TRANSACTION_GET_DOCUMENT,()=>this.withLazyStartedTransaction(e,this.getSingleFn));if(e instanceof p.Query||e instanceof s.AggregateQuery)return this._firestore._traceUtil.startActiveSpan(e instanceof p.Query?f.SPAN_NAME_TRANSACTION_GET_QUERY:f.SPAN_NAME_TRANSACTION_GET_AGGREGATION_QUERY,()=>this.withLazyStartedTransaction(e,this.getQueryFn));throw new Error('Value for argument "refOrQuery" must be a DocumentReference, Query, or AggregateQuery.')}getAll(...e){if(this._writeBatch&&!this._writeBatch.isEmpty)throw new Error("Firestore transactions require all reads to be executed before all writes.");return(0,d.validateMinNumberOfArguments)("Transaction.getAll",e,1),this.withLazyStartedTransaction(m(e),this.getBatchFn)}create(e,t){if(!this._writeBatch)throw new Error(g);return this._writeBatch.create(e,t),this}set(e,t,r){if(!this._writeBatch)throw new Error(g);return r?this._writeBatch.set(e,t,r):this._writeBatch.set(e,t),this}update(e,t,...r){if(!this._writeBatch)throw new Error(g);return(0,d.validateMinNumberOfArguments)("Transaction.update",arguments,2),this._writeBatch.update(e,t,...r),this}delete(e,t){if(!this._writeBatch)throw new Error(g);return this._writeBatch.delete(e,t),this}async commit(){var e;return this._firestore._traceUtil.startActiveSpan(f.SPAN_NAME_TRANSACTION_COMMIT,async()=>{if(!this._writeBatch)throw new Error(g);let e;if(this._transactionIdPromise)e=await this._transactionIdPromise;else if(this._writeBatch.isEmpty)return;await this._writeBatch._commit({transactionId:e,requestTag:this._requestTag}),this._transactionIdPromise=void 0,this._prevTransactionId=e},{[f.ATTRIBUTE_KEY_IS_TRANSACTIONAL]:!0,[f.ATTRIBUTE_KEY_DOC_COUNT]:null===(e=this._writeBatch)||void 0===e?void 0:e._opCount})}async rollback(){return this._firestore._traceUtil.startActiveSpan(f.SPAN_NAME_TRANSACTION_ROLLBACK,async()=>{if(!this._transactionIdPromise||!this._writeBatch)return;let e;try{e=await this._transactionIdPromise}catch(e){return void(this._transactionIdPromise=void 0)}const t={database:this._firestore.formattedName,transaction:e};this._transactionIdPromise=void 0,this._prevTransactionId=e,this._firestore.request("rollback",t,this._requestTag).catch(e=>{(0,i.logger)("Firestore.runTransaction",this._requestTag,"Best effort to rollback failed with error:",e)})})}async runTransaction(e){return this._firestore._traceUtil.startActiveSpan(f.SPAN_NAME_TRANSACTION_RUN,async t=>{if(!this._writeBatch)return this.runTransactionOnce(e);let r=void 0;for(let n=0;n<this._maxAttempts;++n){t.setAttributes({[f.ATTRIBUTE_KEY_TRANSACTION_TYPE]:this._writeBatch?"READ_WRITE":"READ_ONLY",[f.ATTRIBUTE_KEY_ATTEMPTS_ALLOWED]:this._maxAttempts,[f.ATTRIBUTE_KEY_ATTEMPTS_REMAINING]:this._maxAttempts-n-1});try{return r&&((0,i.logger)("Firestore.runTransaction",this._requestTag,"Retrying transaction after error:",r),t.addEvent("Initiate transaction retry")),this._writeBatch._reset(),await v(this._backoff,r),await this.runTransactionOnce(e)}catch(e){if(r=e,!y(e))break}}return(0,i.logger)("Firestore.runTransaction",this._requestTag,"Transaction not eligible for retry, returning error: %s",r),Promise.reject(r)})}async runTransactionOnce(e){try{const t=e(this);if(!(t instanceof Promise))throw new Error("You must return a Promise in your transaction()-callback.");const r=await t;return this._writeBatch&&await this.commit(),r}catch(e){return(0,i.logger)("Firestore.runTransaction",this._requestTag,"Rolling back transaction after callback error:",e),await this.rollback(),Promise.reject(e)}}withLazyStartedTransaction(e,t){if(this._transactionIdPromise)return this._transactionIdPromise.then(r=>t.call(this,e,r)).then(e=>e.result);if(this._readOnlyReadTime)return t.call(this,e,this._readOnlyReadTime).then(e=>e.result);{const r={};this._writeBatch?r.readWrite=this._prevTransactionId?{retryTransaction:this._prevTransactionId}:{}:r.readOnly={};const n=t.call(this,e,r);return this._transactionIdPromise=n.then(e=>{if(!e.transaction)throw new Error("Transaction ID was missing from server response");return e.transaction}),n.then(e=>e.result)}}async getSingleFn(e,t){const r=new h.DocumentReader(this._firestore,[e],void 0,t),{transaction:n,result:[o]}=await r._get(this._requestTag);return{transaction:n,result:o}}async getBatchFn({documents:e,fieldMask:t},r){return this._firestore._traceUtil.startActiveSpan(f.SPAN_NAME_TRANSACTION_GET_DOCUMENTS,async()=>new h.DocumentReader(this._firestore,e,t,r)._get(this._requestTag))}async getQueryFn(e,t){return e._get(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryPartition=void 0;const n=r(403),o=r(116),i=r(157),a=r(15),s=r(96);t.QueryPartition=class{constructor(e,t,r,n,o){this._firestore=e,this._collectionId=t,this._converter=r,this._startAt=n,this._endBefore=o,this._serializer=new s.Serializer(e)}get startAt(){return this._startAt&&!this._memoizedStartAt&&(this._memoizedStartAt=this._startAt.map(e=>this._serializer.decodeValue(e))),this._memoizedStartAt}get endBefore(){return this._endBefore&&!this._memoizedEndBefore&&(this._memoizedEndBefore=this._endBefore.map(e=>this._serializer.decodeValue(e))),this._memoizedEndBefore}toQuery(){let e=i.QueryOptions.forCollectionGroupQuery(this._collectionId,this._converter);return e=e.with({fieldOrders:[new n.FieldOrder(a.FieldPath.documentId())]}),void 0!==this._startAt&&(e=e.with({startAt:{before:!0,values:this._startAt}})),void 0!==this._endBefore&&(e=e.with({endAt:{before:!0,values:this._endBefore}})),new o.Query(this._firestore,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;t.Span=class{constructor(e){this.span=e}end(){var e;null===(e=this.span)||void 0===e||e.end()}addEvent(e,t){var r;return this.span=null===(r=this.span)||void 0===r?void 0:r.addEvent(e,t),this}setAttributes(e){var t;return this.span=null===(t=this.span)||void 0===t?void 0:t.setAttributes(e),this}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreAdminClient=t.FirestoreClient=void 0;const n=r(760);Object.defineProperty(t,"FirestoreAdminClient",{enumerable:!0,get:function(){return n.FirestoreAdminClient}});const o=r(763);Object.defineProperty(t,"FirestoreClient",{enumerable:!0,get:function(){return o.FirestoreClient}});const i=e.exports;e.exports=o.FirestoreClient,e.exports=Object.assign(e.exports,i)},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0,t.getStorage=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("storage",e=>new o.Storage(e))},t.getDownloadURL=async function(e){const t=(process.env.STORAGE_EMULATOR_HOST||"https://firebasestorage.googleapis.com")+"/v0",{downloadTokens:r}=await(0,a.getFirebaseMetadata)(t,e);if(!r)throw new i.FirebaseError({code:"storage/no-download-token",message:"No download token available. Please create one in the Firebase Console."});const[n]=r.split(",");return`${t}/b/${e.bucket.name}/o/${encodeURIComponent(e.name)}?alt=media&token=${n}`};const n=r(29),o=r(198),i=r(2),a=r(769);var s=r(198);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return s.Storage}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseMachineLearningError=void 0;const n=r(2);class o extends n.PrefixedFirebaseError{static fromOperationError(e,t){switch(e){case 1:return new o("cancelled",t);case 2:return new o("unknown-error",t);case 3:return new o("invalid-argument",t);case 4:return new o("deadline-exceeded",t);case 5:return new o("not-found",t);case 6:return new o("already-exists",t);case 7:return new o("permission-denied",t);case 8:return new o("resource-exhausted",t);case 9:return new o("failed-precondition",t);case 10:return new o("aborted",t);case 11:return new o("out-of-range",t);case 13:return new o("internal-error",t);case 14:return new o("service-unavailable",t);case 15:return new o("data-loss",t);case 16:return new o("unauthenticated",t);default:return new o("unknown-error",t)}}constructor(e,t){super("machine-learning",e,t)}}t.FirebaseMachineLearningError=o},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Installations=void 0;const n=r(2),o=r(771),i=r(4);t.Installations=class{constructor(e){if(!i.isNonNullObject(e)||!("options"in e))throw new n.FirebaseInstallationsError(n.InstallationsClientErrorCode.INVALID_ARGUMENT,"First argument passed to admin.installations() must be a valid Firebase app instance.");this.app_=e,this.requestHandler=new o.FirebaseInstallationsRequestHandler(e)}deleteInstallation(e){return this.requestHandler.deleteInstallation(e)}get app(){return this.app_}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceId=void 0;const n=r(439),o=r(2),i=r(4);t.InstanceId=class{constructor(e){if(!i.isNonNullObject(e)||!("options"in e))throw new o.FirebaseInstanceIdError(o.InstanceIdClientErrorCode.INVALID_ARGUMENT,"First argument passed to instanceId() must be a valid Firebase app instance.");this.app_=e}deleteInstanceId(e){return(0,n.getInstallations)(this.app).deleteInstallation(e).catch(e=>{if(e instanceof o.FirebaseInstallationsError){let t=e.code.replace("installations/","");throw t===o.InstallationsClientErrorCode.INVALID_INSTALLATION_ID.code&&(t=o.InstanceIdClientErrorCode.INVALID_INSTANCE_ID.code),new o.FirebaseInstanceIdError({code:t,message:e.message})}throw e})}get app(){return this.app_}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.InstallationsClientErrorCode=t.FirebaseInstallationsError=t.Installations=void 0,t.getInstallations=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("installations",e=>new o.Installations(e))};const n=r(29),o=r(437);Object.defineProperty(t,"Installations",{enumerable:!0,get:function(){return o.Installations}});var i=r(2);Object.defineProperty(t,"FirebaseInstallationsError",{enumerable:!0,get:function(){return i.FirebaseInstallationsError}}),Object.defineProperty(t,"InstallationsClientErrorCode",{enumerable:!0,get:function(){return i.InstallationsClientErrorCode}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ShaCertificate=t.AndroidApp=void 0;const n=r(2),o=r(4),i=r(234),a=r(158);t.AndroidApp=class{constructor(e,t){if(this.appId=e,this.requestHandler=t,!o.isNonEmptyString(e))throw new n.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName="projects/-/androidApps/"+e}getMetadata(){return this.requestHandler.getResource(this.resourceName).then(e=>{(0,i.assertServerResponse)(o.isNonNullObject(e),e,"getMetadata()'s responseData must be a non-null object.");["name","appId","projectId","packageName"].forEach(t=>{(0,i.assertServerResponse)(o.isNonEmptyString(e[t]),e,`getMetadata()'s responseData.${t} must be a non-empty string.`)});return{platform:a.AppPlatform.ANDROID,resourceName:e.name,appId:e.appId,displayName:e.displayName||null,projectId:e.projectId,packageName:e.packageName}})}setDisplayName(e){return this.requestHandler.setDisplayName(this.resourceName,e)}getShaCertificates(){return this.requestHandler.getAndroidShaCertificates(this.resourceName).then(e=>{if((0,i.assertServerResponse)(o.isNonNullObject(e),e,"getShaCertificates()'s responseData must be a non-null object."),!e.certificates)return[];(0,i.assertServerResponse)(o.isArray(e.certificates),e,'"certificates" field must be present in the getShaCertificates() response data.');const t=["name","shaHash"];return e.certificates.map(r=>(t.forEach(t=>{(0,i.assertServerResponse)(o.isNonEmptyString(r[t]),e,`getShaCertificates()'s responseData.certificates[].${t} must be a non-empty string.`)}),new s(r.shaHash,r.name)))})}addShaCertificate(e){return this.requestHandler.addAndroidShaCertificate(this.resourceName,e)}deleteShaCertificate(e){if(!e.resourceName)throw new n.FirebaseProjectManagementError("invalid-argument","Specified certificate does not include a resourceName. (Use AndroidApp.getShaCertificates() to retrieve certificates with a resourceName.");return this.requestHandler.deleteResource(e.resourceName)}getConfig(){return this.requestHandler.getConfig(this.resourceName).then(e=>{(0,i.assertServerResponse)(o.isNonNullObject(e),e,"getConfig()'s responseData must be a non-null object.");const t=e.configFileContents;return(0,i.assertServerResponse)(o.isBase64String(t),e,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(t,"base64").toString("utf8")})}};class s{constructor(e,t){if(this.shaHash=e,this.resourceName=t,/^[a-fA-F0-9]{40}$/.test(e))this.certType="sha1";else{if(!/^[a-fA-F0-9]{64}$/.test(e))throw new n.FirebaseProjectManagementError("invalid-argument","shaHash must be either a sha256 hash or a sha1 hash.");this.certType="sha256"}}}t.ShaCertificate=s},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.IosApp=void 0;const n=r(2),o=r(4),i=r(234),a=r(158);t.IosApp=class{constructor(e,t){if(this.appId=e,this.requestHandler=t,!o.isNonEmptyString(e))throw new n.FirebaseProjectManagementError("invalid-argument","appId must be a non-empty string.");this.resourceName="projects/-/iosApps/"+e}getMetadata(){return this.requestHandler.getResource(this.resourceName).then(e=>{(0,i.assertServerResponse)(o.isNonNullObject(e),e,"getMetadata()'s responseData must be a non-null object.");["name","appId","projectId","bundleId"].forEach(t=>{(0,i.assertServerResponse)(o.isNonEmptyString(e[t]),e,`getMetadata()'s responseData.${t} must be a non-empty string.`)});return{platform:a.AppPlatform.IOS,resourceName:e.name,appId:e.appId,displayName:e.displayName||null,projectId:e.projectId,bundleId:e.bundleId}})}setDisplayName(e){return this.requestHandler.setDisplayName(this.resourceName,e)}getConfig(){return this.requestHandler.getConfig(this.resourceName).then(e=>{(0,i.assertServerResponse)(o.isNonNullObject(e),e,"getConfig()'s responseData must be a non-null object.");const t=e.configFileContents;return(0,i.assertServerResponse)(o.isBase64String(t),e,"getConfig()'s responseData.configFileContents must be a base64 string."),Buffer.from(t,"base64").toString("utf8")})}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseSecurityRulesError=void 0;const n=r(2);class o extends n.PrefixedFirebaseError{constructor(e,t){super("security-rules",e,t)}}t.FirebaseSecurityRulesError=o},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSignalOperator=t.PercentConditionOperator=void 0,function(e){e.UNKNOWN="UNKNOWN",e.LESS_OR_EQUAL="LESS_OR_EQUAL",e.GREATER_THAN="GREATER_THAN",e.BETWEEN="BETWEEN"}(n||(t.PercentConditionOperator=n={})),function(e){e.UNKNOWN="UNKNOWN",e.NUMERIC_LESS_THAN="NUMERIC_LESS_THAN",e.NUMERIC_LESS_EQUAL="NUMERIC_LESS_EQUAL",e.NUMERIC_EQUAL="NUMERIC_EQUAL",e.NUMERIC_NOT_EQUAL="NUMERIC_NOT_EQUAL",e.NUMERIC_GREATER_THAN="NUMERIC_GREATER_THAN",e.NUMERIC_GREATER_EQUAL="NUMERIC_GREATER_EQUAL",e.STRING_CONTAINS="STRING_CONTAINS",e.STRING_DOES_NOT_CONTAIN="STRING_DOES_NOT_CONTAIN",e.STRING_EXACTLY_MATCHES="STRING_EXACTLY_MATCHES",e.STRING_CONTAINS_REGEX="STRING_CONTAINS_REGEX",e.SEMANTIC_VERSION_LESS_THAN="SEMANTIC_VERSION_LESS_THAN",e.SEMANTIC_VERSION_LESS_EQUAL="SEMANTIC_VERSION_LESS_EQUAL",e.SEMANTIC_VERSION_EQUAL="SEMANTIC_VERSION_EQUAL",e.SEMANTIC_VERSION_NOT_EQUAL="SEMANTIC_VERSION_NOT_EQUAL",e.SEMANTIC_VERSION_GREATER_THAN="SEMANTIC_VERSION_GREATER_THAN",e.SEMANTIC_VERSION_GREATER_EQUAL="SEMANTIC_VERSION_GREATER_EQUAL"}(o||(t.CustomSignalOperator=o={}))},function(e,t,r){"use strict";r.r(t),r.d(t,"baggageEntryMetadataFromString",(function(){return A})),r.d(t,"createContextKey",(function(){return C})),r.d(t,"ROOT_CONTEXT",(function(){return P})),r.d(t,"DiagConsoleLogger",(function(){return D})),r.d(t,"DiagLogLevel",(function(){return d})),r.d(t,"createNoopMeter",(function(){return X})),r.d(t,"ValueType",(function(){return N})),r.d(t,"defaultTextMapGetter",(function(){return ee})),r.d(t,"defaultTextMapSetter",(function(){return te})),r.d(t,"ProxyTracer",(function(){return De})),r.d(t,"ProxyTracerProvider",(function(){return xe})),r.d(t,"SamplingDecision",(function(){return Ie})),r.d(t,"SpanKind",(function(){return Ne})),r.d(t,"SpanStatusCode",(function(){return Pe})),r.d(t,"TraceFlags",(function(){return Z})),r.d(t,"createTraceState",(function(){return Ue})),r.d(t,"isSpanContextValid",(function(){return Se})),r.d(t,"isValidTraceId",(function(){return Oe})),r.d(t,"isValidSpanId",(function(){return we})),r.d(t,"INVALID_SPANID",(function(){return pe})),r.d(t,"INVALID_TRACEID",(function(){return ce})),r.d(t,"INVALID_SPAN_CONTEXT",(function(){return ue})),r.d(t,"context",(function(){return Be})),r.d(t,"diag",(function(){return Ve})),r.d(t,"metrics",(function(){return Ge})),r.d(t,"propagation",(function(){return Qe})),r.d(t,"trace",(function(){return Xe}));var n="object"==typeof globalThis?globalThis:global,o=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var i=function(e){var t=new Set([e]),r=new Set,n=e.match(o);if(!n)return function(){return!1};var i=+n[1],a=+n[2],s=+n[3];if(null!=n[4])return function(t){return t===e};function l(e){return r.add(e),!1}function p(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(o);if(!n)return l(e);var c=+n[1],u=+n[2],d=+n[3];return null!=n[4]||i!==c?l(e):0===i?a===u&&s<=d?p(e):l(e):a<=u?p(e):l(e)}}("1.9.0"),a="1.9.0".split(".")[0],s=Symbol.for("opentelemetry.js.api."+a),l=n;function p(e,t,r,n){var o;void 0===n&&(n=!1);var i=l[s]=null!==(o=l[s])&&void 0!==o?o:{version:"1.9.0"};if(!n&&i[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if("1.9.0"!==i.version){a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v1.9.0");return r.error(a.stack||a.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v1.9.0."),!0}function c(e){var t,r,n=null===(t=l[s])||void 0===t?void 0:t.version;if(n&&i(n))return null===(r=l[s])||void 0===r?void 0:r[e]}function u(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v1.9.0.");var r=l[s];r&&delete r[e]}var d,h=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},f=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},g=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m("verbose",this._namespace,e)},e}();function m(e,t,r){var n=c("diag");if(n)return r.unshift(t),n[e].apply(n,f([],h(r),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(d||(d={}));var y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},v=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},b=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=c("diag");if(n)return n[e].apply(n,v([],y(t),!1))}}var t=this;t.setLogger=function(e,r){var n,o,i;if(void 0===r&&(r={logLevel:d.INFO}),e===t){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=a.stack)&&void 0!==n?n:a.message),!1}"number"==typeof r&&(r={logLevel:r});var s=c("diag"),l=function(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<d.NONE?e=d.NONE:e>d.ALL&&(e=d.ALL),t=t||{},{error:r("error",d.ERROR),warn:r("warn",d.WARN),info:r("info",d.INFO),debug:r("debug",d.DEBUG),verbose:r("verbose",d.VERBOSE)}}(null!==(o=r.logLevel)&&void 0!==o?o:d.INFO,e);if(s&&!r.suppressOverrideMessage){var u=null!==(i=(new Error).stack)&&void 0!==i?i:"<failed to generate stacktrace>";s.warn("Current logger will be overwritten from "+u),l.warn("Current logger will overwrite one already registered from "+u)}return p("diag",l,t,!0)},t.disable=function(){u("diag",t)},t.createComponentLogger=function(e){return new g(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),E=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=E(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new e(this._entries);try{for(var a=_(n),s=a.next();!s.done;s=a.next()){var l=s.value;i._entries.delete(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),w=Symbol("BaggageEntryMetadata"),S=b.instance();function T(e){return void 0===e&&(e={}),new O(new Map(Object.entries(e)))}function A(e){return"string"!=typeof e&&(S.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:w,toString:function(){return e}}}function C(e){return Symbol.for(e)}var I,N,P=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}},R=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],D=function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<R.length;t++)this[R[t].n]=e(R[t].c)},k=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),x=function(){function e(){}return e.prototype.createGauge=function(e,t){return W},e.prototype.createHistogram=function(e,t){return J},e.prototype.createCounter=function(e,t){return z},e.prototype.createUpDownCounter=function(e,t){return K},e.prototype.createObservableGauge=function(e,t){return $},e.prototype.createObservableCounter=function(e,t){return Y},e.prototype.createObservableUpDownCounter=function(e,t){return Q},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),j=function(){},L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.add=function(e,t){},t}(j),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.add=function(e,t){},t}(j),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.record=function(e,t){},t}(j),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.record=function(e,t){},t}(j),B=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t}(B),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t}(B),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t}(B),H=new x,z=new L,W=new M,J=new U,K=new F,Y=new V,$=new q,Q=new G;function X(){return H}!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(N||(N={}));var Z,ee={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},te={set:function(e,t,r){null!=e&&(e[t]=r)}},re=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ne=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},oe=function(){function e(){}return e.prototype.active=function(){return P},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];return t.call.apply(t,ne([r],re(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),ie=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ae=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},se=new oe,le=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return p("context",e,b.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,ae([e,t,r],ie(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return c("context")||se},e.prototype.disable=function(){this._getContextManager().disable(),u("context",b.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(Z||(Z={}));var pe="0000000000000000",ce="00000000000000000000000000000000",ue={traceId:ce,spanId:pe,traceFlags:Z.NONE},de=function(){function e(e){void 0===e&&(e=ue),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),he=C("OpenTelemetry Context Key SPAN");function fe(e){return e.getValue(he)||void 0}function ge(){return fe(le.getInstance().active())}function me(e,t){return e.setValue(he,t)}function ye(e){return e.deleteValue(he)}function ve(e,t){return me(e,new de(t))}function be(e){var t;return null===(t=fe(e))||void 0===t?void 0:t.spanContext()}var Ee=/^([0-9a-f]{32})$/i,_e=/^[0-9a-f]{16}$/i;function Oe(e){return Ee.test(e)&&e!==ce}function we(e){return _e.test(e)&&e!==pe}function Se(e){return Oe(e.traceId)&&we(e.spanId)}function Te(e){return new de(e)}var Ae=le.getInstance(),Ce=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=Ae.active()),Boolean(null==t?void 0:t.root))return new de;var n,o=r&&be(r);return"object"==typeof(n=o)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&Se(o)?new de(o):new de},e.prototype.startActiveSpan=function(e,t,r,n){var o,i,a;if(!(arguments.length<2)){2===arguments.length?a=t:3===arguments.length?(o=t,a=r):(o=t,i=r,a=n);var s=null!=i?i:Ae.active(),l=this.startSpan(e,o,s),p=me(s,l);return Ae.with(p,a,void 0,l)}},e}();var Ie,Ne,Pe,Re=new Ce,De=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Re},e}(),ke=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new Ce},e}()),xe=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new De(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:ke},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(Ie||(Ie={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(Ne||(Ne={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(Pe||(Pe={}));var je=new RegExp("^(?:[a-z][_0-9a-z-*/]{0,255}|[a-z0-9][_0-9a-z-*/]{0,240}@[a-z][_0-9a-z-*/]{0,13})$"),Le=/^[ -~]{0,255}[!-~]$/,Fe=/,|=/;var Me=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,t.length);(function(e){return je.test(e)})(o)&&function(e){return Le.test(e)&&!Fe.test(e)}(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function Ue(e){return new Me(e)}var Be=le.getInstance(),Ve=b.instance(),qe=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return H},e}()),Ge=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return p("metrics",e,b.instance())},e.prototype.getMeterProvider=function(){return c("metrics")||qe},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){u("metrics",b.instance())},e}().getInstance(),He=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),ze=C("OpenTelemetry Baggage Key");function We(e){return e.getValue(ze)||void 0}function Je(){return We(le.getInstance().active())}function Ke(e,t){return e.setValue(ze,t)}function Ye(e){return e.deleteValue(ze)}var $e=new He,Qe=function(){function e(){this.createBaggage=T,this.getBaggage=We,this.getActiveBaggage=Je,this.setBaggage=Ke,this.deleteBaggage=Ye}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return p("propagation",e,b.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=te),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=ee),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){u("propagation",b.instance())},e.prototype._getGlobalPropagator=function(){return c("propagation")||$e},e}().getInstance(),Xe=function(){function e(){this._proxyTracerProvider=new xe,this.wrapSpanContext=Te,this.isSpanContextValid=Se,this.deleteSpan=ye,this.getSpan=fe,this.getActiveSpan=ge,this.getSpanContext=be,this.setSpan=me,this.setSpanContext=ve}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=p("trace",this._proxyTracerProvider,b.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return c("trace")||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){u("trace",b.instance()),this._proxyTracerProvider=new xe},e}().getInstance();t.default={context:Be,diag:Ve,metrics:Ge,propagation:Qe,trace:Xe}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n=r(446),o="undefined"!=typeof process?process:0;if("[object process]"!==Object.prototype.toString.call(o)){const e="\n======== WARNING! ========\n\nfirebase-admin appears to have been installed in an unsupported environment.\nThis package should only be used in server-side or backend Node.js environments,\nand should not be used in web browsers or other client-side environments.\n\nUse the Firebase JS SDK for client-side Firebase integrations:\n\nhttps://firebase.google.com/docs/web/setup\n";console.error(e)}e.exports=n},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n=r(447);n.defaultNamespace.default=n.defaultNamespace,e.exports=n.defaultNamespace},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.defaultNamespace=t.FirebaseNamespace=t.FirebaseNamespaceInternals=void 0;const n=r(243),o=r(285),i=r(9);class a{constructor(e){this.appStore=e}initializeApp(e,t){return p(this.appStore.initializeApp(e,t))}app(e){return p(this.appStore.getApp(e))}get apps(){return this.appStore.getApps().map(e=>p(e))}}t.FirebaseNamespaceInternals=a;const s={cert:o.cert,refreshToken:o.refreshToken,applicationDefault:o.applicationDefault};class l{constructor(e){this.__esModule=!0,this.credential=s,this.SDK_VERSION=(0,i.getSdkVersion)(),this.Promise=Promise,this.INTERNAL=new a(null!=e?e:new n.AppStore)}get auth(){const e=r(169).Auth;return Object.assign(e=>this.ensureApp(e).auth(),{Auth:e})}get database(){return Object.assign(e=>this.ensureApp(e).database(),r(196))}get messaging(){const e=r(197).Messaging;return Object.assign(e=>this.ensureApp(e).messaging(),{Messaging:e})}get storage(){const e=r(198).Storage;return Object.assign(e=>this.ensureApp(e).storage(),{Storage:e})}get firestore(){let e=e=>this.ensureApp(e).firestore();const t=r(58);return e=Object.assign(e,t.Firestore),Object.defineProperty(e,"v1beta1",{get:()=>t.v1beta1}),Object.defineProperty(e,"v1",{get:()=>t.v1}),e}get machineLearning(){const e=r(232).MachineLearning;return Object.assign(e=>this.ensureApp(e).machineLearning(),{MachineLearning:e})}get installations(){const e=r(437).Installations;return Object.assign(e=>this.ensureApp(e).installations(),{Installations:e})}get instanceId(){const e=r(438).InstanceId;return Object.assign(e=>this.ensureApp(e).instanceId(),{InstanceId:e})}get projectManagement(){const e=r(233).ProjectManagement;return Object.assign(e=>this.ensureApp(e).projectManagement(),{ProjectManagement:e})}get securityRules(){const e=r(235).SecurityRules;return Object.assign(e=>this.ensureApp(e).securityRules(),{SecurityRules:e})}get remoteConfig(){const e=r(236).RemoteConfig;return Object.assign(e=>this.ensureApp(e).remoteConfig(),{RemoteConfig:e})}get appCheck(){const e=r(237).AppCheck;return Object.assign(e=>this.ensureApp(e).appCheck(),{AppCheck:e})}initializeApp(e,t){return this.INTERNAL.initializeApp(e,t)}app(e){return this.INTERNAL.app(e)}get apps(){return this.INTERNAL.apps}ensureApp(e){return void 0===e&&(e=this.app()),e}}function p(e){const t=e;return t.__extended||(t.auth=()=>(0,r(778).getAuth)(e),t.appCheck=()=>(0,r(779).getAppCheck)(e),t.database=t=>(0,r(780).getDatabaseWithUrl)(t,e),t.messaging=()=>(0,r(782).getMessaging)(e),t.storage=()=>(0,r(435).getStorage)(e),t.firestore=()=>(0,r(783).getFirestore)(e),t.instanceId=()=>(0,r(785).getInstanceId)(e),t.installations=()=>(0,r(439).getInstallations)(e),t.machineLearning=()=>(0,r(786).getMachineLearning)(e),t.projectManagement=()=>(0,r(787).getProjectManagement)(e),t.securityRules=()=>(0,r(788).getSecurityRules)(e),t.remoteConfig=()=>(0,r(789).getRemoteConfig)(e),t.__extended=!0),t}t.FirebaseNamespace=l,t.defaultNamespace=new l(n.defaultAppStore)},function(e,t,r){"use strict";var n,o,i,a,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAuth=t.GoogleAuthExceptionMessages=t.CLOUD_SDK_CLIENT_ID=void 0;const p=r(159),c=r(17),u=r(117),d=r(67),h=r(46),f=r(100),g=r(121),m=r(252),y=r(254),v=r(255),b=r(256),E=r(263),_=r(264),O=r(265),w=r(70),S=r(54),T=r(490),A=r(69);t.CLOUD_SDK_CLIENT_ID="764086051850-6qr4p6gpi6hn506pt8ejuq83di341hur.apps.googleusercontent.com",t.GoogleAuthExceptionMessages={API_KEY_WITH_CREDENTIALS:"API Keys and Credentials are mutually exclusive authentication methods and cannot be used together.",NO_PROJECT_ID_FOUND:"Unable to detect a Project Id in the current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started",NO_CREDENTIALS_FOUND:"Unable to find credentials in current environment. \nTo learn more about authentication and Google APIs, visit: \nhttps://cloud.google.com/docs/authentication/getting-started",NO_ADC_FOUND:"Could not load the default credentials. Browse to https://cloud.google.com/docs/authentication/getting-started for more information.",NO_UNIVERSE_DOMAIN_FOUND:"Unable to detect a Universe Domain in the current environment.\nTo learn more about Universe Domain retrieval, visit: \nhttps://cloud.google.com/compute/docs/metadata/predefined-metadata-keys"};class C{get isGCE(){return this.checkIsGCE}constructor(e={}){if(n.add(this),this.checkIsGCE=void 0,this.jsonContent=null,this.cachedCredential=null,o.set(this,null),this.clientOptions={},this._cachedProjectId=e.projectId||null,this.cachedCredential=e.authClient||null,this.keyFilename=e.keyFilename||e.keyFile,this.scopes=e.scopes,this.clientOptions=e.clientOptions||{},this.jsonContent=e.credentials||null,this.apiKey=e.apiKey||this.clientOptions.apiKey||null,this.apiKey&&(this.jsonContent||this.clientOptions.credentials))throw new RangeError(t.GoogleAuthExceptionMessages.API_KEY_WITH_CREDENTIALS);e.universeDomain&&(this.clientOptions.universeDomain=e.universeDomain)}setGapicJWTValues(e){e.defaultServicePath=this.defaultServicePath,e.useJWTAccessWithScope=this.useJWTAccessWithScope,e.defaultScopes=this.defaultScopes}getProjectId(e){if(!e)return this.getProjectIdAsync();this.getProjectIdAsync().then(t=>e(null,t),e)}async getProjectIdOptional(){try{return await this.getProjectId()}catch(e){if(e instanceof Error&&e.message===t.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)return null;throw e}}async findAndCacheProjectId(){let e=null;if(e||(e=await this.getProductionProjectId()),e||(e=await this.getFileProjectId()),e||(e=await this.getDefaultServiceProjectId()),e||(e=await this.getGCEProjectId()),e||(e=await this.getExternalAccountClientProjectId()),e)return this._cachedProjectId=e,e;throw new Error(t.GoogleAuthExceptionMessages.NO_PROJECT_ID_FOUND)}async getProjectIdAsync(){return this._cachedProjectId?this._cachedProjectId:(this._findProjectIdPromise||(this._findProjectIdPromise=this.findAndCacheProjectId()),this._findProjectIdPromise)}async getUniverseDomainFromMetadataServer(){var e;let t;try{t=await u.universe("universe-domain"),t||(t=S.DEFAULT_UNIVERSE)}catch(r){if(!r||404!==(null===(e=null==r?void 0:r.response)||void 0===e?void 0:e.status))throw r;t=S.DEFAULT_UNIVERSE}return t}async getUniverseDomain(){let e=(0,A.originalOrCamelOptions)(this.clientOptions).get("universe_domain");try{null!=e||(e=(await this.getClient()).universeDomain)}catch(t){null!=e||(e=S.DEFAULT_UNIVERSE)}return e}getAnyScopes(){return this.scopes||this.defaultScopes}getApplicationDefault(e={},t){let r;if("function"==typeof e?t=e:r=e,!t)return this.getApplicationDefaultAsync(r);this.getApplicationDefaultAsync(r).then(e=>t(null,e.credential,e.projectId),t)}async getApplicationDefaultAsync(e={}){if(this.cachedCredential)return await s(this,n,"m",i).call(this,this.cachedCredential,null);let r;if(r=await this._tryGetApplicationCredentialsFromEnvironmentVariable(e),r)return r instanceof b.JWT?r.scopes=this.scopes:r instanceof w.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),await s(this,n,"m",i).call(this,r);if(r=await this._tryGetApplicationCredentialsFromWellKnownFile(e),r)return r instanceof b.JWT?r.scopes=this.scopes:r instanceof w.BaseExternalAccountClient&&(r.scopes=this.getAnyScopes()),await s(this,n,"m",i).call(this,r);if(await this._checkIsGCE())return e.scopes=this.getAnyScopes(),await s(this,n,"m",i).call(this,new m.Compute(e));throw new Error(t.GoogleAuthExceptionMessages.NO_ADC_FOUND)}async _checkIsGCE(){return void 0===this.checkIsGCE&&(this.checkIsGCE=u.getGCPResidency()||await u.isAvailable()),this.checkIsGCE}async _tryGetApplicationCredentialsFromEnvironmentVariable(e){const t=process.env.GOOGLE_APPLICATION_CREDENTIALS||process.env.google_application_credentials;if(!t||0===t.length)return null;try{return this._getApplicationCredentialsFromFilePath(t,e)}catch(e){throw e instanceof Error&&(e.message="Unable to read the credential file specified by the GOOGLE_APPLICATION_CREDENTIALS environment variable: "+e.message),e}}async _tryGetApplicationCredentialsFromWellKnownFile(e){let t=null;if(this._isWindows())t=process.env.APPDATA;else{const e=process.env.HOME;e&&(t=h.join(e,".config"))}if(t&&(t=h.join(t,"gcloud","application_default_credentials.json"),c.existsSync(t)||(t=null)),!t)return null;return await this._getApplicationCredentialsFromFilePath(t,e)}async _getApplicationCredentialsFromFilePath(e,t={}){if(!e||0===e.length)throw new Error("The file path is invalid.");try{if(e=c.realpathSync(e),!c.lstatSync(e).isFile())throw new Error}catch(t){throw t instanceof Error&&(t.message=`The file at ${e} does not exist, or it is not a file. ${t.message}`),t}const r=c.createReadStream(e);return this.fromStream(r,t)}fromImpersonatedJSON(e){var t,r,n,o;if(!e)throw new Error("Must pass in a JSON object containing an  impersonated refresh token");if(e.type!==_.IMPERSONATED_ACCOUNT_TYPE)throw new Error(`The incoming JSON object does not have the "${_.IMPERSONATED_ACCOUNT_TYPE}" type`);if(!e.source_credentials)throw new Error("The incoming JSON object does not contain a source_credentials field");if(!e.service_account_impersonation_url)throw new Error("The incoming JSON object does not contain a service_account_impersonation_url field");const i=this.fromJSON(e.source_credentials);if((null===(t=e.service_account_impersonation_url)||void 0===t?void 0:t.length)>256)throw new RangeError("Target principal is too long: "+e.service_account_impersonation_url);const a=null===(n=null===(r=/(?<target>[^/]+):(generateAccessToken|generateIdToken)$/.exec(e.service_account_impersonation_url))||void 0===r?void 0:r.groups)||void 0===n?void 0:n.target;if(!a)throw new RangeError("Cannot extract target principal from "+e.service_account_impersonation_url);const s=null!==(o=this.getAnyScopes())&&void 0!==o?o:[];return new _.Impersonated({...e,sourceClient:i,targetPrincipal:a,targetScopes:Array.isArray(s)?s:[s]})}fromJSON(e,t={}){let r;const n=(0,A.originalOrCamelOptions)(t).get("universe_domain");return e.type===E.USER_REFRESH_ACCOUNT_TYPE?(r=new E.UserRefreshClient(t),r.fromJSON(e)):e.type===_.IMPERSONATED_ACCOUNT_TYPE?r=this.fromImpersonatedJSON(e):e.type===w.EXTERNAL_ACCOUNT_TYPE?(r=O.ExternalAccountClient.fromJSON(e,t),r.scopes=this.getAnyScopes()):e.type===T.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE?r=new T.ExternalAccountAuthorizedUserClient(e,t):(t.scopes=this.scopes,r=new b.JWT(t),this.setGapicJWTValues(r),r.fromJSON(e)),n&&(r.universeDomain=n),r}_cacheClientFromJSON(e,t){const r=this.fromJSON(e,t);return this.jsonContent=e,this.cachedCredential=r,r}fromStream(e,t={},r){let n={};if("function"==typeof t?r=t:n=t,!r)return this.fromStreamAsync(e,n);this.fromStreamAsync(e,n).then(e=>r(null,e),r)}fromStreamAsync(e,t){return new Promise((r,n)=>{if(!e)throw new Error("Must pass in a stream containing the Google auth settings.");const o=[];e.setEncoding("utf8").on("error",n).on("data",e=>o.push(e)).on("end",()=>{try{try{const e=JSON.parse(o.join("")),n=this._cacheClientFromJSON(e,t);return r(n)}catch(e){if(!this.keyFilename)throw e;const t=new b.JWT({...this.clientOptions,keyFile:this.keyFilename});return this.cachedCredential=t,this.setGapicJWTValues(t),r(t)}}catch(e){return n(e)}})})}fromAPIKey(e,t={}){return new b.JWT({...t,apiKey:e})}_isWindows(){const e=d.platform();return!!(e&&e.length>=3&&"win"===e.substring(0,3).toLowerCase())}async getDefaultServiceProjectId(){return new Promise(e=>{(0,p.exec)("gcloud config config-helper --format json",(t,r)=>{if(!t&&r)try{const t=JSON.parse(r).configuration.properties.core.project;return void e(t)}catch(e){}e(null)})})}getProductionProjectId(){return process.env.GCLOUD_PROJECT||process.env.GOOGLE_CLOUD_PROJECT||process.env.gcloud_project||process.env.google_cloud_project}async getFileProjectId(){if(this.cachedCredential)return this.cachedCredential.projectId;if(this.keyFilename){const e=await this.getClient();if(e&&e.projectId)return e.projectId}const e=await this._tryGetApplicationCredentialsFromEnvironmentVariable();return e?e.projectId:null}async getExternalAccountClientProjectId(){if(!this.jsonContent||this.jsonContent.type!==w.EXTERNAL_ACCOUNT_TYPE)return null;const e=await this.getClient();return await e.getProjectId()}async getGCEProjectId(){try{return await u.project("project-id")}catch(e){return null}}getCredentials(e){if(!e)return this.getCredentialsAsync();this.getCredentialsAsync().then(t=>e(null,t),e)}async getCredentialsAsync(){const e=await this.getClient();if(e instanceof _.Impersonated)return{client_email:e.getTargetPrincipal()};if(e instanceof w.BaseExternalAccountClient){const t=e.getServiceAccountEmail();if(t)return{client_email:t,universe_domain:e.universeDomain}}if(this.jsonContent)return{client_email:this.jsonContent.client_email,private_key:this.jsonContent.private_key,universe_domain:this.jsonContent.universe_domain};if(await this._checkIsGCE()){const[e,t]=await Promise.all([u.instance("service-accounts/default/email"),this.getUniverseDomain()]);return{client_email:e,universe_domain:t}}throw new Error(t.GoogleAuthExceptionMessages.NO_CREDENTIALS_FOUND)}async getClient(){if(this.cachedCredential)return this.cachedCredential;l(this,o,s(this,o,"f")||s(this,n,"m",a).call(this),"f");try{return await s(this,o,"f")}finally{l(this,o,null,"f")}}async getIdTokenClient(e){const t=await this.getClient();if(!("fetchIdToken"in t))throw new Error("Cannot fetch ID token in this environment, use GCE or set the GOOGLE_APPLICATION_CREDENTIALS environment variable to a service account credentials JSON file.");return new y.IdTokenClient({targetAudience:e,idTokenProvider:t})}async getAccessToken(){const e=await this.getClient();return(await e.getAccessToken()).token}async getRequestHeaders(e){return(await this.getClient()).getRequestHeaders(e)}async authorizeRequest(e){const t=(e=e||{}).url||e.uri,r=await this.getClient(),n=await r.getRequestHeaders(t);return e.headers=Object.assign(e.headers||{},n),e}async request(e){return(await this.getClient()).request(e)}getEnv(){return(0,v.getEnv)()}async sign(e,t){const r=await this.getClient(),n=await this.getUniverseDomain();if(t=t||`https://iamcredentials.${n}/v1/projects/-/serviceAccounts/`,r instanceof _.Impersonated){return(await r.sign(e)).signedBlob}const o=(0,f.createCrypto)();if(r instanceof b.JWT&&r.key){return await o.sign(r.key,e)}const i=await this.getCredentials();if(!i.client_email)throw new Error("Cannot sign data without `client_email`.");return this.signBlob(o,i.client_email,e,t)}async signBlob(e,t,r,n){const o=new URL(n+(t+":signBlob"));return(await this.request({method:"POST",url:o.href,data:{payload:e.encodeBase64StringUtf8(r)},retry:!0,retryConfig:{httpMethodsToRetry:["POST"]}})).data.signedBlob}}t.GoogleAuth=C,o=new WeakMap,n=new WeakSet,i=async function(e,t=process.env.GOOGLE_CLOUD_QUOTA_PROJECT||null){const r=await this.getProjectIdOptional();return t&&(e.quotaProjectId=t),this.cachedCredential=e,{credential:e,projectId:r}},a=async function(){if(this.jsonContent)return this._cacheClientFromJSON(this.jsonContent,this.clientOptions);if(this.keyFilename){const e=h.resolve(this.keyFilename),t=c.createReadStream(e);return await this.fromStreamAsync(t,this.clientOptions)}if(this.apiKey){const e=await this.fromAPIKey(this.apiKey,this.clientOptions);e.scopes=this.scopes;const{credential:t}=await s(this,n,"m",i).call(this,e);return t}{const{credential:e}=await this.getApplicationDefaultAsync(this.clientOptions);return e}},C.DefaultTransporter=g.DefaultTransporter},function(e,t,r){"use strict";var n,o,i,a,s,l,p,c,u=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&u(t,e,r);return d(t,e),t},f=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},g=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Gaxios=void 0;const y=m(r(118)),v=r(61),b=m(r(160)),E=m(r(63)),_=m(r(456)),O=r(11),w=r(245),S=r(459),T=r(1),A=r(794),C=r(246),I="undefined"!=typeof window&&window&&window.fetch?window.fetch:b.default;function N(e,t){return!!P(e,t)}function P(e,t){t=t.toLowerCase();for(const r of Object.keys((null==e?void 0:e.headers)||{}))if(t===r.toLowerCase())return e.headers[r]}class R{constructor(e){n.add(this),this.agentCache=new Map,this.defaults=e||{},this.interceptors={request:new C.GaxiosInterceptorManager,response:new C.GaxiosInterceptorManager}}async request(e={}){return e=await f(this,n,"m",l).call(this,e),e=await f(this,n,"m",a).call(this,e),f(this,n,"m",s).call(this,this._request(e))}async _defaultAdapter(e){const t=e.fetchImplementation||I,r=await t(e.url,e),n=await this.getResponseData(e,r);return this.translateResponse(e,r,n)}async _request(e={}){var t;try{let t;if(t=e.adapter?await e.adapter(e,this._defaultAdapter.bind(this)):await this._defaultAdapter(e),!e.validateStatus(t.status)){if("stream"===e.responseType){let e="";await new Promise(r=>{(null==t?void 0:t.data).on("data",t=>{e+=t}),(null==t?void 0:t.data).on("end",r)}),t.data=e}throw new w.GaxiosError("Request failed with status code "+t.status,e,t)}return t}catch(r){const n=r instanceof w.GaxiosError?r:new w.GaxiosError(r.message,e,void 0,r),{shouldRetry:o,config:i}=await(0,S.getRetryConfig)(n);if(o&&i)return n.config.retryConfig.currentRetryAttempt=i.retryConfig.currentRetryAttempt,e.retryConfig=null===(t=n.config)||void 0===t?void 0:t.retryConfig,this._request(e);throw n}}async getResponseData(e,t){switch(e.responseType){case"stream":return t.body;case"json":{let e=await t.text();try{e=JSON.parse(e)}catch(e){}return e}case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"text":return t.text();default:return this.getResponseDataFromContentType(t)}}validateStatus(e){return e>=200&&e<300}paramsSerializer(e){return E.default.stringify(e)}translateResponse(e,t,r){const n={};return t.headers.forEach((e,t)=>{n[t]=e}),{config:e,data:r,headers:n,status:t.status,statusText:t.statusText,request:{responseURL:t.url}}}async getResponseDataFromContentType(e){let t=e.headers.get("Content-Type");if(null===t)return e.text();if(t=t.toLowerCase(),t.includes("application/json")){let t=await e.text();try{t=JSON.parse(t)}catch(e){}return t}return t.match(/^text\//)?e.text():e.blob()}async*getMultipartRequest(e,t){const r=`--${t}--`;for(const r of e){const e=`--${t}\r\nContent-Type: ${r.headers["Content-Type"]||"application/octet-stream"}\r\n\r\n`;yield e,"string"==typeof r.content?yield r.content:yield*r.content,yield"\r\n"}yield r}}t.Gaxios=R,o=R,n=new WeakSet,i=function(e,t=[]){var r,n;const o=new O.URL(e),i=[...t],a=(null===(n=null!==(r=process.env.NO_PROXY)&&void 0!==r?r:process.env.no_proxy)||void 0===n?void 0:n.split(","))||[];for(const e of a)i.push(e.trim());for(const e of i)if(e instanceof RegExp){if(e.test(o.toString()))return!1}else if(e instanceof O.URL){if(e.origin===o.origin)return!1}else if(e.startsWith("*.")||e.startsWith(".")){const t=e.replace(/^\*\./,".");if(o.hostname.endsWith(t))return!1}else if(e===o.origin||e===o.hostname||e===o.href)return!1;return!0},a=async function(e){let t=Promise.resolve(e);for(const e of this.interceptors.request.values())e&&(t=t.then(e.resolved,e.rejected));return t},s=async function(e){let t=Promise.resolve(e);for(const e of this.interceptors.response.values())e&&(t=t.then(e.resolved,e.rejected));return t},l=async function(e){var t,r,a,s;const l=(0,y.default)(!0,{},this.defaults,e);if(!l.url)throw new Error("URL is required.");const p=l.baseUrl||l.baseURL;if(p&&(l.url=p.toString()+l.url),l.paramsSerializer=l.paramsSerializer||this.paramsSerializer,l.params&&Object.keys(l.params).length>0){let e=l.paramsSerializer(l.params);e.startsWith("?")&&(e=e.slice(1));const t=l.url.toString().includes("?")?"&":"?";l.url=l.url+t+e}if("number"==typeof e.maxContentLength&&(l.size=e.maxContentLength),"number"==typeof e.maxRedirects&&(l.follow=e.maxRedirects),l.headers=l.headers||{},void 0===l.multipart&&l.data){const e="undefined"!=typeof FormData&&(null==l?void 0:l.data)instanceof FormData;_.default.readable(l.data)?l.body=l.data:"undefined"!=typeof Buffer&&Buffer.isBuffer(l.data)?(l.body=l.data,N(l,"Content-Type")||(l.headers["Content-Type"]="application/json")):"object"==typeof l.data?e||("application/x-www-form-urlencoded"===P(l,"content-type")?l.body=l.paramsSerializer(l.data):(N(l,"Content-Type")||(l.headers["Content-Type"]="application/json"),l.body=JSON.stringify(l.data))):l.body=l.data}else if(l.multipart&&l.multipart.length>0){const e=(0,A.v4)();l.headers["Content-Type"]="multipart/related; boundary="+e;const t=new T.PassThrough;l.body=t,(0,T.pipeline)(this.getMultipartRequest(l.multipart,e),t,()=>{})}l.validateStatus=l.validateStatus||this.validateStatus,l.responseType=l.responseType||"unknown",l.headers.Accept||"json"!==l.responseType||(l.headers.Accept="application/json"),l.method=l.method||"GET";const u=l.proxy||(null===(t=null===process||void 0===process?void 0:process.env)||void 0===t?void 0:t.HTTPS_PROXY)||(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.https_proxy)||(null===(a=null===process||void 0===process?void 0:process.env)||void 0===a?void 0:a.HTTP_PROXY)||(null===(s=null===process||void 0===process?void 0:process.env)||void 0===s?void 0:s.http_proxy),d=f(this,n,"m",i).call(this,l.url,l.noProxy);if(l.agent);else if(u&&d){const e=await f(o,o,"m",c).call(o);this.agentCache.has(u)?l.agent=this.agentCache.get(u):(l.agent=new e(u,{cert:l.cert,key:l.key}),this.agentCache.set(u,l.agent))}else l.cert&&l.key&&(this.agentCache.has(l.key)?l.agent=this.agentCache.get(l.key):(l.agent=new v.Agent({cert:l.cert,key:l.key}),this.agentCache.set(l.key,l.agent)));return"function"!=typeof l.errorRedactor&&!1!==l.errorRedactor&&(l.errorRedactor=w.defaultErrorRedactor),l},c=async function(){return g(this,o,f(this,o,"f",p)||(await Promise.resolve().then(()=>h(r(460)))).HttpsProxyAgent,"f",p),f(this,o,"f",p)},p={value:void 0}},function(e,t,r){"use strict";const n=r(451),o=r(452),i=r(453),a=o.implSymbol;function s(t){if(!this||this[a]||!(this instanceof s))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const r=[];for(let e=0;e<arguments.length&&e<2;++e)r[e]=arguments[e];r[0]=n.USVString(r[0]),void 0!==r[1]&&(r[1]=n.USVString(r[1])),e.exports.setup(this,r)}s.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");const t=[];for(let e=0;e<arguments.length&&e<0;++e)t[e]=arguments[e];return this[a].toJSON.apply(this[a],t)},Object.defineProperty(s.prototype,"href",{get(){return this[a].href},set(e){e=n.USVString(e),this[a].href=e},enumerable:!0,configurable:!0}),s.prototype.toString=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");return this.href},Object.defineProperty(s.prototype,"origin",{get(){return this[a].origin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"protocol",{get(){return this[a].protocol},set(e){e=n.USVString(e),this[a].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"username",{get(){return this[a].username},set(e){e=n.USVString(e),this[a].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"password",{get(){return this[a].password},set(e){e=n.USVString(e),this[a].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"host",{get(){return this[a].host},set(e){e=n.USVString(e),this[a].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hostname",{get(){return this[a].hostname},set(e){e=n.USVString(e),this[a].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"port",{get(){return this[a].port},set(e){e=n.USVString(e),this[a].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pathname",{get(){return this[a].pathname},set(e){e=n.USVString(e),this[a].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"search",{get(){return this[a].search},set(e){e=n.USVString(e),this[a].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hash",{get(){return this[a].hash},set(e){e=n.USVString(e),this[a].hash=e},enumerable:!0,configurable:!0}),e.exports={is:e=>!!e&&e[a]instanceof i.implementation,create(e,t){let r=Object.create(s.prototype);return this.setup(r,e,t),r},setup(e,t,r){r||(r={}),r.wrapper=e,e[a]=new i.implementation(t,r),e[a][o.wrapperSymbol]=e},interface:s,expose:{Window:{URL:s},Worker:{URL:s}}}},function(e,t,r){"use strict";var n={};function o(e){return e<0?-1:1}function i(e,t){t.unsigned||--e;const r=t.unsigned?0:-Math.pow(2,e),n=Math.pow(2,e)-1,i=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),a=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(e,s){s||(s={});let l=+e;if(s.enforceRange){if(!Number.isFinite(l))throw new TypeError("Argument is not a finite number");if(l=o(l)*Math.floor(Math.abs(l)),l<r||l>n)throw new TypeError("Argument is not in byte range");return l}if(!isNaN(l)&&s.clamp)return l=function(e){return e%1==.5&&0==(1&e)?Math.floor(e):Math.round(e)}(l),l<r&&(l=r),l>n&&(l=n),l;if(!Number.isFinite(l)||0===l)return 0;if(l=o(l)*Math.floor(Math.abs(l)),l%=i,!t.unsigned&&l>=a)return l-i;if(t.unsigned)if(l<0)l+=i;else if(-0===l)return 0;return l}}e.exports=n,n.void=function(){},n.boolean=function(e){return!!e},n.byte=i(8,{unsigned:!1}),n.octet=i(8,{unsigned:!0}),n.short=i(16,{unsigned:!1}),n["unsigned short"]=i(16,{unsigned:!0}),n.long=i(32,{unsigned:!1}),n["unsigned long"]=i(32,{unsigned:!0}),n["long long"]=i(32,{unsigned:!1,moduloBitLength:64}),n["unsigned long long"]=i(32,{unsigned:!0,moduloBitLength:64}),n.double=function(e){const t=+e;if(!Number.isFinite(t))throw new TypeError("Argument is not a finite floating-point value");return t},n["unrestricted double"]=function(e){const t=+e;if(isNaN(t))throw new TypeError("Argument is NaN");return t},n.float=n.double,n["unrestricted float"]=n["unrestricted double"],n.DOMString=function(e,t){return t||(t={}),t.treatNullAsEmptyString&&null===e?"":String(e)},n.ByteString=function(e,t){const r=String(e);let n=void 0;for(let e=0;void 0!==(n=r.codePointAt(e));++e)if(n>255)throw new TypeError("Argument is not a valid bytestring");return r},n.USVString=function(e){const t=String(e),r=t.length,n=[];for(let e=0;e<r;++e){const o=t.charCodeAt(e);if(o<55296||o>57343)n.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)n.push(String.fromCodePoint(65533));else if(e===r-1)n.push(String.fromCodePoint(65533));else{const r=t.charCodeAt(e+1);if(56320<=r&&r<=57343){const t=1023&o,i=1023&r;n.push(String.fromCodePoint(65536+1024*t+i)),++e}else n.push(String.fromCodePoint(65533))}}return n.join("")},n.Date=function(e,t){if(!(e instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(e))return e},n.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e}},function(e,t,r){"use strict";e.exports.mixin=function(e,t){const r=Object.getOwnPropertyNames(t);for(let n=0;n<r.length;++n)Object.defineProperty(e,r[n],Object.getOwnPropertyDescriptor(t,r[n]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}},function(e,t,r){"use strict";const n=r(53);t.implementation=class{constructor(e){const t=e[0],r=e[1];let o=null;if(void 0!==r&&(o=n.basicURLParse(r),"failure"===o))throw new TypeError("Invalid base URL");const i=n.basicURLParse(t,{baseURL:o});if("failure"===i)throw new TypeError("Invalid URL");this._url=i}get href(){return n.serializeURL(this._url)}set href(e){const t=n.basicURLParse(e);if("failure"===t)throw new TypeError("Invalid URL");this._url=t}get origin(){return n.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){n.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){n.cannotHaveAUsernamePasswordPort(this._url)||n.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){n.cannotHaveAUsernamePasswordPort(this._url)||n.setThePassword(this._url,e)}get host(){const e=this._url;return null===e.host?"":null===e.port?n.serializeHost(e.host):n.serializeHost(e.host)+":"+n.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||n.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":n.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||n.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":n.serializeInteger(this._url.port)}set port(e){n.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:n.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],n.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){const t=this._url;if(""===e)return void(t.query=null);const r="?"===e[0]?e.substring(1):e;t.query="",n.basicURLParse(r,{url:t,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e)return void(this._url.fragment=null);const t="#"===e[0]?e.substring(1):e;this._url.fragment="",n.basicURLParse(t,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},function(e,t,r){"use strict";var n=r(244),o=r(455),i={TRANSITIONAL:0,NONTRANSITIONAL:1};function a(e){return e.split("\0").map((function(e){return e.normalize("NFC")})).join("\0")}function s(e){for(var t=0,r=o.length-1;t<=r;){var n=Math.floor((t+r)/2),i=o[n];if(i[0][0]<=e&&i[0][1]>=e)return i;i[0][0]>e?r=n-1:t=n+1}return null}var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function p(e){return e.replace(l,"_").length}var c=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function u(e,t){"xn--"===e.substr(0,4)&&(e=n.toUnicode(e));var r=!1;(a(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(c))&&(r=!0);for(var o=p(e),l=0;l<o;++l){var u=s(e.codePointAt(l));if(d===i.TRANSITIONAL&&"valid"!==u[1]||d===i.NONTRANSITIONAL&&"valid"!==u[1]&&"deviation"!==u[1]){r=!0;break}}return{label:e,error:r}}function d(e,t,r){var n=function(e,t,r){for(var n=!1,o="",a=p(e),l=0;l<a;++l){var c=e.codePointAt(l),u=s(c);switch(u[1]){case"disallowed":n=!0,o+=String.fromCodePoint(c);break;case"ignored":break;case"mapped":o+=String.fromCodePoint.apply(String,u[2]);break;case"deviation":o+=r===i.TRANSITIONAL?String.fromCodePoint.apply(String,u[2]):String.fromCodePoint(c);break;case"valid":o+=String.fromCodePoint(c);break;case"disallowed_STD3_mapped":t?(n=!0,o+=String.fromCodePoint(c)):o+=String.fromCodePoint.apply(String,u[2]);break;case"disallowed_STD3_valid":t&&(n=!0),o+=String.fromCodePoint(c)}}return{string:o,error:n}}(e,t,r);n.string=a(n.string);for(var o=n.string.split("."),l=0;l<o.length;++l)try{var c=u(o[l]);o[l]=c.label,n.error=n.error||c.error}catch(e){n.error=!0}return{string:o.join("."),error:n.error}}e.exports.toASCII=function(e,t,r,o){var i=d(e,t,r),a=i.string.split(".");if(a=a.map((function(e){try{return n.toASCII(e)}catch(t){return i.error=!0,e}})),o){var s=a.slice(0,a.length-1).join(".").length;(s.length>253||0===s.length)&&(i.error=!0);for(var l=0;l<a.length;++l)if(a.length>63||0===a.length){i.error=!0;break}}return i.error?null:a.join(".")},e.exports.toUnicode=function(e,t){var r=d(e,t,i.NONTRANSITIONAL);return{domain:r.string,error:r.error}},e.exports.PROCESSING_OPTIONS=i},function(e){e.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')},function(e,t,r){"use strict";const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkg=void 0,t.pkg=r(458)},function(e){e.exports=JSON.parse('{"name":"gaxios","version":"6.7.1","description":"A simple common HTTP client specifically for Google APIs and services.","main":"build/src/index.js","types":"build/src/index.d.ts","files":["build/src"],"scripts":{"lint":"gts check","test":"c8 mocha build/test","presystem-test":"npm run compile","system-test":"mocha build/system-test --timeout 80000","compile":"tsc -p .","fix":"gts fix","prepare":"npm run compile","pretest":"npm run compile","webpack":"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js","docs":"compodoc src/","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","prelint":"cd samples; npm link ../; npm install","clean":"gts clean","precompile":"gts clean"},"repository":"googleapis/gaxios","keywords":["google"],"engines":{"node":">=14"},"author":"Google, LLC","license":"Apache-2.0","devDependencies":{"@babel/plugin-proposal-private-methods":"^7.18.6","@compodoc/compodoc":"1.1.19","@types/cors":"^2.8.6","@types/express":"^4.16.1","@types/extend":"^3.0.1","@types/mocha":"^9.0.0","@types/multiparty":"0.0.36","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^20.0.0","@types/node-fetch":"^2.5.7","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^10.0.0","abort-controller":"^3.0.0","assert":"^2.0.0","browserify":"^17.0.0","c8":"^8.0.0","cheerio":"1.0.0-rc.10","cors":"^2.8.5","execa":"^5.0.0","express":"^4.16.4","form-data":"^4.0.0","gts":"^5.0.0","is-docker":"^2.0.0","karma":"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"5.0.0","linkinator":"^3.0.0","mocha":"^8.0.0","multiparty":"^4.2.1","mv":"^2.1.1","ncp":"^2.0.0","nock":"^13.0.0","null-loader":"^4.0.0","puppeteer":"^19.0.0","sinon":"^18.0.0","stream-browserify":"^3.0.0","tmp":"0.2.3","ts-loader":"^8.0.0","typescript":"^5.1.6","webpack":"^5.35.0","webpack-cli":"^4.0.0"},"dependencies":{"extend":"^3.0.2","https-proxy-agent":"^7.0.1","is-stream":"^2.0.0","node-fetch":"^2.6.9","uuid":"^9.0.1"}}')},function(e,t,r){"use strict";function n(e){var t;const r=o(e);if("AbortError"===e.name||"AbortError"===(null===(t=e.error)||void 0===t?void 0:t.name))return!1;if(!r||0===r.retry)return!1;if(!e.response&&(r.currentRetryAttempt||0)>=r.noResponseRetries)return!1;if(!e.config.method||r.httpMethodsToRetry.indexOf(e.config.method.toUpperCase())<0)return!1;if(e.response&&e.response.status){let t=!1;for(const[n,o]of r.statusCodesToRetry){const r=e.response.status;if(r>=n&&r<=o){t=!0;break}}if(!t)return!1}return r.currentRetryAttempt=r.currentRetryAttempt||0,!(r.currentRetryAttempt>=r.retry)}function o(e){if(e&&e.config&&e.config.retryConfig)return e.config.retryConfig}Object.defineProperty(t,"__esModule",{value:!0}),t.getRetryConfig=async function(e){let t=o(e);if(!e||!e.config||!t&&!e.config.retry)return{shouldRetry:!1};t=t||{},t.currentRetryAttempt=t.currentRetryAttempt||0,t.retry=void 0===t.retry||null===t.retry?3:t.retry,t.httpMethodsToRetry=t.httpMethodsToRetry||["GET","HEAD","PUT","OPTIONS","DELETE"],t.noResponseRetries=void 0===t.noResponseRetries||null===t.noResponseRetries?2:t.noResponseRetries,t.retryDelayMultiplier=t.retryDelayMultiplier?t.retryDelayMultiplier:2,t.timeOfFirstRequest=t.timeOfFirstRequest?t.timeOfFirstRequest:Date.now(),t.totalTimeout=t.totalTimeout?t.totalTimeout:Number.MAX_SAFE_INTEGER,t.maxRetryDelay=t.maxRetryDelay?t.maxRetryDelay:Number.MAX_SAFE_INTEGER;t.statusCodesToRetry=t.statusCodesToRetry||[[100,199],[408,408],[429,429],[500,599]],e.config.retryConfig=t;const r=t.shouldRetry||n;if(!await r(e))return{shouldRetry:!1,config:e.config};const i=function(e){var t;const r=(e.currentRetryAttempt?0:null!==(t=e.retryDelay)&&void 0!==t?t:100)+(Math.pow(e.retryDelayMultiplier,e.currentRetryAttempt)-1)/2*1e3,n=e.totalTimeout-(Date.now()-e.timeOfFirstRequest);return Math.min(r,n,e.maxRetryDelay)}(t);e.config.retryConfig.currentRetryAttempt+=1;const a=t.retryBackoff?t.retryBackoff(e,i):new Promise(e=>{setTimeout(e,i)});t.onRetryAttempt&&t.onRetryAttempt(e);return await a,{shouldRetry:!0,config:e.config}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;const s=i(r(31)),l=i(r(66)),p=a(r(45)),c=a(r(247)),u=r(465),d=r(11),h=r(467),f=(0,c.default)("https-proxy-agent"),g=e=>void 0===e.servername&&e.host&&!s.isIP(e.host)?{...e,servername:e.host}:e;class m extends u.Agent{constructor(e,t){var r;super(t),this.options={path:void 0},this.proxy="string"==typeof e?new d.URL(e):e,this.proxyHeaders=null!==(r=null==t?void 0:t.headers)&&void 0!==r?r:{},f("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?v(t,"headers"):null,host:n,port:o}}async connect(e,t){const{proxy:r}=this;if(!t.host)throw new TypeError('No "host" provided');let n;"https:"===r.protocol?(f("Creating `tls.Socket`: %o",this.connectOpts),n=l.connect(g(this.connectOpts))):(f("Creating `net.Socket`: %o",this.connectOpts),n=s.connect(this.connectOpts));const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},i=s.isIPv6(t.host)?`[${t.host}]`:t.host;let a=`CONNECT ${i}:${t.port} HTTP/1.1\r\n`;if(r.username||r.password){const e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;o["Proxy-Authorization"]="Basic "+Buffer.from(e).toString("base64")}o.Host=`${i}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))a+=`${e}: ${o[e]}\r\n`;const c=(0,h.parseProxyResponse)(n);n.write(a+"\r\n");const{connect:u,buffered:d}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),200===u.statusCode)return e.once("socket",y),t.secureEndpoint?(f("Upgrading socket connection to TLS"),l.connect({...v(g(t),"host","path","port"),socket:n})):n;n.destroy();const m=new s.Socket({writable:!1});return m.readable=!0,e.once("socket",e=>{f("Replaying proxy buffer for failed request"),(0,p.default)(e.listenerCount("data")>0),e.push(d),e.push(null)}),m}}function y(e){e.resume()}function v(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}m.protocols=["http","https"],t.HttpsProxyAgent=m},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(248)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(119),o=r(6);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(120);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(248)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;const s=i(r(31)),l=i(r(51)),p=r(61);a(r(466),t);const c=Symbol("AgentBaseInternalState");class u extends l.Agent{constructor(e){super(e),this[c]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);const t=new s.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||null===t)return;const r=this.sockets[e],n=r.indexOf(t);-1!==n&&(r.splice(n,1),this.totalSocketCount--,0===r.length&&delete this.sockets[e])}getName(e){return("boolean"==typeof e.secureEndpoint?e.secureEndpoint:this.isSecureEndpoint(e))?p.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,r){const n={...t,secureEndpoint:this.isSecureEndpoint(t)},o=this.getName(n),i=this.incrementSockets(o);Promise.resolve().then(()=>this.connect(e,n)).then(a=>{if(this.decrementSockets(o,i),a instanceof l.Agent)try{return a.addRequest(e,n)}catch(e){return r(e)}this[c].currentSocket=a,super.createSocket(e,t,r)},e=>{this.decrementSockets(o,i),r(e)})}createConnection(){const e=this[c].currentSocket;if(this[c].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){var e;return null!==(e=this[c].defaultPort)&&void 0!==e?e:"https:"===this.protocol?443:80}set defaultPort(e){this[c]&&(this[c].defaultPort=e)}get protocol(){var e;return null!==(e=this[c].protocol)&&void 0!==e?e:this.isSecureEndpoint()?"https:":"http:"}set protocol(e){this[c]&&(this[c].protocol=e)}}t.Agent=u},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;const a=i(r(51)),s=i(r(61));async function l(e){let t=0;const r=[];for await(const n of e)t+=n.length,r.push(n);return Buffer.concat(r,t)}t.toBuffer=l,t.json=async function(e){const t=(await l(e)).toString("utf8");try{return JSON.parse(t)}catch(e){const r=e;throw r.message+=` (input: ${t})`,r}},t.req=function(e,t={}){const r=(("string"==typeof e?e:e.href).startsWith("https:")?s:a).request(e,t),n=new Promise((e,t)=>{r.once("response",e).once("error",t).end()});return r.then=n.then.bind(n),r}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;const o=(0,n(r(247)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise((t,r)=>{let n=0;const i=[];function a(){const l=e.read();l?function(l){i.push(l),n+=l.length;const p=Buffer.concat(i,n),c=p.indexOf("\r\n\r\n");if(-1===c)return o("have not received end of HTTP headers yet..."),void a();const u=p.slice(0,c).toString("ascii").split("\r\n"),d=u.shift();if(!d)return e.destroy(),r(new Error("No header received from proxy CONNECT response"));const h=d.split(" "),f=+h[1],g=h.slice(2).join(" "),m={};for(const t of u){if(!t)continue;const n=t.indexOf(":");if(-1===n)return e.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,n).toLowerCase(),i=t.slice(n+1).trimStart(),a=m[o];"string"==typeof a?m[o]=[a,i]:Array.isArray(a)?a.push(i):m[o]=i}o("got proxy server response: %o %o",d,m),s(),t({connect:{statusCode:f,statusText:g,headers:m},buffered:p})}(l):e.once("readable",a)}function s(){e.removeListener("end",l),e.removeListener("error",p),e.removeListener("readable",a)}function l(){s(),o("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function p(e){s(),o("onerror %o",e),r(e)}e.on("error",p),e.on("end",l),a()})}},function(e,t,r){var n=r(469).stringify,o=r(470);e.exports=function(e){return{parse:o(e),stringify:n}},e.exports.parse=o(),e.exports.stringify=n},function(e,t,r){var n=r(249),o=e.exports;!function(){"use strict";var e,t,r,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}"function"!=typeof o.stringify&&(o.stringify=function(o,i,a){var l;if(e="",t="","number"==typeof a)for(l=0;l<a;l+=1)t+=" ";else"string"==typeof a&&(t=a);if(r=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return function o(i,a){var l,p,c,u,d,h=e,f=a[i],g=null!=f&&(f instanceof n||n.isBigNumber(f));switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&(f=f.toJSON(i)),"function"==typeof r&&(f=r.call(a,i,f)),typeof f){case"string":return g?f:s(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":case"bigint":return String(f);case"object":if(!f)return"null";if(e+=t,d=[],"[object Array]"===Object.prototype.toString.apply(f)){for(u=f.length,l=0;l<u;l+=1)d[l]=o(l,f)||"null";return c=0===d.length?"[]":e?"[\n"+e+d.join(",\n"+e)+"\n"+h+"]":"["+d.join(",")+"]",e=h,c}if(r&&"object"==typeof r)for(u=r.length,l=0;l<u;l+=1)"string"==typeof r[l]&&(c=o(p=r[l],f))&&d.push(s(p)+(e?": ":":")+c);else Object.keys(f).forEach((function(t){var r=o(t,f);r&&d.push(s(t)+(e?": ":":")+r)}));return c=0===d.length?"{}":e?"{\n"+e+d.join(",\n"+e)+"\n"+h+"}":"{"+d.join(",")+"}",e=h,c}}("",{"":o})})}()},function(e,t,r){var n=null;const o=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,i=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error('Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed '+e.constructorAction);t.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error('Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed '+e.protoAction);t.protoAction=e.protoAction}}var a,s,l,p,c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(e){throw{name:"SyntaxError",message:e,at:a,text:l}},d=function(e){return e&&e!==s&&u("Expected '"+e+"' instead of '"+s+"'"),s=l.charAt(a),a+=1,s},h=function(){var e,o="";for("-"===s&&(o="-",d("-"));s>="0"&&s<="9";)o+=s,d();if("."===s)for(o+=".";d()&&s>="0"&&s<="9";)o+=s;if("e"===s||"E"===s)for(o+=s,d(),"-"!==s&&"+"!==s||(o+=s,d());s>="0"&&s<="9";)o+=s,d();if(e=+o,isFinite(e))return null==n&&(n=r(249)),o.length>15?t.storeAsString?o:t.useNativeBigInt?BigInt(o):new n(o):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new n(e):e;u("Bad number")},f=function(){var e,t,r,n="";if('"'===s)for(var o=a;d();){if('"'===s)return a-1>o&&(n+=l.substring(o,a-1)),d(),n;if("\\"===s){if(a-1>o&&(n+=l.substring(o,a-1)),d(),"u"===s){for(r=0,t=0;t<4&&(e=parseInt(d(),16),isFinite(e));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else{if("string"!=typeof c[s])break;n+=c[s]}o=a}}u("Bad string")},g=function(){for(;s&&s<=" ";)d()};return p=function(){switch(g(),s){case"{":return function(){var e,r=Object.create(null);if("{"===s){if(d("{"),g(),"}"===s)return d("}"),r;for(;s;){if(e=f(),g(),d(":"),!0===t.strict&&Object.hasOwnProperty.call(r,e)&&u('Duplicate key "'+e+'"'),!0===o.test(e)?"error"===t.protoAction?u("Object contains forbidden prototype property"):"ignore"===t.protoAction?p():r[e]=p():!0===i.test(e)?"error"===t.constructorAction?u("Object contains forbidden constructor property"):"ignore"===t.constructorAction?p():r[e]=p():r[e]=p(),g(),"}"===s)return d("}"),r;d(","),g()}}u("Bad object")}();case"[":return function(){var e=[];if("["===s){if(d("["),g(),"]"===s)return d("]"),e;for(;s;){if(e.push(p()),g(),"]"===s)return d("]"),e;d(","),g()}}u("Bad array")}();case'"':return f();case"-":return h();default:return s>="0"&&s<="9"?h():function(){switch(s){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}u("Unexpected '"+s+"'")}()}},function(e,t){var r;return l=e+"",a=0,s=" ",r=p(),g(),s&&u("Syntax error"),"function"==typeof t?function e(r,n){var o,i=r[n];return i&&"object"==typeof i&&Object.keys(i).forEach((function(t){void 0!==(o=e(i,t))?i[t]=o:delete i[t]})),t.call(r,n,i)}({"":r},""):r}}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(472),t)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.env=t.DebugLogBackendBase=t.placeholder=t.AdhocDebugLogger=t.LogSeverity=void 0,t.getNodeBackend=f,t.getDebugBackend=function(e){return new g(e)},t.getStructuredBackend=function(e){return new m(e)},t.setBackend=function(e){v=e,y.clear()},t.log=b;const a=r(161),s=i(r(473)),l=i(r(68)),p=r(477);var c;!function(e){e.DEFAULT="DEFAULT",e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR"}(c||(t.LogSeverity=c={}));class u extends a.EventEmitter{constructor(e,t){super(),this.namespace=e,this.upstream=t,this.func=Object.assign(this.invoke.bind(this),{instance:this,on:(e,t)=>this.on(e,t)}),this.func.debug=(...e)=>this.invokeSeverity(c.DEBUG,...e),this.func.info=(...e)=>this.invokeSeverity(c.INFO,...e),this.func.warn=(...e)=>this.invokeSeverity(c.WARNING,...e),this.func.error=(...e)=>this.invokeSeverity(c.ERROR,...e),this.func.sublog=e=>b(e,this.func)}invoke(e,...t){this.upstream&&this.upstream(e,...t),this.emit("log",e,t)}invokeSeverity(e,...t){this.invoke({severity:e},...t)}}t.AdhocDebugLogger=u,t.placeholder=new u("",()=>{}).func;class d{constructor(){var e;this.cached=new Map,this.filters=[],this.filtersSet=!1;let r=null!==(e=s.env[t.env.nodeEnables])&&void 0!==e?e:"*";"all"===r&&(r="*"),this.filters=r.split(",")}log(e,t,...r){try{this.filtersSet||(this.setFilters(),this.filtersSet=!0);let n=this.cached.get(e);n||(n=this.makeLogger(e),this.cached.set(e,n)),n(t,...r)}catch(e){console.error(e)}}}t.DebugLogBackendBase=d;class h extends d{constructor(){super(...arguments),this.enabledRegexp=/.*/g}isEnabled(e){return this.enabledRegexp.test(e)}makeLogger(e){return this.enabledRegexp.test(e)?(t,...r)=>{var n;const o=`${p.Colours.green}${e}${p.Colours.reset}`,i=`${p.Colours.yellow}${s.pid}${p.Colours.reset}`;let a;switch(t.severity){case c.ERROR:a=`${p.Colours.red}${t.severity}${p.Colours.reset}`;break;case c.INFO:a=`${p.Colours.magenta}${t.severity}${p.Colours.reset}`;break;case c.WARNING:a=`${p.Colours.yellow}${t.severity}${p.Colours.reset}`;break;default:a=null!==(n=t.severity)&&void 0!==n?n:c.DEFAULT}const u=l.formatWithOptions({colors:p.Colours.enabled},...r),d=Object.assign({},t);delete d.severity;const h=Object.getOwnPropertyNames(d).length?JSON.stringify(d):"",f=h?`${p.Colours.grey}${h}${p.Colours.reset}`:"";console.error("%s [%s|%s] %s%s",i,o,a,u,h?" "+f:"")}:()=>{}}setFilters(){const e=this.filters.join(",").replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^");this.enabledRegexp=new RegExp(`^${e}$`,"i")}}function f(){return new h}class g extends d{constructor(e){super(),this.debugPkg=e}makeLogger(e){const t=this.debugPkg(e);return(e,...r)=>{t(r[0],...r.slice(1))}}setFilters(){var e;const t=null!==(e=s.env.NODE_DEBUG)&&void 0!==e?e:"";s.env.NODE_DEBUG=`${t}${t?",":""}${this.filters.join(",")}`}}class m extends d{constructor(e){var t;super(),this.upstream=null!==(t=e)&&void 0!==t?t:new h}makeLogger(e){const t=this.upstream.makeLogger(e);return(e,...r)=>{var n;const o=null!==(n=e.severity)&&void 0!==n?n:c.INFO,i=Object.assign({severity:o,message:l.format(...r)},e),a=JSON.stringify(i);t(e,a)}}setFilters(){this.upstream.setFilters()}}t.env={nodeEnables:"GOOGLE_SDK_NODE_LOGGING"};const y=new Map;let v=void 0;function b(e,r){if(!s.env[t.env.nodeEnables])return t.placeholder;if(!e)return t.placeholder;r&&(e=`${r.instance.namespace}:${e}`);const n=y.get(e);if(n)return n.func;if(null===v)return t.placeholder;void 0===v&&(v=f());const o=(()=>{let t=void 0;return new u(e,(r,...n)=>{if(t!==v){if(null===v)return;void 0===v&&(v=f()),t=v}null==v||v.log(e,r,...n)})})();return y.set(e,o),o.func}},function(e,t){e.exports=global.process},function(e,t){e.exports=function(e){return e instanceof Buffer}},function(e,t,r){try{var n=r(6);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(476)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Colours=void 0;class n{static isEnabled(e){return e.isTTY&&("function"!=typeof e.getColorDepth||e.getColorDepth()>2)}static refresh(){n.enabled=n.isEnabled(process.stderr),this.enabled?(n.reset="[0m",n.bright="[1m",n.dim="[2m",n.red="[31m",n.green="[32m",n.yellow="[33m",n.blue="[34m",n.magenta="[35m",n.cyan="[36m",n.white="[37m",n.grey="[90m"):(n.reset="",n.bright="",n.dim="",n.red="",n.green="",n.yellow="",n.blue="",n.magenta="",n.cyan="",n.white="",n.grey="")}}t.Colours=n,n.enabled=!1,n.reset="",n.bright="",n.dim="",n.red="",n.green="",n.yellow="",n.blue="",n.magenta="",n.cyan="",n.white="",n.grey="",n.refresh()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserCrypto=void 0;const n=r(479),o=r(100);class i{constructor(){if("undefined"==typeof window||void 0===window.crypto||void 0===window.crypto.subtle)throw new Error("SubtleCrypto not found. Make sure it's an https:// website.")}async sha256DigestBase64(e){const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return n.fromByteArray(new Uint8Array(r))}randomBytesBase64(e){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),n.fromByteArray(t)}static padBase64(e){for(;e.length%4!=0;)e+="=";return e}async verify(e,t,r){const o={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},a=(new TextEncoder).encode(t),s=n.toByteArray(i.padBase64(r)),l=await window.crypto.subtle.importKey("jwk",e,o,!0,["verify"]);return await window.crypto.subtle.verify(o,l,s,a)}async sign(e,t){const r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},o=(new TextEncoder).encode(t),i=await window.crypto.subtle.importKey("jwk",e,r,!0,["sign"]),a=await window.crypto.subtle.sign(r,i,o);return n.fromByteArray(new Uint8Array(a))}decodeBase64StringUtf8(e){const t=n.toByteArray(i.padBase64(e));return(new TextDecoder).decode(t)}encodeBase64StringUtf8(e){const t=(new TextEncoder).encode(e);return n.fromByteArray(t)}async sha256DigestHex(e){const t=(new TextEncoder).encode(e),r=await window.crypto.subtle.digest("SHA-256",t);return(0,o.fromArrayBufferToHex)(r)}async signWithHmacSha256(e,t){const r="string"==typeof e?e:String.fromCharCode(...new Uint16Array(e)),n=new TextEncoder,o=await window.crypto.subtle.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return window.crypto.subtle.sign("HMAC",o,n.encode(t))}}t.BrowserCrypto=i},function(e,t,r){"use strict";t.byteLength=function(e){var t=p(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=p(e),a=n[0],s=n[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),c=0,u=s>0?a-4:a;for(r=0;r<u;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,l[c++]=255&t);1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(c(e,a,a+16383>s?s:a+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function p(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCrypto=void 0;const n=r(0);t.NodeCrypto=class{async sha256DigestBase64(e){return n.createHash("sha256").update(e).digest("base64")}randomBytesBase64(e){return n.randomBytes(e).toString("base64")}async verify(e,t,r){const o=n.createVerify("RSA-SHA256");return o.update(t),o.end(),o.verify(e,r,"base64")}async sign(e,t){const r=n.createSign("RSA-SHA256");return r.update(t),r.end(),r.sign(e,"base64")}decodeBase64StringUtf8(e){return Buffer.from(e,"base64").toString("utf-8")}encodeBase64StringUtf8(e){return Buffer.from(e,"utf-8").toString("base64")}async sha256DigestHex(e){return n.createHash("sha256").update(e).digest("hex")}async signWithHmacSha256(e,t){const r="string"==typeof e?e:(o=e,Buffer.from(o));var o,i;return(i=n.createHmac("sha256",r).update(t).digest()).buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e){const t=[{invalid:"uri",expected:"url"},{invalid:"json",expected:"data"},{invalid:"qs",expected:"params"}];for(const r of t)if(e[r.invalid]){const e=`'${r.invalid}' is not a valid configuration option. Please use '${r.expected}' instead. This library is using Axios for requests. Please see https://github.com/axios/axios to learn more about the valid request options.`;throw new Error(e)}}},function(e,t,r){"use strict";function n(e){return(e/8|0)+(e%8==0?0:1)}var o={ES256:n(256),ES384:n(384),ES512:n(521)};e.exports=function(e){var t=o[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},function(e,t,r){"use strict";var n,o,i,a,s,l,p,c,u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},d=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleToken=void 0;const h=r(17),f=r(30),g=r(257),m=r(46),y=r(6),v=h.readFile?(0,y.promisify)(h.readFile):async()=>{throw new b("use key rather than keyFile.","MISSING_CREDENTIALS")};class b extends Error{constructor(e,t){super(e),this.code=t}}t.GoogleToken=class{get accessToken(){return this.rawToken?this.rawToken.access_token:void 0}get idToken(){return this.rawToken?this.rawToken.id_token:void 0}get tokenType(){return this.rawToken?this.rawToken.token_type:void 0}get refreshToken(){return this.rawToken?this.rawToken.refresh_token:void 0}constructor(e){n.add(this),this.transporter={request:e=>(0,f.request)(e)},o.set(this,void 0),u(this,n,"m",p).call(this,e)}hasExpired(){const e=(new Date).getTime();return!this.rawToken||!this.expiresAt||e>=this.expiresAt}isTokenExpiring(){var e;const t=(new Date).getTime(),r=null!==(e=this.eagerRefreshThresholdMillis)&&void 0!==e?e:0;return!this.rawToken||!this.expiresAt||this.expiresAt<=t+r}getToken(e,t={}){if("object"==typeof e&&(t=e,e=void 0),t=Object.assign({forceRefresh:!1},t),!e)return u(this,n,"m",i).call(this,t);{const r=e;u(this,n,"m",i).call(this,t).then(e=>r(null,e),e)}}async getCredentials(e){switch(m.extname(e)){case".json":{const t=await v(e,"utf8"),r=JSON.parse(t),n=r.private_key,o=r.client_email;if(!n||!o)throw new b("private_key and client_email are required.","MISSING_CREDENTIALS");return{privateKey:n,clientEmail:o}}case".der":case".crt":case".pem":return{privateKey:await v(e,"utf8")};case".p12":case".pfx":throw new b("*.p12 certificates are not supported after v6.1.2. Consider utilizing *.json format or converting *.p12 to *.pem using the OpenSSL CLI.","UNKNOWN_CERTIFICATE_TYPE");default:throw new b("Unknown certificate type. Type is determined based on file extension. Current supported extensions are *.json, and *.pem.","UNKNOWN_CERTIFICATE_TYPE")}}revokeToken(e){if(!e)return u(this,n,"m",l).call(this);u(this,n,"m",l).call(this).then(()=>e(),e)}},o=new WeakMap,n=new WeakSet,i=async function(e){if(u(this,o,"f")&&!e.forceRefresh)return u(this,o,"f");try{return await d(this,o,u(this,n,"m",a).call(this,e),"f")}finally{d(this,o,void 0,"f")}},a=async function(e){if(!1===this.isTokenExpiring()&&!1===e.forceRefresh)return Promise.resolve(this.rawToken);if(!this.key&&!this.keyFile)throw new Error("No key or keyFile set.");if(!this.key&&this.keyFile){const e=await this.getCredentials(this.keyFile);this.key=e.privateKey,this.iss=e.clientEmail||this.iss,e.clientEmail||u(this,n,"m",s).call(this)}return u(this,n,"m",c).call(this)},s=function(){if(!this.iss)throw new b("email is required.","MISSING_CREDENTIALS")},l=async function(){if(!this.accessToken)throw new Error("No token to revoke.");const e="https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken;await this.transporter.request({url:e,retry:!0}),u(this,n,"m",p).call(this,{email:this.iss,sub:this.sub,key:this.key,keyFile:this.keyFile,scope:this.scope,additionalClaims:this.additionalClaims})},p=function(e={}){this.keyFile=e.keyFile,this.key=e.key,this.rawToken=void 0,this.iss=e.email||e.iss,this.sub=e.sub,this.additionalClaims=e.additionalClaims,"object"==typeof e.scope?this.scope=e.scope.join(" "):this.scope=e.scope,this.eagerRefreshThresholdMillis=e.eagerRefreshThresholdMillis,e.transporter&&(this.transporter=e.transporter)},c=async function(){var e,t;const r=Math.floor((new Date).getTime()/1e3),n=this.additionalClaims||{},o=Object.assign({iss:this.iss,scope:this.scope,aud:"https://www.googleapis.com/oauth2/v4/token",exp:r+3600,iat:r,sub:this.sub},n),i=g.sign({header:{alg:"RS256"},payload:o,secret:this.key});try{const e=await this.transporter.request({method:"POST",url:"https://www.googleapis.com/oauth2/v4/token",data:{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i},headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",retryConfig:{httpMethodsToRetry:["POST"]}});return this.rawToken=e.data,this.expiresAt=null===e.data.expires_in||void 0===e.data.expires_in?void 0:1e3*(r+e.data.expires_in),this.rawToken}catch(r){this.rawToken=void 0,this.tokenExpires=void 0;const n=r.response&&(null===(e=r.response)||void 0===e?void 0:e.data)?null===(t=r.response)||void 0===t?void 0:t.data:{};if(n.error){const e=n.error_description?": "+n.error_description:"";r.message=`${n.error}${e}`}throw r}}},function(e,t,r){var n=r(47).Buffer,o=r(258),i=r(259),a=r(1),s=r(261),l=r(6);function p(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,o=e.encoding,a=i(t.alg),c=function(e,t,r){r=r||"utf8";var n=p(s(e),"binary"),o=p(s(t),r);return l.format("%s.%s",n,o)}(t,r,o),u=a.sign(c,n);return l.format("%s.%s",c,u)}function u(e){var t=e.secret||e.privateKey||e.key,r=new o(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new o(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}l.inherits(u,a),u.prototype.sign=function(){try{var e=c({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},u.sign=c,e.exports=u},function(e,t,r){var n=r(47).Buffer,o=r(258),i=r(259),a=r(1),s=r(261),l=r(6),p=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function c(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function u(e){var t=e.split(".",1)[0];return c(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return p.test(e)&&!!u(e)}function f(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var o=d(e=s(e)),a=function(e){return e.split(".",2).join(".")}(e);return i(t).verify(a,o,r)}function g(e,t){if(t=t||{},!h(e=s(e)))return null;var r=u(e);if(!r)return null;var o=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:r,payload:o,signature:d(e)}}function m(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new o(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new o(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}l.inherits(m,a),m.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=g(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=g,m.isValid=h,m.verify=f,e.exports=m},function(e,t,r){"use strict";var n,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.FileSubjectTokenSupplier=void 0;const a=r(6),s=r(17),l=(0,a.promisify)(null!==(n=s.readFile)&&void 0!==n?n:()=>{}),p=(0,a.promisify)(null!==(o=s.realpath)&&void 0!==o?o:()=>{}),c=(0,a.promisify)(null!==(i=s.lstat)&&void 0!==i?i:()=>{});t.FileSubjectTokenSupplier=class{constructor(e){this.filePath=e.filePath,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName}async getSubjectToken(e){let t,r=this.filePath;try{if(r=await p(r),!(await c(r)).isFile())throw new Error}catch(e){throw e instanceof Error&&(e.message=`The file at ${r} does not exist, or it is not a file. ${e.message}`),e}const n=await l(r,{encoding:"utf8"});if("text"===this.formatType)t=n;else if("json"===this.formatType&&this.subjectTokenFieldName){t=JSON.parse(n)[this.subjectTokenFieldName]}if(!t)throw new Error("Unable to parse the subject_token from the credential_source file");return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlSubjectTokenSupplier=void 0;t.UrlSubjectTokenSupplier=class{constructor(e){this.url=e.url,this.formatType=e.formatType,this.subjectTokenFieldName=e.subjectTokenFieldName,this.headers=e.headers,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getSubjectToken(e){const t={...this.additionalGaxiosOptions,url:this.url,method:"GET",headers:this.headers,responseType:this.formatType};let r;if("text"===this.formatType){r=(await e.transporter.request(t)).data}else if("json"===this.formatType&&this.subjectTokenFieldName){r=(await e.transporter.request(t)).data[this.subjectTokenFieldName]}if(!r)throw new Error("Unable to parse the subject_token from the credential_source URL");return r}}},function(e,t,r){"use strict";var n,o,i,a,s,l,p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAwsSecurityCredentialsSupplier=void 0;t.DefaultAwsSecurityCredentialsSupplier=class{constructor(e){n.add(this),this.regionUrl=e.regionUrl,this.securityCredentialsUrl=e.securityCredentialsUrl,this.imdsV2SessionTokenUrl=e.imdsV2SessionTokenUrl,this.additionalGaxiosOptions=e.additionalGaxiosOptions}async getAwsRegion(e){if(p(this,n,"a",s))return p(this,n,"a",s);const t={};if(!p(this,n,"a",s)&&this.imdsV2SessionTokenUrl&&(t["x-aws-ec2-metadata-token"]=await p(this,n,"m",o).call(this,e.transporter)),!this.regionUrl)throw new Error('Unable to determine AWS region due to missing "options.credential_source.region_url"');const r={...this.additionalGaxiosOptions,url:this.regionUrl,method:"GET",responseType:"text",headers:t},i=await e.transporter.request(r);return i.data.substr(0,i.data.length-1)}async getAwsSecurityCredentials(e){if(p(this,n,"a",l))return p(this,n,"a",l);const t={};this.imdsV2SessionTokenUrl&&(t["x-aws-ec2-metadata-token"]=await p(this,n,"m",o).call(this,e.transporter));const r=await p(this,n,"m",i).call(this,t,e.transporter),s=await p(this,n,"m",a).call(this,r,t,e.transporter);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,token:s.Token}}},n=new WeakSet,o=async function(e){const t={...this.additionalGaxiosOptions,url:this.imdsV2SessionTokenUrl,method:"PUT",responseType:"text",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"300"}};return(await e.request(t)).data},i=async function(e,t){if(!this.securityCredentialsUrl)throw new Error('Unable to determine AWS role name due to missing "options.credential_source.url"');const r={...this.additionalGaxiosOptions,url:this.securityCredentialsUrl,method:"GET",responseType:"text",headers:e};return(await t.request(r)).data},a=async function(e,t,r){return(await r.request({...this.additionalGaxiosOptions,url:`${this.securityCredentialsUrl}/${e}`,responseType:"json",headers:t})).data},s=function(){return process.env.AWS_REGION||process.env.AWS_DEFAULT_REGION||null},l=function(){return process.env.AWS_ACCESS_KEY_ID&&process.env.AWS_SECRET_ACCESS_KEY?{accessKeyId:process.env.AWS_ACCESS_KEY_ID,secretAccessKey:process.env.AWS_SECRET_ACCESS_KEY,token:process.env.AWS_SESSION_TOKEN}:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluggableAuthHandler=void 0;const n=r(163),o=r(271),i=r(159),a=r(17);class s{constructor(e){if(!e.command)throw new Error("No command provided.");if(this.commandComponents=s.parseCommand(e.command),this.timeoutMillis=e.timeoutMillis,!this.timeoutMillis)throw new Error("No timeoutMillis provided.");this.outputFile=e.outputFile}retrieveResponseFromExecutable(e){return new Promise((t,r)=>{const a=i.spawn(this.commandComponents[0],this.commandComponents.slice(1),{env:{...process.env,...Object.fromEntries(e)}});let s="";a.stdout.on("data",e=>{s+=e}),a.stderr.on("data",e=>{s+=e});const l=setTimeout(()=>(a.removeAllListeners(),a.kill(),r(new Error("The executable failed to finish within the timeout specified."))),this.timeoutMillis);a.on("close",e=>{if(clearTimeout(l),0!==e)return r(new n.ExecutableError(s,e.toString()));try{const e=JSON.parse(s),r=new o.ExecutableResponse(e);return t(r)}catch(e){return e instanceof o.ExecutableResponseError?r(e):r(new o.ExecutableResponseError("The executable returned an invalid response: "+s))}})})}async retrieveCachedResponse(){if(!this.outputFile||0===this.outputFile.length)return;let e;try{e=await a.promises.realpath(this.outputFile)}catch(e){return}if(!(await a.promises.lstat(e)).isFile())return;const t=await a.promises.readFile(e,{encoding:"utf8"});if(""!==t)try{const e=JSON.parse(t);return new o.ExecutableResponse(e).isValid()?new o.ExecutableResponse(e):void 0}catch(e){if(e instanceof o.ExecutableResponseError)throw e;throw new o.ExecutableResponseError("The output file contained an invalid response: "+t)}}static parseCommand(e){const t=e.match(/(?:[^\s"]+|"[^"]*")+/g);if(!t)throw new Error(`Provided command: "${e}" could not be parsed.`);for(let e=0;e<t.length;e++)'"'===t[e][0]&&'"'===t[e].slice(-1)&&(t[e]=t[e].slice(1,-1));return t}}t.PluggableAuthHandler=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalAccountAuthorizedUserClient=t.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE=void 0;const n=r(54),o=r(267),i=r(30),a=r(1),s=r(70);t.EXTERNAL_ACCOUNT_AUTHORIZED_USER_TYPE="external_account_authorized_user";class l extends o.OAuthClientAuthHandler{constructor(e,t,r){super(r),this.url=e,this.transporter=t}async refreshToken(e,t){const r=new URLSearchParams({grant_type:"refresh_token",refresh_token:e}),n={"Content-Type":"application/x-www-form-urlencoded",...t},a={...l.RETRY_CONFIG,url:this.url,method:"POST",headers:n,data:r.toString(),responseType:"json"};this.applyClientAuthenticationOptions(a);try{const e=await this.transporter.request(a),t=e.data;return t.res=e,t}catch(e){if(e instanceof i.GaxiosError&&e.response)throw(0,o.getErrorFromOAuthErrorResponse)(e.response.data,e);throw e}}}class p extends n.AuthClient{constructor(e,t){var r;super({...e,...t}),e.universe_domain&&(this.universeDomain=e.universe_domain),this.refreshToken=e.refresh_token;const n={confidentialClientType:"basic",clientId:e.client_id,clientSecret:e.client_secret};this.externalAccountAuthorizedUserHandler=new l(null!==(r=e.token_url)&&void 0!==r?r:"https://sts.{universeDomain}/v1/oauthtoken".replace("{universeDomain}",this.universeDomain),this.transporter,n),this.cachedAccessToken=null,this.quotaProjectId=e.quota_project_id,"number"!=typeof(null==t?void 0:t.eagerRefreshThresholdMillis)?this.eagerRefreshThresholdMillis=s.EXPIRATION_TIME_OFFSET:this.eagerRefreshThresholdMillis=t.eagerRefreshThresholdMillis,this.forceRefreshOnFailure=!!(null==t?void 0:t.forceRefreshOnFailure)}async getAccessToken(){return this.cachedAccessToken&&!this.isExpired(this.cachedAccessToken)||await this.refreshAccessTokenAsync(),{token:this.cachedAccessToken.access_token,res:this.cachedAccessToken.res}}async getRequestHeaders(){const e={Authorization:"Bearer "+(await this.getAccessToken()).token};return this.addSharedMetadataHeaders(e)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(r){const n=r.response;if(n){const r=n.status,o=n.config.data instanceof a.Readable,i=401===r||403===r;if(!t&&i&&!o&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw r}return r}async refreshAccessTokenAsync(){const e=await this.externalAccountAuthorizedUserHandler.refreshToken(this.refreshToken);return this.cachedAccessToken={access_token:e.access_token,expiry_date:(new Date).getTime()+1e3*e.expires_in,res:e.res},void 0!==e.refresh_token&&(this.refreshToken=e.refresh_token),this.cachedAccessToken}isExpired(e){const t=(new Date).getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}}t.ExternalAccountAuthorizedUserClient=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IAMAuth=void 0;t.IAMAuth=class{constructor(e,t){this.selector=e,this.token=t,this.selector=e,this.token=t}getRequestHeaders(){return{"x-goog-iam-authority-selector":this.selector,"x-goog-iam-authorization-token":this.token}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownscopedClient=t.EXPIRATION_TIME_OFFSET=t.MAX_ACCESS_BOUNDARY_RULES_COUNT=void 0;const n=r(1),o=r(54),i=r(266);t.MAX_ACCESS_BOUNDARY_RULES_COUNT=10,t.EXPIRATION_TIME_OFFSET=3e5;class a extends o.AuthClient{constructor(e,r,n,o){if(super({...n,quotaProjectId:o}),this.authClient=e,this.credentialAccessBoundary=r,0===r.accessBoundary.accessBoundaryRules.length)throw new Error("At least one access boundary rule needs to be defined.");if(r.accessBoundary.accessBoundaryRules.length>t.MAX_ACCESS_BOUNDARY_RULES_COUNT)throw new Error("The provided access boundary has more than "+t.MAX_ACCESS_BOUNDARY_RULES_COUNT+" access boundary rules.");for(const e of r.accessBoundary.accessBoundaryRules)if(0===e.availablePermissions.length)throw new Error("At least one permission should be defined in access boundary rules.");this.stsCredential=new i.StsCredentials(`https://sts.${this.universeDomain}/v1/token`),this.cachedDownscopedAccessToken=null}setCredentials(e){if(!e.expiry_date)throw new Error("The access token expiry_date field is missing in the provided credentials.");super.setCredentials(e),this.cachedDownscopedAccessToken=e}async getAccessToken(){return this.cachedDownscopedAccessToken&&!this.isExpired(this.cachedDownscopedAccessToken)||await this.refreshAccessTokenAsync(),{token:this.cachedDownscopedAccessToken.access_token,expirationTime:this.cachedDownscopedAccessToken.expiry_date,res:this.cachedDownscopedAccessToken.res}}async getRequestHeaders(){const e={Authorization:"Bearer "+(await this.getAccessToken()).token};return this.addSharedMetadataHeaders(e)}request(e,t){if(!t)return this.requestAsync(e);this.requestAsync(e).then(e=>t(null,e),e=>t(e,e.response))}async requestAsync(e,t=!1){let r;try{const t=await this.getRequestHeaders();e.headers=e.headers||{},t&&t["x-goog-user-project"]&&(e.headers["x-goog-user-project"]=t["x-goog-user-project"]),t&&t.Authorization&&(e.headers.Authorization=t.Authorization),r=await this.transporter.request(e)}catch(r){const o=r.response;if(o){const r=o.status,i=o.config.data instanceof n.Readable,a=401===r||403===r;if(!t&&a&&!i&&this.forceRefreshOnFailure)return await this.refreshAccessTokenAsync(),await this.requestAsync(e,!0)}throw r}return r}async refreshAccessTokenAsync(){var e;const t={grantType:"urn:ietf:params:oauth:grant-type:token-exchange",requestedTokenType:"urn:ietf:params:oauth:token-type:access_token",subjectToken:(await this.authClient.getAccessToken()).token,subjectTokenType:"urn:ietf:params:oauth:token-type:access_token"},r=await this.stsCredential.exchangeToken(t,void 0,this.credentialAccessBoundary),n=(null===(e=this.authClient.credentials)||void 0===e?void 0:e.expiry_date)||null,o=r.expires_in?(new Date).getTime()+1e3*r.expires_in:n;return this.cachedDownscopedAccessToken={access_token:r.access_token,expiry_date:o,res:r.res},this.credentials={},Object.assign(this.credentials,this.cachedDownscopedAccessToken),delete this.credentials.res,this.emit("tokens",{refresh_token:null,expiry_date:this.cachedDownscopedAccessToken.expiry_date,access_token:this.cachedDownscopedAccessToken.access_token,token_type:"Bearer",id_token:null}),this.cachedDownscopedAccessToken}isExpired(e){const t=(new Date).getTime();return!!e.expiry_date&&t>=e.expiry_date-this.eagerRefreshThresholdMillis}}t.DownscopedClient=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassThroughClient=void 0;const n=r(54);class o extends n.AuthClient{async request(e){return this.transporter.request(e)}async getAccessToken(){return{}}async getRequestHeaders(){return{}}}t.PassThroughClient=o;(new o).getAccessToken()},function(e,t,r){e.exports=r(5),r(71),r(496),r(48),r(164),r(122),r(498),r(101),r(500),r(501),r(502),r(283),r(166),r(84),r(279),r(281),r(503),r(274),r(280),r(277),r(168),r(32),r(278),r(504),r(273),r(8)},function(e,t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var o=0,i=t.length,a=t.charAt(0),s=[0];for(o=0;o<e.length;++o){for(var l=0,p=e[o];l<s.length;++l)p+=s[l]<<8,s[l]=p%i,p=p/i|0;for(;p>0;)s.push(p%i),p=p/i|0}for(o=0;0===e[o]&&o<e.length-1;++o)n+=a;for(o=s.length-1;o>=0;--o)n+=t[s[o]]}else n=function(e,t){var r=0,n=t.length,o=t.charAt(0),i=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<i.length;++a)s+=i[a]<<8,i[a]=s%n,s=s/n|0;for(;s>0;)i.push(s%n),s=s/n|0}var l="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)l+=o;for(r=i.length-1;r>=0;--r)l+=t[i[r]];return l}(e,t);if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join("\r\n")}return n},r.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=n[t];if(!r){r=n[t]=[];for(var o=0;o<t.length;++o)r[t.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var i=t.length,a=t.charAt(0),s=[0];for(o=0;o<e.length;o++){var l=r[e.charCodeAt(o)];if(void 0===l)return;for(var p=0,c=l;p<s.length;++p)c+=s[p]*i,s[p]=255&c,c>>=8;for(;c>0;)s.push(255&c),c>>=8}for(var u=0;e[u]===a&&u<e.length-1;++u)s.push(0);return"undefined"!=typeof Buffer?Buffer.from(s.reverse()):new Uint8Array(s.reverse())}},function(e,t,r){var n=r(5);r(71),r(273);var o=e.exports=n.tls;function i(e,t,r){var i=t.entity===n.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:n.cipher.createDecipher("AES-CBC",i?r.keys.server_write_key:r.keys.client_write_key),iv:i?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:n.cipher.createCipher("AES-CBC",i?r.keys.client_write_key:r.keys.server_write_key),iv:i?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=p,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=o.hmac_sha1}function a(e,t){var r,i=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),r=e.version.minor===o.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:n.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:r}),e.version.minor>=o.Versions.TLS_1_1.minor&&l.output.putBytes(r),l.update(e.fragment),l.finish(s)&&(e.fragment=l.output,e.length=e.fragment.length(),i=!0),i}function s(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function l(e,t,r){var n=!0;if(r){for(var o=t.length(),i=t.last(),a=o-1-i;a<o-1;++a)n=n&&t.at(a)==i;n&&t.truncate(i+1)}return n}function p(e,t){var r,i=!1;r=e.version.minor===o.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:r}),a.update(e.fragment),i=a.finish(l);var s=t.macLength,p=n.random.getBytesSync(s),c=a.output.length();c>=s?(e.fragment=a.output.getBytes(c-s),p=a.output.getBytes(s)):e.fragment=a.output.getBytes(),e.fragment=n.util.createBuffer(e.fragment),e.length=e.fragment.length();var u=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),i=function(e,t,r){var o=n.hmac.create();return o.start("SHA1",e),o.update(t),t=o.digest().getBytes(),o.start(null,null),o.update(r),r=o.digest().getBytes(),t===r}(t.macKey,p,u)&&i}o.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,e.cipher_type=o.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:i},o.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=o.BulkCipherAlgorithm.aes,e.cipher_type=o.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=o.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:i}},function(e,t,r){var n=r(5);r(283),e.exports=n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1},function(e,t,r){var n=r(5);r(124),r(32),r(284),r(8);var o=r(499),i=o.publicKeyValidator,a=o.privateKeyValidator;if(void 0===s)var s=n.jsbn.BigInteger;var l=n.util.ByteBuffer,p="undefined"==typeof Buffer?Uint8Array:Buffer;n.pki=n.pki||{},e.exports=n.pki.ed25519=n.ed25519=n.ed25519||{};var c=n.ed25519;function u(e){var t=e.message;if(t instanceof Uint8Array||t instanceof p)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,r);t=new l(t,r)}else if(!(t instanceof l))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new p(t.length()),o=0;o<n.length;++o)n[o]=t.at(o);return n}c.constants={},c.constants.PUBLIC_KEY_BYTE_LENGTH=32,c.constants.PRIVATE_KEY_BYTE_LENGTH=64,c.constants.SEED_BYTE_LENGTH=32,c.constants.SIGN_BYTE_LENGTH=64,c.constants.HASH_BYTE_LENGTH=64,c.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=n.random.getBytesSync(c.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==c.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+c.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=u({message:t,encoding:"binary"});for(var r=new p(c.constants.PUBLIC_KEY_BYTE_LENGTH),o=new p(c.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)o[i]=t[i];return function(e,t){var r,n=[j(),j(),j(),j()],o=E(t,32);for(o[0]&=248,o[31]&=127,o[31]|=64,R(n,o),T(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,o),{publicKey:r,privateKey:o}},c.privateKeyFromAsn1=function(e){var t={},r=[];if(!n.asn1.validate(e,a,t,r)){var o=new Error("Invalid Key.");throw o.errors=r,o}var i=n.asn1.derToOid(t.privateKeyOid),s=n.oids.EdDSA25519;if(i!==s)throw new Error('Invalid OID "'+i+'"; OID must be "'+s+'".');var l=t.privateKey;return{privateKeyBytes:u({message:n.asn1.fromDer(l).value,encoding:"binary"})}},c.publicKeyFromAsn1=function(e){var t={},r=[];if(!n.asn1.validate(e,i,t,r)){var o=new Error("Invalid Key.");throw o.errors=r,o}var a=n.asn1.derToOid(t.publicKeyOid),s=n.oids.EdDSA25519;if(a!==s)throw new Error('Invalid OID "'+a+'"; OID must be "'+s+'".');var l=t.ed25519PublicKey;if(l.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return u({message:l,encoding:"binary"})},c.publicKeyFromPrivateKey=function(e){var t=u({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new p(c.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},c.sign=function(e){var t=u(e=e||{}),r=u({message:e.privateKey,encoding:"binary"});if(r.length===c.constants.SEED_BYTE_LENGTH)r=c.generateKeyPair({seed:r}).privateKey;else if(r.length!==c.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+c.constants.SEED_BYTE_LENGTH+" or "+c.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new p(c.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var o,i,a=new Float64Array(64),s=[j(),j(),j(),j()],l=E(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var p=r+64;for(o=0;o<r;++o)e[64+o]=t[o];for(o=0;o<32;++o)e[32+o]=l[32+o];var c=E(e.subarray(32),r+32);for(O(c),R(s,c),T(e,s),o=32;o<64;++o)e[o]=n[o];var u=E(e,r+64);for(O(u),o=32;o<64;++o)a[o]=0;for(o=0;o<32;++o)a[o]=c[o];for(o=0;o<32;++o)for(i=0;i<32;i++)a[o+i]+=u[o]*l[i];_(e.subarray(32),a)}(n,t,t.length,r);for(var o=new p(c.constants.SIGN_BYTE_LENGTH),i=0;i<o.length;++i)o[i]=n[i];return o},c.verify=function(e){var t=u(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=u({message:e.signature,encoding:"binary"});if(r.length!==c.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+c.constants.SIGN_BYTE_LENGTH);var n=u({message:e.publicKey,encoding:"binary"});if(n.length!==c.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+c.constants.PUBLIC_KEY_BYTE_LENGTH);var o,i=new p(c.constants.SIGN_BYTE_LENGTH+t.length),a=new p(c.constants.SIGN_BYTE_LENGTH+t.length);for(o=0;o<c.constants.SIGN_BYTE_LENGTH;++o)i[o]=r[o];for(o=0;o<t.length;++o)i[o+c.constants.SIGN_BYTE_LENGTH]=t[o];return function(e,t,r,n){var o,i=new p(32),a=[j(),j(),j(),j()],s=[j(),j(),j(),j()];if(-1,r<64)return-1;if(function(e,t){var r=j(),n=j(),o=j(),i=j(),a=j(),s=j(),l=j();D(e[2],h),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),M(o,e[1]),U(i,o,f),F(o,o,e[2]),L(i,e[2],i),M(a,i),M(s,a),U(l,s,a),U(r,l,o),U(r,r,i),function(e,t){var r,n=j();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)M(n,n),1!==r&&U(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),U(r,r,o),U(r,r,i),U(r,r,i),U(e[0],r,i),M(n,e[0]),U(n,n,i),C(n,o)&&U(e[0],e[0],b);if(M(n,e[0]),U(n,n,i),C(n,o))return-1;N(e[0])===t[31]>>7&&F(e[0],d,e[0]);return U(e[3],e[0],e[1]),0}(s,n))return-1;for(o=0;o<r;++o)e[o]=t[o];for(o=0;o<32;++o)e[o+32]=n[o];var l=E(e,r);if(O(l),P(a,s,l),R(s,t.subarray(32)),w(a,s),T(i,a),r-=64,I(t,0,i,0)){for(o=0;o<r;++o)e[o]=0;return-1}for(o=0;o<r;++o)e[o]=t[o+64];return r}(a,i,i.length,n)>=0};var d=j(),h=j([1]),f=j([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=j([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=j([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),y=j([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=j([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(e,t){var r=n.md.sha512.create(),o=new l(e);r.update(o.getBytes(t),"binary");var i=r.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(i,"binary");for(var a=new p(c.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)a[s]=i.charCodeAt(s);return a}function _(e,t){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)t[o]+=r-16*t[n]*v[o-(n-32)],r=t[o]+128>>8,t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;++o)t[o]+=r-(t[31]>>4)*v[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;++o)t[o]-=r*v[o];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function O(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;_(e,t)}function w(e,t){var r=j(),n=j(),o=j(),i=j(),a=j(),s=j(),l=j(),p=j(),c=j();F(r,e[1],e[0]),F(c,t[1],t[0]),U(r,r,c),L(n,e[0],e[1]),L(c,t[0],t[1]),U(n,n,c),U(o,e[3],t[3]),U(o,o,g),U(i,e[2],t[2]),L(i,i,i),F(a,n,r),F(s,i,o),L(l,i,o),L(p,n,r),U(e[0],a,s),U(e[1],p,l),U(e[2],l,s),U(e[3],a,p)}function S(e,t,r){for(var n=0;n<4;++n)x(e[n],t[n],r)}function T(e,t){var r=j(),n=j(),o=j();!function(e,t){var r,n=j();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)M(n,n),2!==r&&4!==r&&U(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(o,t[2]),U(r,t[0],o),U(n,t[1],o),A(e,n),e[31]^=N(r)<<7}function A(e,t){var r,n,o,i=j(),a=j();for(r=0;r<16;++r)a[r]=t[r];for(k(a),k(a),k(a),n=0;n<2;++n){for(i[0]=a[0]-65517,r=1;r<15;++r)i[r]=a[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,x(a,i,1-o)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function C(e,t){var r=new p(32),n=new p(32);return A(r,e),A(n,t),I(r,0,n,0)}function I(e,t,r,n){return function(e,t,r,n,o){var i,a=0;for(i=0;i<o;++i)a|=e[t+i]^r[n+i];return(1&a-1>>>8)-1}(e,t,r,n,32)}function N(e){var t=new p(32);return A(t,e),1&t[0]}function P(e,t,r){var n,o;for(D(e[0],d),D(e[1],h),D(e[2],h),D(e[3],d),o=255;o>=0;--o)S(e,t,n=r[o/8|0]>>(7&o)&1),w(t,e),w(e,e),S(e,t,n)}function R(e,t){var r=[j(),j(),j(),j()];D(r[0],m),D(r[1],y),D(r[2],h),U(r[3],m,y),P(e,r,t)}function D(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function k(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function x(e,t,r){for(var n,o=~(r-1),i=0;i<16;++i)n=o&(e[i]^t[i]),e[i]^=n,t[i]^=n}function j(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function L(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function F(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function M(e,t){U(e,t,t)}function U(e,t,r){var n,o,i=0,a=0,s=0,l=0,p=0,c=0,u=0,d=0,h=0,f=0,g=0,m=0,y=0,v=0,b=0,E=0,_=0,O=0,w=0,S=0,T=0,A=0,C=0,I=0,N=0,P=0,R=0,D=0,k=0,x=0,j=0,L=r[0],F=r[1],M=r[2],U=r[3],B=r[4],V=r[5],q=r[6],G=r[7],H=r[8],z=r[9],W=r[10],J=r[11],K=r[12],Y=r[13],$=r[14],Q=r[15];i+=(n=t[0])*L,a+=n*F,s+=n*M,l+=n*U,p+=n*B,c+=n*V,u+=n*q,d+=n*G,h+=n*H,f+=n*z,g+=n*W,m+=n*J,y+=n*K,v+=n*Y,b+=n*$,E+=n*Q,a+=(n=t[1])*L,s+=n*F,l+=n*M,p+=n*U,c+=n*B,u+=n*V,d+=n*q,h+=n*G,f+=n*H,g+=n*z,m+=n*W,y+=n*J,v+=n*K,b+=n*Y,E+=n*$,_+=n*Q,s+=(n=t[2])*L,l+=n*F,p+=n*M,c+=n*U,u+=n*B,d+=n*V,h+=n*q,f+=n*G,g+=n*H,m+=n*z,y+=n*W,v+=n*J,b+=n*K,E+=n*Y,_+=n*$,O+=n*Q,l+=(n=t[3])*L,p+=n*F,c+=n*M,u+=n*U,d+=n*B,h+=n*V,f+=n*q,g+=n*G,m+=n*H,y+=n*z,v+=n*W,b+=n*J,E+=n*K,_+=n*Y,O+=n*$,w+=n*Q,p+=(n=t[4])*L,c+=n*F,u+=n*M,d+=n*U,h+=n*B,f+=n*V,g+=n*q,m+=n*G,y+=n*H,v+=n*z,b+=n*W,E+=n*J,_+=n*K,O+=n*Y,w+=n*$,S+=n*Q,c+=(n=t[5])*L,u+=n*F,d+=n*M,h+=n*U,f+=n*B,g+=n*V,m+=n*q,y+=n*G,v+=n*H,b+=n*z,E+=n*W,_+=n*J,O+=n*K,w+=n*Y,S+=n*$,T+=n*Q,u+=(n=t[6])*L,d+=n*F,h+=n*M,f+=n*U,g+=n*B,m+=n*V,y+=n*q,v+=n*G,b+=n*H,E+=n*z,_+=n*W,O+=n*J,w+=n*K,S+=n*Y,T+=n*$,A+=n*Q,d+=(n=t[7])*L,h+=n*F,f+=n*M,g+=n*U,m+=n*B,y+=n*V,v+=n*q,b+=n*G,E+=n*H,_+=n*z,O+=n*W,w+=n*J,S+=n*K,T+=n*Y,A+=n*$,C+=n*Q,h+=(n=t[8])*L,f+=n*F,g+=n*M,m+=n*U,y+=n*B,v+=n*V,b+=n*q,E+=n*G,_+=n*H,O+=n*z,w+=n*W,S+=n*J,T+=n*K,A+=n*Y,C+=n*$,I+=n*Q,f+=(n=t[9])*L,g+=n*F,m+=n*M,y+=n*U,v+=n*B,b+=n*V,E+=n*q,_+=n*G,O+=n*H,w+=n*z,S+=n*W,T+=n*J,A+=n*K,C+=n*Y,I+=n*$,N+=n*Q,g+=(n=t[10])*L,m+=n*F,y+=n*M,v+=n*U,b+=n*B,E+=n*V,_+=n*q,O+=n*G,w+=n*H,S+=n*z,T+=n*W,A+=n*J,C+=n*K,I+=n*Y,N+=n*$,P+=n*Q,m+=(n=t[11])*L,y+=n*F,v+=n*M,b+=n*U,E+=n*B,_+=n*V,O+=n*q,w+=n*G,S+=n*H,T+=n*z,A+=n*W,C+=n*J,I+=n*K,N+=n*Y,P+=n*$,R+=n*Q,y+=(n=t[12])*L,v+=n*F,b+=n*M,E+=n*U,_+=n*B,O+=n*V,w+=n*q,S+=n*G,T+=n*H,A+=n*z,C+=n*W,I+=n*J,N+=n*K,P+=n*Y,R+=n*$,D+=n*Q,v+=(n=t[13])*L,b+=n*F,E+=n*M,_+=n*U,O+=n*B,w+=n*V,S+=n*q,T+=n*G,A+=n*H,C+=n*z,I+=n*W,N+=n*J,P+=n*K,R+=n*Y,D+=n*$,k+=n*Q,b+=(n=t[14])*L,E+=n*F,_+=n*M,O+=n*U,w+=n*B,S+=n*V,T+=n*q,A+=n*G,C+=n*H,I+=n*z,N+=n*W,P+=n*J,R+=n*K,D+=n*Y,k+=n*$,x+=n*Q,E+=(n=t[15])*L,a+=38*(O+=n*M),s+=38*(w+=n*U),l+=38*(S+=n*B),p+=38*(T+=n*V),c+=38*(A+=n*q),u+=38*(C+=n*G),d+=38*(I+=n*H),h+=38*(N+=n*z),f+=38*(P+=n*W),g+=38*(R+=n*J),m+=38*(D+=n*K),y+=38*(k+=n*Y),v+=38*(x+=n*$),b+=38*(j+=n*Q),i=(n=(i+=38*(_+=n*F))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),E=(n=E+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),E=(n=E+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=a,e[2]=s,e[3]=l,e[4]=p,e[5]=c,e[6]=u,e[7]=d,e[8]=h,e[9]=f,e[10]=g,e[11]=m,e[12]=y,e[13]=v,e[14]=b,e[15]=E}},function(e,t,r){var n=r(5);r(48);var o=n.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(e,t,r){var n=r(5);r(8),r(32),r(124),e.exports=n.kem=n.kem||{};var o=n.jsbn.BigInteger;function i(e,t,r,o){e.generate=function(e,i){for(var a=new n.util.ByteBuffer,s=Math.ceil(i/o)+r,l=new n.util.ByteBuffer,p=r;p<s;++p){l.putInt32(p),t.start(),t.update(e+l.getBytes());var c=t.digest();a.putBytes(c.getBytes(o))}return a.truncate(a.length()-i),a.getBytes()}}n.kem.rsa={},n.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||n.random,i={encrypt:function(t,i){var a,s=Math.ceil(t.n.bitLength()/8);do{a=new o(n.util.bytesToHex(r.getBytesSync(s)),16).mod(t.n)}while(a.compareTo(o.ONE)<=0);var l=s-(a=n.util.hexToBytes(a.toString(16))).length;return l>0&&(a=n.util.fillString(String.fromCharCode(0),l)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,i)}},decrypt:function(t,r,n){var o=t.decrypt(r,"NONE");return e.generate(o,n)}};return i},n.kem.kdf1=function(e,t){i(this,e,0,t||e.digestLength)},n.kem.kdf2=function(e,t){i(this,e,1,t||e.digestLength)}},function(e,t,r){var n=r(5);r(8),e.exports=n.log=n.log||{},n.log.levels=["none","error","warning","info","debug","verbose","max"];var o={},i=[],a=null;n.log.LEVEL_LOCKED=2,n.log.NO_LEVEL_CHECK=4,n.log.INTERPOLATE=8;for(var s=0;s<n.log.levels.length;++s){var l=n.log.levels[s];o[l]={index:s,name:l.toUpperCase()}}n.log.logMessage=function(e){for(var t=o[e.level].index,r=0;r<i.length;++r){var a=i[r];if(a.flags&n.log.NO_LEVEL_CHECK)a.f(e);else t<=o[a.level].index&&a.f(a,e)}},n.log.prepareStandard=function(e){"standard"in e||(e.standard=o[e.level].name+" ["+e.category+"] "+e.message)},n.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||!1),e.full=n.util.format.apply(this,t)}},n.log.prepareStandardFull=function(e){"standardFull"in e||(n.log.prepareStandard(e),e.standardFull=e.standard)};var p=["error","warning","info","debug","verbose"];for(s=0;s<p.length;++s)!function(e){n.log[e]=function(t,r){var o=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:e,category:t,message:r,arguments:o};n.log.logMessage(i)}}(p[s]);if(n.log.makeLogger=function(e){var t={flags:0,f:e};return n.log.setLevel(t,"none"),t},n.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&n.log.LEVEL_LOCKED))for(var o=0;o<n.log.levels.length;++o){if(t==n.log.levels[o]){e.level=t,r=!0;break}}return r},n.log.lock=function(e,t){void 0===t||t?e.flags|=n.log.LEVEL_LOCKED:e.flags&=~n.log.LEVEL_LOCKED},n.log.addLogger=function(e){i.push(e)},"undefined"!=typeof console&&"log"in console){var c;if(console.error&&console.warn&&console.info&&console.debug){var u={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},d=function(e,t){n.log.prepareStandard(t);var r=u[t.level],o=[t.standard];o=o.concat(t.arguments.slice()),r.apply(console,o)};c=n.log.makeLogger(d)}else{d=function(e,t){n.log.prepareStandardFull(t),console.log(t.standardFull)};c=n.log.makeLogger(d)}n.log.setLevel(c,"debug"),n.log.addLogger(c),a=c}else console={log:function(){}};if(null!==a&&"undefined"!=typeof window&&window.location){var h=new URL(window.location.href).searchParams;if(h.has("console.level")&&n.log.setLevel(a,h.get("console.level").slice(-1)[0]),h.has("console.lock"))"true"==h.get("console.lock").slice(-1)[0]&&n.log.lock(a)}n.log.consoleLogger=a},function(e,t,r){e.exports=r(55),r(165),r(102),r(276),r(284)},function(e,t,r){var n=r(5);r(71),r(48),r(122),r(72),r(84),r(282),r(32),r(8),r(167);var o=n.asn1,i=e.exports=n.pkcs7=n.pkcs7||{};function a(e){var t={},r=[];if(!o.validate(e,i.asn1.recipientInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=r,a}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:o.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function s(e){for(var t,r=[],i=0;i<e.length;++i)r.push((t=e[i],o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(t.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:t.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(t.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.encryptedContent.algorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return r}function l(e){var t=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.digestAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.signatureAlgorithm).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")])),t.value.push(o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=o.create(o.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<e.unauthenticatedAttributes.length;++i){var a=e.unauthenticatedAttributes[i];r.values.push(p(a))}t.value.push(r)}return t}function p(e){var t;if(e.type===n.pki.oids.contentType)t=o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.value).getBytes());else if(e.type===n.pki.oids.messageDigest)t=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===n.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var s=Date.parse(a);a=isNaN(s)?13===a.length?o.utcTimeToDate(a):o.generalizedTimeToDate(a):new Date(s)}t=a>=r&&a<i?o.create(o.Class.UNIVERSAL,o.Type.UTCTIME,!1,o.dateToUtcTime(a)):o.create(o.Class.UNIVERSAL,o.Type.GENERALIZEDTIME,!1,o.dateToGeneralizedTime(a))}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[t])])}function c(e,t,r){var i={};if(!o.validate(t,r,i,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(o.derToOid(i.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var s="";if(n.util.isArray(i.encryptedContent))for(var l=0;l<i.encryptedContent.length;++l){if(i.encryptedContent[l].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=i.encryptedContent[l].value}else s=i.encryptedContent;e.encryptedContent={algorithm:o.derToOid(i.encAlgorithm),parameter:n.util.createBuffer(i.encParameter.value),content:n.util.createBuffer(s)}}if(i.content){s="";if(n.util.isArray(i.content))for(l=0;l<i.content.length;++l){if(i.content[l].type!==o.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=i.content[l].value}else s=i.content;e.content=n.util.createBuffer(s)}return e.version=i.version.charCodeAt(0),e.rawCapture=i,i}function u(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=n.aes.createDecryptionCipher(e.encryptedContent.key);break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=n.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}i.messageFromPem=function(e){var t=n.pem.decode(e)[0];if("PKCS7"!==t.type){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=o.fromDer(t.body);return i.messageFromAsn1(a)},i.messageToPem=function(e,t){var r={type:"PKCS7",body:o.toDer(e.toAsn1()).getBytes()};return n.pem.encode(r,{maxline:t})},i.messageFromAsn1=function(e){var t={},r=[];if(!o.validate(e,i.asn1.contentInfoValidator,t,r)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=r,a}var s,l=o.derToOid(t.contentType);switch(l){case n.pki.oids.envelopedData:s=i.createEnvelopedData();break;case n.pki.oids.encryptedData:s=i.createEncryptedData();break;case n.pki.oids.signedData:s=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+l+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s},i.createSignedData=function(){var e=null;return e={type:n.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(c(e,t,i.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var r=e.rawCapture.certificates.value,o=0;o<r.length;++o)e.certificates.push(n.pki.certificateFromAsn1(r[o]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],r=0;r<e.certificates.length;++r)t.push(n.pki.certificateToAsn1(e.certificates[r]));var i=[],a=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,t)),i.length>0&&a.value[0].value.push(o.create(o.Class.CONTEXT_SPECIFIC,1,!0,i)),a.value[0].value.push(o.create(o.Class.UNIVERSAL,o.Type.SET,!0,e.signerInfos)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var r=t.issuer,o=t.serialNumber;if(t.certificate){var i=t.certificate;"string"==typeof i&&(i=n.pki.certificateFromPem(i)),r=i.issuer.attributes,o=i.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=n.pki.privateKeyFromPem(a));var s=t.digestAlgorithm||n.pki.oids.sha1;switch(s){case n.pki.oids.sha1:case n.pki.oids.sha256:case n.pki.oids.sha384:case n.pki.oids.sha512:case n.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var l=t.authenticatedAttributes||[];if(l.length>0){for(var p=!1,c=!1,u=0;u<l.length;++u){var d=l[u];if(p||d.type!==n.pki.oids.contentType){if(c||d.type!==n.pki.oids.messageDigest);else if(c=!0,p)break}else if(p=!0,c)break}if(!p||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:r,serialNumber:o,digestAlgorithm:s,signatureAlgorithm:n.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(t){var r;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(n.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof n.util.ByteBuffer?r=e.content.bytes():"string"==typeof e.content&&(r=n.util.encodeUtf8(e.content)),t.detached?e.detachedContent=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r):e.contentInfo.value.push(o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,r)]))));0!==e.signers.length&&function(t){var r;r=e.detachedContent?e.detachedContent:(r=e.contentInfo.value[1]).value[0];if(!r)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=o.derToOid(e.contentInfo.value[0].value),a=o.toDer(r);for(var s in a.getByte(),o.getBerValueLength(a),a=a.getBytes(),t)t[s].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var d=e.signers[u];if(0===d.authenticatedAttributes.length){if(i!==n.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=o.create(o.Class.UNIVERSAL,o.Type.SET,!0,[]),f=0;f<d.authenticatedAttributes.length;++f){var g=d.authenticatedAttributes[f];g.type===n.pki.oids.messageDigest?g.value=t[d.digestAlgorithm].digest():g.type===n.pki.oids.signingTime&&(g.value||(g.value=c)),h.value.push(p(g)),d.authenticatedAttributesAsn1.value.push(p(g))}a=o.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(l(e[r]));return t}(e.signers)}(function(){for(var t={},r=0;r<e.signers.length;++r){var i=e.signers[r];(a=i.digestAlgorithm)in t||(t[a]=n.md[n.pki.oids[a]].create()),0===i.authenticatedAttributes.length?i.md=t[a]:i.md=n.md[n.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=n.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var e=null;return e={type:n.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){c(e,t,i.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),u(e)}}},i.createEnvelopedData=function(){var e=null;return e={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=c(e,t,i.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(a(e[r]));return t}(r.recipientInfos.value)},toAsn1:function(){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(e.type).getBytes()),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(e.version).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SET,!0,s(e.recipients)),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,(t=e.encryptedContent,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(n.pki.oids.data).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(t.algorithm).getBytes()),t.parameter?o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),o.create(o.Class.CONTEXT_SPECIFIC,0,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var o=e.recipients[n],i=o.issuer;if(o.serialNumber===t.serialNumber&&i.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(i[s].type!==r[s].type||i[s].value!==r[s].value){a=!1;break}if(a)return o}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:var o=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=n.util.createBuffer(o);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}u(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:n.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var o,i,a;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case n.pki.oids["aes128-CBC"]:o=16,i=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:o=24,i=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:o=32,i=16,a=n.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:o=24,i=8,a=n.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=n.util.createBuffer(n.random.getBytes(o));else if(t.length()!=o)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+o+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=n.util.createBuffer(n.random.getBytes(i));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var l=0;l<e.recipients.length;++l){var p=e.recipients[l];if(void 0===p.encryptedContent.content)switch(p.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:p.encryptedContent.content=p.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}}}}}},function(e,t,r){var n=r(5);r(71),r(101),r(165),r(102),r(8);var o=e.exports=n.ssh=n.ssh||{};function i(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var o=n.util.hexToBytes(r);e.putInt32(o.length),e.putBytes(o)}function a(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=n.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o.privateKeyToPutty=function(e,t,r){var o=""===(t=t||"")?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: ssh-rsa\r\n";l+="Encryption: "+o+"\r\n",l+="Comment: "+(r=r||"")+"\r\n";var p=n.util.createBuffer();a(p,"ssh-rsa"),i(p,e.e),i(p,e.n);var c=n.util.encode64(p.bytes(),64),u=Math.floor(c.length/66)+1;l+="Public-Lines: "+u+"\r\n",l+=c;var d,h=n.util.createBuffer();if(i(h,e.d),i(h,e.p),i(h,e.q),i(h,e.qInv),t){var f=h.length()+16-1;f-=f%16;var g=s(h.bytes());g.truncate(g.length()-f+h.length()),h.putBuffer(g);var m=n.util.createBuffer();m.putBuffer(s("\0\0\0\0",t)),m.putBuffer(s("\0\0\0",t));var y=n.aes.createEncryptionCipher(m.truncate(8),"CBC");y.start(n.util.createBuffer().fillWithByte(0,16)),y.update(h.copy()),y.finish();var v=y.output;v.truncate(16),d=n.util.encode64(v.bytes(),64)}else d=n.util.encode64(h.bytes(),64);l+="\r\nPrivate-Lines: "+(u=Math.floor(d.length/66)+1)+"\r\n",l+=d;var b=s("putty-private-key-file-mac-key",t),E=n.util.createBuffer();a(E,"ssh-rsa"),a(E,o),a(E,r),E.putInt32(p.length()),E.putBuffer(p),E.putInt32(h.length()),E.putBuffer(h);var _=n.hmac.create();return _.start("sha1",b),_.update(E.bytes()),l+="\r\nPrivate-MAC: "+_.digest().toHex()+"\r\n"},o.publicKeyToOpenSSH=function(e,t){t=t||"";var r=n.util.createBuffer();return a(r,"ssh-rsa"),i(r,e.e),i(r,e.n),"ssh-rsa "+n.util.encode64(r.bytes())+" "+t},o.privateKeyToOpenSSH=function(e,t){return t?n.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):n.pki.privateKeyToPem(e)},o.getPublicKeyFingerprint=function(e,t){var r=(t=t||{}).md||n.md.md5.create(),o=n.util.createBuffer();a(o,"ssh-rsa"),i(o,e.e),i(o,e.n),r.start(),r.update(o.getBytes());var s=r.digest();if("hex"===t.encoding){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseApp=t.FirebaseAppInternals=void 0;const n=r(62),o=r(4),i=r(26),a=r(2);class s{constructor(e){this.credential_=e,this.tokenListeners_=[],this.isRefreshing=!1}getToken(e=!1){return(e||this.shouldRefresh())&&(this.promiseToCachedToken_=this.refreshToken()),this.promiseToCachedToken_}getCachedToken(){return this.cachedToken_||null}refreshToken(){return this.isRefreshing=!0,Promise.resolve(this.credential_.getAccessToken()).then(e=>{if(!o.isNonNullObject(e)||"number"!=typeof e.expires_in||"string"!=typeof e.access_token)throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,`Invalid access token generated: "${JSON.stringify(e)}". Valid access tokens must be an object with the "expires_in" (number) and "access_token" (string) properties.`);const t={accessToken:e.access_token,expirationTime:Date.now()+1e3*e.expires_in};return this.cachedToken_&&this.cachedToken_.accessToken===t.accessToken&&this.cachedToken_.expirationTime===t.expirationTime||(this.cachedToken_=t,this.tokenListeners_.forEach(e=>{e(t.accessToken)})),t}).catch(e=>{let t="string"==typeof e?e:e.message;throw t=`Credential implementation provided to initializeApp() via the "credential" property failed to fetch a valid Google OAuth2 access token with the following error: "${t}".`,-1!==t.indexOf("invalid_grant")&&(t+=" There are two likely causes: (1) your server time is not properly synced or (2) your certificate key file has been revoked. To solve (1), re-sync the time on your server. To solve (2), make sure the key ID for your key file is still present at https://console.firebase.google.com/iam-admin/serviceaccounts/project. If not, generate a new key file at https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk."),new a.FirebaseAppError(a.AppErrorCodes.INVALID_CREDENTIAL,t)}).finally(()=>{this.isRefreshing=!1})}shouldRefresh(){return(!this.cachedToken_||this.cachedToken_.expirationTime-Date.now()<=3e5)&&!this.isRefreshing}addAuthTokenListener(e){this.tokenListeners_.push(e),this.cachedToken_&&e(this.cachedToken_.accessToken)}removeAuthTokenListener(e){this.tokenListeners_=this.tokenListeners_.filter(t=>t!==e)}}t.FirebaseAppInternals=s;t.FirebaseApp=class{constructor(e,t,r){if(this.appStore=r,this.services_={},this.isDeleted_=!1,this.name_=t,this.options_=(0,i.deepCopy)(e),!o.isNonNullObject(this.options_))throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". Options must be a non-null object.`);"credential"in this.options_||(this.options_.credential=(0,n.getApplicationDefault)(this.options_.httpAgent));const l=this.options_.credential;if("object"!=typeof l||null===l||"function"!=typeof l.getAccessToken)throw new a.FirebaseAppError(a.AppErrorCodes.INVALID_APP_OPTIONS,`Invalid Firebase app options passed as the first argument to initializeApp() for the app named "${this.name_}". The "credential" property must be an object which implements the Credential interface.`);this.INTERNAL=new s(l)}get name(){return this.checkDestroyed_(),this.name_}get options(){return this.checkDestroyed_(),(0,i.deepCopy)(this.options_)}getOrInitService(e,t){return this.ensureService_(e,()=>t(this))}delete(){var e;return this.checkDestroyed_(),null===(e=this.appStore)||void 0===e||e.removeApp(this.name),Promise.all(Object.keys(this.services_).map(e=>{const t=this.services_[e];return function(e){return"function"==typeof e.delete}(t)?t.delete():Promise.resolve()})).then(()=>{this.services_={},this.isDeleted_=!0})}ensureService_(e,t){return this.checkDestroyed_(),e in this.services_||(this.services_[e]=t()),this.services_[e]}checkDestroyed_(){if(this.isDeleted_)throw new a.FirebaseAppError(a.AppErrorCodes.APP_DELETED,`Firebase app named "${this.name_}" has already been deleted.`)}}},function(e){e.exports=JSON.parse('{"name":"firebase-admin","version":"13.2.0","description":"Firebase admin SDK for Node.js","author":"Firebase <firebase-support@google.com> (https://firebase.google.com/)","license":"Apache-2.0","homepage":"https://firebase.google.com/","engines":{"node":">=18"},"scripts":{"build":"gulp build","build:tests":"gulp compile_test","prepare":"npm run build && npm run esm-wrap","lint":"run-p lint:src lint:test","test":"run-s lint test:unit","integration":"run-s build test:integration","test:unit":"mocha test/unit/*.spec.ts --require ts-node/register","test:integration":"mocha test/integration/*.ts --slow 5000 --timeout 20000 --require ts-node/register","test:coverage":"nyc npm run test:unit","lint:src":"eslint src/ --ext .ts","lint:test":"eslint test/ --ext .ts","apidocs":"run-s api-extractor:local api-documenter","api-extractor":"node generate-reports.js","api-extractor:local":"npm run build && node generate-reports.js --local","esm-wrap":"node generate-esm-wrapper.js","api-documenter":"run-s api-documenter:markdown api-documenter:toc api-documenter:post","api-documenter:markdown":"api-documenter-fire markdown --input temp --output docgen/markdown -s --project admin","api-documenter:toc":"api-documenter-fire toc --input temp --output docgen/markdown -p /docs/reference/admin/node -s","api-documenter:post":"node docgen/post-process.js"},"nyc":{"extension":[".ts"],"include":["src"],"exclude":["**/*.d.ts"],"all":true},"keywords":["admin","database","Firebase","realtime","authentication"],"repository":{"type":"git","url":"https://github.com/firebase/firebase-admin-node"},"main":"lib/index.js","files":["lib/","LICENSE","README.md","package.json"],"types":"./lib/index.d.ts","typesVersions":{"*":{"app":["lib/app"],"app-check":["lib/app-check"],"auth":["lib/auth"],"eventarc":["lib/eventarc"],"extensions":["lib/extensions"],"database":["lib/database"],"data-connect":["lib/data-connect"],"firestore":["lib/firestore"],"functions":["lib/functions"],"installations":["lib/installations"],"instance-id":["lib/instance-id"],"machine-learning":["lib/machine-learning"],"messaging":["lib/messaging"],"project-management":["lib/project-management"],"remote-config":["lib/remote-config"],"security-rules":["lib/security-rules"],"storage":["lib/storage"]}},"exports":{".":"./lib/index.js","./app":{"types":"./lib/app/index.d.ts","require":"./lib/app/index.js","import":"./lib/esm/app/index.js"},"./app-check":{"types":"./lib/app-check/index.d.ts","require":"./lib/app-check/index.js","import":"./lib/esm/app-check/index.js"},"./auth":{"types":"./lib/auth/index.d.ts","require":"./lib/auth/index.js","import":"./lib/esm/auth/index.js"},"./database":{"types":"./lib/database/index.d.ts","require":"./lib/database/index.js","import":"./lib/esm/database/index.js"},"./data-connect":{"types":"./lib/data-connect/index.d.ts","require":"./lib/data-connect/index.js","import":"./lib/esm/data-connect/index.js"},"./eventarc":{"types":"./lib/eventarc/index.d.ts","require":"./lib/eventarc/index.js","import":"./lib/esm/eventarc/index.js"},"./extensions":{"types":"./lib/extensions/index.d.ts","require":"./lib/extensions/index.js","import":"./lib/esm/extensions/index.js"},"./firestore":{"types":"./lib/firestore/index.d.ts","require":"./lib/firestore/index.js","import":"./lib/esm/firestore/index.js"},"./functions":{"types":"./lib/functions/index.d.ts","require":"./lib/functions/index.js","import":"./lib/esm/functions/index.js"},"./installations":{"types":"./lib/installations/index.d.ts","require":"./lib/installations/index.js","import":"./lib/esm/installations/index.js"},"./instance-id":{"types":"./lib/instance-id/index.d.ts","require":"./lib/instance-id/index.js","import":"./lib/esm/instance-id/index.js"},"./machine-learning":{"types":"./lib/machine-learning/index.d.ts","require":"./lib/machine-learning/index.js","import":"./lib/esm/machine-learning/index.js"},"./messaging":{"types":"./lib/messaging/index.d.ts","require":"./lib/messaging/index.js","import":"./lib/esm/messaging/index.js"},"./project-management":{"types":"./lib/project-management/index.d.ts","require":"./lib/project-management/index.js","import":"./lib/esm/project-management/index.js"},"./remote-config":{"types":"./lib/remote-config/index.d.ts","require":"./lib/remote-config/index.js","import":"./lib/esm/remote-config/index.js"},"./security-rules":{"types":"./lib/security-rules/index.d.ts","require":"./lib/security-rules/index.js","import":"./lib/esm/security-rules/index.js"},"./storage":{"types":"./lib/storage/index.d.ts","require":"./lib/storage/index.js","import":"./lib/esm/storage/index.js"}},"dependencies":{"@fastify/busboy":"^3.0.0","@firebase/database-compat":"^2.0.0","@firebase/database-types":"^1.0.6","@types/node":"^22.8.7","farmhash-modern":"^1.1.0","google-auth-library":"^9.14.2","jsonwebtoken":"^9.0.0","jwks-rsa":"^3.1.0","node-forge":"^1.3.1","uuid":"^11.0.2"},"optionalDependencies":{"@google-cloud/firestore":"^7.11.0","@google-cloud/storage":"^7.14.0"},"devDependencies":{"@firebase/api-documenter":"^0.4.0","@firebase/app-compat":"^0.2.1","@firebase/auth-compat":"^0.5.13","@firebase/auth-types":"^0.12.0","@microsoft/api-extractor":"^7.11.2","@types/bcrypt":"^5.0.0","@types/chai":"^4.0.0","@types/chai-as-promised":"^7.1.0","@types/firebase-token-generator":"^2.0.28","@types/jsonwebtoken":"8.5.1","@types/lodash":"^4.14.104","@types/minimist":"^1.2.2","@types/mocha":"^10.0.0","@types/nock":"^11.1.0","@types/request":"^2.47.0","@types/request-promise":"^4.1.41","@types/sinon":"^17.0.2","@types/sinon-chai":"^3.0.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1","bcrypt":"^5.0.0","chai":"^4.2.0","chai-as-promised":"^7.0.0","chai-exclude":"^2.1.0","chalk":"^4.1.1","child-process-promise":"^2.2.1","del":"^6.0.0","eslint":"^8.56.0","firebase-token-generator":"^2.0.0","gulp":"^5.0.0","gulp-filter":"^7.0.0","gulp-header":"^2.0.9","gulp-typescript":"^5.0.1","http-message-parser":"^0.0.34","lodash":"^4.17.15","minimist":"^1.2.6","mocha":"^10.0.0","mz":"^2.7.0","nock":"^13.0.0","npm-run-all":"^4.1.5","nyc":"^17.0.0","request":"^2.75.0","request-promise":"^4.1.1","run-sequence":"^2.2.1","sinon":"^18.0.0","sinon-chai":"^3.0.0","ts-node":"^10.2.0","typescript":"5.5.4","yargs":"^17.0.1"}}')},function(e,t,r){"use strict";const n=r(1).Writable,{inherits:o}=r(68),i=r(286),a=r(510),s=r(512),l=r(288);function p(e){if(!(this instanceof p))return new p(e);if("object"!=typeof e)throw new TypeError("Busboy expected an options-Object.");if("object"!=typeof e.headers)throw new TypeError("Busboy expected an options-Object with headers-attribute.");if("string"!=typeof e.headers["content-type"])throw new TypeError("Missing Content-Type-header.");const{headers:t,...r}=e;this.opts={autoDestroy:!1,...r},n.call(this,this.opts),this._done=!1,this._parser=this.getParserByHeaders(t),this._finished=!1}o(p,n),p.prototype.emit=function(e){if("finish"===e){var t;if(!this._done)return void(null===(t=this._parser)||void 0===t||t.end());if(this._finished)return;this._finished=!0}n.prototype.emit.apply(this,arguments)},p.prototype.getParserByHeaders=function(e){const t=l(e["content-type"]),r={defCharset:this.opts.defCharset,fileHwm:this.opts.fileHwm,headers:e,highWaterMark:this.opts.highWaterMark,isPartAFile:this.opts.isPartAFile,limits:this.opts.limits,parsedConType:t,preservePath:this.opts.preservePath};if(a.detect.test(t[0]))return new a(this,r);if(s.detect.test(t[0]))return new s(this,r);throw new Error("Unsupported Content-Type.")},p.prototype._write=function(e,t,r){this._parser.write(e,r)},e.exports=p,e.exports.default=p,e.exports.Busboy=p,e.exports.Dicer=i},function(e,t,r){"use strict";const n=r(68).inherits,o=r(1).Readable;function i(e){o.call(this,e)}n(i,o),i.prototype._read=function(e){},e.exports=i},function(e,t,r){"use strict";const n=r(161).EventEmitter,o=r(68).inherits,i=r(170),a=r(287),s=Buffer.from("\r\n\r\n"),l=/\r\n/g,p=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function c(e){n.call(this),e=e||{};const t=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=i(e,"maxHeaderPairs",2e3),this.maxHeaderSize=i(e,"maxHeaderSize",81920),this.buffer="",this.header={},this.finished=!1,this.ss=new a(s),this.ss.on("info",(function(e,r,n,o){r&&!t.maxed&&(t.nread+o-n>=t.maxHeaderSize?(o=t.maxHeaderSize-t.nread+n,t.nread=t.maxHeaderSize,t.maxed=!0):t.nread+=o-n,t.buffer+=r.toString("binary",n,o)),e&&t._finish()}))}o(c,n),c.prototype.push=function(e){const t=this.ss.push(e);if(this.finished)return t},c.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()},c.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;const e=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",e)},c.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;const e=this.buffer.split(l),t=e.length;let r,n;for(var o=0;o<t;++o){if(0===e[o].length)continue;if(("\t"===e[o][0]||" "===e[o][0])&&n){this.header[n][this.header[n].length-1]+=e[o];continue}const t=e[o].indexOf(":");if(-1===t||0===t)return;if(r=p.exec(e[o]),n=r[1].toLowerCase(),this.header[n]=this.header[n]||[],this.header[n].push(r[2]||""),++this.npairs===this.maxHeaderPairs)break}},e.exports=c},function(e,t,r){"use strict";const{Readable:n}=r(1),{inherits:o}=r(68),i=r(286),a=r(288),s=r(171),l=r(511),p=r(170),c=/^boundary$/i,u=/^form-data$/i,d=/^charset$/i,h=/^filename$/i,f=/^name$/i;function g(e,t){let r,n;const o=this;let g;const v=t.limits,b=t.isPartAFile||((e,t,r)=>"application/octet-stream"===t||void 0!==r),E=t.parsedConType||[],_=t.defCharset||"utf8",O=t.preservePath,w={highWaterMark:t.fileHwm};for(r=0,n=E.length;r<n;++r)if(Array.isArray(E[r])&&c.test(E[r][0])){g=E[r][1];break}function S(){0===L&&F&&!e._done&&(F=!1,o.end())}if("string"!=typeof g)throw new Error("Multipart: Boundary not found");const T=p(v,"fieldSize",1048576),A=p(v,"fileSize",1/0),C=p(v,"files",1/0),I=p(v,"fields",1/0),N=p(v,"parts",1/0),P=p(v,"headerPairs",2e3),R=p(v,"headerSize",81920);let D,k,x=0,j=0,L=0,F=!1;this._needDrain=!1,this._pause=!1,this._cb=void 0,this._nparts=0,this._boy=e;const M={boundary:g,maxHeaderPairs:P,maxHeaderSize:R,partHwm:w.highWaterMark,highWaterMark:t.highWaterMark};this.parser=new i(M),this.parser.on("drain",(function(){if(o._needDrain=!1,o._cb&&!o._pause){const e=o._cb;o._cb=void 0,e()}})).on("part",(function t(i){if(++o._nparts>N)return o.parser.removeListener("part",t),o.parser.on("part",m),e.hitPartsLimit=!0,e.emit("partsLimit"),m(i);if(k){const e=k;e.emit("end"),e.removeAllListeners("end")}i.on("header",(function(t){let p,c,g,v,E,N,P,R,F=0;if(t["content-type"]&&(g=a(t["content-type"][0]),g[0]))for(p=g[0].toLowerCase(),r=0,n=g.length;r<n;++r)if(d.test(g[r][0])){v=g[r][1].toLowerCase();break}if(void 0===p&&(p="text/plain"),void 0===v&&(v=_),!t["content-disposition"])return m(i);if(g=a(t["content-disposition"][0]),!u.test(g[0]))return m(i);for(r=0,n=g.length;r<n;++r)f.test(g[r][0])?c=g[r][1]:h.test(g[r][0])&&(N=g[r][1],O||(N=l(N)));if(E=t["content-transfer-encoding"]?t["content-transfer-encoding"][0].toLowerCase():"7bit",b(c,p,N)){if(x===C)return e.hitFilesLimit||(e.hitFilesLimit=!0,e.emit("filesLimit")),m(i);if(++x,0===e.listenerCount("file"))return void o.parser._ignore();++L;const t=new y(w);D=t,t.on("end",(function(){if(--L,o._pause=!1,S(),o._cb&&!o._needDrain){const e=o._cb;o._cb=void 0,e()}})),t._read=function(e){if(o._pause&&(o._pause=!1,o._cb&&!o._needDrain)){const e=o._cb;o._cb=void 0,e()}},e.emit("file",c,t,N,E,p),P=function(e){if((F+=e.length)>A){const r=A-F+e.length;return r>0&&t.push(e.slice(0,r)),t.truncated=!0,t.bytesRead=A,i.removeAllListeners("data"),void t.emit("limit")}t.push(e)||(o._pause=!0),t.bytesRead=F},R=function(){D=void 0,t.push(null)}}else{if(j===I)return e.hitFieldsLimit||(e.hitFieldsLimit=!0,e.emit("fieldsLimit")),m(i);++j,++L;let t="",r=!1;k=i,P=function(e){if((F+=e.length)>T){const n=T-(F-e.length);t+=e.toString("binary",0,n),r=!0,i.removeAllListeners("data")}else t+=e.toString("binary")},R=function(){k=void 0,t.length&&(t=s(t,"binary",v)),e.emit("field",c,t,!1,r,E,p),--L,S()}}i._readableState.sync=!1,i.on("data",P),i.on("end",R)})).on("error",(function(e){D&&D.emit("error",e)}))})).on("error",(function(t){e.emit("error",t)})).on("finish",(function(){F=!0,S()}))}function m(e){e.resume()}function y(e){n.call(this,e),this.bytesRead=0,this.truncated=!1}g.detect=/^multipart\/form-data/i,g.prototype.write=function(e,t){const r=this.parser.write(e);r&&!this._pause?t():(this._needDrain=!r,this._cb=t)},g.prototype.end=function(){const e=this;e.parser.writable?e.parser.end():e._boy._done||process.nextTick((function(){e._boy._done=!0,e._boy.emit("finish")}))},o(y,n),y.prototype._read=function(e){},e.exports=g},function(e,t,r){"use strict";e.exports=function(e){if("string"!=typeof e)return"";for(var t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return".."===(e=e.slice(t+1))||"."===e?"":e}return".."===e||"."===e?"":e}},function(e,t,r){"use strict";const n=r(513),o=r(171),i=r(170),a=/^charset$/i;function s(e,t){const r=t.limits,o=t.parsedConType;let s;this.boy=e,this.fieldSizeLimit=i(r,"fieldSize",1048576),this.fieldNameSizeLimit=i(r,"fieldNameSize",100),this.fieldsLimit=i(r,"fields",1/0);for(var l=0,p=o.length;l<p;++l)if(Array.isArray(o[l])&&a.test(o[l][0])){s=o[l][1].toLowerCase();break}void 0===s&&(s=t.defCharset||"utf8"),this.decoder=new n,this.charset=s,this._fields=0,this._state="key",this._checkingBytes=!0,this._bytesKey=0,this._bytesVal=0,this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._hitLimit=!1}s.detect=/^application\/x-www-form-urlencoded/i,s.prototype.write=function(e,t){if(this._fields===this.fieldsLimit)return this.boy.hitFieldsLimit||(this.boy.hitFieldsLimit=!0,this.boy.emit("fieldsLimit")),t();let r,n,i,a=0;const s=e.length;for(;a<s;)if("key"===this._state){for(r=n=void 0,i=a;i<s;++i){if(this._checkingBytes||++a,61===e[i]){r=i;break}if(38===e[i]){n=i;break}if(this._checkingBytes&&this._bytesKey===this.fieldNameSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesKey}if(void 0!==r)r>a&&(this._key+=this.decoder.write(e.toString("binary",a,r))),this._state="val",this._hitLimit=!1,this._checkingBytes=!0,this._val="",this._bytesVal=0,this._valTrunc=!1,this.decoder.reset(),a=r+1;else if(void 0!==n){let r;++this._fields;const i=this._keyTrunc;if(r=n>a?this._key+=this.decoder.write(e.toString("binary",a,n)):this._key,this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),r.length&&this.boy.emit("field",o(r,"binary",this.charset),"",i,!1),a=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(i>a&&(this._key+=this.decoder.write(e.toString("binary",a,i))),a=i,(this._bytesKey=this._key.length)===this.fieldNameSizeLimit&&(this._checkingBytes=!1,this._keyTrunc=!0)):(a<s&&(this._key+=this.decoder.write(e.toString("binary",a))),a=s)}else{for(n=void 0,i=a;i<s;++i){if(this._checkingBytes||++a,38===e[i]){n=i;break}if(this._checkingBytes&&this._bytesVal===this.fieldSizeLimit){this._hitLimit=!0;break}this._checkingBytes&&++this._bytesVal}if(void 0!==n){if(++this._fields,n>a&&(this._val+=this.decoder.write(e.toString("binary",a,n))),this.boy.emit("field",o(this._key,"binary",this.charset),o(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this._state="key",this._hitLimit=!1,this._checkingBytes=!0,this._key="",this._bytesKey=0,this._keyTrunc=!1,this.decoder.reset(),a=n+1,this._fields===this.fieldsLimit)return t()}else this._hitLimit?(i>a&&(this._val+=this.decoder.write(e.toString("binary",a,i))),a=i,(""===this._val&&0===this.fieldSizeLimit||(this._bytesVal=this._val.length)===this.fieldSizeLimit)&&(this._checkingBytes=!1,this._valTrunc=!0)):(a<s&&(this._val+=this.decoder.write(e.toString("binary",a))),a=s)}t()},s.prototype.end=function(){this.boy._done||("key"===this._state&&this._key.length>0?this.boy.emit("field",o(this._key,"binary",this.charset),"",this._keyTrunc,!1):"val"===this._state&&this.boy.emit("field",o(this._key,"binary",this.charset),o(this._val,"binary",this.charset),this._keyTrunc,this._valTrunc),this.boy._done=!0,this.boy.emit("finish"))},e.exports=s},function(e,t,r){"use strict";const n=/\+/g,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function i(){this.buffer=void 0}i.prototype.write=function(e){let t="",r=0,i=0;const a=(e=e.replace(n," ")).length;for(;r<a;++r)void 0!==this.buffer?o[e.charCodeAt(r)]?(this.buffer+=e[r],++i,2===this.buffer.length&&(t+=String.fromCharCode(parseInt(this.buffer,16)),this.buffer=void 0)):(t+="%"+this.buffer,this.buffer=void 0,--r):"%"===e[r]&&(r>i&&(t+=e.substring(i,r),i=r),this.buffer="",++i);return i<a&&void 0===this.buffer&&(t+=e.substring(i)),t},i.prototype.reset=function(){this.buffer=void 0},e.exports=i},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.UserImportBuilder=void 0,t.convertMultiFactorInfoToServerFormat=s;const n=r(26),o=r(9),i=r(4),a=r(2);function s(e){let t;if(void 0!==e.enrollmentTime){if(!i.isUTCDateString(e.enrollmentTime))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ENROLLMENT_TIME,`The second factor "enrollmentTime" for "${e.uid}" must be a valid UTC date string.`);t=new Date(e.enrollmentTime).toISOString()}if(function(e){return"phone"===e.factorId}(e)){const r={mfaEnrollmentId:e.uid,displayName:e.displayName,phoneInfo:e.phoneNumber,enrolledAt:t};for(const e in r)void 0===r[e]&&delete r[e];return r}throw new a.FirebaseAuthError(a.AuthClientErrorCode.UNSUPPORTED_SECOND_FACTOR,`Unsupported second factor "${JSON.stringify(e)}" provided.`)}function l(e,t){return void 0!==e[t]&&null!==e[t]?parseInt(e[t].toString(),10):NaN}t.UserImportBuilder=class{constructor(e,t,r){this.requiresHashOptions=!1,this.validatedUsers=[],this.userImportResultErrors=[],this.indexMap={},this.validatedUsers=this.populateUsers(e,r),this.validatedOptions=this.populateOptions(t,this.requiresHashOptions)}buildRequest(){const e=this.validatedUsers.map(e=>(0,n.deepCopy)(e));return(0,n.deepExtend)({users:e},(0,n.deepCopy)(this.validatedOptions))}buildResponse(e){const t={successCount:this.validatedUsers.length,failureCount:this.userImportResultErrors.length,errors:(0,n.deepCopy)(this.userImportResultErrors)};return t.failureCount+=e.length,t.successCount-=e.length,e.forEach(e=>{t.errors.push({index:this.indexMap[e.index],error:new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_USER_IMPORT,e.message)})}),t.errors.sort((e,t)=>e.index-t.index),t}populateOptions(e,t){let r,n;if(!t)return{};if(!i.isNonNullObject(e))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_ARGUMENT,'"UserImportOptions" are required when importing users with passwords.');if(!i.isNonNullObject(e.hash))throw new a.FirebaseAuthError(a.AuthClientErrorCode.MISSING_HASH_ALGORITHM,'"hash.algorithm" is missing from the provided "UserImportOptions".');if(void 0===e.hash.algorithm||!i.isNonEmptyString(e.hash.algorithm))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_ALGORITHM,'"hash.algorithm" must be a string matching the list of supported algorithms.');switch(e.hash.algorithm){case"HMAC_SHA512":case"HMAC_SHA256":case"HMAC_SHA1":case"HMAC_MD5":if(!i.isBuffer(e.hash.key))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_KEY,`A non-empty "hash.key" byte buffer must be provided for hash algorithm ${e.hash.algorithm}.`);r={hashAlgorithm:e.hash.algorithm,signerKey:o.toWebSafeBase64(e.hash.key)};break;case"MD5":case"SHA1":case"SHA256":case"SHA512":{n=l(e.hash,"rounds");const t="MD5"===e.hash.algorithm?0:1;if(isNaN(n)||n<t||n>8192)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between ${t} and 8192 must be provided for hash algorithm ${e.hash.algorithm}.`);r={hashAlgorithm:e.hash.algorithm,rounds:n};break}case"PBKDF_SHA1":case"PBKDF2_SHA256":if(n=l(e.hash,"rounds"),isNaN(n)||n<0||n>12e4)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between 0 and 120000 must be provided for hash algorithm ${e.hash.algorithm}.`);r={hashAlgorithm:e.hash.algorithm,rounds:n};break;case"SCRYPT":{if(!i.isBuffer(e.hash.key))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_KEY,`A "hash.key" byte buffer must be provided for hash algorithm ${e.hash.algorithm}.`);if(n=l(e.hash,"rounds"),isNaN(n)||n<=0||n>8)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_ROUNDS,`A valid "hash.rounds" number between 1 and 8 must be provided for hash algorithm ${e.hash.algorithm}.`);const t=l(e.hash,"memoryCost");if(isNaN(t)||t<=0||t>14)throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,`A valid "hash.memoryCost" number between 1 and 14 must be provided for hash algorithm ${e.hash.algorithm}.`);if(void 0!==e.hash.saltSeparator&&!i.isBuffer(e.hash.saltSeparator))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_SALT_SEPARATOR,'"hash.saltSeparator" must be a byte buffer.');r={hashAlgorithm:e.hash.algorithm,signerKey:o.toWebSafeBase64(e.hash.key),rounds:n,memoryCost:t,saltSeparator:o.toWebSafeBase64(e.hash.saltSeparator||Buffer.from(""))};break}case"BCRYPT":r={hashAlgorithm:e.hash.algorithm};break;case"STANDARD_SCRYPT":{const t=l(e.hash,"memoryCost");if(isNaN(t))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_MEMORY_COST,`A valid "hash.memoryCost" number must be provided for hash algorithm ${e.hash.algorithm}.`);const n=l(e.hash,"parallelization");if(isNaN(n))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_PARALLELIZATION,`A valid "hash.parallelization" number must be provided for hash algorithm ${e.hash.algorithm}.`);const o=l(e.hash,"blockSize");if(isNaN(o))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_BLOCK_SIZE,`A valid "hash.blockSize" number must be provided for hash algorithm ${e.hash.algorithm}.`);const i=l(e.hash,"derivedKeyLength");if(isNaN(i))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_DERIVED_KEY_LENGTH,`A valid "hash.derivedKeyLength" number must be provided for hash algorithm ${e.hash.algorithm}.`);r={hashAlgorithm:e.hash.algorithm,cpuMemCost:t,parallelization:n,blockSize:o,dkLen:i};break}default:throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_HASH_ALGORITHM,`Unsupported hash algorithm provider "${e.hash.algorithm}".`)}return r}populateUsers(e,t){const r=[];return e.forEach((e,n)=>{try{const l=function(e,t){const r={localId:e.uid,email:e.email,emailVerified:e.emailVerified,displayName:e.displayName,disabled:e.disabled,photoUrl:e.photoURL,phoneNumber:e.phoneNumber,providerUserInfo:[],mfaInfo:[],tenantId:e.tenantId,customAttributes:e.customClaims&&JSON.stringify(e.customClaims)};if(void 0!==e.passwordHash){if(!i.isBuffer(e.passwordHash))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_PASSWORD_HASH);r.passwordHash=o.toWebSafeBase64(e.passwordHash)}if(void 0!==e.passwordSalt){if(!i.isBuffer(e.passwordSalt))throw new a.FirebaseAuthError(a.AuthClientErrorCode.INVALID_PASSWORD_SALT);r.salt=o.toWebSafeBase64(e.passwordSalt)}let n;for(n in i.isNonNullObject(e.metadata)&&(i.isNonEmptyString(e.metadata.creationTime)&&(r.createdAt=new Date(e.metadata.creationTime).getTime()),i.isNonEmptyString(e.metadata.lastSignInTime)&&(r.lastLoginAt=new Date(e.metadata.lastSignInTime).getTime())),i.isArray(e.providerData)&&e.providerData.forEach(e=>{r.providerUserInfo.push({providerId:e.providerId,rawId:e.uid,email:e.email,displayName:e.displayName,photoUrl:e.photoURL})}),i.isNonNullObject(e.multiFactor)&&i.isNonEmptyArray(e.multiFactor.enrolledFactors)&&e.multiFactor.enrolledFactors.forEach(e=>{r.mfaInfo.push(s(e))}),r)void 0===r[n]&&delete r[n];return 0===r.providerUserInfo.length&&delete r.providerUserInfo,0===r.mfaInfo.length&&delete r.mfaInfo,"function"==typeof t&&t(r),r}(e,t);void 0!==l.passwordHash&&(this.requiresHashOptions=!0),r.push(l),this.indexMap[r.length-1]=n}catch(e){this.userImportResultErrors.push({index:n,error:e})}}),r}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ActionCodeSettingsBuilder=void 0;const n=r(4),o=r(2);t.ActionCodeSettingsBuilder=class{constructor(e){if(!n.isNonNullObject(e))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings" must be a non-null object.');if(void 0===e.url)throw new o.FirebaseAuthError(o.AuthClientErrorCode.MISSING_CONTINUE_URI);if(!n.isURL(e.url))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_CONTINUE_URI);if(this.continueUrl=e.url,void 0!==e.handleCodeInApp&&!n.isBoolean(e.handleCodeInApp))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.handleCodeInApp" must be a boolean.');if(this.canHandleCodeInApp=e.handleCodeInApp||!1,void 0!==e.dynamicLinkDomain&&!n.isNonEmptyString(e.dynamicLinkDomain))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_DYNAMIC_LINK_DOMAIN);if(this.dynamicLinkDomain=e.dynamicLinkDomain,void 0!==e.linkDomain&&!n.isNonEmptyString(e.linkDomain))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_HOSTING_LINK_DOMAIN);if(this.linkDomain=e.linkDomain,void 0!==e.iOS){if(!n.isNonNullObject(e.iOS))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS" must be a valid non-null object.');if(void 0===e.iOS.bundleId)throw new o.FirebaseAuthError(o.AuthClientErrorCode.MISSING_IOS_BUNDLE_ID);if(!n.isNonEmptyString(e.iOS.bundleId))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.iOS.bundleId" must be a valid non-empty string.');this.ibi=e.iOS.bundleId}if(void 0!==e.android){if(!n.isNonNullObject(e.android))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android" must be a valid non-null object.');if(void 0===e.android.packageName)throw new o.FirebaseAuthError(o.AuthClientErrorCode.MISSING_ANDROID_PACKAGE_NAME);if(!n.isNonEmptyString(e.android.packageName))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.packageName" must be a valid non-empty string.');if(void 0!==e.android.minimumVersion&&!n.isNonEmptyString(e.android.minimumVersion))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.minimumVersion" must be a valid non-empty string.');if(void 0!==e.android.installApp&&!n.isBoolean(e.android.installApp))throw new o.FirebaseAuthError(o.AuthClientErrorCode.INVALID_ARGUMENT,'"ActionCodeSettings.android.installApp" must be a valid boolean.');this.apn=e.android.packageName,this.amv=e.android.minimumVersion,this.installApp=e.android.installApp||!1}}buildRequest(){const e={continueUrl:this.continueUrl,canHandleCodeInApp:this.canHandleCodeInApp,dynamicLinkDomain:this.dynamicLinkDomain,linkDomain:this.linkDomain,androidPackageName:this.apn,androidMinimumVersion:this.amv,androidInstallApp:this.installApp,iOSBundleId:this.ibi};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(void 0!==e[t]&&null!==e[t]||delete e[t]);return e}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseTokenGenerator=t.EmulatedSigner=t.BLACKLISTED_CLAIMS=void 0,t.handleCryptoSignerError=s;const n=r(2),o=r(127),i=r(4),a=r(9);t.BLACKLISTED_CLAIMS=["acr","amr","at_hash","aud","auth_time","azp","cnf","c_hash","exp","iat","iss","jti","nbf","nonce"];t.EmulatedSigner=class{constructor(){this.algorithm="none"}sign(e){return Promise.resolve(Buffer.from(""))}getAccountId(){return Promise.resolve("firebase-auth-emulator@example.com")}};function s(e){if(!(e instanceof o.CryptoSignerError))return e;if(e.code===o.CryptoSignerErrorCode.SERVER_ERROR&&i.isNonNullObject(e.cause)){const t=e.cause.response.data;if(i.isNonNullObject(t)&&t.error){const e=t.error.status,r="Please refer to https://firebase.google.com/docs/auth/admin/create-custom-tokens for more details on how to use and troubleshoot this feature.",o=`${t.error.message}; ${r}`;return n.FirebaseAuthError.fromServerError(e,o,t)}return new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,"Error returned from server: "+t+". Additionally, an internal error occurred while attempting to extract the errorcode from the error.")}return new n.FirebaseAuthError(function(e){switch(e){case o.CryptoSignerErrorCode.INVALID_CREDENTIAL:return n.AuthClientErrorCode.INVALID_CREDENTIAL;case o.CryptoSignerErrorCode.INVALID_ARGUMENT:return n.AuthClientErrorCode.INVALID_ARGUMENT;default:return n.AuthClientErrorCode.INTERNAL_ERROR}}(e.code),e.message)}t.FirebaseTokenGenerator=class{constructor(e,t){if(this.tenantId=t,!i.isNonNullObject(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CREDENTIAL,"INTERNAL ASSERT: Must provide a CryptoSigner to use FirebaseTokenGenerator.");if(void 0!==this.tenantId&&!i.isNonEmptyString(this.tenantId))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"`tenantId` argument must be a non-empty string.");this.signer=e}createCustomToken(e,r){let o;if(i.isNonEmptyString(e)?e.length>128?o="`uid` argument must a uid with less than or equal to 128 characters.":this.isDeveloperClaimsValid_(r)||(o="`developerClaims` argument must be a valid, non-null object containing the developer claims."):o="`uid` argument must be a non-empty string uid.",o)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,o);const a={};if(void 0!==r)for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){if(-1!==t.BLACKLISTED_CLAIMS.indexOf(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,`Developer claim "${e}" is reserved and cannot be specified.`);a[e]=r[e]}return this.signer.getAccountId().then(t=>{const r={alg:this.signer.algorithm,typ:"JWT"},n=Math.floor(Date.now()/1e3),o={aud:"https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit",iat:n,exp:n+3600,iss:t,sub:t,uid:e};this.tenantId&&(o.tenant_id=this.tenantId),Object.keys(a).length>0&&(o.claims=a);const i=`${this.encodeSegment(r)}.${this.encodeSegment(o)}`,s=this.signer.sign(Buffer.from(i));return Promise.all([i,s])}).then(([e,t])=>`${e}.${this.encodeSegment(t)}`).catch(e=>{throw s(e)})}encodeSegment(e){const t=e instanceof Buffer?e:Buffer.from(JSON.stringify(e));return(0,a.toWebSafeBase64)(t).replace(/=+$/,"")}isDeveloperClaimsValid_(e){return void 0===e||i.isNonNullObject(e)}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseTokenVerifier=t.SESSION_COOKIE_INFO=t.AUTH_BLOCKING_TOKEN_INFO=t.ID_TOKEN_INFO=void 0,t.createIdTokenVerifier=function(e){return new p(s,"https://securetoken.google.com/",t.ID_TOKEN_INFO,e)},t.createAuthBlockingTokenVerifier=function(e){return new p(s,"https://securetoken.google.com/",t.AUTH_BLOCKING_TOKEN_INFO,e)},t.createSessionCookieVerifier=function(e){return new p("https://www.googleapis.com/identitytoolkit/v3/relyingparty/publicKeys","https://session.firebase.google.com/",t.SESSION_COOKIE_INFO,e)};const n=r(2),o=r(9),i=r(4),a=r(291),s="https://www.googleapis.com/robot/v1/metadata/x509/securetoken@system.gserviceaccount.com",l=new a.EmulatorSignatureVerifier;t.ID_TOKEN_INFO={url:"https://firebase.google.com/docs/auth/admin/verify-id-tokens",verifyApiName:"verifyIdToken()",jwtName:"Firebase ID token",shortName:"ID token",expiredErrorCode:n.AuthClientErrorCode.ID_TOKEN_EXPIRED},t.AUTH_BLOCKING_TOKEN_INFO={url:"https://cloud.google.com/identity-platform/docs/blocking-functions",verifyApiName:"_verifyAuthBlockingToken()",jwtName:"Firebase Auth Blocking token",shortName:"Auth Blocking token",expiredErrorCode:n.AuthClientErrorCode.AUTH_BLOCKING_TOKEN_EXPIRED},t.SESSION_COOKIE_INFO={url:"https://firebase.google.com/docs/auth/admin/manage-cookies",verifyApiName:"verifySessionCookie()",jwtName:"Firebase session cookie",shortName:"session cookie",expiredErrorCode:n.AuthClientErrorCode.SESSION_COOKIE_EXPIRED};class p{constructor(e,t,r,o){if(this.issuer=t,this.tokenInfo=r,this.app=o,!i.isURL(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided public client certificate URL is an invalid URL.");if(!i.isURL(t))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT issuer is an invalid URL.");if(!i.isNonNullObject(r))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT information is not an object or null.");if(!i.isURL(r.url))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The provided JWT verification documentation URL is invalid.");if(!i.isNonEmptyString(r.verifyApiName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT verify API name must be a non-empty string.");if(!i.isNonEmptyString(r.jwtName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public full name must be a non-empty string.");if(!i.isNonEmptyString(r.shortName))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT public short name must be a non-empty string.");if(!i.isNonNullObject(r.expiredErrorCode)||!("code"in r.expiredErrorCode))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,"The JWT expiration error code must be a non-null ErrorInfo object.");this.shortNameArticle=r.shortName.charAt(0).match(/[aeiou]/i)?"an":"a",this.signatureVerifier=a.PublicKeySignatureVerifier.withCertificateUrl(e,o.options.httpAgent)}verifyJWT(e,t=!1){if(!i.isString(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,`First argument to ${this.tokenInfo.verifyApiName} must be a ${this.tokenInfo.jwtName} string.`);return this.ensureProjectId().then(r=>this.decodeAndVerify(e,r,t)).then(e=>{const t=e.payload;return t.uid=t.sub,t})}_verifyAuthBlockingToken(e,t,r){if(!i.isString(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,`First argument to ${this.tokenInfo.verifyApiName} must be a ${this.tokenInfo.jwtName} string.`);return this.ensureProjectId().then(n=>(void 0===r&&(r=n+".cloudfunctions.net/"),this.decodeAndVerify(e,n,t,r))).then(e=>{const t=e.payload;return t.uid=t.sub,t})}ensureProjectId(){return o.findProjectId(this.app).then(e=>{if(!i.isNonEmptyString(e))throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_CREDENTIAL,`Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to call ${this.tokenInfo.verifyApiName}.`);return Promise.resolve(e)})}decodeAndVerify(e,t,r,n){return this.safeDecode(e).then(o=>(this.verifyContent(o,t,r,n),this.verifySignature(e,r).then(()=>o)))}safeDecode(e){return(0,a.decodeJwt)(e).catch(e=>{if(e.code===a.JwtErrorCode.INVALID_ARGUMENT){const e=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`,t=`Decoding ${this.tokenInfo.jwtName} failed. Make sure you passed the entire string JWT which represents ${this.shortNameArticle} `+this.tokenInfo.shortName+"."+e;throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,t)}throw new n.FirebaseAuthError(n.AuthClientErrorCode.INTERNAL_ERROR,e.message)})}verifyContent(e,t,r,o){const i=e&&e.header,s=e&&e.payload,l=` Make sure the ${this.tokenInfo.shortName} comes from the same Firebase project as the service account used to authenticate this SDK.`,p=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`;let c;if(r||void 0!==i.kid)r||i.alg===a.ALGORITHM_RS256?void 0===o||s.aud.includes(o)?void 0===o&&s.aud!==t?c=this.tokenInfo.jwtName+' has incorrect "aud" (audience) claim. Expected "'+t+'" but got "'+s.aud+'".'+l+p:s.iss!==this.issuer+t?c=this.tokenInfo.jwtName+' has incorrect "iss" (issuer) claim. Expected "'+this.issuer+t+'" but got "'+s.iss+'".'+l+p:(void 0===s.event_type||"beforeSendSms"!==s.event_type&&"beforeSendEmail"!==s.event_type)&&("string"!=typeof s.sub?c=this.tokenInfo.jwtName+' has no "sub" (subject) claim.'+p:""===s.sub?c=this.tokenInfo.jwtName+' has an empty "sub" (subject) claim.'+p:s.sub.length>128&&(c=this.tokenInfo.jwtName+' has a "sub" (subject) claim longer than 128 characters.'+p)):c=this.tokenInfo.jwtName+' has incorrect "aud" (audience) claim. Expected "'+o+'" but got "'+s.aud+'".'+p:c=this.tokenInfo.jwtName+' has incorrect algorithm. Expected "'+a.ALGORITHM_RS256+'" but got "'+i.alg+'".'+p;else{const e="https://identitytoolkit.googleapis.com/google.identity.identitytoolkit.v1.IdentityToolkit"===s.aud,t="HS256"===i.alg&&0===s.v&&"d"in s&&"uid"in s.d;c=e?`${this.tokenInfo.verifyApiName} expects ${this.shortNameArticle} `+this.tokenInfo.shortName+", but was given a custom token.":t?`${this.tokenInfo.verifyApiName} expects ${this.shortNameArticle} `+this.tokenInfo.shortName+", but was given a legacy custom token.":this.tokenInfo.jwtName+' has no "kid" claim.',c+=p}if(c)throw new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,c)}verifySignature(e,t){return(t?l:this.signatureVerifier).verify(e).catch(e=>{throw this.mapJwtErrorToAuthError(e)})}mapJwtErrorToAuthError(e){const t=` See ${this.tokenInfo.url} for details on how to retrieve ${this.shortNameArticle} ${this.tokenInfo.shortName}.`;if(e.code===a.JwtErrorCode.TOKEN_EXPIRED){const e=`${this.tokenInfo.jwtName} has expired. Get a fresh ${this.tokenInfo.shortName} from your client app and try again (auth/${this.tokenInfo.expiredErrorCode.code}).`+t;return new n.FirebaseAuthError(this.tokenInfo.expiredErrorCode,e)}if(e.code===a.JwtErrorCode.INVALID_SIGNATURE){const e=this.tokenInfo.jwtName+" has invalid signature."+t;return new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,e)}if(e.code===a.JwtErrorCode.NO_MATCHING_KID){const e=this.tokenInfo.jwtName+' has "kid" claim which does not '+`correspond to a known public key. Most likely the ${this.tokenInfo.shortName} is expired, so get a fresh token from your client app and try again.`;return new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,e)}return new n.FirebaseAuthError(n.AuthClientErrorCode.INVALID_ARGUMENT,e.message)}}t.FirebaseTokenVerifier=p},function(e,t,r){e.exports={decode:r(292),verify:r(521),sign:r(549),JsonWebTokenError:r(128),NotBeforeError:r(296),TokenExpiredError:r(297)}},function(e,t,r){var n=r(47).Buffer,o=r(293),i=r(294),a=r(1),s=r(295),l=r(6);function p(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function c(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,o=e.encoding,a=i(t.alg),c=function(e,t,r){r=r||"utf8";var n=p(s(e),"binary"),o=p(s(t),r);return l.format("%s.%s",n,o)}(t,r,o),u=a.sign(c,n);return l.format("%s.%s",c,u)}function u(e){var t=e.secret||e.privateKey||e.key,r=new o(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new o(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}l.inherits(u,a),u.prototype.sign=function(){try{var e=c({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},u.sign=c,e.exports=u},function(e,t,r){var n=r(47).Buffer,o=r(293),i=r(294),a=r(1),s=r(295),l=r(6),p=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function c(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function u(e){var t=e.split(".",1)[0];return c(n.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function h(e){return p.test(e)&&!!u(e)}function f(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var o=d(e=s(e)),a=function(e){return e.split(".",2).join(".")}(e);return i(t).verify(a,o,r)}function g(e,t){if(t=t||{},!h(e=s(e)))return null;var r=u(e);if(!r)return null;var o=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:r,payload:o,signature:d(e)}}function m(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new o(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new o(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}l.inherits(m,a),m.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=g(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=g,m.isValid=h,m.verify=f,e.exports=m},function(e,t,r){const n=r(128),o=r(296),i=r(297),a=r(292),s=r(298),l=r(299),p=r(304),c=r(175),{KeyObject:u,createSecretKey:d,createPublicKey:h}=r(0),f=["RS256","RS384","RS512"],g=["ES256","ES384","ES512"],m=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];p&&(f.splice(f.length,0,"PS256","PS384","PS512"),m.splice(m.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,p){let v;if("function"!=typeof r||p||(p=r,r={}),r||(r={}),r=Object.assign({},r),v=p||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return v(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return v(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));const b=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return v(new n("jwt must be provided"));if("string"!=typeof e)return v(new n("jwt must be a string"));const E=e.split(".");if(3!==E.length)return v(new n("jwt malformed"));let _;try{_=a(e,{complete:!0})}catch(e){return v(e)}if(!_)return v(new n("invalid token"));const O=_.header;let w;if("function"==typeof t){if(!p)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));w=t}else w=function(e,r){return r(null,t)};return w(O,(function(t,a){if(t)return v(new n("error in secret or public key callback: "+t.message));const p=""!==E[2].trim();if(!p&&a)return v(new n("jwt signature is required"));if(p&&!a)return v(new n("secret or public key must be provided"));if(!p&&!r.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=a&&!(a instanceof u))try{a=h(a)}catch(e){try{a=d("string"==typeof a?Buffer.from(a):a)}catch(e){return v(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===a.type?r.algorithms=y:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?r.algorithms=m:"ec"===a.asymmetricKeyType?r.algorithms=g:r.algorithms=f),-1===r.algorithms.indexOf(_.header.alg))return v(new n("invalid algorithm"));if(O.alg.startsWith("HS")&&"secret"!==a.type)return v(new n("secretOrPublicKey must be a symmetric key when using "+O.alg));if(/^(?:RS|PS|ES)/.test(O.alg)&&"public"!==a.type)return v(new n("secretOrPublicKey must be an asymmetric key when using "+O.alg));if(!r.allowInvalidAsymmetricKeyTypes)try{l(O.alg,a)}catch(e){return v(e)}let w;try{w=c.verify(e,_.header.alg,a)}catch(e){return v(e)}if(!w)return v(new n("invalid signature"));const S=_.payload;if(void 0!==S.nbf&&!r.ignoreNotBefore){if("number"!=typeof S.nbf)return v(new n("invalid nbf value"));if(S.nbf>b+(r.clockTolerance||0))return v(new o("jwt not active",new Date(1e3*S.nbf)))}if(void 0!==S.exp&&!r.ignoreExpiration){if("number"!=typeof S.exp)return v(new n("invalid exp value"));if(b>=S.exp+(r.clockTolerance||0))return v(new i("jwt expired",new Date(1e3*S.exp)))}if(r.audience){const e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some((function(t){return e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))})))return v(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer){if("string"==typeof r.issuer&&S.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(S.iss))return v(new n("jwt issuer invalid. expected: "+r.issuer))}if(r.subject&&S.sub!==r.subject)return v(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&S.jti!==r.jwtid)return v(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&S.nonce!==r.nonce)return v(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof S.iat)return v(new n("iat required when maxAge is specified"));const e=s(r.maxAge,S.iat);if(void 0===e)return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=e+(r.clockTolerance||0))return v(new i("maxAge exceeded",new Date(1e3*e)))}if(!0===r.complete){const e=_.signature;return v(null,{header:O,payload:S,signature:e})}return v(null,S)}))}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(176);e.exports=n.satisfies(process.version,">=15.7.0")},function(e,t,r){const n=r(86);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},function(e,t,r){const n=r(86);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},function(e,t,r){const n=r(19);e.exports=(e,t,r,o,i)=>{"string"==typeof r&&(i=o,o=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,o,i).version}catch(e){return null}}},function(e,t,r){const n=r(86);e.exports=(e,t)=>{const r=n(e,null,!0),o=n(t,null,!0),i=r.compare(o);if(0===i)return null;const a=i>0,s=a?r:o,l=a?o:r,p=!!s.prerelease.length;if(!!l.prerelease.length&&!p){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(s))return l.minor&&!l.patch?"minor":"patch"}const c=p?"pre":"";return r.major!==o.major?c+"major":r.minor!==o.minor?c+"minor":r.patch!==o.patch?c+"patch":"prerelease"}},function(e,t,r){const n=r(19);e.exports=(e,t)=>new n(e,t).major},function(e,t,r){const n=r(19);e.exports=(e,t)=>new n(e,t).minor},function(e,t,r){const n=r(19);e.exports=(e,t)=>new n(e,t).patch},function(e,t,r){const n=r(86);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},function(e,t,r){const n=r(33);e.exports=(e,t,r)=>n(t,e,r)},function(e,t,r){const n=r(33);e.exports=(e,t)=>n(e,t,!0)},function(e,t,r){const n=r(178);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},function(e,t,r){const n=r(178);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},function(e,t,r){const n=r(19),o=r(86),{safeRe:i,t:a}=r(103);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const n=t.includePrerelease?i[a.COERCERTLFULL]:i[a.COERCERTL];let o;for(;(o=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),n.lastIndex=o.index+o[1].length+o[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?i[a.COERCEFULL]:i[a.COERCE]);if(null===r)return null;const s=r[2],l=r[3]||"0",p=r[4]||"0",c=t.includePrerelease&&r[5]?"-"+r[5]:"",u=t.includePrerelease&&r[6]?"+"+r[6]:"";return o(`${s}.${l}.${p}${c}${u}`,t)}},function(e,t){e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},function(e,t,r){const n=r(34);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},function(e,t,r){const n=r(19),o=r(34);e.exports=(e,t,r)=>{let i=null,a=null,s=null;try{s=new o(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(i&&-1!==a.compare(e)||(i=e,a=new n(i,r)))}),i}},function(e,t,r){const n=r(19),o=r(34);e.exports=(e,t,r)=>{let i=null,a=null,s=null;try{s=new o(t,r)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(i&&1!==a.compare(e)||(i=e,a=new n(i,r)))}),i}},function(e,t,r){const n=r(19),o=r(34),i=r(131);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let a=null;o.forEach(e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!i(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}),!a||r&&!i(r,a)||(r=a)}return r&&e.test(r)?r:null}},function(e,t,r){const n=r(34);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},function(e,t,r){const n=r(182);e.exports=(e,t,r)=>n(e,t,">",r)},function(e,t,r){const n=r(182);e.exports=(e,t,r)=>n(e,t,"<",r)},function(e,t,r){const n=r(34);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},function(e,t,r){const n=r(133),o=r(33);e.exports=(e,t,r)=>{const i=[];let a=null,s=null;const l=e.sort((e,t)=>o(e,t,r));for(const e of l){n(e,t,r)?(s=e,a||(a=e)):(s&&i.push([a,s]),s=null,a=null)}a&&i.push([a,null]);const p=[];for(const[e,t]of i)e===t?p.push(e):t||e!==l[0]?t?e===l[0]?p.push("<="+t):p.push(`${e} - ${t}`):p.push(">="+e):p.push("*");const c=p.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return c.length<u.length?c:t}},function(e,t,r){const n=r(34),o=r(132),{ANY:i}=o,a=r(133),s=r(33),l=[new o(">=0.0.0-0")],p=[new o(">=0.0.0")],c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?l:p}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=p}const n=new Set;let o,c,h,f,g,m,y;for(const t of e)">"===t.operator||">="===t.operator?o=u(o,t,r):"<"===t.operator||"<="===t.operator?c=d(c,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&c){if(h=s(o.semver,c.semver,r),h>0)return null;if(0===h&&(">="!==o.operator||"<="!==c.operator))return null}for(const e of n){if(o&&!a(e,String(o),r))return null;if(c&&!a(e,String(c),r))return null;for(const n of t)if(!a(e,String(n),r))return!1;return!0}let v=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver,b=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;v&&1===v.prerelease.length&&"<"===c.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,o)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(f=u(o,e,r),f===e&&f!==o)return!1}else if(">="===o.operator&&!a(o.semver,String(e),r))return!1;if(c)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(g=d(c,e,r),g===e&&g!==c)return!1}else if("<="===c.operator&&!a(c.semver,String(e),r))return!1;if(!e.operator&&(c||o)&&0!==h)return!1}return!(o&&m&&!c&&0!==h)&&(!(c&&y&&!o&&0!==h)&&(!b&&!v))},u=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;const n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},function(e,t,r){const n=r(176);e.exports=n.satisfies(process.version,">=16.9.0")},function(e,t,r){const n=r(298),o=r(304),i=r(299),a=r(175),s=r(550),l=r(551),p=r(552),c=r(553),u=r(554),d=r(555),h=r(556),{KeyObject:f,createSecretKey:g,createPrivateKey:m}=r(0),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];o&&y.splice(3,0,"PS256","PS384","PS512");const v={expiresIn:{isValid:function(e){return p(e)||d(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return p(e)||d(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:s.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:u,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},b={iat:{isValid:c,message:'"iat" should be a number of seconds'},exp:{isValid:c,message:'"exp" should be a number of seconds'},nbf:{isValid:c,message:'"nbf" should be a number of seconds'}};function E(e,t,r,n){if(!u(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(o){const i=e[o];if(i){if(!i.isValid(r[o]))throw new Error(i.message)}else if(!t)throw new Error('"'+o+'" is not allowed in "'+n+'"')}))}const _={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},O=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,o){"function"==typeof r?(o=r,r={}):r=r||{};const s="object"==typeof e&&!Buffer.isBuffer(e),l=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function p(e){if(o)return o(e);throw e}if(!t&&"none"!==r.algorithm)return p(new Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof f))try{t=m(t)}catch(e){try{t=g("string"==typeof t?Buffer.from(t):t)}catch(e){return p(new Error("secretOrPrivateKey is not valid key material"))}}if(l.alg.startsWith("HS")&&"secret"!==t.type)return p(new Error("secretOrPrivateKey must be a symmetric key when using "+l.alg));if(/^(?:RS|PS|ES)/.test(l.alg)){if("private"!==t.type)return p(new Error("secretOrPrivateKey must be an asymmetric key when using "+l.alg));if(!r.allowInsecureKeySizes&&!l.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return p(new Error("secretOrPrivateKey has a minimum key size of 2048 bits for "+l.alg))}if(void 0===e)return p(new Error("payload is required"));if(s){try{!function(e){E(b,!0,e,"payload")}(e)}catch(e){return p(e)}r.mutatePayload||(e=Object.assign({},e))}else{const t=O.filter((function(e){return void 0!==r[e]}));if(t.length>0)return p(new Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return p(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return p(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){E(v,!1,e,"options")}(r)}catch(e){return p(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{i(l.alg,t)}catch(e){return p(e)}const c=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=c),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,c)}catch(e){return p(e)}if(void 0===e.nbf)return p(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,c)}catch(e){return p(e)}if(void 0===e.exp)return p(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(_).forEach((function(t){const n=_[t];if(void 0!==r[t]){if(void 0!==e[n])return p(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));const u=r.encoding||"utf8";if("function"!=typeof o){let n=a.sign({header:l,payload:e,secret:t,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(l.alg)&&n.length<256)throw new Error("secretOrPrivateKey has a minimum key size of 2048 bits for "+l.alg);return n}o=o&&h(o),a.createSign({header:l,privateKey:t,payload:e,encoding:u}).once("error",o).once("done",(function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(l.alg)&&e.length<256)return o(new Error("secretOrPrivateKey has a minimum key size of 2048 bits for "+l.alg));o(null,e)}))}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=/^(?:0|[1-9]\d*)$/,s=parseInt;function l(e){return e!=e}function p(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,(function(t){return e[t]}))}var c,u,d=Object.prototype,h=d.hasOwnProperty,f=d.toString,g=d.propertyIsEnumerable,m=(c=Object.keys,u=Object,function(e){return c(u(e))}),y=Math.max;function v(e,t){var r=_(e)||function(e){return function(e){return S(e)&&O(e)}(e)&&h.call(e,"callee")&&(!g.call(e,"callee")||"[object Arguments]"==f.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!h.call(e,i)||o&&("length"==i||E(i,n))||r.push(i);return r}function b(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||d,t!==n)return m(e);var t,r,n,o=[];for(var i in Object(e))h.call(e,i)&&"constructor"!=i&&o.push(i);return o}function E(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}var _=Array.isArray;function O(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=w(e)?f.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){return!!e&&"object"==typeof e}e.exports=function(e,t,a,c){var u;e=O(e)?e:(u=e)?p(u,function(e){return O(e)?v(e):b(e)}(u)):[],a=a&&!c?function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||S(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=o.test(e);return a||i.test(e)?s(e.slice(2),a?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e==e?e:0}(e),a=t%1;return t==t?a?t-a:t:0}(a):0;var d=e.length;return a<0&&(a=y(d+a,0)),function(e){return"string"==typeof e||!_(e)&&S(e)&&"[object String]"==f.call(e)}(e)?a<=d&&e.indexOf(t,a)>-1:!!d&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,l,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,a)>-1}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Boolean]"==r.call(e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return"number"==typeof e&&e==function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var p=o.test(e);return p||i.test(e)?a(e.slice(2),p?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e==e?e:0}(e),p=t%1;return t==t?p?t-p:t:0}(e)}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==r.call(e)}},function(e,t){var r,n,o=Function.prototype,i=Object.prototype,a=o.toString,s=i.hasOwnProperty,l=a.call(Object),p=i.toString,c=(r=Object.getPrototypeOf,n=Object,function(e){return r(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=p.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var r=s.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&a.call(r)==l}},function(e,t){var r=Object.prototype.toString,n=Array.isArray;e.exports=function(e){return"string"==typeof e||!n(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==r.call(e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function l(e,t){var l;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var l=o.test(e);return l||i.test(e)?a(e.slice(2),l?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e==e?e:0}(e),l=t%1;return t==t?l?t-l:t:0}(e),function(){return--e>0&&(l=t.apply(this,arguments)),e<=1&&(t=void 0),l}}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return l(2,e)}},function(e,t,r){const{JwksClient:n}=r(104),o=r(107),{hapiJwt2Key:i,hapiJwt2KeyAsync:a}=r(605),{expressJwtSecret:s}=r(606),{koaJwtSecret:l}=r(607),{passportJwtSecret:p}=r(608);e.exports=e=>new n(e),e.exports.JwksClient=n,e.exports.ArgumentError=o.ArgumentError,e.exports.JwksError=o.JwksError,e.exports.JwksRateLimitError=o.JwksRateLimitError,e.exports.SigningKeyNotFoundError=o.SigningKeyNotFoundError,e.exports.expressJwtSecret=s,e.exports.hapiJwt2Key=i,e.exports.hapiJwt2KeyAsync=a,e.exports.koaJwtSecret=l,e.exports.passportJwtSecret=p},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(305)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(119),o=r(6);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(120);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(305)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0).timingSafeEqual;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(187),o=r(315),i=r(316),a=r(317),s=r(20),l=r(3),p=r(137),c=r(138),u=r(140),d=r(24),h=r(318);t.default=async function(e,t,r,f,g){switch((0,u.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,d.default)(f.epk))throw new l.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!o.ecdhAllowed(t))throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const i=await(0,c.importJWK)(f.epk,e);let a,u;if(void 0!==f.apu){if("string"!=typeof f.apu)throw new l.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{a=(0,s.decode)(f.apu)}catch{throw new l.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==f.apv){if("string"!=typeof f.apv)throw new l.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{u=(0,s.decode)(f.apv)}catch{throw new l.JWEInvalid("Failed to base64url decode the apv")}}const h=await o.deriveKey(i,t,"ECDH-ES"===e?f.enc:e,"ECDH-ES"===e?(0,p.bitLength)(f.enc):parseInt(e.slice(-5,-2),10),a,u);if("ECDH-ES"===e)return h;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),h,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,a.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof f.p2c)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');const n=(null==g?void 0:g.maxPBES2Count)||1e4;if(f.p2c>n)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof f.p2s)throw new l.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let o;try{o=(0,s.decode)(f.p2s)}catch{throw new l.JWEInvalid("Failed to base64url decode the p2s")}return(0,i.decrypt)(e,t,r,f.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof f.iv)throw new l.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof f.tag)throw new l.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let n,o;try{n=(0,s.decode)(f.iv)}catch{throw new l.JWEInvalid("Failed to base64url decode the iv")}try{o=(0,s.decode)(f.tag)}catch{throw new l.JWEInvalid("Failed to base64url decode the tag")}return(0,h.unwrap)(e,t,r,n,o)}default:throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),o=r(0),i=r(20),a=r(3),s=r(135),l=r(136),p=r(565),c=r(139);t.default=e=>{if(c.jwkImport&&"oct"!==e.kty)return e.d?(0,o.createPrivateKey)({format:"jwk",key:e}):(0,o.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,o.createSecretKey)((0,i.decode)(e.k));case"RSA":{const t=new p.default,r=void 0!==e.d,i=n.Buffer.from(e.n,"base64"),a=n.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(i),t.unsignedInteger(a),t.unsignedInteger(n.Buffer.from(e.d,"base64")),t.unsignedInteger(n.Buffer.from(e.p,"base64")),t.unsignedInteger(n.Buffer.from(e.q,"base64")),t.unsignedInteger(n.Buffer.from(e.dp,"base64")),t.unsignedInteger(n.Buffer.from(e.dq,"base64")),t.unsignedInteger(n.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(i),t.unsignedInteger(a));const s={key:t.end(),format:"der",type:"pkcs1"},c=r?(0,o.createPrivateKey)(s):(0,o.createPublicKey)(s);return(0,l.setModulusLength)(c,i.length<<3),c}case"EC":{const t=new p.default,r=void 0!==e.d,i=n.Buffer.concat([n.Buffer.alloc(1,4),n.Buffer.from(e.x,"base64"),n.Buffer.from(e.y,"base64")]);if(r){t.zero();const r=new p.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());const a=new p.default;a.one(),a.octStr(n.Buffer.from(e.d,"base64"));const l=new p.default;l.bitStr(i);const c=l.end(n.Buffer.from([161]));a.add(c);const u=a.end(),d=new p.default;d.add(u);const h=d.end(n.Buffer.from([4]));t.add(h);const f=t.end(),g=(0,o.createPrivateKey)({key:f,format:"der",type:"pkcs8"});return(0,s.setCurve)(g,e.crv),g}const a=new p.default;a.oidFor("ecPublicKey"),a.oidFor(e.crv),t.add(a.end()),t.bitStr(i);const l=t.end(),c=(0,o.createPublicKey)({key:l,format:"der",type:"spki"});return(0,s.setCurve)(c,e.crv),c}case"OKP":{const t=new p.default;if(void 0!==e.d){t.zero();const r=new p.default;r.oidFor(e.crv),t.add(r.end());const i=new p.default;i.octStr(n.Buffer.from(e.d,"base64"));const a=i.end(n.Buffer.from([4]));t.add(a);const s=t.end();return(0,o.createPrivateKey)({key:s,format:"der",type:"pkcs8"})}const r=new p.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(n.Buffer.from(e.x,"base64"));const i=t.end();return(0,o.createPublicKey)({key:i,format:"der",type:"spki"})}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(18),o=r(3),i=n.Buffer.from([0]),a=n.Buffer.from([2]),s=n.Buffer.from([3]),l=n.Buffer.from([48]),p=n.Buffer.from([4]),c=e=>{if(e<128)return n.Buffer.from([e]);const t=n.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},u=new Map([["P-256",n.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",n.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",n.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",n.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",n.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",n.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",n.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",n.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",n.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);t.default=class{constructor(){this.length=0,this.elements=[]}oidFor(e){const t=u.get(e);if(!t)throw new o.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(a,n.Buffer.from([1]),i),this.length+=3}one(){this.elements.push(a,n.Buffer.from([1]),n.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){const t=c(e.length+1);this.elements.push(a,t,i,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&0==(128&e[t+1]);)t++;const r=c(e.length-t);this.elements.push(a,c(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){const t=c(e.length);this.elements.push(p,c(e.length),e),this.length+=1+t.length+e.length}bitStr(e){const t=c(e.length+1);this.elements.push(s,c(e.length+1),i,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=l){const t=c(this.length);return n.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalDecrypt=void 0;const n=r(184),o=r(3),i=r(24);t.generalDecrypt=async function(e,t,r){if(!(0,i.default)(e))throw new o.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(i.default))throw new o.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new o.JWEInvalid("JWE Recipients has no members");for(const o of e.recipients)try{return await(0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:o.encrypted_key,header:o.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new o.JWEDecryptionFailed}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralEncrypt=void 0;const n=r(189),o=r(3),i=r(137),a=r(105),s=r(321),l=r(20),p=r(106);class c{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}t.GeneralEncrypt=class{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const r=new c(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,c;if(!this._recipients.length)throw new o.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){const[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let o={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(o.aad=r.aad),r.protected&&(o.protected=r.protected),r.unprotected&&(o.unprotected=r.unprotected),r.encrypted_key&&(o.recipients[0].encrypted_key=r.encrypted_key),r.header&&(o.recipients[0].header=r.header),o}let u;for(let e=0;e<this._recipients.length;e++){const t=this._recipients[e];if(!(0,a.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new o.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new o.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new o.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new o.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(u){if(u!==r.enc)throw new o.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else u=r.enc;if((0,p.default)(o.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),!(void 0===r.zip||this._protectedHeader&&this._protectedHeader.zip))throw new o.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const d=(0,i.default)(u);let h={ciphertext:"",iv:"",recipients:[],tag:""};for(let o=0;o<this._recipients.length;o++){const i=this._recipients[o],a={};h.recipients.push(a);const p={...this._protectedHeader,...this._unprotectedHeader,...i.unprotectedHeader}.alg.startsWith("PBES2")?2048+o:void 0;if(0===o){const t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(d).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(i.unprotectedHeader).setKeyManagementParameters({p2c:p}).encrypt(i.key,{...i.options,...e,[n.unprotected]:!0});h.ciphertext=t.ciphertext,h.iv=t.iv,h.tag=t.tag,t.aad&&(h.aad=t.aad),t.protected&&(h.protected=t.protected),t.unprotected&&(h.unprotected=t.unprotected),a.encrypted_key=t.encrypted_key,t.header&&(a.header=t.header);continue}const{encryptedKey:f,parameters:g}=await(0,s.default)((null===(t=i.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(c=this._unprotectedHeader)||void 0===c?void 0:c.alg),u,i.key,d,{p2c:p});a.encrypted_key=(0,l.encode)(f),(i.unprotectedHeader||g)&&(a.header={...i.unprotectedHeader,...g})}return h}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(20),i=r(569),a=r(3),s=r(135),l=r(36),p=r(35),c=r(37),u=r(38),d=r(139),h=e=>{let t;if((0,l.isCryptoKey)(e)){if(!e.extractable)throw new TypeError("CryptoKey is not extractable");t=n.KeyObject.from(e)}else{if(!(0,p.default)(e)){if(e instanceof Uint8Array)return{kty:"oct",k:(0,o.encode)(e)};throw new TypeError((0,c.default)(e,...u.types,"Uint8Array"))}t=e}if(d.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new a.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,o.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{const e=t.export({format:"der",type:"pkcs1"}),r=new i.default(e);"private"===t.type&&r.unsignedInteger();const n=(0,o.encode)(r.unsignedInteger()),a=(0,o.encode)(r.unsignedInteger());let s;return"private"===t.type&&(s={d:(0,o.encode)(r.unsignedInteger()),p:(0,o.encode)(r.unsignedInteger()),q:(0,o.encode)(r.unsignedInteger()),dp:(0,o.encode)(r.unsignedInteger()),dq:(0,o.encode)(r.unsignedInteger()),qi:(0,o.encode)(r.unsignedInteger())}),r.end(),{kty:"RSA",n:n,e:a,...s}}case"ec":{const e=(0,s.default)(t);let r,i,l;switch(e){case"secp256k1":r=64,i=33,l=-1;break;case"P-256":r=64,i=36,l=-1;break;case"P-384":r=96,i=35,l=-3;break;case"P-521":r=132,i=35,l=-3;break;default:throw new a.JOSENotSupported("Unsupported curve")}if("public"===t.type){const n=t.export({type:"spki",format:"der"});return{kty:"EC",crv:e,x:(0,o.encode)(n.subarray(-r,-r/2)),y:(0,o.encode)(n.subarray(-r/2))}}const p=t.export({type:"pkcs8",format:"der"});return p.length<100&&(i+=l),{...h((0,n.createPublicKey)(t)),d:(0,o.encode)(p.subarray(i,i+r/2))}}case"ed25519":case"x25519":{const e=(0,s.default)(t);if("public"===t.type){const r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,o.encode)(r.subarray(-32))}}const r=t.export({type:"pkcs8",format:"der"});return{...h((0,n.createPublicKey)(t)),d:(0,o.encode)(r.subarray(-32))}}case"ed448":case"x448":{const e=(0,s.default)(t);if("public"===t.type){const r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,o.encode)(r.subarray("Ed448"===e?-57:-56))}}const r=t.export({type:"pkcs8",format:"der"});return{...h((0,n.createPublicKey)(t)),d:(0,o.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new a.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new a.JOSENotSupported("Unsupported key type")}};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){if(48!==e[0])throw new TypeError;this.buffer=e,this.offset=1;if(this.decodeLength()!==e.length-this.offset)throw new TypeError}decodeLength(){let e=this.buffer[this.offset++];if(128&e){const t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(2!==this.buffer[this.offset++])throw new TypeError;let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw new TypeError}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(6),i=r(324),a=r(325),s=r(326),l=r(327),p=r(139);let c;c=n.verify.length>4&&p.oneShotCallback?(0,o.promisify)(n.verify):n.verify;t.default=async(e,t,r,o)=>{const p=(0,l.default)(e,t,"verify");if(e.startsWith("HS")){const t=await(0,s.default)(e,p,o),i=r;try{return n.timingSafeEqual(i,t)}catch{return!1}}const u=(0,i.default)(e),d=(0,a.default)(e,p);try{return await c(u,o,d,r)}catch{return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3);t.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalVerify=void 0;const n=r(190),o=r(3),i=r(24);t.generalVerify=async function(e,t,r){if(!(0,i.default)(e))throw new o.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(i.default))throw new o.JWSInvalid("JWS Signatures missing or incorrect type");for(const o of e.signatures)try{return await(0,n.flattenedVerify)({header:o.header,payload:e.payload,protected:o.protected,signature:o.signature},t,r)}catch{}throw new o.JWSSignatureVerificationFailed}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtVerify=void 0;const n=r(323),o=r(191),i=r(3);t.jwtVerify=async function(e,t,r){var a;const s=await(0,n.compactVerify)(e,t,r);if((null===(a=s.protectedHeader.crit)||void 0===a?void 0:a.includes("b64"))&&!1===s.protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");const l={payload:(0,o.default)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtDecrypt=void 0;const n=r(308),o=r(191),i=r(3);t.jwtDecrypt=async function(e,t,r){const a=await(0,n.compactDecrypt)(e,t,r),s=(0,o.default)(a.protectedHeader,a.plaintext,r),{protectedHeader:l}=a;if(void 0!==l.iss&&l.iss!==s.iss)throw new i.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==l.sub&&l.sub!==s.sub)throw new i.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==l.aud&&JSON.stringify(l.aud)!==JSON.stringify(s.aud))throw new i.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const p={payload:s,protectedHeader:l};return"function"==typeof t?{...p,key:a.key}:p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralSign=void 0;const n=r(192),o=r(3);class i{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}t.GeneralSign=class{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const r=new i(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new o.JWSInvalid("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const r=this._signatures[t],i=new n.FlattenedSign(this._payload);i.setProtectedHeader(r.protectedHeader),i.setUnprotectedHeader(r.unprotectedHeader);const{payload:a,...s}=await i.sign(r.key,r.options);if(0===t)e.payload=a;else if(e.payload!==a)throw new o.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(s)}return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignJWT=void 0;const n=r(331),o=r(3),i=r(12),a=r(193);class s extends a.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;const a=new n.CompactSign(i.encoder.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");return a.sign(e,t)}}t.SignJWT=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptJWT=void 0;const n=r(330),o=r(12),i=r(193);class a extends i.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const r=new n.CompactEncrypt(o.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}t.EncryptJWT=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=void 0;const n=r(309),o=r(20),i=r(3),a=r(12),s=r(24),l=(e,t)=>{if("string"!=typeof e||!e)throw new i.JWKInvalid(t+" missing or invalid")};async function p(e,t){if(!(0,s.default)(e))throw new TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":l(e.crv,'"crv" (Curve) Parameter'),l(e.x,'"x" (X Coordinate) Parameter'),l(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":l(e.crv,'"crv" (Subtype of Key Pair) Parameter'),l(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":l(e.e,'"e" (Exponent) Parameter'),l(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":l(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new i.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const p=a.encoder.encode(JSON.stringify(r));return(0,o.encode)(await(0,n.default)(t,p))}t.calculateJwkThumbprint=p,t.calculateJwkThumbprintUri=async function(e,t){null!=t||(t="sha256");const r=await p(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbeddedJWK=void 0;const n=r(138),o=r(24),i=r(3);t.EmbeddedJWK=async function(e,t){const r={...e,...null==t?void 0:t.header};if(!(0,o.default)(r.jwk))throw new i.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const a=await(0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(a instanceof Uint8Array||"public"!==a.type)throw new i.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRemoteJWKSet=void 0;const n=r(581),o=r(3),i=r(332);class a extends i.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof o.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,i.isJWKSLike)(e))throw new o.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}t.createRemoteJWKSet=function(e,t){const r=new a(e,t);return async function(e,t){return r.getKey(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(51),o=r(61),i=r(23),a=r(3),s=r(12);t.default=async(e,t,r)=>{let l;switch(e.protocol){case"https:":l=o.get;break;case"http:":l=n.get;break;default:throw new TypeError("Unsupported URL protocol.")}const{agent:p,headers:c}=r,u=l(e.href,{agent:p,timeout:t,headers:c}),[d]=await Promise.race([(0,i.once)(u,"response"),(0,i.once)(u,"timeout")]);if(!d)throw u.destroy(),new a.JWKSTimeout;if(200!==d.statusCode)throw new a.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");const h=[];for await(const e of d)h.push(e);try{return JSON.parse(s.decoder.decode((0,s.concat)(...h)))}catch{throw new a.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsecuredJWT=void 0;const n=r(20),o=r(12),i=r(3),a=r(191),s=r(193);class l extends s.ProduceJWT{encode(){return`${n.encode(JSON.stringify({alg:"none"}))}.${n.encode(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new i.JWTInvalid("Unsecured JWT must be a string");const{0:r,1:s,2:l,length:p}=e.split(".");if(3!==p||""!==l)throw new i.JWTInvalid("Invalid Unsecured JWT");let c;try{if(c=JSON.parse(o.decoder.decode(n.decode(r))),"none"!==c.alg)throw new Error}catch{throw new i.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,a.default)(c,n.decode(s),t),header:c}}}t.UnsecuredJWT=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtectedHeader=void 0;const n=r(194),o=r(12),i=r(24);t.decodeProtectedHeader=function(e){let t;if("string"==typeof e){const r=e.split(".");3!==r.length&&5!==r.length||([t]=r)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(o.decoder.decode((0,n.decode)(t)));if(!(0,i.default)(e))throw new Error;return e}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeJwt=void 0;const n=r(194),o=r(12),i=r(24),a=r(3);t.decodeJwt=function(e){if("string"!=typeof e)throw new a.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new a.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new a.JWTInvalid("Invalid JWT");if(!t)throw new a.JWTInvalid("JWTs must contain a payload");let s,l;try{s=(0,n.decode)(t)}catch{throw new a.JWTInvalid("Failed to base64url decode the payload")}try{l=JSON.parse(o.decoder.decode(s))}catch{throw new a.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,i.default)(l))throw new a.JWTInvalid("Invalid JWT Claims Set");return l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=void 0;const n=r(333);t.generateKeyPair=async function(e,t){return(0,n.generateKeyPair)(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSecret=void 0;const n=r(333);t.generateSecret=async function(e,t){return(0,n.generateSecret)(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(588);t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="node:crypto"},function(e,t,r){e.exports={request:r(590).default,cacheSigningKey:r(591).default,rateLimitSigningKey:r(598).default,getKeysInterceptor:r(602).default,callbackSupport:r(603).default}},function(e,t,r){const n=r(51),o=r(61),i=r(11);e.exports.default=e=>e.fetcher?e.fetcher(e.uri):new Promise((t,r)=>{const{hostname:a,path:s,port:l,protocol:p}=i.parse(e.uri),c={hostname:a,path:s,port:l,method:"GET",...e.headers&&{headers:{...e.headers}},...e.timeout&&{timeout:e.timeout},...e.agent&&{agent:e.agent}},u=("https:"===p?o:n).request(c,e=>{let n="";e.setEncoding("utf8"),e.on("data",e=>{n+=e}),e.on("end",()=>{if(e.statusCode<200||e.statusCode>=300){const t=e.body&&(e.body.message||e.body)||e.statusMessage||"Http Error "+e.statusCode;r({errorMsg:t})}else try{t(n&&JSON.parse(n))}catch(e){r(e)}})});u.on("timeout",()=>u.destroy()).on("error",e=>r(e)).end()})},function(e,t,r){const n=r(183)("jwks"),o=r(592),{promisify:i,callbackify:a}=r(6);e.exports.default=function(e,{cacheMaxEntries:t=5,cacheMaxAge:r=6e5}){return n(`Configured caching of signing keys. Max: ${t} / Age: ${r}`),i(o({hash:e=>e,load:a(e.getSigningKey.bind(e)),maxAge:r,max:t}))}},function(e,t,r){"use strict";var n=r(593);e.exports=n.asyncMemoizer},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.asyncMemoizer=void 0;var s=a(r(334)),l=r(23),p=a(r(335)),c=r(336),u=r(597);function d(e){var t=new s.default(e),r=e.load,n=e.hash,a=e.bypass,u=e.itemMaxAge,d=e.freeze,h=e.clone,f=e.queueMaxAge||1e3,g=new Map,m=new l.EventEmitter,y=Object.assign({del:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.apply(void 0,o(e));t.del(i)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:m.on.bind(m),once:m.once.bind(m)},e);if(e.disable)return Object.assign(r,y);function v(e,r,n){d&&n.forEach(c.deepFreeze),u?t.set(e,n,u.apply(void 0,o(r.concat(n)))):t.set(e,n)}function b(e,t){var r,n;try{for(var a=i(e),s=a.next();!s.done;s=a.next()){var l=s.value;h?setImmediate.apply(void 0,o([l],t.map(p.default))):setImmediate.apply(void 0,o([l],t))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function E(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.emit.apply(m,o([e],t))}return Object.assign((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s,l=e.slice(0,-1),p=e.slice(-1).pop();if(a&&a.apply(void 0,o(l)))return E.apply(void 0,o(["miss"],l)),r.apply(void 0,o(e));s=0!==l.length||n?n.apply(void 0,o(l)):"_";var c=t.get(s);if(c)return E.apply(void 0,o(["hit"],l)),b([p],[null].concat(c));var u=g.get(s);if(u&&u.expiresAt>Date.now())return u.queue.push(p),void E.apply(void 0,o(["queue"],l));E.apply(void 0,o(["miss"],l));var d=Date.now(),h=[p];g.set(s,{queue:h,expiresAt:d+f});var m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];r||v(s,l,e.slice(1)),g.delete(s),E.apply(void 0,o(["loaded",Date.now()-d],l)),b(h,e)};r.apply(void 0,o(l,[m]))}),y)}t.asyncMemoizer=d,d.sync=u.syncMemoizer},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var a=[];for(n=0;i&&n<t;n++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=o(this,i,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(595)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.syncMemoizer=void 0;var a=i(r(334)),s=r(23),l=i(r(335)),p=r(336);t.syncMemoizer=function(e){var t=new a.default(e),r=e.load,n=e.hash,i=e.bypass,c=e.itemMaxAge,u=e.freeze,d=e.clone,h=new s.EventEmitter,f=Object.assign({del:function(){var e=n.apply(void 0,o(arguments));t.del(e)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:h.on.bind(h),once:h.once.bind(h)},e);if(e.disable)return Object.assign(r,f);function g(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.emit.apply(h,o([e],t))}function m(e){return e&&e.then&&"function"==typeof e.then}function y(e){var t=e;return d&&(t=m(t)?t.then(l.default):l.default(t)),u&&(m(t)?t=t.then(p.deepFreeze):p.deepFreeze(t)),t}return Object.assign((function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];if(i&&i.apply(void 0,o(e)))return g.apply(void 0,o(["miss"],e)),r.apply(void 0,o(e));var s=n.apply(void 0,o(e)),l=t.get(s);if(l)return g.apply(void 0,o(["hit"],e)),y(l);g.apply(void 0,o(["miss"],e));var p=r.apply(void 0,o(e));return c?t.set(s,p,c.apply(void 0,o(e.concat([p])))):t.set(s,p),y(p)}),f)}},function(e,t,r){const n=r(183)("jwks"),{RateLimiter:o}=r(599),i=r(338);e.exports.default=function(e,{jwksRequestsPerMinute:t=10}){const r=e.getSigningKey.bind(e),a=new o(t,"minute",!0);return n(`Configured rate limiting to JWKS endpoint at ${t}/minute`),async e=>await new Promise((t,o)=>{a.removeTokens(1,async(a,s)=>{if(a&&o(a),n("Requests to the JWKS endpoint available for the next minute:",s),s<0)n("Too many requests to the JWKS endpoint"),o(new i("Too many requests to the JWKS endpoint"));else try{const n=await r(e);t(n)}catch(e){o(e)}})})}},function(e,t,r){t.RateLimiter=r(600),t.TokenBucket=r(337)},function(e,t,r){var n=r(337),o=r(601),i=function(e,t,r){this.tokenBucket=new n(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=r};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=o();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout((function(){r.tokenBucket.removeTokens(e,a)}),i)}return!1}return this.tokenBucket.removeTokens(e,a);function a(n,o){if(n)return t(n,null);r.tokensThisInterval+=e,t(null,o)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=o();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=i},function(e,t){e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return 1e3*t+Math.floor(r/1e6)}return(new Date).getTime()}},function(e,t,r){const n=r(306).retrieveSigningKeys;e.exports.default=function(e,{getKeysInterceptor:t}){const r=e.getSigningKey.bind(e);return async e=>{const o=await t();let i;if(o&&o.length&&(i=await n(o)),i&&i.length){const t=i.find(t=>!e||t.kid===e);if(t)return t}return r(e)}}},function(e,t,r){const{callbackify:n}=r(6);e.exports.default=e=>{const t=e.getSigningKey.bind(e);return(e,r)=>{if(r){return n(t)(e,r)}return t(e)}}},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,r){const{ArgumentError:n}=r(107),{JwksClient:o}=r(104),i=r(141),a=(e,t)=>e&&"SigningKeyNotFoundError"===e.name||e?t(e,null,null):void 0;e.exports.hapiJwt2KeyAsync=t=>{const r=e.exports.hapiJwt2Key(t);return function(e){return new Promise((t,n)=>{r(e,(e,r)=>{!r||e?n(e):t({key:r})})})}},e.exports.hapiJwt2Key=function(e){if(null==e)throw new n("An options object must be provided when initializing hapiJwt2Key");const t=new o(e),r=e.handleSigningKeyError||a;return function(e,n){return e&&e.header?i.includes(e.header.alg)?void t.getSigningKey(e.header.kid).then(e=>n(null,e.publicKey||e.rsaPublicKey,e)).catch(e=>r(e,e=>n(e,null,null))):n(new Error("Unsupported algorithm "+e.header.alg+" supplied."),null,null):n(new Error("Cannot find a signing certificate if there is no header"),null,null)}}},function(e,t,r){const{ArgumentError:n}=r(107),{JwksClient:o}=r(104),i=r(141),a=(e,t)=>e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0;e.exports.expressJwtSecret=function(e){if(null==e)throw new n("An options object must be provided when initializing expressJwtSecret");const t=new o(e),r=e.handleSigningKeyError||a,s=async(e,n)=>{if(!n)return;const o=n.header;if(o&&i.includes(o.alg))try{const e=await t.getSigningKey(o.kid);return e.publicKey||e.rsaPublicKey}catch(e){return new Promise((t,n)=>{r(e,e=>{if(!e)return t();n(e)})})}};return function(e,t,r,n){if(4!==arguments.length)return s(0,arguments[1]);s(0,{header:t}).then(e=>{setImmediate(n,null,e)}).catch(e=>{setImmediate(n,e)})}}},function(e,t,r){const{ArgumentError:n}=r(107),{JwksClient:o}=r(104),i=r(141);e.exports.koaJwtSecret=function(e={}){if(!e.jwksUri)throw new n("No JWKS provided. Please provide a jwksUri");const t=new o(e);return function({alg:r,kid:n}={}){return new Promise((o,a)=>{if(!i.includes(r))return a(new Error("Missing / invalid token algorithm"));t.getSigningKey(n).then(e=>{o(e.publicKey||e.rsaPublicKey)}).catch(t=>e.handleSigningKeyError?e.handleSigningKeyError(t).then(a):a(t))})}}},function(e,t,r){const n=r(307),{ArgumentError:o}=r(107),{JwksClient:i}=r(104),a=r(141),s=(e,t)=>e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0;e.exports.passportJwtSecret=function(e){if(null==e)throw new o("An options object must be provided when initializing passportJwtSecret");if(!e.jwksUri)throw new o("No JWKS provided. Please provide a jwksUri");const t=new i(e),r=e.handleSigningKeyError||s;return function(e,o,i){let s;try{s={payload:n.decodeJwt(o),header:n.decodeProtectedHeader(o)}}catch(e){s=null}if(!s||!a.includes(s.header.alg))return i(null,null);t.getSigningKey(s.header.kid).then(e=>{i(null,e.publicKey||e.rsaPublicKey)}).catch(e=>{r(e,e=>i(e,null))})}}},function(e,t,r){"use strict";r.r(t),r.d(t,"LogLevel",(function(){return o})),r.d(t,"Logger",(function(){return p})),r.d(t,"setLogLevel",(function(){return c})),r.d(t,"setUserLogHandler",(function(){return u}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const i={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},a=o.INFO,s={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},l=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),o=s[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...r)};class p{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}function c(e){n.forEach(t=>{t.setLogLevel(e)})}function u(e,t){for(const r of n){let n=null;t&&t.level&&(n=i[t.level]),r.userLogHandler=null===e?null:(t,r,...i)=>{const a=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");r>=(null!=n?n:t.logLevel)&&e({level:o[r].toLowerCase(),message:a,args:i,type:t.name})}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Component",(function(){return o})),r.d(t,"ComponentContainer",(function(){return a})),r.d(t,"Provider",(function(){return i}));var n=r(241);class o{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new n.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(e)&&t.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(n,o);const i=this.instances.get(n);return i&&e(i,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,"[DEFAULT]"===n?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}var n;return r||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.BLACKLISTED_OPTIONS_KEYS=t.BLACKLISTED_DATA_PAYLOAD_KEYS=void 0,t.validateMessage=function(e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Message must be a non-null object");const t=e;if(t.topic&&(t.topic.startsWith("/topics/")&&(t.topic=t.topic.replace(/^\/topics\//,"")),!/^[a-zA-Z0-9-_.~%]+$/.test(t.topic)))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Malformed topic name");if(1!==[t.token,t.topic,t.condition].filter(e=>i.isNonEmptyString(e)).length)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"Exactly one of topic, token or condition is required");a(e.data,"data"),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android must be a non-null object");if(void 0!==e.ttl){if(!i.isNumber(e.ttl)||e.ttl<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"TTL must be a non-negative duration in milliseconds");const t=(0,n.transformMillisecondsToSecondsString)(e.ttl);e.ttl=t}a(e.data,"android.data"),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification must be a non-null object");if(void 0!==e.color&&!/^#[0-9a-fA-F]{6}$/.test(e.color))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.color must be in the form #RRGGBB");if(i.isNonEmptyArray(e.bodyLocArgs)&&!i.isNonEmptyString(e.bodyLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.bodyLocKey is required when specifying bodyLocArgs");if(i.isNonEmptyArray(e.titleLocArgs)&&!i.isNonEmptyString(e.titleLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.titleLocKey is required when specifying titleLocArgs");if(void 0!==e.imageUrl&&!i.isURL(e.imageUrl))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.imageUrl must be a valid URL string");if(void 0!==e.eventTimestamp){if(!(e.eventTimestamp instanceof Date))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.eventTimestamp must be a valid `Date` object");const t=e.eventTimestamp.toISOString();e.eventTimestamp=t}if(void 0!==e.vibrateTimingsMillis){if(!i.isNonEmptyArray(e.vibrateTimingsMillis))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.vibrateTimingsMillis must be a non-empty array of numbers");const t=[];e.vibrateTimingsMillis.forEach(e=>{if(!i.isNumber(e)||e<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.vibrateTimingsMillis must be non-negative durations in milliseconds");const r=(0,n.transformMillisecondsToSecondsString)(e);t.push(r)}),e.vibrateTimingsMillis=t}if(void 0!==e.priority){const t="PRIORITY_"+e.priority.toUpperCase();e.priority=t}if(void 0!==e.visibility){const t=e.visibility.toUpperCase();e.visibility=t}!function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings must be a non-null object");if(!i.isNumber(e.lightOnDurationMillis)||e.lightOnDurationMillis<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.lightOnDurationMillis must be a non-negative duration in milliseconds");const t=(0,n.transformMillisecondsToSecondsString)(e.lightOnDurationMillis);if(e.lightOnDurationMillis=t,!i.isNumber(e.lightOffDurationMillis)||e.lightOffDurationMillis<0)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.lightOffDurationMillis must be a non-negative duration in milliseconds");const r=(0,n.transformMillisecondsToSecondsString)(e.lightOffDurationMillis);if(e.lightOffDurationMillis=r,!i.isString(e.color)||!/^#[0-9a-fA-F]{6}$/.test(e.color)&&!/^#[0-9a-fA-F]{8}$/.test(e.color))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"android.notification.lightSettings.color must be in the form #RRGGBB or #RRGGBBAA format");const a=7===e.color.length?e.color+"FF":e.color,s=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/i.exec(a);if(!s||s.length<4)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INTERNAL_ERROR,"regex to extract rgba values from "+a+" failed.");const l={red:parseInt(s[1],16)/255,green:parseInt(s[2],16)/255,blue:parseInt(s[3],16)/255,alpha:parseInt(s[4],16)/255};e.color=l;(0,n.renameProperties)(e,{lightOnDurationMillis:"light_on_duration",lightOffDurationMillis:"light_off_duration"})}(e.lightSettings);(0,n.renameProperties)(e,{clickAction:"click_action",bodyLocKey:"body_loc_key",bodyLocArgs:"body_loc_args",titleLocKey:"title_loc_key",titleLocArgs:"title_loc_args",channelId:"channel_id",imageUrl:"image",eventTimestamp:"event_time",localOnly:"local_only",priority:"notification_priority",vibrateTimingsMillis:"vibrate_timings",defaultVibrateTimings:"default_vibrate_timings",defaultSound:"default_sound",lightSettings:"light_settings",defaultLightSettings:"default_light_settings",notificationCount:"notification_count"})}(e.notification),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(void 0!==e.analyticsLabel&&!i.isString(e.analyticsLabel))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value")}(e.fcmOptions);(0,n.renameProperties)(e,{collapseKey:"collapse_key",restrictedPackageName:"restricted_package_name",directBootOk:"direct_boot_ok"})}(e.android),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"webpush must be a non-null object");a(e.headers,"webpush.headers"),a(e.data,"webpush.data")}(e.webpush),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns must be a non-null object");a(e.headers,"apns.headers"),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload must be a non-null object");!function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps must be a non-null object");(function(e){if(void 0===e||i.isString(e))return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert must be a string or a non-null object");const t=e;if(i.isNonEmptyArray(t.locArgs)&&!i.isNonEmptyString(t.locKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.locKey is required when specifying locArgs");if(i.isNonEmptyArray(t.titleLocArgs)&&!i.isNonEmptyString(t.titleLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.titleLocKey is required when specifying titleLocArgs");if(i.isNonEmptyArray(t.subtitleLocArgs)&&!i.isNonEmptyString(t.subtitleLocKey))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.alert.subtitleLocKey is required when specifying subtitleLocArgs");(0,n.renameProperties)(t,{locKey:"loc-key",locArgs:"loc-args",titleLocKey:"title-loc-key",titleLocArgs:"title-loc-args",subtitleLocKey:"subtitle-loc-key",subtitleLocArgs:"subtitle-loc-args",actionLocKey:"action-loc-key",launchImage:"launch-image"})})(e.alert),function(e){if(void 0===e||i.isNonEmptyString(e))return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound must be a non-empty string or a non-null object");if(!i.isNonEmptyString(e.name))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.name must be a non-empty string");const t=e.volume;if(void 0!==t){if(!i.isNumber(t))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be a number");if(t<0||t>1)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"apns.payload.aps.sound.volume must be in the interval [0, 1]")}const r=e,n="critical",a=r[n];void 0!==a&&1!==a&&(!0===a?r[n]=1:delete r[n])}(e.sound);const t={contentAvailable:"content-available",mutableContent:"mutable-content",threadId:"thread-id"};Object.keys(t).forEach(r=>{if(r in e&&t[r]in e)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,`Multiple specifications for ${r} in Aps`)}),(0,n.renameProperties)(e,t);const r=e["content-available"];void 0!==r&&1!==r&&(!0===r?e["content-available"]=1:delete e["content-available"]);const a=e["mutable-content"];void 0!==a&&1!==a&&(!0===a?e["mutable-content"]=1:delete e["mutable-content"])}(e.aps)}(e.payload),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(void 0!==e.imageUrl&&!i.isURL(e.imageUrl))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"imageUrl must be a valid URL string");if(void 0!==e.analyticsLabel&&!i.isString(e.analyticsLabel))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value");const t={imageUrl:"image"};Object.keys(t).forEach(r=>{if(r in e&&t[r]in e)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,`Multiple specifications for ${r} in ApnsFcmOptions`)}),(0,n.renameProperties)(e,t)}(e.fcmOptions)}(e.apns),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"fcmOptions must be a non-null object");if(void 0!==e.analyticsLabel&&!i.isString(e.analyticsLabel))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"analyticsLabel must be a string value")}(e.fcmOptions),function(e){if(void 0===e)return;if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"notification must be a non-null object");if(void 0!==e.imageUrl&&!i.isURL(e.imageUrl))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,"notification.imageUrl must be a valid URL string");const t={imageUrl:"image"};Object.keys(t).forEach(r=>{if(r in e&&t[r]in e)throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,`Multiple specifications for ${r} in Notification`)}),(0,n.renameProperties)(e,t)}(e.notification)};const n=r(9),o=r(2),i=r(4);function a(e,t){if(void 0!==e){if(!i.isNonNullObject(e))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,t+" must be a non-null object");Object.keys(e).forEach(r=>{if(!i.isString(e[r]))throw new o.FirebaseMessagingError(o.MessagingClientErrorCode.INVALID_PAYLOAD,t+" must only contain string values")})}}t.BLACKLISTED_DATA_PAYLOAD_KEYS=["from"],t.BLACKLISTED_OPTIONS_KEYS=["condition","data","notification","registrationIds","registration_ids","to"]},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseMessagingRequestHandler=void 0;const n=r(27),o=r(613),i=r(9),a={"X-Firebase-Client":"fire-admin-node/"+(0,i.getSdkVersion)(),access_token_auth:"true"};t.FirebaseMessagingRequestHandler=class{constructor(e){this.httpClient=new n.AuthorizedHttpClient(e),this.http2Client=new n.AuthorizedHttp2Client(e)}invokeRequestHandler(e,t,r){const i={method:"POST",url:`https://${e}${t}`,data:r,headers:a,timeout:15e3};return this.httpClient.send(i).then(e=>{if(!e.isJson())throw new n.RequestResponseError(e);if((0,o.getErrorCode)(e.data))throw new n.RequestResponseError(e);return e.data}).catch(e=>{if(e instanceof n.RequestResponseError)throw(0,o.createFirebaseError)(e);throw e})}invokeHttpRequestHandlerForSendResponse(e,t,r){const o={method:"POST",url:`https://${e}${t}`,data:r,headers:a,timeout:15e3};return this.httpClient.send(o).then(e=>this.buildSendResponse(e)).catch(e=>{if(e instanceof n.RequestResponseError)return this.buildSendResponseFromError(e);throw e})}invokeHttp2RequestHandlerForSendResponse(e,t,r,o){const i={method:"POST",url:`https://${e}${t}`,data:r,headers:a,timeout:15e3,http2SessionHandler:o};return this.http2Client.send(i).then(e=>this.buildSendResponse(e)).catch(e=>{if(e instanceof n.RequestResponseError)return this.buildSendResponseFromError(e);throw e})}buildSendResponse(e){const t={success:200===e.status};return t.success?t.messageId=e.data.name:t.error=(0,o.createFirebaseError)(new n.RequestResponseError(e)),t}buildSendResponseFromError(e){return{success:!1,error:(0,o.createFirebaseError)(e)}}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.createFirebaseError=function(e){if(e.response.isJson()){const t=e.response.data,r=i(t),a=function(e){if(o.isNonNullObject(e)&&"error"in e&&o.isNonEmptyString(e.error.message))return e.error.message;return null}(t);return n.FirebaseMessagingError.fromServerError(r,a,t)}let t;switch(e.response.status){case 400:t=n.MessagingClientErrorCode.INVALID_ARGUMENT;break;case 401:case 403:t=n.MessagingClientErrorCode.AUTHENTICATION_ERROR;break;case 500:t=n.MessagingClientErrorCode.INTERNAL_ERROR;break;case 503:t=n.MessagingClientErrorCode.SERVER_UNAVAILABLE;break;default:t=n.MessagingClientErrorCode.UNKNOWN_ERROR}return new n.FirebaseMessagingError({code:t.code,message:`${t.message} Raw server response: "${e.response.text}". Status code: `+e.response.status+"."})},t.getErrorCode=i;const n=r(2),o=r(4);function i(e){if(o.isNonNullObject(e)&&"error"in e){const t=e.error;if(o.isString(t))return t;if(o.isArray(t.details)){const e="type.googleapis.com/google.firebase.fcm.v1.FcmError";for(const r of t.details)if(r["@type"]===e)return r.errorCode}return"status"in t?t.status:t.message}return null}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Notification=t.Iam=t.HmacKey=t.File=t.Channel=t.Bucket=t.Storage=t.RETRYABLE_ERR_FN_DEFAULT=t.IdempotencyStrategy=t.ApiError=void 0;var i=r(74);Object.defineProperty(t,"ApiError",{enumerable:!0,get:function(){return i.ApiError}});var a=r(109);Object.defineProperty(t,"IdempotencyStrategy",{enumerable:!0,get:function(){return a.IdempotencyStrategy}}),Object.defineProperty(t,"RETRYABLE_ERR_FN_DEFAULT",{enumerable:!0,get:function(){return a.RETRYABLE_ERR_FN_DEFAULT}}),Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return a.Storage}});var s=r(202);Object.defineProperty(t,"Bucket",{enumerable:!0,get:function(){return s.Bucket}}),o(r(111),t);var l=r(362);Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return l.Channel}});var p=r(110);Object.defineProperty(t,"File",{enumerable:!0,get:function(){return p.File}}),o(r(359),t);var c=r(363);Object.defineProperty(t,"HmacKey",{enumerable:!0,get:function(){return c.HmacKey}});var u=r(360);Object.defineProperty(t,"Iam",{enumerable:!0,get:function(){return u.Iam}});var d=r(361);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return d.Notification}}),o(r(665),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingProjectIdError=t.replaceProjectIdToken=void 0;const n=r(1);t.replaceProjectIdToken=function e(t,r){if(Array.isArray(t)&&(t=t.map(t=>e(t,r))),!(null===t||"object"!=typeof t||t instanceof Buffer||t instanceof n.Stream||"function"!=typeof t.hasOwnProperty))for(const n in t)t.hasOwnProperty(n)&&(t[n]=e(t[n],r));if("string"==typeof t&&t.indexOf("{{projectId}}")>-1){if(!r||"{{projectId}}"===r)throw new o;t=t.replace(/{{projectId}}/g,r)}return t};class o extends Error{constructor(){super(...arguments),this.message='Sorry, we cannot connect to Cloud Services without a project\n    ID. You may specify one with an environment variable named\n    "GOOGLE_CLOUD_PROJECT".'.replace(/ +/g," ")}}t.MissingProjectIdError=o},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(617),i=r(618),a=r(619),s=n(n({},o.namedReferences),{all:o.namedReferences.html5});function l(e,t,r){t.lastIndex=0;var n,o=t.exec(e);if(o){n="";var i=0;do{i!==o.index&&(n+=e.substring(i,o.index));var a=o[0];n+=r(a),i=o.index+a.length}while(o=t.exec(e));i!==e.length&&(n+=e.substring(i))}else n=e;return n}var p={specialChars:/[<>'"&]/g,nonAscii:/[<>'"&\u0080-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintable:/[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintableOnly:/[\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,extensive:/[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g},c={mode:"specialChars",level:"all",numeric:"decimal"};t.encode=function(e,t){var r=void 0===t?c:t,n=r.mode,o=void 0===n?"specialChars":n,i=r.numeric,u=void 0===i?"decimal":i,d=r.level;if(!e)return"";var h=p[o],f=s[void 0===d?"all":d].characters,g="hexadecimal"===u;return l(e,h,(function(e){var t=f[e];if(!t){var r=e.length>1?a.getCodePoint(e,0):e.charCodeAt(0);t=(g?"&#x"+r.toString(16):"&#"+r)+";"}return t}))};var u={scope:"body",level:"all"},d=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,h=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,f={xml:{strict:d,attribute:h,body:o.bodyRegExps.xml},html4:{strict:d,attribute:h,body:o.bodyRegExps.html4},html5:{strict:d,attribute:h,body:o.bodyRegExps.html5}},g=n(n({},f),{all:f.html5}),m=String.fromCharCode,y=m(65533),v={level:"all"};function b(e,t,r,n){var o=e,s=e[e.length-1];if(r&&"="===s)o=e;else if(n&&";"!==s)o=e;else{var l=t[e];if(l)o=l;else if("&"===e[0]&&"#"===e[1]){var p=e[2],c="x"==p||"X"==p?parseInt(e.substr(3),16):parseInt(e.substr(2));o=c>=1114111?y:c>65535?a.fromCodePoint(c):m(i.numericUnicodeMap[c]||c)}}return o}t.decodeEntity=function(e,t){var r=(void 0===t?v:t).level;return e?b(e,s[void 0===r?"all":r].entities,!1,!1):""},t.decode=function(e,t){var r=void 0===t?u:t,n=r.level,o=void 0===n?"all":n,i=r.scope,a=void 0===i?"xml"===o?"strict":"body":i;if(!e)return"";var p=g[o][a],c=s[o].entities,d="attribute"===a,h="strict"===a;return l(e,p,(function(e){return b(e,c,d,h)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},t.namedReferences={xml:{entities:{"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},characters:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"}},html4:{entities:{"&apos;":"'","&nbsp":"","&nbsp;":"","&iexcl":"","&iexcl;":"","&cent":"","&cent;":"","&pound":"","&pound;":"","&curren":"","&curren;":"","&yen":"","&yen;":"","&brvbar":"","&brvbar;":"","&sect":"","&sect;":"","&uml":"","&uml;":"","&copy":"","&copy;":"","&ordf":"","&ordf;":"","&laquo":"","&laquo;":"","&not":"","&not;":"","&shy":"","&shy;":"","&reg":"","&reg;":"","&macr":"","&macr;":"","&deg":"","&deg;":"","&plusmn":"","&plusmn;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&acute":"","&acute;":"","&micro":"","&micro;":"","&para":"","&para;":"","&middot":"","&middot;":"","&cedil":"","&cedil;":"","&sup1":"","&sup1;":"","&ordm":"","&ordm;":"","&raquo":"","&raquo;":"","&frac14":"","&frac14;":"","&frac12":"","&frac12;":"","&frac34":"","&frac34;":"","&iquest":"","&iquest;":"","&Agrave":"","&Agrave;":"","&Aacute":"","&Aacute;":"","&Acirc":"","&Acirc;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Aring":"","&Aring;":"","&AElig":"","&AElig;":"","&Ccedil":"","&Ccedil;":"","&Egrave":"","&Egrave;":"","&Eacute":"","&Eacute;":"","&Ecirc":"","&Ecirc;":"","&Euml":"","&Euml;":"","&Igrave":"","&Igrave;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Iuml":"","&Iuml;":"","&ETH":"","&ETH;":"","&Ntilde":"","&Ntilde;":"","&Ograve":"","&Ograve;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Otilde":"","&Otilde;":"","&Ouml":"","&Ouml;":"","&times":"","&times;":"","&Oslash":"","&Oslash;":"","&Ugrave":"","&Ugrave;":"","&Uacute":"","&Uacute;":"","&Ucirc":"","&Ucirc;":"","&Uuml":"","&Uuml;":"","&Yacute":"","&Yacute;":"","&THORN":"","&THORN;":"","&szlig":"","&szlig;":"","&agrave":"","&agrave;":"","&aacute":"","&aacute;":"","&acirc":"","&acirc;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&aring":"","&aring;":"","&aelig":"","&aelig;":"","&ccedil":"","&ccedil;":"","&egrave":"","&egrave;":"","&eacute":"","&eacute;":"","&ecirc":"","&ecirc;":"","&euml":"","&euml;":"","&igrave":"","&igrave;":"","&iacute":"","&iacute;":"","&icirc":"","&icirc;":"","&iuml":"","&iuml;":"","&eth":"","&eth;":"","&ntilde":"","&ntilde;":"","&ograve":"","&ograve;":"","&oacute":"","&oacute;":"","&ocirc":"","&ocirc;":"","&otilde":"","&otilde;":"","&ouml":"","&ouml;":"","&divide":"","&divide;":"","&oslash":"","&oslash;":"","&ugrave":"","&ugrave;":"","&uacute":"","&uacute;":"","&ucirc":"","&ucirc;":"","&uuml":"","&uuml;":"","&yacute":"","&yacute;":"","&thorn":"","&thorn;":"","&yuml":"","&yuml;":"","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"","&oelig;":"","&Scaron;":"","&scaron;":"","&Yuml;":"","&circ;":"","&tilde;":"","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"","&zwj;":"","&lrm;":"","&rlm;":"","&ndash;":"","&mdash;":"","&lsquo;":"","&rsquo;":"","&sbquo;":"","&ldquo;":"","&rdquo;":"","&bdquo;":"","&dagger;":"","&Dagger;":"","&permil;":"","&lsaquo;":"","&rsaquo;":"","&euro;":"","&fnof;":"","&Alpha;":"","&Beta;":"","&Gamma;":"","&Delta;":"","&Epsilon;":"","&Zeta;":"","&Eta;":"","&Theta;":"","&Iota;":"","&Kappa;":"","&Lambda;":"","&Mu;":"","&Nu;":"","&Xi;":"","&Omicron;":"","&Pi;":"","&Rho;":"","&Sigma;":"","&Tau;":"","&Upsilon;":"","&Phi;":"","&Chi;":"","&Psi;":"","&Omega;":"","&alpha;":"","&beta;":"","&gamma;":"","&delta;":"","&epsilon;":"","&zeta;":"","&eta;":"","&theta;":"","&iota;":"","&kappa;":"","&lambda;":"","&mu;":"","&nu;":"","&xi;":"","&omicron;":"","&pi;":"","&rho;":"","&sigmaf;":"","&sigma;":"","&tau;":"","&upsilon;":"","&phi;":"","&chi;":"","&psi;":"","&omega;":"","&thetasym;":"","&upsih;":"","&piv;":"","&bull;":"","&hellip;":"","&prime;":"","&Prime;":"","&oline;":"","&frasl;":"","&weierp;":"","&image;":"","&real;":"","&trade;":"","&alefsym;":"","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":"","&crarr;":"","&lArr;":"","&uArr;":"","&rArr;":"","&dArr;":"","&hArr;":"","&forall;":"","&part;":"","&exist;":"","&empty;":"","&nabla;":"","&isin;":"","&notin;":"","&ni;":"","&prod;":"","&sum;":"","&minus;":"","&lowast;":"","&radic;":"","&prop;":"","&infin;":"","&ang;":"","&and;":"","&or;":"","&cap;":"","&cup;":"","&int;":"","&there4;":"","&sim;":"","&cong;":"","&asymp;":"","&ne;":"","&equiv;":"","&le;":"","&ge;":"","&sub;":"","&sup;":"","&nsub;":"","&sube;":"","&supe;":"","&oplus;":"","&otimes;":"","&perp;":"","&sdot;":"","&lceil;":"","&rceil;":"","&lfloor;":"","&rfloor;":"","&lang;":"","&rang;":"","&loz;":"","&spades;":"","&clubs;":"","&hearts;":"","&diams;":""},characters:{"'":"&apos;","":"&nbsp;","":"&iexcl;","":"&cent;","":"&pound;","":"&curren;","":"&yen;","":"&brvbar;","":"&sect;","":"&uml;","":"&copy;","":"&ordf;","":"&laquo;","":"&not;","":"&shy;","":"&reg;","":"&macr;","":"&deg;","":"&plusmn;","":"&sup2;","":"&sup3;","":"&acute;","":"&micro;","":"&para;","":"&middot;","":"&cedil;","":"&sup1;","":"&ordm;","":"&raquo;","":"&frac14;","":"&frac12;","":"&frac34;","":"&iquest;","":"&Agrave;","":"&Aacute;","":"&Acirc;","":"&Atilde;","":"&Auml;","":"&Aring;","":"&AElig;","":"&Ccedil;","":"&Egrave;","":"&Eacute;","":"&Ecirc;","":"&Euml;","":"&Igrave;","":"&Iacute;","":"&Icirc;","":"&Iuml;","":"&ETH;","":"&Ntilde;","":"&Ograve;","":"&Oacute;","":"&Ocirc;","":"&Otilde;","":"&Ouml;","":"&times;","":"&Oslash;","":"&Ugrave;","":"&Uacute;","":"&Ucirc;","":"&Uuml;","":"&Yacute;","":"&THORN;","":"&szlig;","":"&agrave;","":"&aacute;","":"&acirc;","":"&atilde;","":"&auml;","":"&aring;","":"&aelig;","":"&ccedil;","":"&egrave;","":"&eacute;","":"&ecirc;","":"&euml;","":"&igrave;","":"&iacute;","":"&icirc;","":"&iuml;","":"&eth;","":"&ntilde;","":"&ograve;","":"&oacute;","":"&ocirc;","":"&otilde;","":"&ouml;","":"&divide;","":"&oslash;","":"&ugrave;","":"&uacute;","":"&ucirc;","":"&uuml;","":"&yacute;","":"&thorn;","":"&yuml;",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;","":"&OElig;","":"&oelig;","":"&Scaron;","":"&scaron;","":"&Yuml;","":"&circ;","":"&tilde;","":"&ensp;","":"&emsp;","":"&thinsp;","":"&zwnj;","":"&zwj;","":"&lrm;","":"&rlm;","":"&ndash;","":"&mdash;","":"&lsquo;","":"&rsquo;","":"&sbquo;","":"&ldquo;","":"&rdquo;","":"&bdquo;","":"&dagger;","":"&Dagger;","":"&permil;","":"&lsaquo;","":"&rsaquo;","":"&euro;","":"&fnof;","":"&Alpha;","":"&Beta;","":"&Gamma;","":"&Delta;","":"&Epsilon;","":"&Zeta;","":"&Eta;","":"&Theta;","":"&Iota;","":"&Kappa;","":"&Lambda;","":"&Mu;","":"&Nu;","":"&Xi;","":"&Omicron;","":"&Pi;","":"&Rho;","":"&Sigma;","":"&Tau;","":"&Upsilon;","":"&Phi;","":"&Chi;","":"&Psi;","":"&Omega;","":"&alpha;","":"&beta;","":"&gamma;","":"&delta;","":"&epsilon;","":"&zeta;","":"&eta;","":"&theta;","":"&iota;","":"&kappa;","":"&lambda;","":"&mu;","":"&nu;","":"&xi;","":"&omicron;","":"&pi;","":"&rho;","":"&sigmaf;","":"&sigma;","":"&tau;","":"&upsilon;","":"&phi;","":"&chi;","":"&psi;","":"&omega;","":"&thetasym;","":"&upsih;","":"&piv;","":"&bull;","":"&hellip;","":"&prime;","":"&Prime;","":"&oline;","":"&frasl;","":"&weierp;","":"&image;","":"&real;","":"&trade;","":"&alefsym;","":"&larr;","":"&uarr;","":"&rarr;","":"&darr;","":"&harr;","":"&crarr;","":"&lArr;","":"&uArr;","":"&rArr;","":"&dArr;","":"&hArr;","":"&forall;","":"&part;","":"&exist;","":"&empty;","":"&nabla;","":"&isin;","":"&notin;","":"&ni;","":"&prod;","":"&sum;","":"&minus;","":"&lowast;","":"&radic;","":"&prop;","":"&infin;","":"&ang;","":"&and;","":"&or;","":"&cap;","":"&cup;","":"&int;","":"&there4;","":"&sim;","":"&cong;","":"&asymp;","":"&ne;","":"&equiv;","":"&le;","":"&ge;","":"&sub;","":"&sup;","":"&nsub;","":"&sube;","":"&supe;","":"&oplus;","":"&otimes;","":"&perp;","":"&sdot;","":"&lceil;","":"&rceil;","":"&lfloor;","":"&rfloor;","":"&lang;","":"&rang;","":"&loz;","":"&spades;","":"&clubs;","":"&hearts;","":"&diams;"}},html5:{entities:{"&AElig":"","&AElig;":"","&AMP":"&","&AMP;":"&","&Aacute":"","&Aacute;":"","&Abreve;":"","&Acirc":"","&Acirc;":"","&Acy;":"","&Afr;":"","&Agrave":"","&Agrave;":"","&Alpha;":"","&Amacr;":"","&And;":"","&Aogon;":"","&Aopf;":"","&ApplyFunction;":"","&Aring":"","&Aring;":"","&Ascr;":"","&Assign;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Backslash;":"","&Barv;":"","&Barwed;":"","&Bcy;":"","&Because;":"","&Bernoullis;":"","&Beta;":"","&Bfr;":"","&Bopf;":"","&Breve;":"","&Bscr;":"","&Bumpeq;":"","&CHcy;":"","&COPY":"","&COPY;":"","&Cacute;":"","&Cap;":"","&CapitalDifferentialD;":"","&Cayleys;":"","&Ccaron;":"","&Ccedil":"","&Ccedil;":"","&Ccirc;":"","&Cconint;":"","&Cdot;":"","&Cedilla;":"","&CenterDot;":"","&Cfr;":"","&Chi;":"","&CircleDot;":"","&CircleMinus;":"","&CirclePlus;":"","&CircleTimes;":"","&ClockwiseContourIntegral;":"","&CloseCurlyDoubleQuote;":"","&CloseCurlyQuote;":"","&Colon;":"","&Colone;":"","&Congruent;":"","&Conint;":"","&ContourIntegral;":"","&Copf;":"","&Coproduct;":"","&CounterClockwiseContourIntegral;":"","&Cross;":"","&Cscr;":"","&Cup;":"","&CupCap;":"","&DD;":"","&DDotrahd;":"","&DJcy;":"","&DScy;":"","&DZcy;":"","&Dagger;":"","&Darr;":"","&Dashv;":"","&Dcaron;":"","&Dcy;":"","&Del;":"","&Delta;":"","&Dfr;":"","&DiacriticalAcute;":"","&DiacriticalDot;":"","&DiacriticalDoubleAcute;":"","&DiacriticalGrave;":"`","&DiacriticalTilde;":"","&Diamond;":"","&DifferentialD;":"","&Dopf;":"","&Dot;":"","&DotDot;":"","&DotEqual;":"","&DoubleContourIntegral;":"","&DoubleDot;":"","&DoubleDownArrow;":"","&DoubleLeftArrow;":"","&DoubleLeftRightArrow;":"","&DoubleLeftTee;":"","&DoubleLongLeftArrow;":"","&DoubleLongLeftRightArrow;":"","&DoubleLongRightArrow;":"","&DoubleRightArrow;":"","&DoubleRightTee;":"","&DoubleUpArrow;":"","&DoubleUpDownArrow;":"","&DoubleVerticalBar;":"","&DownArrow;":"","&DownArrowBar;":"","&DownArrowUpArrow;":"","&DownBreve;":"","&DownLeftRightVector;":"","&DownLeftTeeVector;":"","&DownLeftVector;":"","&DownLeftVectorBar;":"","&DownRightTeeVector;":"","&DownRightVector;":"","&DownRightVectorBar;":"","&DownTee;":"","&DownTeeArrow;":"","&Downarrow;":"","&Dscr;":"","&Dstrok;":"","&ENG;":"","&ETH":"","&ETH;":"","&Eacute":"","&Eacute;":"","&Ecaron;":"","&Ecirc":"","&Ecirc;":"","&Ecy;":"","&Edot;":"","&Efr;":"","&Egrave":"","&Egrave;":"","&Element;":"","&Emacr;":"","&EmptySmallSquare;":"","&EmptyVerySmallSquare;":"","&Eogon;":"","&Eopf;":"","&Epsilon;":"","&Equal;":"","&EqualTilde;":"","&Equilibrium;":"","&Escr;":"","&Esim;":"","&Eta;":"","&Euml":"","&Euml;":"","&Exists;":"","&ExponentialE;":"","&Fcy;":"","&Ffr;":"","&FilledSmallSquare;":"","&FilledVerySmallSquare;":"","&Fopf;":"","&ForAll;":"","&Fouriertrf;":"","&Fscr;":"","&GJcy;":"","&GT":">","&GT;":">","&Gamma;":"","&Gammad;":"","&Gbreve;":"","&Gcedil;":"","&Gcirc;":"","&Gcy;":"","&Gdot;":"","&Gfr;":"","&Gg;":"","&Gopf;":"","&GreaterEqual;":"","&GreaterEqualLess;":"","&GreaterFullEqual;":"","&GreaterGreater;":"","&GreaterLess;":"","&GreaterSlantEqual;":"","&GreaterTilde;":"","&Gscr;":"","&Gt;":"","&HARDcy;":"","&Hacek;":"","&Hat;":"^","&Hcirc;":"","&Hfr;":"","&HilbertSpace;":"","&Hopf;":"","&HorizontalLine;":"","&Hscr;":"","&Hstrok;":"","&HumpDownHump;":"","&HumpEqual;":"","&IEcy;":"","&IJlig;":"","&IOcy;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Icy;":"","&Idot;":"","&Ifr;":"","&Igrave":"","&Igrave;":"","&Im;":"","&Imacr;":"","&ImaginaryI;":"","&Implies;":"","&Int;":"","&Integral;":"","&Intersection;":"","&InvisibleComma;":"","&InvisibleTimes;":"","&Iogon;":"","&Iopf;":"","&Iota;":"","&Iscr;":"","&Itilde;":"","&Iukcy;":"","&Iuml":"","&Iuml;":"","&Jcirc;":"","&Jcy;":"","&Jfr;":"","&Jopf;":"","&Jscr;":"","&Jsercy;":"","&Jukcy;":"","&KHcy;":"","&KJcy;":"","&Kappa;":"","&Kcedil;":"","&Kcy;":"","&Kfr;":"","&Kopf;":"","&Kscr;":"","&LJcy;":"","&LT":"<","&LT;":"<","&Lacute;":"","&Lambda;":"","&Lang;":"","&Laplacetrf;":"","&Larr;":"","&Lcaron;":"","&Lcedil;":"","&Lcy;":"","&LeftAngleBracket;":"","&LeftArrow;":"","&LeftArrowBar;":"","&LeftArrowRightArrow;":"","&LeftCeiling;":"","&LeftDoubleBracket;":"","&LeftDownTeeVector;":"","&LeftDownVector;":"","&LeftDownVectorBar;":"","&LeftFloor;":"","&LeftRightArrow;":"","&LeftRightVector;":"","&LeftTee;":"","&LeftTeeArrow;":"","&LeftTeeVector;":"","&LeftTriangle;":"","&LeftTriangleBar;":"","&LeftTriangleEqual;":"","&LeftUpDownVector;":"","&LeftUpTeeVector;":"","&LeftUpVector;":"","&LeftUpVectorBar;":"","&LeftVector;":"","&LeftVectorBar;":"","&Leftarrow;":"","&Leftrightarrow;":"","&LessEqualGreater;":"","&LessFullEqual;":"","&LessGreater;":"","&LessLess;":"","&LessSlantEqual;":"","&LessTilde;":"","&Lfr;":"","&Ll;":"","&Lleftarrow;":"","&Lmidot;":"","&LongLeftArrow;":"","&LongLeftRightArrow;":"","&LongRightArrow;":"","&Longleftarrow;":"","&Longleftrightarrow;":"","&Longrightarrow;":"","&Lopf;":"","&LowerLeftArrow;":"","&LowerRightArrow;":"","&Lscr;":"","&Lsh;":"","&Lstrok;":"","&Lt;":"","&Map;":"","&Mcy;":"","&MediumSpace;":"","&Mellintrf;":"","&Mfr;":"","&MinusPlus;":"","&Mopf;":"","&Mscr;":"","&Mu;":"","&NJcy;":"","&Nacute;":"","&Ncaron;":"","&Ncedil;":"","&Ncy;":"","&NegativeMediumSpace;":"","&NegativeThickSpace;":"","&NegativeThinSpace;":"","&NegativeVeryThinSpace;":"","&NestedGreaterGreater;":"","&NestedLessLess;":"","&NewLine;":"\n","&Nfr;":"","&NoBreak;":"","&NonBreakingSpace;":"","&Nopf;":"","&Not;":"","&NotCongruent;":"","&NotCupCap;":"","&NotDoubleVerticalBar;":"","&NotElement;":"","&NotEqual;":"","&NotEqualTilde;":"","&NotExists;":"","&NotGreater;":"","&NotGreaterEqual;":"","&NotGreaterFullEqual;":"","&NotGreaterGreater;":"","&NotGreaterLess;":"","&NotGreaterSlantEqual;":"","&NotGreaterTilde;":"","&NotHumpDownHump;":"","&NotHumpEqual;":"","&NotLeftTriangle;":"","&NotLeftTriangleBar;":"","&NotLeftTriangleEqual;":"","&NotLess;":"","&NotLessEqual;":"","&NotLessGreater;":"","&NotLessLess;":"","&NotLessSlantEqual;":"","&NotLessTilde;":"","&NotNestedGreaterGreater;":"","&NotNestedLessLess;":"","&NotPrecedes;":"","&NotPrecedesEqual;":"","&NotPrecedesSlantEqual;":"","&NotReverseElement;":"","&NotRightTriangle;":"","&NotRightTriangleBar;":"","&NotRightTriangleEqual;":"","&NotSquareSubset;":"","&NotSquareSubsetEqual;":"","&NotSquareSuperset;":"","&NotSquareSupersetEqual;":"","&NotSubset;":"","&NotSubsetEqual;":"","&NotSucceeds;":"","&NotSucceedsEqual;":"","&NotSucceedsSlantEqual;":"","&NotSucceedsTilde;":"","&NotSuperset;":"","&NotSupersetEqual;":"","&NotTilde;":"","&NotTildeEqual;":"","&NotTildeFullEqual;":"","&NotTildeTilde;":"","&NotVerticalBar;":"","&Nscr;":"","&Ntilde":"","&Ntilde;":"","&Nu;":"","&OElig;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Ocy;":"","&Odblac;":"","&Ofr;":"","&Ograve":"","&Ograve;":"","&Omacr;":"","&Omega;":"","&Omicron;":"","&Oopf;":"","&OpenCurlyDoubleQuote;":"","&OpenCurlyQuote;":"","&Or;":"","&Oscr;":"","&Oslash":"","&Oslash;":"","&Otilde":"","&Otilde;":"","&Otimes;":"","&Ouml":"","&Ouml;":"","&OverBar;":"","&OverBrace;":"","&OverBracket;":"","&OverParenthesis;":"","&PartialD;":"","&Pcy;":"","&Pfr;":"","&Phi;":"","&Pi;":"","&PlusMinus;":"","&Poincareplane;":"","&Popf;":"","&Pr;":"","&Precedes;":"","&PrecedesEqual;":"","&PrecedesSlantEqual;":"","&PrecedesTilde;":"","&Prime;":"","&Product;":"","&Proportion;":"","&Proportional;":"","&Pscr;":"","&Psi;":"","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"","&Qopf;":"","&Qscr;":"","&RBarr;":"","&REG":"","&REG;":"","&Racute;":"","&Rang;":"","&Rarr;":"","&Rarrtl;":"","&Rcaron;":"","&Rcedil;":"","&Rcy;":"","&Re;":"","&ReverseElement;":"","&ReverseEquilibrium;":"","&ReverseUpEquilibrium;":"","&Rfr;":"","&Rho;":"","&RightAngleBracket;":"","&RightArrow;":"","&RightArrowBar;":"","&RightArrowLeftArrow;":"","&RightCeiling;":"","&RightDoubleBracket;":"","&RightDownTeeVector;":"","&RightDownVector;":"","&RightDownVectorBar;":"","&RightFloor;":"","&RightTee;":"","&RightTeeArrow;":"","&RightTeeVector;":"","&RightTriangle;":"","&RightTriangleBar;":"","&RightTriangleEqual;":"","&RightUpDownVector;":"","&RightUpTeeVector;":"","&RightUpVector;":"","&RightUpVectorBar;":"","&RightVector;":"","&RightVectorBar;":"","&Rightarrow;":"","&Ropf;":"","&RoundImplies;":"","&Rrightarrow;":"","&Rscr;":"","&Rsh;":"","&RuleDelayed;":"","&SHCHcy;":"","&SHcy;":"","&SOFTcy;":"","&Sacute;":"","&Sc;":"","&Scaron;":"","&Scedil;":"","&Scirc;":"","&Scy;":"","&Sfr;":"","&ShortDownArrow;":"","&ShortLeftArrow;":"","&ShortRightArrow;":"","&ShortUpArrow;":"","&Sigma;":"","&SmallCircle;":"","&Sopf;":"","&Sqrt;":"","&Square;":"","&SquareIntersection;":"","&SquareSubset;":"","&SquareSubsetEqual;":"","&SquareSuperset;":"","&SquareSupersetEqual;":"","&SquareUnion;":"","&Sscr;":"","&Star;":"","&Sub;":"","&Subset;":"","&SubsetEqual;":"","&Succeeds;":"","&SucceedsEqual;":"","&SucceedsSlantEqual;":"","&SucceedsTilde;":"","&SuchThat;":"","&Sum;":"","&Sup;":"","&Superset;":"","&SupersetEqual;":"","&Supset;":"","&THORN":"","&THORN;":"","&TRADE;":"","&TSHcy;":"","&TScy;":"","&Tab;":"\t","&Tau;":"","&Tcaron;":"","&Tcedil;":"","&Tcy;":"","&Tfr;":"","&Therefore;":"","&Theta;":"","&ThickSpace;":"","&ThinSpace;":"","&Tilde;":"","&TildeEqual;":"","&TildeFullEqual;":"","&TildeTilde;":"","&Topf;":"","&TripleDot;":"","&Tscr;":"","&Tstrok;":"","&Uacute":"","&Uacute;":"","&Uarr;":"","&Uarrocir;":"","&Ubrcy;":"","&Ubreve;":"","&Ucirc":"","&Ucirc;":"","&Ucy;":"","&Udblac;":"","&Ufr;":"","&Ugrave":"","&Ugrave;":"","&Umacr;":"","&UnderBar;":"_","&UnderBrace;":"","&UnderBracket;":"","&UnderParenthesis;":"","&Union;":"","&UnionPlus;":"","&Uogon;":"","&Uopf;":"","&UpArrow;":"","&UpArrowBar;":"","&UpArrowDownArrow;":"","&UpDownArrow;":"","&UpEquilibrium;":"","&UpTee;":"","&UpTeeArrow;":"","&Uparrow;":"","&Updownarrow;":"","&UpperLeftArrow;":"","&UpperRightArrow;":"","&Upsi;":"","&Upsilon;":"","&Uring;":"","&Uscr;":"","&Utilde;":"","&Uuml":"","&Uuml;":"","&VDash;":"","&Vbar;":"","&Vcy;":"","&Vdash;":"","&Vdashl;":"","&Vee;":"","&Verbar;":"","&Vert;":"","&VerticalBar;":"","&VerticalLine;":"|","&VerticalSeparator;":"","&VerticalTilde;":"","&VeryThinSpace;":"","&Vfr;":"","&Vopf;":"","&Vscr;":"","&Vvdash;":"","&Wcirc;":"","&Wedge;":"","&Wfr;":"","&Wopf;":"","&Wscr;":"","&Xfr;":"","&Xi;":"","&Xopf;":"","&Xscr;":"","&YAcy;":"","&YIcy;":"","&YUcy;":"","&Yacute":"","&Yacute;":"","&Ycirc;":"","&Ycy;":"","&Yfr;":"","&Yopf;":"","&Yscr;":"","&Yuml;":"","&ZHcy;":"","&Zacute;":"","&Zcaron;":"","&Zcy;":"","&Zdot;":"","&ZeroWidthSpace;":"","&Zeta;":"","&Zfr;":"","&Zopf;":"","&Zscr;":"","&aacute":"","&aacute;":"","&abreve;":"","&ac;":"","&acE;":"","&acd;":"","&acirc":"","&acirc;":"","&acute":"","&acute;":"","&acy;":"","&aelig":"","&aelig;":"","&af;":"","&afr;":"","&agrave":"","&agrave;":"","&alefsym;":"","&aleph;":"","&alpha;":"","&amacr;":"","&amalg;":"","&amp":"&","&amp;":"&","&and;":"","&andand;":"","&andd;":"","&andslope;":"","&andv;":"","&ang;":"","&ange;":"","&angle;":"","&angmsd;":"","&angmsdaa;":"","&angmsdab;":"","&angmsdac;":"","&angmsdad;":"","&angmsdae;":"","&angmsdaf;":"","&angmsdag;":"","&angmsdah;":"","&angrt;":"","&angrtvb;":"","&angrtvbd;":"","&angsph;":"","&angst;":"","&angzarr;":"","&aogon;":"","&aopf;":"","&ap;":"","&apE;":"","&apacir;":"","&ape;":"","&apid;":"","&apos;":"'","&approx;":"","&approxeq;":"","&aring":"","&aring;":"","&ascr;":"","&ast;":"*","&asymp;":"","&asympeq;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&awconint;":"","&awint;":"","&bNot;":"","&backcong;":"","&backepsilon;":"","&backprime;":"","&backsim;":"","&backsimeq;":"","&barvee;":"","&barwed;":"","&barwedge;":"","&bbrk;":"","&bbrktbrk;":"","&bcong;":"","&bcy;":"","&bdquo;":"","&becaus;":"","&because;":"","&bemptyv;":"","&bepsi;":"","&bernou;":"","&beta;":"","&beth;":"","&between;":"","&bfr;":"","&bigcap;":"","&bigcirc;":"","&bigcup;":"","&bigodot;":"","&bigoplus;":"","&bigotimes;":"","&bigsqcup;":"","&bigstar;":"","&bigtriangledown;":"","&bigtriangleup;":"","&biguplus;":"","&bigvee;":"","&bigwedge;":"","&bkarow;":"","&blacklozenge;":"","&blacksquare;":"","&blacktriangle;":"","&blacktriangledown;":"","&blacktriangleleft;":"","&blacktriangleright;":"","&blank;":"","&blk12;":"","&blk14;":"","&blk34;":"","&block;":"","&bne;":"=","&bnequiv;":"","&bnot;":"","&bopf;":"","&bot;":"","&bottom;":"","&bowtie;":"","&boxDL;":"","&boxDR;":"","&boxDl;":"","&boxDr;":"","&boxH;":"","&boxHD;":"","&boxHU;":"","&boxHd;":"","&boxHu;":"","&boxUL;":"","&boxUR;":"","&boxUl;":"","&boxUr;":"","&boxV;":"","&boxVH;":"","&boxVL;":"","&boxVR;":"","&boxVh;":"","&boxVl;":"","&boxVr;":"","&boxbox;":"","&boxdL;":"","&boxdR;":"","&boxdl;":"","&boxdr;":"","&boxh;":"","&boxhD;":"","&boxhU;":"","&boxhd;":"","&boxhu;":"","&boxminus;":"","&boxplus;":"","&boxtimes;":"","&boxuL;":"","&boxuR;":"","&boxul;":"","&boxur;":"","&boxv;":"","&boxvH;":"","&boxvL;":"","&boxvR;":"","&boxvh;":"","&boxvl;":"","&boxvr;":"","&bprime;":"","&breve;":"","&brvbar":"","&brvbar;":"","&bscr;":"","&bsemi;":"","&bsim;":"","&bsime;":"","&bsol;":"\\","&bsolb;":"","&bsolhsub;":"","&bull;":"","&bullet;":"","&bump;":"","&bumpE;":"","&bumpe;":"","&bumpeq;":"","&cacute;":"","&cap;":"","&capand;":"","&capbrcup;":"","&capcap;":"","&capcup;":"","&capdot;":"","&caps;":"","&caret;":"","&caron;":"","&ccaps;":"","&ccaron;":"","&ccedil":"","&ccedil;":"","&ccirc;":"","&ccups;":"","&ccupssm;":"","&cdot;":"","&cedil":"","&cedil;":"","&cemptyv;":"","&cent":"","&cent;":"","&centerdot;":"","&cfr;":"","&chcy;":"","&check;":"","&checkmark;":"","&chi;":"","&cir;":"","&cirE;":"","&circ;":"","&circeq;":"","&circlearrowleft;":"","&circlearrowright;":"","&circledR;":"","&circledS;":"","&circledast;":"","&circledcirc;":"","&circleddash;":"","&cire;":"","&cirfnint;":"","&cirmid;":"","&cirscir;":"","&clubs;":"","&clubsuit;":"","&colon;":":","&colone;":"","&coloneq;":"","&comma;":",","&commat;":"@","&comp;":"","&compfn;":"","&complement;":"","&complexes;":"","&cong;":"","&congdot;":"","&conint;":"","&copf;":"","&coprod;":"","&copy":"","&copy;":"","&copysr;":"","&crarr;":"","&cross;":"","&cscr;":"","&csub;":"","&csube;":"","&csup;":"","&csupe;":"","&ctdot;":"","&cudarrl;":"","&cudarrr;":"","&cuepr;":"","&cuesc;":"","&cularr;":"","&cularrp;":"","&cup;":"","&cupbrcap;":"","&cupcap;":"","&cupcup;":"","&cupdot;":"","&cupor;":"","&cups;":"","&curarr;":"","&curarrm;":"","&curlyeqprec;":"","&curlyeqsucc;":"","&curlyvee;":"","&curlywedge;":"","&curren":"","&curren;":"","&curvearrowleft;":"","&curvearrowright;":"","&cuvee;":"","&cuwed;":"","&cwconint;":"","&cwint;":"","&cylcty;":"","&dArr;":"","&dHar;":"","&dagger;":"","&daleth;":"","&darr;":"","&dash;":"","&dashv;":"","&dbkarow;":"","&dblac;":"","&dcaron;":"","&dcy;":"","&dd;":"","&ddagger;":"","&ddarr;":"","&ddotseq;":"","&deg":"","&deg;":"","&delta;":"","&demptyv;":"","&dfisht;":"","&dfr;":"","&dharl;":"","&dharr;":"","&diam;":"","&diamond;":"","&diamondsuit;":"","&diams;":"","&die;":"","&digamma;":"","&disin;":"","&div;":"","&divide":"","&divide;":"","&divideontimes;":"","&divonx;":"","&djcy;":"","&dlcorn;":"","&dlcrop;":"","&dollar;":"$","&dopf;":"","&dot;":"","&doteq;":"","&doteqdot;":"","&dotminus;":"","&dotplus;":"","&dotsquare;":"","&doublebarwedge;":"","&downarrow;":"","&downdownarrows;":"","&downharpoonleft;":"","&downharpoonright;":"","&drbkarow;":"","&drcorn;":"","&drcrop;":"","&dscr;":"","&dscy;":"","&dsol;":"","&dstrok;":"","&dtdot;":"","&dtri;":"","&dtrif;":"","&duarr;":"","&duhar;":"","&dwangle;":"","&dzcy;":"","&dzigrarr;":"","&eDDot;":"","&eDot;":"","&eacute":"","&eacute;":"","&easter;":"","&ecaron;":"","&ecir;":"","&ecirc":"","&ecirc;":"","&ecolon;":"","&ecy;":"","&edot;":"","&ee;":"","&efDot;":"","&efr;":"","&eg;":"","&egrave":"","&egrave;":"","&egs;":"","&egsdot;":"","&el;":"","&elinters;":"","&ell;":"","&els;":"","&elsdot;":"","&emacr;":"","&empty;":"","&emptyset;":"","&emptyv;":"","&emsp13;":"","&emsp14;":"","&emsp;":"","&eng;":"","&ensp;":"","&eogon;":"","&eopf;":"","&epar;":"","&eparsl;":"","&eplus;":"","&epsi;":"","&epsilon;":"","&epsiv;":"","&eqcirc;":"","&eqcolon;":"","&eqsim;":"","&eqslantgtr;":"","&eqslantless;":"","&equals;":"=","&equest;":"","&equiv;":"","&equivDD;":"","&eqvparsl;":"","&erDot;":"","&erarr;":"","&escr;":"","&esdot;":"","&esim;":"","&eta;":"","&eth":"","&eth;":"","&euml":"","&euml;":"","&euro;":"","&excl;":"!","&exist;":"","&expectation;":"","&exponentiale;":"","&fallingdotseq;":"","&fcy;":"","&female;":"","&ffilig;":"","&fflig;":"","&ffllig;":"","&ffr;":"","&filig;":"","&fjlig;":"fj","&flat;":"","&fllig;":"","&fltns;":"","&fnof;":"","&fopf;":"","&forall;":"","&fork;":"","&forkv;":"","&fpartint;":"","&frac12":"","&frac12;":"","&frac13;":"","&frac14":"","&frac14;":"","&frac15;":"","&frac16;":"","&frac18;":"","&frac23;":"","&frac25;":"","&frac34":"","&frac34;":"","&frac35;":"","&frac38;":"","&frac45;":"","&frac56;":"","&frac58;":"","&frac78;":"","&frasl;":"","&frown;":"","&fscr;":"","&gE;":"","&gEl;":"","&gacute;":"","&gamma;":"","&gammad;":"","&gap;":"","&gbreve;":"","&gcirc;":"","&gcy;":"","&gdot;":"","&ge;":"","&gel;":"","&geq;":"","&geqq;":"","&geqslant;":"","&ges;":"","&gescc;":"","&gesdot;":"","&gesdoto;":"","&gesdotol;":"","&gesl;":"","&gesles;":"","&gfr;":"","&gg;":"","&ggg;":"","&gimel;":"","&gjcy;":"","&gl;":"","&glE;":"","&gla;":"","&glj;":"","&gnE;":"","&gnap;":"","&gnapprox;":"","&gne;":"","&gneq;":"","&gneqq;":"","&gnsim;":"","&gopf;":"","&grave;":"`","&gscr;":"","&gsim;":"","&gsime;":"","&gsiml;":"","&gt":">","&gt;":">","&gtcc;":"","&gtcir;":"","&gtdot;":"","&gtlPar;":"","&gtquest;":"","&gtrapprox;":"","&gtrarr;":"","&gtrdot;":"","&gtreqless;":"","&gtreqqless;":"","&gtrless;":"","&gtrsim;":"","&gvertneqq;":"","&gvnE;":"","&hArr;":"","&hairsp;":"","&half;":"","&hamilt;":"","&hardcy;":"","&harr;":"","&harrcir;":"","&harrw;":"","&hbar;":"","&hcirc;":"","&hearts;":"","&heartsuit;":"","&hellip;":"","&hercon;":"","&hfr;":"","&hksearow;":"","&hkswarow;":"","&hoarr;":"","&homtht;":"","&hookleftarrow;":"","&hookrightarrow;":"","&hopf;":"","&horbar;":"","&hscr;":"","&hslash;":"","&hstrok;":"","&hybull;":"","&hyphen;":"","&iacute":"","&iacute;":"","&ic;":"","&icirc":"","&icirc;":"","&icy;":"","&iecy;":"","&iexcl":"","&iexcl;":"","&iff;":"","&ifr;":"","&igrave":"","&igrave;":"","&ii;":"","&iiiint;":"","&iiint;":"","&iinfin;":"","&iiota;":"","&ijlig;":"","&imacr;":"","&image;":"","&imagline;":"","&imagpart;":"","&imath;":"","&imof;":"","&imped;":"","&in;":"","&incare;":"","&infin;":"","&infintie;":"","&inodot;":"","&int;":"","&intcal;":"","&integers;":"","&intercal;":"","&intlarhk;":"","&intprod;":"","&iocy;":"","&iogon;":"","&iopf;":"","&iota;":"","&iprod;":"","&iquest":"","&iquest;":"","&iscr;":"","&isin;":"","&isinE;":"","&isindot;":"","&isins;":"","&isinsv;":"","&isinv;":"","&it;":"","&itilde;":"","&iukcy;":"","&iuml":"","&iuml;":"","&jcirc;":"","&jcy;":"","&jfr;":"","&jmath;":"","&jopf;":"","&jscr;":"","&jsercy;":"","&jukcy;":"","&kappa;":"","&kappav;":"","&kcedil;":"","&kcy;":"","&kfr;":"","&kgreen;":"","&khcy;":"","&kjcy;":"","&kopf;":"","&kscr;":"","&lAarr;":"","&lArr;":"","&lAtail;":"","&lBarr;":"","&lE;":"","&lEg;":"","&lHar;":"","&lacute;":"","&laemptyv;":"","&lagran;":"","&lambda;":"","&lang;":"","&langd;":"","&langle;":"","&lap;":"","&laquo":"","&laquo;":"","&larr;":"","&larrb;":"","&larrbfs;":"","&larrfs;":"","&larrhk;":"","&larrlp;":"","&larrpl;":"","&larrsim;":"","&larrtl;":"","&lat;":"","&latail;":"","&late;":"","&lates;":"","&lbarr;":"","&lbbrk;":"","&lbrace;":"{","&lbrack;":"[","&lbrke;":"","&lbrksld;":"","&lbrkslu;":"","&lcaron;":"","&lcedil;":"","&lceil;":"","&lcub;":"{","&lcy;":"","&ldca;":"","&ldquo;":"","&ldquor;":"","&ldrdhar;":"","&ldrushar;":"","&ldsh;":"","&le;":"","&leftarrow;":"","&leftarrowtail;":"","&leftharpoondown;":"","&leftharpoonup;":"","&leftleftarrows;":"","&leftrightarrow;":"","&leftrightarrows;":"","&leftrightharpoons;":"","&leftrightsquigarrow;":"","&leftthreetimes;":"","&leg;":"","&leq;":"","&leqq;":"","&leqslant;":"","&les;":"","&lescc;":"","&lesdot;":"","&lesdoto;":"","&lesdotor;":"","&lesg;":"","&lesges;":"","&lessapprox;":"","&lessdot;":"","&lesseqgtr;":"","&lesseqqgtr;":"","&lessgtr;":"","&lesssim;":"","&lfisht;":"","&lfloor;":"","&lfr;":"","&lg;":"","&lgE;":"","&lhard;":"","&lharu;":"","&lharul;":"","&lhblk;":"","&ljcy;":"","&ll;":"","&llarr;":"","&llcorner;":"","&llhard;":"","&lltri;":"","&lmidot;":"","&lmoust;":"","&lmoustache;":"","&lnE;":"","&lnap;":"","&lnapprox;":"","&lne;":"","&lneq;":"","&lneqq;":"","&lnsim;":"","&loang;":"","&loarr;":"","&lobrk;":"","&longleftarrow;":"","&longleftrightarrow;":"","&longmapsto;":"","&longrightarrow;":"","&looparrowleft;":"","&looparrowright;":"","&lopar;":"","&lopf;":"","&loplus;":"","&lotimes;":"","&lowast;":"","&lowbar;":"_","&loz;":"","&lozenge;":"","&lozf;":"","&lpar;":"(","&lparlt;":"","&lrarr;":"","&lrcorner;":"","&lrhar;":"","&lrhard;":"","&lrm;":"","&lrtri;":"","&lsaquo;":"","&lscr;":"","&lsh;":"","&lsim;":"","&lsime;":"","&lsimg;":"","&lsqb;":"[","&lsquo;":"","&lsquor;":"","&lstrok;":"","&lt":"<","&lt;":"<","&ltcc;":"","&ltcir;":"","&ltdot;":"","&lthree;":"","&ltimes;":"","&ltlarr;":"","&ltquest;":"","&ltrPar;":"","&ltri;":"","&ltrie;":"","&ltrif;":"","&lurdshar;":"","&luruhar;":"","&lvertneqq;":"","&lvnE;":"","&mDDot;":"","&macr":"","&macr;":"","&male;":"","&malt;":"","&maltese;":"","&map;":"","&mapsto;":"","&mapstodown;":"","&mapstoleft;":"","&mapstoup;":"","&marker;":"","&mcomma;":"","&mcy;":"","&mdash;":"","&measuredangle;":"","&mfr;":"","&mho;":"","&micro":"","&micro;":"","&mid;":"","&midast;":"*","&midcir;":"","&middot":"","&middot;":"","&minus;":"","&minusb;":"","&minusd;":"","&minusdu;":"","&mlcp;":"","&mldr;":"","&mnplus;":"","&models;":"","&mopf;":"","&mp;":"","&mscr;":"","&mstpos;":"","&mu;":"","&multimap;":"","&mumap;":"","&nGg;":"","&nGt;":"","&nGtv;":"","&nLeftarrow;":"","&nLeftrightarrow;":"","&nLl;":"","&nLt;":"","&nLtv;":"","&nRightarrow;":"","&nVDash;":"","&nVdash;":"","&nabla;":"","&nacute;":"","&nang;":"","&nap;":"","&napE;":"","&napid;":"","&napos;":"","&napprox;":"","&natur;":"","&natural;":"","&naturals;":"","&nbsp":"","&nbsp;":"","&nbump;":"","&nbumpe;":"","&ncap;":"","&ncaron;":"","&ncedil;":"","&ncong;":"","&ncongdot;":"","&ncup;":"","&ncy;":"","&ndash;":"","&ne;":"","&neArr;":"","&nearhk;":"","&nearr;":"","&nearrow;":"","&nedot;":"","&nequiv;":"","&nesear;":"","&nesim;":"","&nexist;":"","&nexists;":"","&nfr;":"","&ngE;":"","&nge;":"","&ngeq;":"","&ngeqq;":"","&ngeqslant;":"","&nges;":"","&ngsim;":"","&ngt;":"","&ngtr;":"","&nhArr;":"","&nharr;":"","&nhpar;":"","&ni;":"","&nis;":"","&nisd;":"","&niv;":"","&njcy;":"","&nlArr;":"","&nlE;":"","&nlarr;":"","&nldr;":"","&nle;":"","&nleftarrow;":"","&nleftrightarrow;":"","&nleq;":"","&nleqq;":"","&nleqslant;":"","&nles;":"","&nless;":"","&nlsim;":"","&nlt;":"","&nltri;":"","&nltrie;":"","&nmid;":"","&nopf;":"","&not":"","&not;":"","&notin;":"","&notinE;":"","&notindot;":"","&notinva;":"","&notinvb;":"","&notinvc;":"","&notni;":"","&notniva;":"","&notnivb;":"","&notnivc;":"","&npar;":"","&nparallel;":"","&nparsl;":"","&npart;":"","&npolint;":"","&npr;":"","&nprcue;":"","&npre;":"","&nprec;":"","&npreceq;":"","&nrArr;":"","&nrarr;":"","&nrarrc;":"","&nrarrw;":"","&nrightarrow;":"","&nrtri;":"","&nrtrie;":"","&nsc;":"","&nsccue;":"","&nsce;":"","&nscr;":"","&nshortmid;":"","&nshortparallel;":"","&nsim;":"","&nsime;":"","&nsimeq;":"","&nsmid;":"","&nspar;":"","&nsqsube;":"","&nsqsupe;":"","&nsub;":"","&nsubE;":"","&nsube;":"","&nsubset;":"","&nsubseteq;":"","&nsubseteqq;":"","&nsucc;":"","&nsucceq;":"","&nsup;":"","&nsupE;":"","&nsupe;":"","&nsupset;":"","&nsupseteq;":"","&nsupseteqq;":"","&ntgl;":"","&ntilde":"","&ntilde;":"","&ntlg;":"","&ntriangleleft;":"","&ntrianglelefteq;":"","&ntriangleright;":"","&ntrianglerighteq;":"","&nu;":"","&num;":"#","&numero;":"","&numsp;":"","&nvDash;":"","&nvHarr;":"","&nvap;":"","&nvdash;":"","&nvge;":"","&nvgt;":">","&nvinfin;":"","&nvlArr;":"","&nvle;":"","&nvlt;":"<","&nvltrie;":"","&nvrArr;":"","&nvrtrie;":"","&nvsim;":"","&nwArr;":"","&nwarhk;":"","&nwarr;":"","&nwarrow;":"","&nwnear;":"","&oS;":"","&oacute":"","&oacute;":"","&oast;":"","&ocir;":"","&ocirc":"","&ocirc;":"","&ocy;":"","&odash;":"","&odblac;":"","&odiv;":"","&odot;":"","&odsold;":"","&oelig;":"","&ofcir;":"","&ofr;":"","&ogon;":"","&ograve":"","&ograve;":"","&ogt;":"","&ohbar;":"","&ohm;":"","&oint;":"","&olarr;":"","&olcir;":"","&olcross;":"","&oline;":"","&olt;":"","&omacr;":"","&omega;":"","&omicron;":"","&omid;":"","&ominus;":"","&oopf;":"","&opar;":"","&operp;":"","&oplus;":"","&or;":"","&orarr;":"","&ord;":"","&order;":"","&orderof;":"","&ordf":"","&ordf;":"","&ordm":"","&ordm;":"","&origof;":"","&oror;":"","&orslope;":"","&orv;":"","&oscr;":"","&oslash":"","&oslash;":"","&osol;":"","&otilde":"","&otilde;":"","&otimes;":"","&otimesas;":"","&ouml":"","&ouml;":"","&ovbar;":"","&par;":"","&para":"","&para;":"","&parallel;":"","&parsim;":"","&parsl;":"","&part;":"","&pcy;":"","&percnt;":"%","&period;":".","&permil;":"","&perp;":"","&pertenk;":"","&pfr;":"","&phi;":"","&phiv;":"","&phmmat;":"","&phone;":"","&pi;":"","&pitchfork;":"","&piv;":"","&planck;":"","&planckh;":"","&plankv;":"","&plus;":"+","&plusacir;":"","&plusb;":"","&pluscir;":"","&plusdo;":"","&plusdu;":"","&pluse;":"","&plusmn":"","&plusmn;":"","&plussim;":"","&plustwo;":"","&pm;":"","&pointint;":"","&popf;":"","&pound":"","&pound;":"","&pr;":"","&prE;":"","&prap;":"","&prcue;":"","&pre;":"","&prec;":"","&precapprox;":"","&preccurlyeq;":"","&preceq;":"","&precnapprox;":"","&precneqq;":"","&precnsim;":"","&precsim;":"","&prime;":"","&primes;":"","&prnE;":"","&prnap;":"","&prnsim;":"","&prod;":"","&profalar;":"","&profline;":"","&profsurf;":"","&prop;":"","&propto;":"","&prsim;":"","&prurel;":"","&pscr;":"","&psi;":"","&puncsp;":"","&qfr;":"","&qint;":"","&qopf;":"","&qprime;":"","&qscr;":"","&quaternions;":"","&quatint;":"","&quest;":"?","&questeq;":"","&quot":'"',"&quot;":'"',"&rAarr;":"","&rArr;":"","&rAtail;":"","&rBarr;":"","&rHar;":"","&race;":"","&racute;":"","&radic;":"","&raemptyv;":"","&rang;":"","&rangd;":"","&range;":"","&rangle;":"","&raquo":"","&raquo;":"","&rarr;":"","&rarrap;":"","&rarrb;":"","&rarrbfs;":"","&rarrc;":"","&rarrfs;":"","&rarrhk;":"","&rarrlp;":"","&rarrpl;":"","&rarrsim;":"","&rarrtl;":"","&rarrw;":"","&ratail;":"","&ratio;":"","&rationals;":"","&rbarr;":"","&rbbrk;":"","&rbrace;":"}","&rbrack;":"]","&rbrke;":"","&rbrksld;":"","&rbrkslu;":"","&rcaron;":"","&rcedil;":"","&rceil;":"","&rcub;":"}","&rcy;":"","&rdca;":"","&rdldhar;":"","&rdquo;":"","&rdquor;":"","&rdsh;":"","&real;":"","&realine;":"","&realpart;":"","&reals;":"","&rect;":"","&reg":"","&reg;":"","&rfisht;":"","&rfloor;":"","&rfr;":"","&rhard;":"","&rharu;":"","&rharul;":"","&rho;":"","&rhov;":"","&rightarrow;":"","&rightarrowtail;":"","&rightharpoondown;":"","&rightharpoonup;":"","&rightleftarrows;":"","&rightleftharpoons;":"","&rightrightarrows;":"","&rightsquigarrow;":"","&rightthreetimes;":"","&ring;":"","&risingdotseq;":"","&rlarr;":"","&rlhar;":"","&rlm;":"","&rmoust;":"","&rmoustache;":"","&rnmid;":"","&roang;":"","&roarr;":"","&robrk;":"","&ropar;":"","&ropf;":"","&roplus;":"","&rotimes;":"","&rpar;":")","&rpargt;":"","&rppolint;":"","&rrarr;":"","&rsaquo;":"","&rscr;":"","&rsh;":"","&rsqb;":"]","&rsquo;":"","&rsquor;":"","&rthree;":"","&rtimes;":"","&rtri;":"","&rtrie;":"","&rtrif;":"","&rtriltri;":"","&ruluhar;":"","&rx;":"","&sacute;":"","&sbquo;":"","&sc;":"","&scE;":"","&scap;":"","&scaron;":"","&sccue;":"","&sce;":"","&scedil;":"","&scirc;":"","&scnE;":"","&scnap;":"","&scnsim;":"","&scpolint;":"","&scsim;":"","&scy;":"","&sdot;":"","&sdotb;":"","&sdote;":"","&seArr;":"","&searhk;":"","&searr;":"","&searrow;":"","&sect":"","&sect;":"","&semi;":";","&seswar;":"","&setminus;":"","&setmn;":"","&sext;":"","&sfr;":"","&sfrown;":"","&sharp;":"","&shchcy;":"","&shcy;":"","&shortmid;":"","&shortparallel;":"","&shy":"","&shy;":"","&sigma;":"","&sigmaf;":"","&sigmav;":"","&sim;":"","&simdot;":"","&sime;":"","&simeq;":"","&simg;":"","&simgE;":"","&siml;":"","&simlE;":"","&simne;":"","&simplus;":"","&simrarr;":"","&slarr;":"","&smallsetminus;":"","&smashp;":"","&smeparsl;":"","&smid;":"","&smile;":"","&smt;":"","&smte;":"","&smtes;":"","&softcy;":"","&sol;":"/","&solb;":"","&solbar;":"","&sopf;":"","&spades;":"","&spadesuit;":"","&spar;":"","&sqcap;":"","&sqcaps;":"","&sqcup;":"","&sqcups;":"","&sqsub;":"","&sqsube;":"","&sqsubset;":"","&sqsubseteq;":"","&sqsup;":"","&sqsupe;":"","&sqsupset;":"","&sqsupseteq;":"","&squ;":"","&square;":"","&squarf;":"","&squf;":"","&srarr;":"","&sscr;":"","&ssetmn;":"","&ssmile;":"","&sstarf;":"","&star;":"","&starf;":"","&straightepsilon;":"","&straightphi;":"","&strns;":"","&sub;":"","&subE;":"","&subdot;":"","&sube;":"","&subedot;":"","&submult;":"","&subnE;":"","&subne;":"","&subplus;":"","&subrarr;":"","&subset;":"","&subseteq;":"","&subseteqq;":"","&subsetneq;":"","&subsetneqq;":"","&subsim;":"","&subsub;":"","&subsup;":"","&succ;":"","&succapprox;":"","&succcurlyeq;":"","&succeq;":"","&succnapprox;":"","&succneqq;":"","&succnsim;":"","&succsim;":"","&sum;":"","&sung;":"","&sup1":"","&sup1;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&sup;":"","&supE;":"","&supdot;":"","&supdsub;":"","&supe;":"","&supedot;":"","&suphsol;":"","&suphsub;":"","&suplarr;":"","&supmult;":"","&supnE;":"","&supne;":"","&supplus;":"","&supset;":"","&supseteq;":"","&supseteqq;":"","&supsetneq;":"","&supsetneqq;":"","&supsim;":"","&supsub;":"","&supsup;":"","&swArr;":"","&swarhk;":"","&swarr;":"","&swarrow;":"","&swnwar;":"","&szlig":"","&szlig;":"","&target;":"","&tau;":"","&tbrk;":"","&tcaron;":"","&tcedil;":"","&tcy;":"","&tdot;":"","&telrec;":"","&tfr;":"","&there4;":"","&therefore;":"","&theta;":"","&thetasym;":"","&thetav;":"","&thickapprox;":"","&thicksim;":"","&thinsp;":"","&thkap;":"","&thksim;":"","&thorn":"","&thorn;":"","&tilde;":"","&times":"","&times;":"","&timesb;":"","&timesbar;":"","&timesd;":"","&tint;":"","&toea;":"","&top;":"","&topbot;":"","&topcir;":"","&topf;":"","&topfork;":"","&tosa;":"","&tprime;":"","&trade;":"","&triangle;":"","&triangledown;":"","&triangleleft;":"","&trianglelefteq;":"","&triangleq;":"","&triangleright;":"","&trianglerighteq;":"","&tridot;":"","&trie;":"","&triminus;":"","&triplus;":"","&trisb;":"","&tritime;":"","&trpezium;":"","&tscr;":"","&tscy;":"","&tshcy;":"","&tstrok;":"","&twixt;":"","&twoheadleftarrow;":"","&twoheadrightarrow;":"","&uArr;":"","&uHar;":"","&uacute":"","&uacute;":"","&uarr;":"","&ubrcy;":"","&ubreve;":"","&ucirc":"","&ucirc;":"","&ucy;":"","&udarr;":"","&udblac;":"","&udhar;":"","&ufisht;":"","&ufr;":"","&ugrave":"","&ugrave;":"","&uharl;":"","&uharr;":"","&uhblk;":"","&ulcorn;":"","&ulcorner;":"","&ulcrop;":"","&ultri;":"","&umacr;":"","&uml":"","&uml;":"","&uogon;":"","&uopf;":"","&uparrow;":"","&updownarrow;":"","&upharpoonleft;":"","&upharpoonright;":"","&uplus;":"","&upsi;":"","&upsih;":"","&upsilon;":"","&upuparrows;":"","&urcorn;":"","&urcorner;":"","&urcrop;":"","&uring;":"","&urtri;":"","&uscr;":"","&utdot;":"","&utilde;":"","&utri;":"","&utrif;":"","&uuarr;":"","&uuml":"","&uuml;":"","&uwangle;":"","&vArr;":"","&vBar;":"","&vBarv;":"","&vDash;":"","&vangrt;":"","&varepsilon;":"","&varkappa;":"","&varnothing;":"","&varphi;":"","&varpi;":"","&varpropto;":"","&varr;":"","&varrho;":"","&varsigma;":"","&varsubsetneq;":"","&varsubsetneqq;":"","&varsupsetneq;":"","&varsupsetneqq;":"","&vartheta;":"","&vartriangleleft;":"","&vartriangleright;":"","&vcy;":"","&vdash;":"","&vee;":"","&veebar;":"","&veeeq;":"","&vellip;":"","&verbar;":"|","&vert;":"|","&vfr;":"","&vltri;":"","&vnsub;":"","&vnsup;":"","&vopf;":"","&vprop;":"","&vrtri;":"","&vscr;":"","&vsubnE;":"","&vsubne;":"","&vsupnE;":"","&vsupne;":"","&vzigzag;":"","&wcirc;":"","&wedbar;":"","&wedge;":"","&wedgeq;":"","&weierp;":"","&wfr;":"","&wopf;":"","&wp;":"","&wr;":"","&wreath;":"","&wscr;":"","&xcap;":"","&xcirc;":"","&xcup;":"","&xdtri;":"","&xfr;":"","&xhArr;":"","&xharr;":"","&xi;":"","&xlArr;":"","&xlarr;":"","&xmap;":"","&xnis;":"","&xodot;":"","&xopf;":"","&xoplus;":"","&xotime;":"","&xrArr;":"","&xrarr;":"","&xscr;":"","&xsqcup;":"","&xuplus;":"","&xutri;":"","&xvee;":"","&xwedge;":"","&yacute":"","&yacute;":"","&yacy;":"","&ycirc;":"","&ycy;":"","&yen":"","&yen;":"","&yfr;":"","&yicy;":"","&yopf;":"","&yscr;":"","&yucy;":"","&yuml":"","&yuml;":"","&zacute;":"","&zcaron;":"","&zcy;":"","&zdot;":"","&zeetrf;":"","&zeta;":"","&zfr;":"","&zhcy;":"","&zigrarr;":"","&zopf;":"","&zscr;":"","&zwj;":"","&zwnj;":""},characters:{"":"&AElig;","&":"&amp;","":"&Aacute;","":"&Abreve;","":"&Acirc;","":"&Acy;","":"&Afr;","":"&Agrave;","":"&Alpha;","":"&Amacr;","":"&And;","":"&Aogon;","":"&Aopf;","":"&af;","":"&angst;","":"&Ascr;","":"&coloneq;","":"&Atilde;","":"&Auml;","":"&ssetmn;","":"&Barv;","":"&doublebarwedge;","":"&Bcy;","":"&because;","":"&bernou;","":"&Beta;","":"&Bfr;","":"&Bopf;","":"&breve;","":"&bump;","":"&CHcy;","":"&copy;","":"&Cacute;","":"&Cap;","":"&DD;","":"&Cfr;","":"&Ccaron;","":"&Ccedil;","":"&Ccirc;","":"&Cconint;","":"&Cdot;","":"&cedil;","":"&middot;","":"&Chi;","":"&odot;","":"&ominus;","":"&oplus;","":"&otimes;","":"&cwconint;","":"&rdquor;","":"&rsquor;","":"&Proportion;","":"&Colone;","":"&equiv;","":"&DoubleContourIntegral;","":"&oint;","":"&complexes;","":"&coprod;","":"&awconint;","":"&Cross;","":"&Cscr;","":"&Cup;","":"&asympeq;","":"&DDotrahd;","":"&DJcy;","":"&DScy;","":"&DZcy;","":"&ddagger;","":"&Darr;","":"&DoubleLeftTee;","":"&Dcaron;","":"&Dcy;","":"&nabla;","":"&Delta;","":"&Dfr;","":"&acute;","":"&dot;","":"&dblac;","`":"&grave;","":"&tilde;","":"&diamond;","":"&dd;","":"&Dopf;","":"&uml;","":"&DotDot;","":"&esdot;","":"&dArr;","":"&lArr;","":"&iff;","":"&xlArr;","":"&xhArr;","":"&xrArr;","":"&rArr;","":"&vDash;","":"&uArr;","":"&vArr;","":"&spar;","":"&downarrow;","":"&DownArrowBar;","":"&duarr;","":"&DownBreve;","":"&DownLeftRightVector;","":"&DownLeftTeeVector;","":"&lhard;","":"&DownLeftVectorBar;","":"&DownRightTeeVector;","":"&rightharpoondown;","":"&DownRightVectorBar;","":"&top;","":"&mapstodown;","":"&Dscr;","":"&Dstrok;","":"&ENG;","":"&ETH;","":"&Eacute;","":"&Ecaron;","":"&Ecirc;","":"&Ecy;","":"&Edot;","":"&Efr;","":"&Egrave;","":"&isinv;","":"&Emacr;","":"&EmptySmallSquare;","":"&EmptyVerySmallSquare;","":"&Eogon;","":"&Eopf;","":"&Epsilon;","":"&Equal;","":"&esim;","":"&rlhar;","":"&expectation;","":"&Esim;","":"&Eta;","":"&Euml;","":"&exist;","":"&exponentiale;","":"&Fcy;","":"&Ffr;","":"&FilledSmallSquare;","":"&squf;","":"&Fopf;","":"&forall;","":"&Fscr;","":"&GJcy;",">":"&gt;","":"&Gamma;","":"&Gammad;","":"&Gbreve;","":"&Gcedil;","":"&Gcirc;","":"&Gcy;","":"&Gdot;","":"&Gfr;","":"&ggg;","":"&Gopf;","":"&geq;","":"&gtreqless;","":"&geqq;","":"&GreaterGreater;","":"&gtrless;","":"&ges;","":"&gtrsim;","":"&Gscr;","":"&gg;","":"&HARDcy;","":"&caron;","^":"&Hat;","":"&Hcirc;","":"&Poincareplane;","":"&hamilt;","":"&quaternions;","":"&boxh;","":"&Hstrok;","":"&bumpeq;","":"&IEcy;","":"&IJlig;","":"&IOcy;","":"&Iacute;","":"&Icirc;","":"&Icy;","":"&Idot;","":"&imagpart;","":"&Igrave;","":"&Imacr;","":"&ii;","":"&Int;","":"&int;","":"&xcap;","":"&ic;","":"&it;","":"&Iogon;","":"&Iopf;","":"&Iota;","":"&imagline;","":"&Itilde;","":"&Iukcy;","":"&Iuml;","":"&Jcirc;","":"&Jcy;","":"&Jfr;","":"&Jopf;","":"&Jscr;","":"&Jsercy;","":"&Jukcy;","":"&KHcy;","":"&KJcy;","":"&Kappa;","":"&Kcedil;","":"&Kcy;","":"&Kfr;","":"&Kopf;","":"&Kscr;","":"&LJcy;","<":"&lt;","":"&Lacute;","":"&Lambda;","":"&Lang;","":"&lagran;","":"&twoheadleftarrow;","":"&Lcaron;","":"&Lcedil;","":"&Lcy;","":"&langle;","":"&slarr;","":"&larrb;","":"&lrarr;","":"&lceil;","":"&lobrk;","":"&LeftDownTeeVector;","":"&downharpoonleft;","":"&LeftDownVectorBar;","":"&lfloor;","":"&leftrightarrow;","":"&LeftRightVector;","":"&dashv;","":"&mapstoleft;","":"&LeftTeeVector;","":"&vltri;","":"&LeftTriangleBar;","":"&trianglelefteq;","":"&LeftUpDownVector;","":"&LeftUpTeeVector;","":"&upharpoonleft;","":"&LeftUpVectorBar;","":"&lharu;","":"&LeftVectorBar;","":"&lesseqgtr;","":"&leqq;","":"&lg;","":"&LessLess;","":"&les;","":"&lsim;","":"&Lfr;","":"&Ll;","":"&lAarr;","":"&Lmidot;","":"&xlarr;","":"&xharr;","":"&xrarr;","":"&Lopf;","":"&swarrow;","":"&searrow;","":"&lsh;","":"&Lstrok;","":"&ll;","":"&Map;","":"&Mcy;","":"&MediumSpace;","":"&phmmat;","":"&Mfr;","":"&mp;","":"&Mopf;","":"&Mu;","":"&NJcy;","":"&Nacute;","":"&Ncaron;","":"&Ncedil;","":"&Ncy;","":"&ZeroWidthSpace;","\n":"&NewLine;","":"&Nfr;","":"&NoBreak;","":"&nbsp;","":"&naturals;","":"&Not;","":"&nequiv;","":"&NotCupCap;","":"&nspar;","":"&notinva;","":"&ne;","":"&nesim;","":"&nexists;","":"&ngtr;","":"&ngeq;","":"&ngeqq;","":"&nGtv;","":"&ntgl;","":"&nges;","":"&ngsim;","":"&nbump;","":"&nbumpe;","":"&ntriangleleft;","":"&NotLeftTriangleBar;","":"&ntrianglelefteq;","":"&nlt;","":"&nleq;","":"&ntlg;","":"&nLtv;","":"&nles;","":"&nlsim;","":"&NotNestedGreaterGreater;","":"&NotNestedLessLess;","":"&nprec;","":"&npreceq;","":"&nprcue;","":"&notniva;","":"&ntriangleright;","":"&NotRightTriangleBar;","":"&ntrianglerighteq;","":"&NotSquareSubset;","":"&nsqsube;","":"&NotSquareSuperset;","":"&nsqsupe;","":"&vnsub;","":"&nsubseteq;","":"&nsucc;","":"&nsucceq;","":"&nsccue;","":"&NotSucceedsTilde;","":"&vnsup;","":"&nsupseteq;","":"&nsim;","":"&nsimeq;","":"&ncong;","":"&napprox;","":"&nsmid;","":"&Nscr;","":"&Ntilde;","":"&Nu;","":"&OElig;","":"&Oacute;","":"&Ocirc;","":"&Ocy;","":"&Odblac;","":"&Ofr;","":"&Ograve;","":"&Omacr;","":"&ohm;","":"&Omicron;","":"&Oopf;","":"&ldquo;","":"&lsquo;","":"&Or;","":"&Oscr;","":"&Oslash;","":"&Otilde;","":"&Otimes;","":"&Ouml;","":"&oline;","":"&OverBrace;","":"&tbrk;","":"&OverParenthesis;","":"&part;","":"&Pcy;","":"&Pfr;","":"&Phi;","":"&Pi;","":"&pm;","":"&primes;","":"&Pr;","":"&prec;","":"&preceq;","":"&preccurlyeq;","":"&prsim;","":"&Prime;","":"&prod;","":"&vprop;","":"&Pscr;","":"&Psi;",'"':"&quot;","":"&Qfr;","":"&rationals;","":"&Qscr;","":"&drbkarow;","":"&reg;","":"&Racute;","":"&Rang;","":"&twoheadrightarrow;","":"&Rarrtl;","":"&Rcaron;","":"&Rcedil;","":"&Rcy;","":"&realpart;","":"&niv;","":"&lrhar;","":"&duhar;","":"&Rho;","":"&rangle;","":"&srarr;","":"&rarrb;","":"&rlarr;","":"&rceil;","":"&robrk;","":"&RightDownTeeVector;","":"&downharpoonright;","":"&RightDownVectorBar;","":"&rfloor;","":"&vdash;","":"&mapsto;","":"&RightTeeVector;","":"&vrtri;","":"&RightTriangleBar;","":"&trianglerighteq;","":"&RightUpDownVector;","":"&RightUpTeeVector;","":"&upharpoonright;","":"&RightUpVectorBar;","":"&rightharpoonup;","":"&RightVectorBar;","":"&reals;","":"&RoundImplies;","":"&rAarr;","":"&realine;","":"&rsh;","":"&RuleDelayed;","":"&SHCHcy;","":"&SHcy;","":"&SOFTcy;","":"&Sacute;","":"&Sc;","":"&Scaron;","":"&Scedil;","":"&Scirc;","":"&Scy;","":"&Sfr;","":"&uparrow;","":"&Sigma;","":"&compfn;","":"&Sopf;","":"&radic;","":"&square;","":"&sqcap;","":"&sqsubset;","":"&sqsubseteq;","":"&sqsupset;","":"&sqsupseteq;","":"&sqcup;","":"&Sscr;","":"&sstarf;","":"&Subset;","":"&subseteq;","":"&succ;","":"&succeq;","":"&succcurlyeq;","":"&succsim;","":"&sum;","":"&Supset;","":"&supset;","":"&supseteq;","":"&THORN;","":"&trade;","":"&TSHcy;","":"&TScy;","\t":"&Tab;","":"&Tau;","":"&Tcaron;","":"&Tcedil;","":"&Tcy;","":"&Tfr;","":"&therefore;","":"&Theta;","":"&ThickSpace;","":"&thinsp;","":"&thksim;","":"&simeq;","":"&cong;","":"&thkap;","":"&Topf;","":"&tdot;","":"&Tscr;","":"&Tstrok;","":"&Uacute;","":"&Uarr;","":"&Uarrocir;","":"&Ubrcy;","":"&Ubreve;","":"&Ucirc;","":"&Ucy;","":"&Udblac;","":"&Ufr;","":"&Ugrave;","":"&Umacr;",_:"&lowbar;","":"&UnderBrace;","":"&bbrk;","":"&UnderParenthesis;","":"&xcup;","":"&uplus;","":"&Uogon;","":"&Uopf;","":"&UpArrowBar;","":"&udarr;","":"&varr;","":"&udhar;","":"&perp;","":"&mapstoup;","":"&nwarrow;","":"&nearrow;","":"&upsih;","":"&Upsilon;","":"&Uring;","":"&Uscr;","":"&Utilde;","":"&Uuml;","":"&VDash;","":"&Vbar;","":"&Vcy;","":"&Vdash;","":"&Vdashl;","":"&xvee;","":"&Vert;","":"&smid;","|":"&vert;","":"&VerticalSeparator;","":"&wreath;","":"&hairsp;","":"&Vfr;","":"&Vopf;","":"&Vscr;","":"&Vvdash;","":"&Wcirc;","":"&xwedge;","":"&Wfr;","":"&Wopf;","":"&Wscr;","":"&Xfr;","":"&Xi;","":"&Xopf;","":"&Xscr;","":"&YAcy;","":"&YIcy;","":"&YUcy;","":"&Yacute;","":"&Ycirc;","":"&Ycy;","":"&Yfr;","":"&Yopf;","":"&Yscr;","":"&Yuml;","":"&ZHcy;","":"&Zacute;","":"&Zcaron;","":"&Zcy;","":"&Zdot;","":"&Zeta;","":"&zeetrf;","":"&integers;","":"&Zscr;","":"&aacute;","":"&abreve;","":"&mstpos;","":"&acE;","":"&acd;","":"&acirc;","":"&acy;","":"&aelig;","":"&afr;","":"&agrave;","":"&aleph;","":"&alpha;","":"&amacr;","":"&amalg;","":"&wedge;","":"&andand;","":"&andd;","":"&andslope;","":"&andv;","":"&angle;","":"&ange;","":"&measuredangle;","":"&angmsdaa;","":"&angmsdab;","":"&angmsdac;","":"&angmsdad;","":"&angmsdae;","":"&angmsdaf;","":"&angmsdag;","":"&angmsdah;","":"&angrt;","":"&angrtvb;","":"&angrtvbd;","":"&angsph;","":"&angzarr;","":"&aogon;","":"&aopf;","":"&apE;","":"&apacir;","":"&approxeq;","":"&apid;","'":"&apos;","":"&aring;","":"&ascr;","*":"&midast;","":"&atilde;","":"&auml;","":"&awint;","":"&bNot;","":"&bcong;","":"&bepsi;","":"&bprime;","":"&bsim;","":"&bsime;","":"&barvee;","":"&barwedge;","":"&bbrktbrk;","":"&bcy;","":"&ldquor;","":"&bemptyv;","":"&beta;","":"&beth;","":"&twixt;","":"&bfr;","":"&xcirc;","":"&xodot;","":"&xoplus;","":"&xotime;","":"&xsqcup;","":"&starf;","":"&xdtri;","":"&xutri;","":"&xuplus;","":"&rbarr;","":"&lozf;","":"&utrif;","":"&dtrif;","":"&ltrif;","":"&rtrif;","":"&blank;","":"&blk12;","":"&blk14;","":"&blk34;","":"&block;","=":"&bne;","":"&bnequiv;","":"&bnot;","":"&bopf;","":"&bowtie;","":"&boxDL;","":"&boxDR;","":"&boxDl;","":"&boxDr;","":"&boxH;","":"&boxHD;","":"&boxHU;","":"&boxHd;","":"&boxHu;","":"&boxUL;","":"&boxUR;","":"&boxUl;","":"&boxUr;","":"&boxV;","":"&boxVH;","":"&boxVL;","":"&boxVR;","":"&boxVh;","":"&boxVl;","":"&boxVr;","":"&boxbox;","":"&boxdL;","":"&boxdR;","":"&boxdl;","":"&boxdr;","":"&boxhD;","":"&boxhU;","":"&boxhd;","":"&boxhu;","":"&minusb;","":"&plusb;","":"&timesb;","":"&boxuL;","":"&boxuR;","":"&boxul;","":"&boxur;","":"&boxv;","":"&boxvH;","":"&boxvL;","":"&boxvR;","":"&boxvh;","":"&boxvl;","":"&boxvr;","":"&brvbar;","":"&bscr;","":"&bsemi;","\\":"&bsol;","":"&bsolb;","":"&bsolhsub;","":"&bullet;","":"&bumpE;","":"&cacute;","":"&cap;","":"&capand;","":"&capbrcup;","":"&capcap;","":"&capcup;","":"&capdot;","":"&caps;","":"&caret;","":"&ccaps;","":"&ccaron;","":"&ccedil;","":"&ccirc;","":"&ccups;","":"&ccupssm;","":"&cdot;","":"&cemptyv;","":"&cent;","":"&cfr;","":"&chcy;","":"&checkmark;","":"&chi;","":"&cir;","":"&cirE;","":"&circ;","":"&cire;","":"&olarr;","":"&orarr;","":"&oS;","":"&oast;","":"&ocir;","":"&odash;","":"&cirfnint;","":"&cirmid;","":"&cirscir;","":"&clubsuit;",":":"&colon;",",":"&comma;","@":"&commat;","":"&complement;","":"&congdot;","":"&copf;","":"&copysr;","":"&crarr;","":"&cross;","":"&cscr;","":"&csub;","":"&csube;","":"&csup;","":"&csupe;","":"&ctdot;","":"&cudarrl;","":"&cudarrr;","":"&curlyeqprec;","":"&curlyeqsucc;","":"&curvearrowleft;","":"&cularrp;","":"&cup;","":"&cupbrcap;","":"&cupcap;","":"&cupcup;","":"&cupdot;","":"&cupor;","":"&cups;","":"&curvearrowright;","":"&curarrm;","":"&cuvee;","":"&cuwed;","":"&curren;","":"&cwint;","":"&cylcty;","":"&dHar;","":"&dagger;","":"&daleth;","":"&hyphen;","":"&rBarr;","":"&dcaron;","":"&dcy;","":"&downdownarrows;","":"&eDDot;","":"&deg;","":"&delta;","":"&demptyv;","":"&dfisht;","":"&dfr;","":"&diams;","":"&gammad;","":"&disin;","":"&divide;","":"&divonx;","":"&djcy;","":"&llcorner;","":"&dlcrop;",$:"&dollar;","":"&dopf;","":"&eDot;","":"&minusd;","":"&plusdo;","":"&sdotb;","":"&lrcorner;","":"&drcrop;","":"&dscr;","":"&dscy;","":"&dsol;","":"&dstrok;","":"&dtdot;","":"&triangledown;","":"&dwangle;","":"&dzcy;","":"&dzigrarr;","":"&eacute;","":"&easter;","":"&ecaron;","":"&eqcirc;","":"&ecirc;","":"&eqcolon;","":"&ecy;","":"&edot;","":"&fallingdotseq;","":"&efr;","":"&eg;","":"&egrave;","":"&eqslantgtr;","":"&egsdot;","":"&el;","":"&elinters;","":"&ell;","":"&eqslantless;","":"&elsdot;","":"&emacr;","":"&varnothing;","":"&emsp13;","":"&emsp14;","":"&emsp;","":"&eng;","":"&ensp;","":"&eogon;","":"&eopf;","":"&epar;","":"&eparsl;","":"&eplus;","":"&epsilon;","":"&varepsilon;","=":"&equals;","":"&questeq;","":"&equivDD;","":"&eqvparsl;","":"&risingdotseq;","":"&erarr;","":"&escr;","":"&eta;","":"&eth;","":"&euml;","":"&euro;","!":"&excl;","":"&fcy;","":"&female;","":"&ffilig;","":"&fflig;","":"&ffllig;","":"&ffr;","":"&filig;",fj:"&fjlig;","":"&flat;","":"&fllig;","":"&fltns;","":"&fnof;","":"&fopf;","":"&pitchfork;","":"&forkv;","":"&fpartint;","":"&half;","":"&frac13;","":"&frac14;","":"&frac15;","":"&frac16;","":"&frac18;","":"&frac23;","":"&frac25;","":"&frac34;","":"&frac35;","":"&frac38;","":"&frac45;","":"&frac56;","":"&frac58;","":"&frac78;","":"&frasl;","":"&sfrown;","":"&fscr;","":"&gtreqqless;","":"&gacute;","":"&gamma;","":"&gtrapprox;","":"&gbreve;","":"&gcirc;","":"&gcy;","":"&gdot;","":"&gescc;","":"&gesdot;","":"&gesdoto;","":"&gesdotol;","":"&gesl;","":"&gesles;","":"&gfr;","":"&gimel;","":"&gjcy;","":"&glE;","":"&gla;","":"&glj;","":"&gneqq;","":"&gnapprox;","":"&gneq;","":"&gnsim;","":"&gopf;","":"&gscr;","":"&gsime;","":"&gsiml;","":"&gtcc;","":"&gtcir;","":"&gtrdot;","":"&gtlPar;","":"&gtquest;","":"&gtrarr;","":"&gvnE;","":"&hardcy;","":"&harrcir;","":"&leftrightsquigarrow;","":"&plankv;","":"&hcirc;","":"&heartsuit;","":"&mldr;","":"&hercon;","":"&hfr;","":"&searhk;","":"&swarhk;","":"&hoarr;","":"&homtht;","":"&larrhk;","":"&rarrhk;","":"&hopf;","":"&horbar;","":"&hscr;","":"&hstrok;","":"&hybull;","":"&iacute;","":"&icirc;","":"&icy;","":"&iecy;","":"&iexcl;","":"&ifr;","":"&igrave;","":"&qint;","":"&tint;","":"&iinfin;","":"&iiota;","":"&ijlig;","":"&imacr;","":"&inodot;","":"&imof;","":"&imped;","":"&incare;","":"&infin;","":"&infintie;","":"&intercal;","":"&intlarhk;","":"&iprod;","":"&iocy;","":"&iogon;","":"&iopf;","":"&iota;","":"&iquest;","":"&iscr;","":"&isinE;","":"&isindot;","":"&isins;","":"&isinsv;","":"&itilde;","":"&iukcy;","":"&iuml;","":"&jcirc;","":"&jcy;","":"&jfr;","":"&jmath;","":"&jopf;","":"&jscr;","":"&jsercy;","":"&jukcy;","":"&kappa;","":"&varkappa;","":"&kcedil;","":"&kcy;","":"&kfr;","":"&kgreen;","":"&khcy;","":"&kjcy;","":"&kopf;","":"&kscr;","":"&lAtail;","":"&lBarr;","":"&lesseqqgtr;","":"&lHar;","":"&lacute;","":"&laemptyv;","":"&lambda;","":"&langd;","":"&lessapprox;","":"&laquo;","":"&larrbfs;","":"&larrfs;","":"&looparrowleft;","":"&larrpl;","":"&larrsim;","":"&leftarrowtail;","":"&lat;","":"&latail;","":"&late;","":"&lates;","":"&lbarr;","":"&lbbrk;","{":"&lcub;","[":"&lsqb;","":"&lbrke;","":"&lbrksld;","":"&lbrkslu;","":"&lcaron;","":"&lcedil;","":"&lcy;","":"&ldca;","":"&ldrdhar;","":"&ldrushar;","":"&ldsh;","":"&leq;","":"&llarr;","":"&lthree;","":"&lescc;","":"&lesdot;","":"&lesdoto;","":"&lesdotor;","":"&lesg;","":"&lesges;","":"&ltdot;","":"&lfisht;","":"&lfr;","":"&lgE;","":"&lharul;","":"&lhblk;","":"&ljcy;","":"&llhard;","":"&lltri;","":"&lmidot;","":"&lmoustache;","":"&lneqq;","":"&lnapprox;","":"&lneq;","":"&lnsim;","":"&loang;","":"&loarr;","":"&xmap;","":"&rarrlp;","":"&lopar;","":"&lopf;","":"&loplus;","":"&lotimes;","":"&lowast;","":"&lozenge;","(":"&lpar;","":"&lparlt;","":"&lrhard;","":"&lrm;","":"&lrtri;","":"&lsaquo;","":"&lscr;","":"&lsime;","":"&lsimg;","":"&sbquo;","":"&lstrok;","":"&ltcc;","":"&ltcir;","":"&ltimes;","":"&ltlarr;","":"&ltquest;","":"&ltrPar;","":"&triangleleft;","":"&lurdshar;","":"&luruhar;","":"&lvnE;","":"&mDDot;","":"&strns;","":"&male;","":"&maltese;","":"&marker;","":"&mcomma;","":"&mcy;","":"&mdash;","":"&mfr;","":"&mho;","":"&micro;","":"&midcir;","":"&minus;","":"&minusdu;","":"&mlcp;","":"&models;","":"&mopf;","":"&mscr;","":"&mu;","":"&mumap;","":"&nGg;","":"&nGt;","":"&nlArr;","":"&nhArr;","":"&nLl;","":"&nLt;","":"&nrArr;","":"&nVDash;","":"&nVdash;","":"&nacute;","":"&nang;","":"&napE;","":"&napid;","":"&napos;","":"&natural;","":"&ncap;","":"&ncaron;","":"&ncedil;","":"&ncongdot;","":"&ncup;","":"&ncy;","":"&ndash;","":"&neArr;","":"&nearhk;","":"&nedot;","":"&toea;","":"&nfr;","":"&nleftrightarrow;","":"&nhpar;","":"&nis;","":"&nisd;","":"&njcy;","":"&nleqq;","":"&nleftarrow;","":"&nldr;","":"&nopf;","":"&not;","":"&notinE;","":"&notindot;","":"&notinvb;","":"&notinvc;","":"&notnivb;","":"&notnivc;","":"&nparsl;","":"&npart;","":"&npolint;","":"&nrightarrow;","":"&nrarrc;","":"&nrarrw;","":"&nscr;","":"&nsub;","":"&nsubseteqq;","":"&nsup;","":"&nsupseteqq;","":"&ntilde;","":"&nu;","#":"&num;","":"&numero;","":"&numsp;","":"&nvDash;","":"&nvHarr;","":"&nvap;","":"&nvdash;","":"&nvge;",">":"&nvgt;","":"&nvinfin;","":"&nvlArr;","":"&nvle;","<":"&nvlt;","":"&nvltrie;","":"&nvrArr;","":"&nvrtrie;","":"&nvsim;","":"&nwArr;","":"&nwarhk;","":"&nwnear;","":"&oacute;","":"&ocirc;","":"&ocy;","":"&odblac;","":"&odiv;","":"&odsold;","":"&oelig;","":"&ofcir;","":"&ofr;","":"&ogon;","":"&ograve;","":"&ogt;","":"&ohbar;","":"&olcir;","":"&olcross;","":"&olt;","":"&omacr;","":"&omega;","":"&omicron;","":"&omid;","":"&oopf;","":"&opar;","":"&operp;","":"&vee;","":"&ord;","":"&oscr;","":"&ordf;","":"&ordm;","":"&origof;","":"&oror;","":"&orslope;","":"&orv;","":"&oslash;","":"&osol;","":"&otilde;","":"&otimesas;","":"&ouml;","":"&ovbar;","":"&para;","":"&parsim;","":"&parsl;","":"&pcy;","%":"&percnt;",".":"&period;","":"&permil;","":"&pertenk;","":"&pfr;","":"&phi;","":"&varphi;","":"&phone;","":"&pi;","":"&varpi;","":"&planckh;","+":"&plus;","":"&plusacir;","":"&pluscir;","":"&plusdu;","":"&pluse;","":"&plussim;","":"&plustwo;","":"&pointint;","":"&popf;","":"&pound;","":"&prE;","":"&precapprox;","":"&prnap;","":"&prnE;","":"&prnsim;","":"&prime;","":"&profalar;","":"&profline;","":"&profsurf;","":"&prurel;","":"&pscr;","":"&psi;","":"&puncsp;","":"&qfr;","":"&qopf;","":"&qprime;","":"&qscr;","":"&quatint;","?":"&quest;","":"&rAtail;","":"&rHar;","":"&race;","":"&racute;","":"&raemptyv;","":"&rangd;","":"&range;","":"&raquo;","":"&rarrap;","":"&rarrbfs;","":"&rarrc;","":"&rarrfs;","":"&rarrpl;","":"&rarrsim;","":"&rightarrowtail;","":"&rightsquigarrow;","":"&ratail;","":"&ratio;","":"&rbbrk;","}":"&rcub;","]":"&rsqb;","":"&rbrke;","":"&rbrksld;","":"&rbrkslu;","":"&rcaron;","":"&rcedil;","":"&rcy;","":"&rdca;","":"&rdldhar;","":"&rdsh;","":"&rect;","":"&rfisht;","":"&rfr;","":"&rharul;","":"&rho;","":"&varrho;","":"&rrarr;","":"&rthree;","":"&ring;","":"&rlm;","":"&rmoustache;","":"&rnmid;","":"&roang;","":"&roarr;","":"&ropar;","":"&ropf;","":"&roplus;","":"&rotimes;",")":"&rpar;","":"&rpargt;","":"&rppolint;","":"&rsaquo;","":"&rscr;","":"&rtimes;","":"&triangleright;","":"&rtriltri;","":"&ruluhar;","":"&rx;","":"&sacute;","":"&scE;","":"&succapprox;","":"&scaron;","":"&scedil;","":"&scirc;","":"&succneqq;","":"&succnapprox;","":"&succnsim;","":"&scpolint;","":"&scy;","":"&sdot;","":"&sdote;","":"&seArr;","":"&sect;",";":"&semi;","":"&tosa;","":"&sext;","":"&sfr;","":"&sharp;","":"&shchcy;","":"&shcy;","":"&shy;","":"&sigma;","":"&varsigma;","":"&simdot;","":"&simg;","":"&simgE;","":"&siml;","":"&simlE;","":"&simne;","":"&simplus;","":"&simrarr;","":"&smashp;","":"&smeparsl;","":"&ssmile;","":"&smt;","":"&smte;","":"&smtes;","":"&softcy;","/":"&sol;","":"&solb;","":"&solbar;","":"&sopf;","":"&spadesuit;","":"&sqcaps;","":"&sqcups;","":"&sscr;","":"&star;","":"&subset;","":"&subseteqq;","":"&subdot;","":"&subedot;","":"&submult;","":"&subsetneqq;","":"&subsetneq;","":"&subplus;","":"&subrarr;","":"&subsim;","":"&subsub;","":"&subsup;","":"&sung;","":"&sup1;","":"&sup2;","":"&sup3;","":"&supseteqq;","":"&supdot;","":"&supdsub;","":"&supedot;","":"&suphsol;","":"&suphsub;","":"&suplarr;","":"&supmult;","":"&supsetneqq;","":"&supsetneq;","":"&supplus;","":"&supsim;","":"&supsub;","":"&supsup;","":"&swArr;","":"&swnwar;","":"&szlig;","":"&target;","":"&tau;","":"&tcaron;","":"&tcedil;","":"&tcy;","":"&telrec;","":"&tfr;","":"&theta;","":"&vartheta;","":"&thorn;","":"&times;","":"&timesbar;","":"&timesd;","":"&topbot;","":"&topcir;","":"&topf;","":"&topfork;","":"&tprime;","":"&utri;","":"&trie;","":"&tridot;","":"&triminus;","":"&triplus;","":"&trisb;","":"&tritime;","":"&trpezium;","":"&tscr;","":"&tscy;","":"&tshcy;","":"&tstrok;","":"&uHar;","":"&uacute;","":"&ubrcy;","":"&ubreve;","":"&ucirc;","":"&ucy;","":"&udblac;","":"&ufisht;","":"&ufr;","":"&ugrave;","":"&uhblk;","":"&ulcorner;","":"&ulcrop;","":"&ultri;","":"&umacr;","":"&uogon;","":"&uopf;","":"&upsilon;","":"&uuarr;","":"&urcorner;","":"&urcrop;","":"&uring;","":"&urtri;","":"&uscr;","":"&utdot;","":"&utilde;","":"&uuml;","":"&uwangle;","":"&vBar;","":"&vBarv;","":"&vangrt;","":"&vsubne;","":"&vsubnE;","":"&vsupne;","":"&vsupnE;","":"&vcy;","":"&veebar;","":"&veeeq;","":"&vellip;","":"&vfr;","":"&vopf;","":"&vscr;","":"&vzigzag;","":"&wcirc;","":"&wedbar;","":"&wedgeq;","":"&wp;","":"&wfr;","":"&wopf;","":"&wscr;","":"&xfr;","":"&xi;","":"&xnis;","":"&xopf;","":"&xscr;","":"&yacute;","":"&yacy;","":"&ycirc;","":"&ycy;","":"&yen;","":"&yfr;","":"&yicy;","":"&yopf;","":"&yscr;","":"&yucy;","":"&yuml;","":"&zacute;","":"&zcaron;","":"&zcy;","":"&zdot;","":"&zeta;","":"&zfr;","":"&zhcy;","":"&zigrarr;","":"&zopf;","":"&zscr;","":"&zwj;","":"&zwnj;"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},t.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},t.highSurrogateFrom=55296,t.highSurrogateTo=56319},function(e,t,r){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.teenyRequest=t.RequestError=void 0;const n=r(160),o=r(1),i=r(795),a=r(621),s=r(638),l=r(639);class p extends Error{}function c(e,t){const r={};r.agent=e.agent||!1,r.headers=e.headers||{},r.href=t.url;const n={};t.headers.forEach((e,t)=>n[t]=e);return Object.assign(t.body,{statusCode:t.status,statusMessage:t.statusText,request:r,body:t.body,headers:n,toJSON:()=>({headers:n})})}function u(e,t){const{uri:s,options:p}=function(e){const t={method:e.method||"GET",...e.timeout&&{timeout:e.timeout},..."boolean"==typeof e.gzip&&{compress:e.gzip}};"object"==typeof e.json?(e.headers=e.headers||{},e.headers["Content-Type"]="application/json",t.body=JSON.stringify(e.json)):Buffer.isBuffer(e.body)?t.body=e.body:"string"!=typeof e.body?t.body=JSON.stringify(e.body):t.body=e.body,t.headers=e.headers;let n=e.uri||e.url;if(!n)throw new Error("Missing uri or url in reqOpts.");if(!0===e.useQuerystring||"object"==typeof e.qs){n=n+"?"+r(63).stringify(e.qs)}return t.agent=(0,a.getAgent)(n,e),{uri:n,options:t}}(e),d=e.multipart;if(e.multipart&&2===d.length){if(!t)throw new Error("Multipart without callback is not implemented.");const e=i.v4();return p.headers["Content-Type"]="multipart/related; boundary="+e,p.body=function(e,t){const r=`--${e}--`,n=new o.PassThrough;for(const o of t){const t=`--${e}\r\nContent-Type: ${o["Content-Type"]}\r\n\r\n`;n.write(t),"string"==typeof o.body?(n.write(o.body),n.write("\r\n")):(o.body.pipe(n,{end:!1}),o.body.on("end",()=>{n.write("\r\n"),n.write(r),n.end()}))}return n}(e,d),u.stats.requestStarting(),void(0,n.default)(s,p).then(e=>{u.stats.requestFinished();const r=e.headers.get("content-type"),n=c(p,e),o=n.body;"application/json"!==r&&"application/json; charset=utf-8"!==r?e.text().then(e=>{n.body=e,t(null,n,e)},e=>{t(e,n,o)}):e.json().then(e=>{n.body=e,t(null,n,e)},e=>{t(e,n,o)})},e=>{u.stats.requestFinished(),t(e,null,null)})}if(void 0===t){const e=l(new o.PassThrough);let t;return e.once("reading",()=>{t?(0,o.pipeline)(t,e,()=>{}):e.once("response",()=>{(0,o.pipeline)(t,e,()=>{})})}),p.compress=!1,u.stats.requestStarting(),(0,n.default)(s,p).then(r=>{u.stats.requestFinished(),t=r.body,t.on("error",t=>{e.emit("error",t)});const n=c(p,r);e.emit("response",n)},t=>{u.stats.requestFinished(),e.emit("error",t)}),e}u.stats.requestStarting(),(0,n.default)(s,p).then(e=>{u.stats.requestFinished();const r=e.headers.get("content-type"),n=c(p,e),o=n.body;if("application/json"===r||"application/json; charset=utf-8"===r)return 204===n.statusCode?void t(null,n,o):void e.json().then(e=>{n.body=e,t(null,n,e)},e=>{t(e,n,o)});e.text().then(r=>{const n=c(p,e);n.body=r,t(null,n,r)},e=>{t(e,n,o)})},e=>{u.stats.requestFinished(),t(e,null,null)})}t.RequestError=p,t.teenyRequest=u,u.defaults=e=>(t,r)=>{const n={...e,...t};if(void 0===r)return u(n);u(n,r)},u.stats=new s.TeenyStatistics,u.resetStats=()=>{u.stats=new s.TeenyStatistics(u.stats.getOptions())}},function(e,t,r){"use strict";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.getAgent=t.pool=void 0;const n=r(51),o=r(61),i=r(11);t.pool=new Map,t.getAgent=function(e,a){const s=e.startsWith("http://"),l=a.proxy||process.env.HTTP_PROXY||process.env.http_proxy||process.env.HTTPS_PROXY||process.env.https_proxy,p=Object.assign({},a.pool),c=!!a.proxy||function(e){const t=process.env.NO_PROXY||process.env.no_proxy;if(!t)return!0;const r=new URL(e);for(const e of t.split(",")){const t=e.trim();if(t===r.origin||t===r.hostname)return!1;if(t.startsWith("*.")||t.startsWith(".")){const e=t.replace(/^\*\./,".");if(r.hostname.endsWith(e))return!1}}return!0}(e);if(l&&c){return new(r(s?622:630))({...(0,i.parse)(l),...p})}let u=s?"http":"https";if(a.forever&&(u+=":forever",!t.pool.has(u))){const e=s?n.Agent:o.Agent;t.pool.set(u,new e({...p,keepAlive:!0}))}return t.pool.get(u)}},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(623));function o(e){return new n.default(e)}!function(e){e.HttpProxyAgent=n.default,e.prototype=n.default.prototype}(o||(o={})),e.exports=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(31)),a=o(r(66)),s=o(r(11)),l=o(r(344)),p=o(r(627)),c=r(628),u=(0,l.default)("http-proxy-agent");class d extends c.Agent{constructor(e){let t;if(t="string"==typeof e?s.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");u("Creating new HttpProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this,o=s.default.parse(e.path);let l;if(o.protocol||(o.protocol="http:"),o.hostname||(o.hostname=t.hostname||t.host||null),null==o.port&&(t.port,1)&&(o.port=String(t.port)),"80"===o.port&&(o.port=""),e.path=s.default.format(o),r.auth&&e.setHeader("Proxy-Authorization","Basic "+Buffer.from(r.auth).toString("base64")),n?(u("Creating `tls.Socket`: %o",r),l=a.default.connect(r)):(u("Creating `net.Socket`: %o",r),l=i.default.connect(r)),e._header){let t,r;u("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(u("Patching connection write() output buffer with updated header"),t=e.output[0],r=t.indexOf("\r\n\r\n")+4,e.output[0]=e._header+t.substring(r),u("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(u("Patching connection write() output buffer with updated header"),t=e.outputData[0].data,r=t.indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+t.substring(r),u("Output buffer: %o",e.outputData[0].data))}return yield(0,p.default)(l,"connect"),l}))}}t.default=d},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(345)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(119),o=r(6);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(120);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(345)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,{signal:r}={}){return new Promise((n,o)=>{function i(){null==r||r.removeEventListener("abort",i),e.removeListener(t,a),e.removeListener("error",s)}function a(...e){i(),n(e)}function s(e){i(),o(e)}null==r||r.addEventListener("abort",i),e.on(t,a),e.on("error",s)})}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=r(23),i=n(r(344)),a=n(r(629)),s=i.default("agent-base");function l(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}function p(e,t){return new p.Agent(e,t)}!function(e){class t extends o.EventEmitter{constructor(e,t){super();let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:l()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:l()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=l()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80),null==r.protocol&&(r.protocol=r.secureEndpoint?"https:":"http:"),r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,o=null;const i=r.timeout||this.timeout,p=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},c=()=>{o=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${i}ms`);e.code="ETIMEOUT",p(e)},u=e=>{n||(null!==o&&(clearTimeout(o),o=null),p(e))},d=t=>{if(n)return;if(null!=o&&(clearTimeout(o),o=null),i=t,Boolean(i)&&"function"==typeof i.addRequest)return s("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,r);var i;if(t)return t.once("free",()=>{this.freeSocket(t,r)}),void e.onSocket(t);const a=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);p(a)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(s("Converting legacy callback function to promise"),this.promisifiedCallback=a.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof i&&i>0&&(o=setTimeout(c,i)),"port"in r&&"number"!=typeof r.port&&(r.port=Number(r.port));try{s("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,r)).then(d,u)}catch(e){Promise.reject(e).catch(u)}}else p(new Error("`callback` is not defined"))}freeSocket(e,t){s("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){s("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(p||(p={})),e.exports=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise((n,o)=>{e.call(this,t,r,(e,t)=>{e?o(e):n(t)})})}}},function(e,t,r){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(631));function o(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(o||(o={})),e.exports=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(31)),a=o(r(66)),s=o(r(11)),l=o(r(45)),p=o(r(199)),c=r(635),u=o(r(637)),d=p.default("https-proxy-agent:agent");class h extends c.Agent{constructor(e){let t;if(t="string"==typeof e?s.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");d("creating new HttpsProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=r.protocol)&&/^https:?$/i.test(n),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;let o;n?(d("Creating `tls.Socket`: %o",r),o=a.default.connect(r)):(d("Creating `net.Socket`: %o",r),o=i.default.connect(r));const s=Object.assign({},r.headers);let p=`CONNECT ${`${t.host}:${t.port}`} HTTP/1.1\r\n`;r.auth&&(s["Proxy-Authorization"]="Basic "+Buffer.from(r.auth).toString("base64"));let{host:c,port:h,secureEndpoint:g}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(h,g)||(c+=":"+h),s.Host=c,s.Connection="close";for(const e of Object.keys(s))p+=`${e}: ${s[e]}\r\n`;const m=u.default(o);o.write(p+"\r\n");const{statusCode:y,buffered:v}=yield m;if(200===y){if(e.once("socket",f),t.secureEndpoint){d("Upgrading socket connection to TLS");const e=t.servername||t.host;return a.default.connect(Object.assign(Object.assign({},function(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}(t,"host","hostname","path","port")),{socket:o,servername:e}))}return o}o.destroy();const b=new i.default.Socket({writable:!1});return b.readable=!0,e.once("socket",e=>{d("replaying proxy buffer for failed request"),l.default(e.listenerCount("data")>0),e.push(v),e.push(null)}),b}))}}function f(e){e.resume()}t.default=h},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(346)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(119),o=r(6);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(120);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(346)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=r(23),i=n(r(199)),a=n(r(636)),s=i.default("agent-base");function l(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}function p(e,t){return new p.Agent(e,t)}!function(e){class t extends o.EventEmitter{constructor(e,t){super();let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:l()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:l()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=l()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80),null==r.protocol&&(r.protocol=r.secureEndpoint?"https:":"http:"),r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,o=null;const i=r.timeout||this.timeout,p=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},c=()=>{o=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${i}ms`);e.code="ETIMEOUT",p(e)},u=e=>{n||(null!==o&&(clearTimeout(o),o=null),p(e))},d=t=>{if(n)return;if(null!=o&&(clearTimeout(o),o=null),i=t,Boolean(i)&&"function"==typeof i.addRequest)return s("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,r);var i;if(t)return t.once("free",()=>{this.freeSocket(t,r)}),void e.onSocket(t);const a=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);p(a)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(s("Converting legacy callback function to promise"),this.promisifiedCallback=a.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof i&&i>0&&(o=setTimeout(c,i)),"port"in r&&"number"!=typeof r.port&&(r.port=Number(r.port));try{s("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,r)).then(d,u)}catch(e){Promise.reject(e).catch(u)}}else p(new Error("`callback` is not defined"))}freeSocket(e,t){s("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){s("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(p||(p={})),e.exports=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise((n,o)=>{e.call(this,t,r,(e,t)=>{e?o(e):n(t)})})}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(199)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise((t,r)=>{let n=0;const i=[];function a(){const r=e.read();r?function(e){i.push(e),n+=e.length;const r=Buffer.concat(i,n);if(-1===r.indexOf("\r\n\r\n"))return o("have not received end of HTTP headers yet..."),void a();const s=r.toString("ascii",0,r.indexOf("\r\n")),l=+s.split(" ")[1];o("got proxy server response: %o",s),t({statusCode:l,buffered:r})}(r):e.once("readable",a)}function s(e){o("onclose had error %o",e)}function l(){o("onend")}function p(t){e.removeListener("end",l),e.removeListener("error",p),e.removeListener("close",s),e.removeListener("readable",a),o("onerror %o",t),r(t)}e.on("error",p),e.on("close",s),e.on("end",l),a()})}},function(e,t,r){"use strict";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.TeenyStatistics=t.TeenyStatisticsWarning=void 0;class n extends Error{constructor(e){super(e),this.threshold=0,this.type="",this.value=0,this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}t.TeenyStatisticsWarning=n,n.CONCURRENT_REQUESTS="ConcurrentRequestsExceededWarning";class o{constructor(e){this._concurrentRequests=0,this._didConcurrentRequestWarn=!1,this._options=o._prepareOptions(e)}getOptions(){return Object.assign({},this._options)}setOptions(e){const t=this._options;return this._options=o._prepareOptions(e),t}get counters(){return{concurrentRequests:this._concurrentRequests}}requestStarting(){if(this._concurrentRequests++,this._options.concurrentRequests>0&&this._concurrentRequests>=this._options.concurrentRequests&&!this._didConcurrentRequestWarn){this._didConcurrentRequestWarn=!0;const e=new n("Possible excessive concurrent requests detected. "+this._concurrentRequests+" requests in-flight, which exceeds the configured threshold of "+this._options.concurrentRequests+". Use the TEENY_REQUEST_WARN_CONCURRENT_REQUESTS environment variable or the concurrentRequests option of teeny-request to increase or disable (0) this warning.");e.type=n.CONCURRENT_REQUESTS,e.value=this._concurrentRequests,e.threshold=this._options.concurrentRequests,process.emitWarning(e)}}requestFinished(){this._concurrentRequests--}static _prepareOptions({concurrentRequests:e}={}){let t=this.DEFAULT_WARN_CONCURRENT_REQUESTS;const r=Number(process.env.TEENY_REQUEST_WARN_CONCURRENT_REQUESTS);return void 0!==e?t=e:Number.isNaN(r)||(t=r),{concurrentRequests:t}}}t.TeenyStatistics=o,o.DEFAULT_WARN_CONCURRENT_REQUESTS=5e3},function(e,t,r){"use strict";var n=r(640);e.exports=function(e){var t={callthrough:!0,calls:1};return n(e=e||this,"_read",t,e.emit.bind(e,"reading")),n(e,"_write",t,e.emit.bind(e,"writing")),e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){if(!e||!t||!e[t])throw new Error("You must provide an object and a key for an existing method");n||(n=r,r={}),n=n||function(){},r.callthrough=r.callthrough||!1,r.calls=r.calls||0;var o=0===r.calls,i=e[t].bind(e);e[t]=function(){var a,s=[].slice.call(arguments);return r.callthrough&&(a=i.apply(e,s)),a=n.apply(e,s)||a,o||0!=--r.calls||(e[t]=i),a}}},function(e){e.exports=JSON.parse('{"name":"@google-cloud/storage","description":"Cloud Storage Client Library for Node.js","version":"7.15.2","license":"Apache-2.0","author":"Google Inc.","engines":{"node":">=14"},"repository":"googleapis/nodejs-storage","main":"./build/cjs/src/index.js","types":"./build/cjs/src/index.d.ts","type":"module","exports":{".":{"import":{"types":"./build/esm/src/index.d.ts","default":"./build/esm/src/index.js"},"require":{"types":"./build/cjs/src/index.d.ts","default":"./build/cjs/src/index.js"}}},"files":["build/cjs/src","build/cjs/package.json","!build/cjs/src/**/*.map","build/esm/src","!build/esm/src/**/*.map"],"keywords":["google apis client","google api client","google apis","google api","google","google cloud platform","google cloud","cloud","google storage","storage"],"scripts":{"all-test":"npm test && npm run system-test && npm run samples-test","benchwrapper":"node bin/benchwrapper.js","check":"gts check","clean":"rm -rf build/","compile:cjs":"tsc -p ./tsconfig.cjs.json","compile:esm":"tsc -p .","compile":"npm run compile:cjs && npm run compile:esm","conformance-test":"mocha --parallel build/cjs/conformance-test/ --require build/cjs/conformance-test/globalHooks.js","docs-test":"linkinator docs","docs":"jsdoc -c .jsdoc.json","fix":"gts fix","lint":"gts check","postcompile":"cp ./src/package-json-helper.cjs ./build/cjs/src && cp ./src/package-json-helper.cjs ./build/esm/src","postcompile:cjs":"babel --plugins gapic-tools/build/src/replaceImportMetaUrl,gapic-tools/build/src/toggleESMFlagVariable build/cjs/src/util.js -o build/cjs/src/util.js && cp internal-tooling/helpers/package.cjs.json build/cjs/package.json","precompile":"rm -rf build/","preconformance-test":"npm run compile:cjs -- --sourceMap","predocs-test":"npm run docs","predocs":"npm run compile:cjs -- --sourceMap","prelint":"cd samples; npm link ../; npm install","prepare":"npm run compile","presystem-test:esm":"npm run compile:esm","presystem-test":"npm run compile -- --sourceMap","pretest":"npm run compile -- --sourceMap","samples-test":"npm link && cd samples/ && npm link ../ && npm test && cd ../","system-test:esm":"mocha build/esm/system-test --timeout 600000 --exit","system-test":"mocha build/cjs/system-test --timeout 600000 --exit","test":"c8 mocha build/cjs/test"},"dependencies":{"@google-cloud/paginator":"^5.0.0","@google-cloud/projectify":"^4.0.0","@google-cloud/promisify":"^4.0.0","abort-controller":"^3.0.0","async-retry":"^1.3.3","duplexify":"^4.1.3","fast-xml-parser":"^4.4.1","gaxios":"^6.0.2","google-auth-library":"^9.6.3","html-entities":"^2.5.2","mime":"^3.0.0","p-limit":"^3.0.1","retry-request":"^7.0.0","teeny-request":"^9.0.0","uuid":"^8.0.0"},"devDependencies":{"@babel/cli":"^7.22.10","@babel/core":"^7.22.11","@google-cloud/pubsub":"^4.0.0","@grpc/grpc-js":"^1.0.3","@grpc/proto-loader":"^0.7.0","@types/async-retry":"^1.4.3","@types/duplexify":"^3.6.4","@types/mime":"^3.0.0","@types/mocha":"^9.1.1","@types/mockery":"^1.4.29","@types/node":"^22.0.0","@types/node-fetch":"^2.1.3","@types/proxyquire":"^1.3.28","@types/request":"^2.48.4","@types/sinon":"^17.0.0","@types/tmp":"0.2.6","@types/uuid":"^8.0.0","@types/yargs":"^17.0.10","c8":"^9.0.0","form-data":"^4.0.0","gapic-tools":"^0.4.0","gts":"^5.0.0","jsdoc":"^4.0.0","jsdoc-fresh":"^3.0.0","jsdoc-region-tag":"^3.0.0","linkinator":"^3.0.0","mocha":"^9.2.2","mockery":"^2.1.0","nock":"~13.5.0","node-fetch":"^2.6.7","pack-n-play":"^2.0.0","proxyquire":"^2.1.3","sinon":"^18.0.0","nise":"6.0.0","path-to-regexp":"6.3.0","tmp":"^0.2.0","typescript":"^5.1.6","yargs":"^17.3.1"}}')},function(e,t,r){var n=r(1);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(347)).Stream=n||t,t.Readable=t,t.Writable=r(351),t.Duplex=r(89),t.Transform=r(353),t.PassThrough=r(648),t.finished=r(201),t.pipeline=r(649))},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l=r(18).Buffer,p=r(6).inspect,c=p&&p.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,r,n,o=l.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=o,n=a,l.prototype.copy.call(t,r,n),a+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?n+=o:n+=o.slice(0,e),0==(e-=i)){i===o.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0==(e-=i)){i===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(i));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return p(this,o(o({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){e.exports=r(6).deprecate},function(e,t,r){"use strict";var n;function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(201),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),p=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[c]=null,e[a]=null,e[s]=null,t(h(r,!1)))}}function g(e){process.nextTick(f,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[p])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[l]?r(e[l]):t(h(void 0,!0))}))}));var r,n=this[c];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[p]?r(h(void 0,!0)):t[u](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[u])}return this[c]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,p,{value:e._readableState.endEmitted,writable:!0}),o(t,u,{value:function(e,t){var n=r[d].read();n?(r[c]=null,r[a]=null,r[s]=null,e(h(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[c]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[c]=null,r[a]=null,r[s]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[c]=null,r[a]=null,r[s]=null,n(h(void 0,!0))),r[p]=!0})),e.on("readable",g.bind(null,r)),r}},function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,l,"next",e)}function l(e){n(a,o,i,s,l,"throw",e)}s(void 0)}))}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(75).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var n;if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);n=t[Symbol.iterator]()}var l=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),p=!1;function c(){return u.apply(this,arguments)}function u(){return(u=o((function*(){try{var e=yield n.next(),t=e.value;e.done?l.push(null):l.push(yield t)?c():p=!1}catch(e){l.destroy(e)}}))).apply(this,arguments)}return l._read=function(){p||(p=!0,c())},l}},function(e,t,r){"use strict";e.exports=o;var n=r(353);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r(88)(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var o=r(75).codes,i=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(201)),n(e,{readable:t,writable:o},(function(e){if(e)return i(e);s=!0,i()}));var l=!1;return function(t){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new a("pipe"))}}function p(e){e()}function c(e,t){return e.pipe(t)}function u(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var a=t.map((function(e,r){var i=r<t.length-1;return l(e,i,r>0,(function(e){n||(n=e),e&&a.forEach(p),i||(a.forEach(p),o(n))}))}));return t.reduce(c)}},function(e,t,r){var n=r(651),o=function(){},i=function(e,t,r){if("function"==typeof t)return i(e,null,t);t||(t={}),r=n(r||o);var a=e._writableState,s=e._readableState,l=t.readable||!1!==t.readable&&e.readable,p=t.writable||!1!==t.writable&&e.writable,c=!1,u=function(){e.writable||d()},d=function(){p=!1,l||r.call(e)},h=function(){l=!1,p||r.call(e)},f=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){r.call(e,t)},m=function(){process.nextTick(y)},y=function(){if(!c)return(!l||s&&s.ended&&!s.destroyed)&&(!p||a&&a.ended&&!a.destroyed)?void 0:r.call(e,new Error("premature close"))},v=function(){e.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?p&&!a&&(e.on("end",u),e.on("close",u)):(e.on("complete",d),e.on("abort",m),e.req?v():e.on("request",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",f),e.on("end",h),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",m),function(){c=!0,e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("exit",f),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",m)}};e.exports=i},function(e,t,r){var n=r(652);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},function(e,t){e.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read(function(e){if(e.buffer.length){var t=e.bufferIndex||0;if(e.buffer.head)return e.buffer.head.data.length;if(e.buffer.length-t>0&&e.buffer[t])return e.buffer[t].length}return e.length}(t)):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceObject=void 0;
/*!
 * Copyright 2022 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=r(57),o=r(23),i=r(87);class a extends o.EventEmitter{constructor(e){super(),this.metadata={},this.baseUrl=e.baseUrl,this.parent=e.parent,this.id=e.id,this.createMethod=e.createMethod,this.methods=e.methods||{},this.interceptors=[],this.projectId=e.projectId,e.methods&&Object.getOwnPropertyNames(a.prototype).filter(t=>!/^request/.test(t)&&!/^getRequestInterceptors/.test(t)&&this[t]===a.prototype[t]&&!e.methods[t]).forEach(e=>{this[e]=void 0})}create(e,t){const r=this,n=[this.id];"function"==typeof e&&(t=e),"object"==typeof e&&n.push(e),n.push((function(...e){const[n,o]=e;n||(r.metadata=o.metadata,r.id&&o.metadata&&(r.id=o.metadata.id),e[1]=r),t(...e)})),this.createMethod.apply(null,n)}delete(e,t){var r;const[n,o]=i.util.maybeOptionsOrCallback(e,t),s=n.ignoreNotFound;delete n.ignoreNotFound;const l="object"==typeof this.methods.delete&&this.methods.delete||{},p={method:"DELETE",uri:"",...l.reqOpts,qs:{...null===(r=l.reqOpts)||void 0===r?void 0:r.qs,...n}};a.prototype.request.call(this,p,(e,t,r)=>{e&&404===e.code&&s&&(e=null),o(e,r)})}exists(e,t){const[r,n]=i.util.maybeOptionsOrCallback(e,t);this.get(r,e=>{e?404===e.code?n(null,!1):n(e):n(null,!0)})}get(e,t){const r=this,[n,o]=i.util.maybeOptionsOrCallback(e,t),a=Object.assign({},n),s=a.autoCreate&&"function"==typeof this.create;function l(e,t,n){if(e)return 409===e.code?void r.get(a,o):void o(e,null,n);o(null,t,n)}delete a.autoCreate,this.getMetadata(a,(e,t)=>{if(e){if(404===e.code&&s){const e=[];return Object.keys(a).length>0&&e.push(a),e.push(l),void r.create(...e)}o(e,null,t)}else o(null,r,t)})}getMetadata(e,t){var r;const[n,o]=i.util.maybeOptionsOrCallback(e,t),s="object"==typeof this.methods.getMetadata&&this.methods.getMetadata||{},l={uri:"",...s.reqOpts,qs:{...null===(r=s.reqOpts)||void 0===r?void 0:r.qs,...n}};a.prototype.request.call(this,l,(e,t,r)=>{this.metadata=t,o(e,this.metadata,r)})}getRequestInterceptors(){const e=this.interceptors.filter(e=>"function"==typeof e.request).map(e=>e.request);return this.parent.getRequestInterceptors().concat(e)}setMetadata(e,t,r){var n,o;const[s,l]=i.util.maybeOptionsOrCallback(t,r),p="object"==typeof this.methods.setMetadata&&this.methods.setMetadata||{},c={method:"PATCH",uri:"",...p.reqOpts,json:{...null===(n=p.reqOpts)||void 0===n?void 0:n.json,...e},qs:{...null===(o=p.reqOpts)||void 0===o?void 0:o.qs,...s}};a.prototype.request.call(this,c,(e,t,r)=>{this.metadata=t,l(e,this.metadata,r)})}request_(e,t){e={...e},this.projectId&&(e.projectId=this.projectId);const r=0===e.uri.indexOf("http"),n=[this.baseUrl,this.id||"",e.uri];r&&n.splice(0,n.indexOf(e.uri)),e.uri=n.filter(e=>e.trim()).map(e=>e.replace(/^\/*|\/*$/g,"")).join("/");const o=Array.isArray(e.interceptors_)?e.interceptors_:[],i=[].slice.call(this.interceptors);if(e.interceptors_=o.concat(i),e.shouldReturnStream)return this.parent.requestStream(e);this.parent.request(e,t)}request(e,t){this.request_(e,t)}requestStream(e){const t={...e,shouldReturnStream:!0};return this.request_(t)}}t.ServiceObject=a,(0,n.promisifyAll)(a,{exclude:["getRequestInterceptors"]})},function(e,t,r){"use strict";e.exports=e=>null==e?[]:Array.isArray(e)?e:"string"==typeof e?[e]:"function"==typeof e[Symbol.iterator]?[...e]:[e]},function(e,t,r){"use strict";
/*!
 * Copyright 2019 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStream=void 0;const n=r(1);class o extends n.Transform{constructor(e,t){super(Object.assign({objectMode:!0},e.streamOptions)),this._ended=!1,this._maxApiCalls=-1===e.maxApiCalls?1/0:e.maxApiCalls,this._nextQuery=e.query,this._reading=!1,this._requestFn=t,this._requestsMade=0,this._resultsToSend=-1===e.maxResults?1/0:e.maxResults,this._otherArgs=[]}end(...e){return this._ended=!0,super.end(...e)}_read(){if(!this._reading){this._reading=!0;try{this._requestFn(this._nextQuery,(e,t,r,...n)=>{if(e)return void this.destroy(e);this._otherArgs=n,this._nextQuery=r,this._resultsToSend!==1/0&&(t=t.splice(0,this._resultsToSend),this._resultsToSend-=t.length);let o=!0;for(const e of t){if(this._ended)break;o=this.push(e)}const i=!this._nextQuery||this._resultsToSend<1,a=++this._requestsMade>=this._maxApiCalls;(i||a)&&this.end(),o&&!this._ended&&setImmediate(()=>this._read()),this._reading=!1})}catch(e){this.destroy(e)}}}}t.ResourceStream=o},function(e,t,r){"use strict";function n(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}n.prototype.define=function(e,t){for(let r in e){let n=e[r].map((function(e){return e.toLowerCase()}));r=r.toLowerCase();for(let e=0;e<n.length;e++){const o=n[e];if("*"!==o[0]){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+r+'".');this._types[o]=r}}if(t||!this._extensions[r]){const e=n[0];this._extensions[r]="*"!==e[0]?e:e.substr(1)}}},n.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),n=t.length<e.length;return(r.length<t.length-1||!n)&&this._types[r]||null},n.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},e.exports=n},function(e,t){e.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},function(e,t){e.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},function(e,t){class r{constructor(e){this.value=e,this.next=void 0}}class n{constructor(){this.clear()}enqueue(e){const t=new r(e);this._head?(this._tail.next=t,this._tail=t):(this._head=t,this._tail=t),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}e.exports=n},function(e,t,r){e.exports=r(662)},function(e,t,r){var n=r(663);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<t.retries;o++)n.push(this.createTimeout(o,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(o,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var o in n=[],e)"function"==typeof e[o]&&n.push(o);for(var i=0;i<n.length;i++){var a=n[i],s=e[a];e[a]=function(n){var o=t.operation(r),i=Array.prototype.slice.call(arguments,1),a=i.pop();i.push((function(e){o.retry(e)||(e&&(arguments[0]=o.mainError()),a.apply(this,arguments))})),o.attempt((function(){n.apply(e,i)}))}.bind(e,s),e[a].options=r}}},function(e,t){function r(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},r.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,a=(e[i]||0)+1;e[i]=a,a>=r&&(t=o,r=a)}return t}},function(e,t,r){"use strict";var n,o,i,a,s,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&l(t,e,r[o]);return p(t,e),t}),u=this&&this.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},d=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Upload=t.PROTOCOL_REGEX=void 0,t.upload=function(e){return new T(e)},t.createURI=function(e,t){const r=new T(e);if(!t)return r.createURI();r.createURI().then(e=>t(null,e),t)},t.checkUploadStatus=function(e){return new T(e).checkUploadStatus()};const f=h(r(240)),g=r(0),m=c(r(30)),y=r(52),v=r(1),b=h(r(142)),E=c(r(239)),_=r(56),O=r(87),w=r(108),S=(0,w.getPackageJSON)();t.PROTOCOL_REGEX=/^(\w*):\/\//;class T extends v.Writable{constructor(e){var t;if(super(e),o.add(this),this.numBytesWritten=0,this.numRetries=0,this.currentInvocationId={checkUploadStatus:E.v4(),chunk:E.v4(),uri:E.v4()},this.writeBuffers=[],this.numChunksReadInRequest=0,this.localWriteCache=[],this.localWriteCacheByteLength=0,this.upstreamEnded=!1,i.set(this,void 0),!(e=e||{}).bucket||!e.file)throw new Error("A bucket and file name are required");if(e.offset&&!e.uri)throw new RangeError("Cannot provide an `offset` without providing a `uri`");if(e.isPartialUpload&&!e.chunkSize)throw new RangeError("Cannot set `isPartialUpload` without providing a `chunkSize`");e.authConfig=e.authConfig||{},e.authConfig.scopes=["https://www.googleapis.com/auth/devstorage.full_control"],this.authClient=e.authClient||new y.GoogleAuth(e.authConfig);const r=e.universeDomain||y.DEFAULT_UNIVERSE;if(this.apiEndpoint="https://storage."+r,e.apiEndpoint&&e.apiEndpoint!==this.apiEndpoint){this.apiEndpoint=this.sanitizeEndpoint(e.apiEndpoint);const t=new URL(this.apiEndpoint).hostname,n=t===r,o=t===y.DEFAULT_UNIVERSE,i=t.slice(-(r.length+1))==="."+r,a=t.slice(-(y.DEFAULT_UNIVERSE.length+1))==="."+y.DEFAULT_UNIVERSE;n||o||i||a||(this.authClient=m)}this.baseURI=this.apiEndpoint+"/upload/storage/v1/b",this.bucket=e.bucket;const n=[e.bucket,e.file];if("number"==typeof e.generation&&n.push(""+e.generation),this.cacheKey=n.join("/"),this.customRequestOptions=e.customRequestOptions||{},this.file=e.file,this.generation=e.generation,this.kmsKeyName=e.kmsKeyName,this.metadata=e.metadata||{},this.offset=e.offset,this.origin=e.origin,this.params=e.params||{},this.userProject=e.userProject,this.chunkSize=e.chunkSize,this.retryOptions=e.retryOptions,this.isPartialUpload=null!==(t=e.isPartialUpload)&&void 0!==t&&t,e.key){const t=Buffer.from(e.key).toString("base64");this.encryption={key:t,hash:(0,g.createHash)("sha256").update(e.key).digest("base64")}}this.predefinedAcl=e.predefinedAcl,e.private&&(this.predefinedAcl="private"),e.public&&(this.predefinedAcl="publicRead");const a=e.retryOptions.autoRetry;this.uriProvidedManually=!!e.uri,this.uri=e.uri,this.offset&&(this.numBytesWritten=this.offset),this.numRetries=0,a||(e.retryOptions.maxRetries=0),this.timeOfFirstRequest=Date.now();const s=e.metadata?Number(e.metadata.contentLength):NaN;this.contentLength=isNaN(s)?"*":s,u(this,i,e[O.GCCL_GCS_CMD_KEY],"f"),this.once("writing",()=>{this.uri?this.continueUploading():this.createURI(e=>{if(e)return this.destroy(e);this.startUploading()})})}_final(e=(()=>{})){this.upstreamEnded=!0,this.once("uploadFinished",e),process.nextTick(()=>{this.emit("upstreamFinished"),this.emit("writing")})}_write(e,t,r=(()=>{})){this.emit("writing"),this.writeBuffers.push("string"==typeof e?Buffer.from(e,t):e),this.once("readFromChunkBuffer",r),process.nextTick(()=>this.emit("wroteToChunkBuffer"))}prependLocalBufferToUpstream(e){let t=[];if(e){let r=0;for(;e>r;){let n=this.localWriteCache.pop();if(!n)break;if(r+=n.byteLength,r>e){const t=r-e;n=n.subarray(t),r-=t}t.unshift(n)}}else t=this.localWriteCache;const r=this.writeBuffers;this.writeBuffers=t;for(const e of r)this.writeBuffers.push(e);d(this,o,"m",a).call(this)}*pullFromChunkBuffer(e){for(;e;){const t=this.writeBuffers.shift();if(!t)break;let r=t;t.byteLength>e?(r=t.subarray(0,e),this.writeBuffers.unshift(t.subarray(e)),e=0):e-=t.byteLength,yield r,this.emit("readFromChunkBuffer")}}async waitForNextChunk(){return await new Promise(e=>{if(this.writeBuffers.length)return e(!0);if(this.upstreamEnded)return e(!1);const t=()=>(n(),e(!0)),r=()=>(n(),this.writeBuffers.length?e(!0):e(!1)),n=()=>{this.removeListener("wroteToChunkBuffer",t),this.removeListener("upstreamFinished",r)};this.once("wroteToChunkBuffer",t),this.once("upstreamFinished",r)})}async*upstreamIterator(e=1/0){for(;e&&await this.waitForNextChunk();)for(const t of this.pullFromChunkBuffer(e))e-=t.byteLength,yield t}createURI(e){if(!e)return this.createURIAsync();this.createURIAsync().then(t=>e(null,t),e)}async createURIAsync(){const e={...this.metadata},t={};e.contentLength&&(t["X-Upload-Content-Length"]=e.contentLength.toString(),delete e.contentLength),e.contentType&&(t["X-Upload-Content-Type"]=e.contentType,delete e.contentType);let r=`${(0,_.getRuntimeTrackingString)()} gccl/${S.version}-${(0,_.getModuleFormat)()} gccl-invocation-id/${this.currentInvocationId.uri}`;d(this,i,"f")&&(r+=" gccl-gcs-cmd/"+d(this,i,"f"));const n={method:"POST",url:[this.baseURI,this.bucket,"o"].join("/"),params:Object.assign({name:this.file,uploadType:"resumable"},this.params),data:e,headers:{"User-Agent":(0,_.getUserAgentString)(),"x-goog-api-client":r,...t}};e.contentLength&&(n.headers["X-Upload-Content-Length"]=e.contentLength.toString()),e.contentType&&(n.headers["X-Upload-Content-Type"]=e.contentType),void 0!==this.generation&&(n.params.ifGenerationMatch=this.generation),this.kmsKeyName&&(n.params.kmsKeyName=this.kmsKeyName),this.predefinedAcl&&(n.params.predefinedAcl=this.predefinedAcl),this.origin&&(n.headers.Origin=this.origin);const o=await(0,b.default)(async e=>{var t,r,o;try{const e=await this.makeRequest(n);return this.currentInvocationId.uri=E.v4(),e.headers.location}catch(n){const i=n,a={code:null===(t=i.response)||void 0===t?void 0:t.status,name:null===(r=i.response)||void 0===r?void 0:r.statusText,message:null===(o=i.response)||void 0===o?void 0:o.statusText,errors:[{reason:i.code}]};if(this.retryOptions.maxRetries>0&&this.retryOptions.retryableErrorFn(a))throw i;return e(i)}},{retries:this.retryOptions.maxRetries,factor:this.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.retryOptions.totalTimeout});return this.uri=o,this.offset=0,this.emit("uri",o),o}async continueUploading(){var e;return null!==(e=this.offset)&&void 0!==e||await this.getAndSetOffset(),this.startUploading()}async startUploading(){const e=!!this.chunkSize;let t=!1;if(this.numChunksReadInRequest=0,this.offset||(this.offset=0),this.offset<this.numBytesWritten){const e=this.numBytesWritten-this.offset,t=`The offset is lower than the number of bytes written. The server has ${this.offset} bytes and while ${this.numBytesWritten} bytes has been uploaded - thus ${e} bytes are missing. Stopping as this could result in data loss. Initiate a new upload to continue.`;return void this.emit("error",new RangeError(t))}if(this.numBytesWritten<this.offset){const e=this.offset-this.numBytesWritten;for await(const t of this.upstreamIterator(e));this.numBytesWritten=this.offset}let r=void 0;"number"==typeof this.contentLength&&(r=this.contentLength-this.numBytesWritten),this.chunkSize&&(r=r?Math.min(this.chunkSize,r):this.chunkSize);const n=this.upstreamIterator(r),l=new v.Readable({read:async()=>{t&&l.push(null);const r=await n.next();r.value&&(this.numChunksReadInRequest++,e||d(this,o,"m",a).call(this),d(this,o,"m",s).call(this,r.value),this.numBytesWritten+=r.value.byteLength,this.emit("progress",{bytesWritten:this.numBytesWritten,contentLength:this.contentLength}),l.push(r.value)),r.done&&l.push(null)}});let p=`${(0,_.getRuntimeTrackingString)()} gccl/${S.version}-${(0,_.getModuleFormat)()} gccl-invocation-id/${this.currentInvocationId.chunk}`;d(this,i,"f")&&(p+=" gccl-gcs-cmd/"+d(this,i,"f"));const c={"User-Agent":(0,_.getUserAgentString)(),"x-goog-api-client":p};if(e){for await(const e of this.upstreamIterator(r))d(this,o,"m",s).call(this,e);const e=this.localWriteCacheByteLength,t=!await this.waitForNextChunk();this.prependLocalBufferToUpstream();let n=this.contentLength;"number"!=typeof this.contentLength&&t&&!this.isPartialUpload&&(n=e+this.numBytesWritten);const i=e+this.numBytesWritten-1;c["Content-Length"]=e,c["Content-Range"]=`bytes ${this.offset}-${i}/${n}`}else c["Content-Range"]=`bytes ${this.offset}-*/${this.contentLength}`;const u={method:"PUT",url:this.uri,headers:c,body:l};try{const e=await this.makeRequestStream(u);e&&(t=!0,await this.responseHandler(e))}catch(e){const t=e;if(this.retryOptions.retryableErrorFn(t))return void this.attemptDelayedRetry({status:NaN,data:t});this.destroy(t)}}async responseHandler(e){if(e.data.error)return void this.destroy(e.data.error);this.currentInvocationId.chunk=E.v4();const t=await this.waitForNextChunk(),r=this.chunkSize&&308===e.status&&e.headers.range&&t,n=this.isPartialUpload&&308===e.status&&!t;if(r){const t=e.headers.range;this.offset=Number(t.split("-")[1])+1;const r=this.numBytesWritten-this.offset;r?(this.prependLocalBufferToUpstream(r),this.numBytesWritten-=r):d(this,o,"m",a).call(this),this.continueUploading()}else if(this.isSuccessfulResponse(e.status)||n)d(this,o,"m",a).call(this),e&&e.data&&(e.data.size=Number(e.data.size)),this.emit("metadata",e.data),this.emit("uploadFinished");else{const t=new Error("Upload failed");t.code=e.status,t.name="Upload failed",(null==e?void 0:e.data)&&(t.errors=[null==e?void 0:e.data]),this.destroy(t)}}async checkUploadStatus(e={}){let t=`${(0,_.getRuntimeTrackingString)()} gccl/${S.version}-${(0,_.getModuleFormat)()} gccl-invocation-id/${this.currentInvocationId.checkUploadStatus}`;d(this,i,"f")&&(t+=" gccl-gcs-cmd/"+d(this,i,"f"));const r={method:"PUT",url:this.uri,headers:{"Content-Length":0,"Content-Range":"bytes */*","User-Agent":(0,_.getUserAgentString)(),"x-goog-api-client":t}};try{const e=await this.makeRequest(r);return this.currentInvocationId.checkUploadStatus=E.v4(),e}catch(t){if(!(!1!==e.retry&&t instanceof Error&&this.retryOptions.retryableErrorFn(t)))throw t;const r=this.getRetryDelay();if(r<=0)throw t;return await new Promise(e=>setTimeout(e,r)),this.checkUploadStatus(e)}}async getAndSetOffset(){try{const e=await this.checkUploadStatus({retry:!1});if(308===e.status&&"string"==typeof e.headers.range)return void(this.offset=Number(e.headers.range.split("-")[1])+1);this.offset=0}catch(e){const t=e;if(this.retryOptions.retryableErrorFn(t))return void this.attemptDelayedRetry({status:NaN,data:t});this.destroy(t)}}async makeRequest(e){this.encryption&&(e.headers=e.headers||{},e.headers["x-goog-encryption-algorithm"]="AES256",e.headers["x-goog-encryption-key"]=this.encryption.key.toString(),e.headers["x-goog-encryption-key-sha256"]=this.encryption.hash.toString()),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.validateStatus=e=>this.isSuccessfulResponse(e)||308===e;const t={...this.customRequestOptions,...e,headers:{...this.customRequestOptions.headers,...e.headers}},r=await this.authClient.request(t);if(r.data&&r.data.error)throw r.data.error;return r}async makeRequestStream(e){const t=new f.default,r=()=>t.abort();this.once("error",r),this.userProject&&(e.params=e.params||{},e.params.userProject=this.userProject),e.signal=t.signal,e.validateStatus=()=>!0;const n={...this.customRequestOptions,...e,headers:{...this.customRequestOptions.headers,...e.headers}},o=await this.authClient.request(n),i=this.onResponse(o);return this.removeListener("error",r),i?o:null}onResponse(e){return 200!==e.status&&this.retryOptions.retryableErrorFn({code:e.status,message:e.statusText,name:e.statusText})?(this.attemptDelayedRetry(e),!1):(this.emit("response",e),!0)}attemptDelayedRetry(e){if(this.numRetries<this.retryOptions.maxRetries){if(404===e.status&&0===this.numChunksReadInRequest)this.startUploading();else{const t=this.getRetryDelay();if(t<=0)return void this.destroy(new Error("Retry total time limit exceeded - "+JSON.stringify(e.data)));this.numBytesWritten-=this.localWriteCacheByteLength,this.prependLocalBufferToUpstream(),this.offset=void 0,setTimeout(this.continueUploading.bind(this),t)}this.numRetries++}else this.destroy(new Error("Retry limit exceeded - "+JSON.stringify(e.data)))}getRetryDelay(){const e=Math.round(1e3*Math.random()),t=1e3*Math.pow(this.retryOptions.retryDelayMultiplier,this.numRetries)+e,r=1e3*this.retryOptions.totalTimeout-(Date.now()-this.timeOfFirstRequest),n=1e3*this.retryOptions.maxRetryDelay;return Math.min(t,n,r)}sanitizeEndpoint(e){return t.PROTOCOL_REGEX.test(e)||(e="https://"+e),e.replace(/\/+$/,"")}isSuccessfulResponse(e){return e>=200&&e<300}}t.Upload=T,i=new WeakMap,o=new WeakSet,a=function(){this.localWriteCache=[],this.localWriteCacheByteLength=0},s=function(e){this.localWriteCache.push(e),this.localWriteCacheByteLength+=e.byteLength}},function(e,t,r){"use strict";
/*!
 * Copyright 2022 Google LLC. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n,o,i,a,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&s(t,e,r[o]);return l(t,e),t}),c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransferManager=t.MultiPartUploadError=void 0;const d=r(110),h=u(r(356)),f=p(r(46)),g=r(17),m=r(111),y=r(52),v=r(666),b=u(r(142)),E=r(0),_=r(87),O=r(56),w=(0,r(108).getPackageJSON)(),S="tm.upload_many",T="tm.download_many",A="tm.upload_sharded",C="tm.download_sharded",I=(e,t,r,n)=>new P(e,t,r,n);class N extends Error{constructor(e,t,r){super(e),this.uploadId=t,this.partsMap=r}}t.MultiPartUploadError=N;class P{constructor(e,t,r,n){o.add(this),this.authClient=e.storage.authClient||new y.GoogleAuth,this.uploadId=r||"",this.bucket=e,this.fileName=t,this.baseUrl=`https://${e.name}.${new URL(this.bucket.storage.apiEndpoint).hostname}/${t}`,this.xmlBuilder=new v.XMLBuilder({arrayNodeName:"Part"}),this.xmlParser=new v.XMLParser,this.partsMap=n||new Map,this.retryOptions={retries:this.bucket.storage.retryOptions.maxRetries,factor:this.bucket.storage.retryOptions.retryDelayMultiplier,maxTimeout:1e3*this.bucket.storage.retryOptions.maxRetryDelay,maxRetryTime:1e3*this.bucket.storage.retryOptions.totalTimeout}}async initiateUpload(e={}){const t=this.baseUrl+"?uploads";return(0,b.default)(async r=>{try{const r=await this.authClient.request({headers:c(this,o,"m",i).call(this,e),method:"POST",url:t});if(r.data&&r.data.error)throw r.data.error;const n=this.xmlParser.parse(r.data);this.uploadId=n.InitiateMultipartUploadResult.UploadId}catch(e){c(this,o,"m",a).call(this,e,r)}},this.retryOptions)}async uploadPart(e,t,r){const n=`${this.baseUrl}?partNumber=${e}&uploadId=${this.uploadId}`;let s=c(this,o,"m",i).call(this);if("md5"===r){const e=(0,E.createHash)("md5").update(t).digest("base64");s={"Content-MD5":e}}return(0,b.default)(async r=>{try{const r=await this.authClient.request({url:n,method:"PUT",body:t,headers:s});if(r.data&&r.data.error)throw r.data.error;this.partsMap.set(e,r.headers.etag)}catch(e){c(this,o,"m",a).call(this,e,r)}},this.retryOptions)}async completeUpload(){const e=`${this.baseUrl}?uploadId=${this.uploadId}`,t=new Map([...this.partsMap.entries()].sort((e,t)=>e[0]-t[0])),r=[];for(const e of t.entries())r.push({PartNumber:e[0],ETag:e[1]});const n=`<CompleteMultipartUpload>${this.xmlBuilder.build(r)}</CompleteMultipartUpload>`;return(0,b.default)(async t=>{try{const t=await this.authClient.request({headers:c(this,o,"m",i).call(this),url:e,method:"POST",body:n});if(t.data&&t.data.error)throw t.data.error;return t}catch(e){return void c(this,o,"m",a).call(this,e,t)}},this.retryOptions)}async abortUpload(){const e=`${this.baseUrl}?uploadId=${this.uploadId}`;return(0,b.default)(async t=>{try{const t=await this.authClient.request({url:e,method:"DELETE"});if(t.data&&t.data.error)throw t.data.error}catch(e){return void c(this,o,"m",a).call(this,e,t)}},this.retryOptions)}}o=new WeakSet,i=function(e={}){let t=!1,r=!1;for(const[n,o]of Object.entries(e))"x-goog-api-client"===n.toLocaleLowerCase().trim()?(t=!0,o.includes(A)||(e[n]=`${o} gccl-gcs-cmd/${A}`)):"user-agent"===n.toLocaleLowerCase().trim()&&(r=!0);return t||(e["x-goog-api-client"]=`${(0,O.getRuntimeTrackingString)()} gccl/${w.version} gccl-gcs-cmd/${A}`),r||(e["User-Agent"]=(0,O.getUserAgentString)()),e},a=function(e,t){if(this.bucket.storage.retryOptions.autoRetry&&this.bucket.storage.retryOptions.retryableErrorFn(e))throw e;t(e)};t.TransferManager=class{constructor(e){this.bucket=e}async uploadManyFiles(e,t={}){var r;t.skipIfExists&&(null===(r=t.passthroughOptions)||void 0===r?void 0:r.preconditionOpts)?t.passthroughOptions.preconditionOpts.ifGenerationMatch=0:t.skipIfExists&&void 0===t.passthroughOptions&&(t.passthroughOptions={preconditionOpts:{ifGenerationMatch:0}});const n=(0,h.default)(t.concurrencyLimit||5),o=[];let i=[];if(Array.isArray(e))i=e;else for await(const t of this.getPathsFromDirectory(e))i.push(t);for(const e of i){if((await g.promises.lstat(e)).isDirectory())continue;const r={...t.passthroughOptions,[_.GCCL_GCS_CMD_KEY]:S};r.destination=t.customDestinationBuilder?t.customDestinationBuilder(e,t):e.split(f.sep).join(f.posix.sep),t.prefix&&(r.destination=f.posix.join(...t.prefix.split(f.sep),r.destination)),o.push(n(()=>this.bucket.upload(e,r)))}return Promise.all(o)}async downloadManyFiles(e,t={}){const r=(0,h.default)(t.concurrencyLimit||5),n=[];let o=[];if(Array.isArray(e))o=e.map(e=>"string"==typeof e?this.bucket.file(e):e);else{o=(await this.bucket.getFiles({prefix:e}))[0]}const i=t.stripPrefix?"^"+t.stripPrefix:"(?:)",a=new RegExp(i,"g");for(const e of o){const o={...t.passthroughOptions,[_.GCCL_GCS_CMD_KEY]:T};(t.prefix||o.destination)&&(o.destination=f.join(t.prefix||"",o.destination||"",e.name)),t.stripPrefix&&(o.destination=e.name.replace(a,"")),t.skipIfExists&&(0,g.existsSync)(o.destination||"")||n.push(r(async()=>{const t=o.destination;return t&&t.endsWith(f.sep)?(await g.promises.mkdir(t,{recursive:!0}),Promise.resolve([Buffer.alloc(0)])):e.download(o)}))}return Promise.all(n)}async downloadFileInChunks(e,t={}){let r=t.chunkSizeBytes||33554432,n=(0,h.default)(t.concurrencyLimit||5);const o=Boolean(t.noReturnData),i=[],a="string"==typeof e?this.bucket.file(e):e,s=await a.get(),l=parseInt(s[0].metadata.size.toString());l<33554432&&(n=(0,h.default)(1),r=l);let p=0;const c=t.destination||f.basename(a.name),u=await g.promises.open(c,"w");for(;p<l;){const e=p;let t=p+r-1;t=t>l?l:t,i.push(n(async()=>{const r=await a.download({start:e,end:t,[_.GCCL_GCS_CMD_KEY]:C}),n=await u.write(r[0],0,r[0].length,e);if(!o)return n.buffer})),p+=r}let y;try{y=await Promise.all(i)}finally{await u.close()}if("crc32c"===t.validation&&s[0].metadata.crc32c){if(!(await m.CRC32C.fromFile(c)).validate(s[0].metadata.crc32c)){const e=new d.RequestError(d.FileExceptionMessages.DOWNLOAD_MISMATCH);throw e.code="CONTENT_DOWNLOAD_MISMATCH",e}}if(!o)return[Buffer.concat(y,l)]}async uploadFileInChunks(e,t={},r=I){const n=t.chunkSizeBytes||33554432,o=(0,h.default)(t.concurrencyLimit||5),i=t.maxQueueSize||t.concurrencyLimit||5,a=t.uploadName||f.basename(e),s=r(this.bucket,a,t.uploadId,t.partsMap);let l=1,p=[];try{void 0===t.uploadId&&await s.initiateUpload(t.headers);const r=s.partsMap.size*n,a=(0,g.createReadStream)(e,{highWaterMark:n,start:r});for await(const e of a)p.length>=i&&(await Promise.all(p),p=[]),p.push(o(()=>s.uploadPart(l++,e,t.validation)));return await Promise.all(p),await s.completeUpload()}catch(e){if((void 0===t.autoAbortFailure||t.autoAbortFailure)&&s.uploadId)try{return void await s.abortUpload()}catch(e){throw new N(e.message,s.uploadId,s.partsMap)}throw new N(e.message,s.uploadId,s.partsMap)}}async*getPathsFromDirectory(e){const t=await g.promises.readdir(e,{withFileTypes:!0});for(const r of t){const t=f.join(e,r.name);r.isDirectory()?yield*this.getPathsFromDirectory(t):yield t}}}},function(e,t,r){"use strict";const n=r(364),o=r(667),i=r(674);e.exports={XMLParser:o,XMLValidator:n,XMLBuilder:i}},function(e,t,r){const{buildOptions:n}=r(668),o=r(669),{prettify:i}=r(673),a=r(364);e.exports=class{constructor(e){this.externalEntities={},this.options=n(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const r=a.validate(e,t);if(!0!==r)throw Error(`${r.err.msg}:${r.err.line}:${r.err.col}`)}const r=new o(this.options);r.addExternalEntities(this.externalEntities);const n=r.parseXml(e);return this.options.preserveOrder||void 0===n?n:i(n,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},function(e,t){const r={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}};t.buildOptions=function(e){return Object.assign({},r,e)},t.defaultOptions=r},function(e,t,r){"use strict";const n=r(203),o=r(670),i=r(671),a=r(672),s=r(365);function l(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function p(e,t,r,n,o,i,a){if(void 0!==e&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const n=this.options.tagValueProcessor(t,e,r,o,i);if(null==n)return e;if(typeof n!=typeof e||n!==e)return n;if(this.options.trimValues)return _(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?_(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function c(e){if(this.options.removeNSPrefix){const t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t,r){if(!0!==this.options.ignoreAttributes&&"string"==typeof e){const r=n.getAllMatches(e,u),o=r.length,i={};for(let e=0;e<o;e++){const n=this.resolveNameSpace(r[e][1]);if(this.ignoreAttributesFn(n,t))continue;let o=r[e][4],a=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==o){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);const e=this.options.attributeValueProcessor(n,o,t);i[a]=null==e?o:typeof e!=typeof o||e!==o?e:_(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[a]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=i,e}return i}}const h=function(e){e=e.replace(/\r\n?/g,"\n");const t=new o("!xml");let r=t,n="",a="";for(let s=0;s<e.length;s++){if("<"===e[s])if("/"===e[s+1]){const t=v(e,">",s,"Closing Tag is not closed.");let o=e.substring(s+2,t).trim();if(this.options.removeNSPrefix){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),r&&(n=this.saveTextToParentTag(n,r,a));const i=a.substring(a.lastIndexOf(".")+1);if(o&&-1!==this.options.unpairedTags.indexOf(o))throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let l=0;i&&-1!==this.options.unpairedTags.indexOf(i)?(l=a.lastIndexOf(".",a.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=a.lastIndexOf("."),a=a.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=t}else if("?"===e[s+1]){let t=b(e,s,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,a),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new o(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,a,t.tagName)),this.addChild(r,e,a)}s=t.closeIndex+1}else if("!--"===e.substr(s+1,3)){const t=v(e,"--\x3e",s+4,"Comment is not closed.");if(this.options.commentPropName){const o=e.substring(s+4,t-2);n=this.saveTextToParentTag(n,r,a),r.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}s=t}else if("!D"===e.substr(s+1,2)){const t=i(e,s);this.docTypeEntities=t.entities,s=t.i}else if("!["===e.substr(s+1,2)){const t=v(e,"]]>",s,"CDATA is not closed.")-2,o=e.substring(s+9,t);n=this.saveTextToParentTag(n,r,a);let i=this.parseTextData(o,r.tagname,a,!0,!1,!0,!0);null==i&&(i=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):r.add(this.options.textNodeName,i),s=t+2}else{let i=b(e,s,this.options.removeNSPrefix),l=i.tagName;const p=i.rawTagName;let c=i.tagExp,u=i.attrExpPresent,d=i.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&"!xml"!==r.tagname&&(n=this.saveTextToParentTag(n,r,a,!1));const h=r;if(h&&-1!==this.options.unpairedTags.indexOf(h.tagname)&&(r=this.tagsNodeStack.pop(),a=a.substring(0,a.lastIndexOf("."))),l!==t.tagname&&(a+=a?"."+l:l),this.isItStopNode(this.options.stopNodes,a,l)){let t="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)"/"===l[l.length-1]?(l=l.substr(0,l.length-1),a=a.substr(0,a.length-1),c=l):c=c.substr(0,c.length-1),s=i.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(l))s=i.closeIndex;else{const r=this.readStopNodeData(e,p,d+1);if(!r)throw new Error("Unexpected end of "+p);s=r.i,t=r.tagContent}const n=new o(l);l!==c&&u&&(n[":@"]=this.buildAttributesMap(c,a,l)),t&&(t=this.parseTextData(t,l,a,!0,u,!0,!0)),a=a.substr(0,a.lastIndexOf(".")),n.add(this.options.textNodeName,t),this.addChild(r,n,a)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){"/"===l[l.length-1]?(l=l.substr(0,l.length-1),a=a.substr(0,a.length-1),c=l):c=c.substr(0,c.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const e=new o(l);l!==c&&u&&(e[":@"]=this.buildAttributesMap(c,a,l)),this.addChild(r,e,a),a=a.substr(0,a.lastIndexOf("."))}else{const e=new o(l);this.tagsNodeStack.push(r),l!==c&&u&&(e[":@"]=this.buildAttributesMap(c,a,l)),this.addChild(r,e,a),r=e}n="",s=d}}else n+=e[s]}return t.child};function f(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);!1===n||("string"==typeof n?(t.tagname=n,e.addChild(t)):e.addChild(t))}const g=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function m(e,t,r,n){return e&&(void 0===n&&(n=0===t.child.length),void 0!==(e=this.parseTextData(e,t.tagname,r,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,n))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function y(e,t,r){const n="*."+r;for(const r in e){const o=e[r];if(n===o||t===o)return!0}return!1}function v(e,t,r,n){const o=e.indexOf(t,r);if(-1===o)throw new Error(n);return o+t.length-1}function b(e,t,r,n=">"){const o=function(e,t,r=">"){let n,o="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else if(t===r[0]){if(!r[1])return{data:o,index:i};if(e[i+1]===r[1])return{data:o,index:i}}else"\t"===t&&(t=" ");o+=t}}(e,t+1,n);if(!o)return;let i=o.data;const a=o.index,s=i.search(/\s/);let l=i,p=!0;-1!==s&&(l=i.substring(0,s),i=i.substring(s+1).trimStart());const c=l;if(r){const e=l.indexOf(":");-1!==e&&(l=l.substr(e+1),p=l!==o.data.substr(e+1))}return{tagName:l,tagExp:i,closeIndex:a,attrExpPresent:p,rawTagName:c}}function E(e,t,r){const n=r;let o=1;for(;r<e.length;r++)if("<"===e[r])if("/"===e[r+1]){const i=v(e,">",r,t+" is not closed");if(e.substring(r+2,i).trim()===t&&(o--,0===o))return{tagContent:e.substring(n,r),i:i};r=i}else if("?"===e[r+1]){r=v(e,"?>",r+1,"StopNode is not closed.")}else if("!--"===e.substr(r+1,3)){r=v(e,"--\x3e",r+3,"StopNode is not closed.")}else if("!["===e.substr(r+1,2)){r=v(e,"]]>",r,"StopNode is not closed.")-2}else{const n=b(e,r,">");if(n){(n&&n.tagName)===t&&"/"!==n.tagExp[n.tagExp.length-1]&&o++,r=n.closeIndex}}}function _(e,t,r){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&a(e,r)}return n.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(e,t)=>String.fromCharCode(Number.parseInt(t,16))}},this.addExternalEntities=l,this.parseXml=h,this.parseTextData=p,this.resolveNameSpace=c,this.buildAttributesMap=d,this.isItStopNode=y,this.replaceEntitiesValue=g,this.readStopNodeData=E,this.saveTextToParentTag=m,this.addChild=f,this.ignoreAttributesFn=s(this.options.ignoreAttributes)}}},function(e,t,r){"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},function(e,t,r){const n=r(203);function o(e,t){let r="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)r+=e[t];if(r=r.trim(),-1!==r.indexOf(" "))throw new Error("External entites are not supported");const n=e[t++];let o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function i(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function a(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function s(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function l(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function p(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function c(e){if(n.isName(e))return e;throw new Error("Invalid entity name "+e)}e.exports=function(e,t){const r={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let n=1,u=!1,d=!1,h="";for(;t<e.length;t++)if("<"!==e[t]||d)if(">"===e[t]){if(d?"-"===e[t-1]&&"-"===e[t-2]&&(d=!1,n--):n--,0===n)break}else"["===e[t]?u=!0:h+=e[t];else{if(u&&a(e,t)){let n,i;t+=7,[n,i,t]=o(e,t+1),-1===i.indexOf("&")&&(r[c(n)]={regx:RegExp(`&${n};`,"g"),val:i})}else if(u&&s(e,t))t+=8;else if(u&&l(e,t))t+=8;else if(u&&p(e,t))t+=9;else{if(!i)throw new Error("Invalid DOCTYPE");d=!0}n++,h=""}if(0!==n)throw new Error("Unclosed DOCTYPE")}return{entities:r,i:t}}},function(e,t){const r=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,o={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,t={}){if(t=Object.assign({},o,t),!e||"string"!=typeof e)return e;let i=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(i))return e;if("0"===e)return 0;if(t.hex&&r.test(i))return function(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(i,16);if(-1!==i.search(/[eE]/)){const r=i.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(r){if(t.leadingZeros)i=(r[1]||"")+r[3];else if("0"!==r[2]||"."!==r[3][0])return e;return t.eNotation?Number(i):e}return e}{const r=n.exec(i);if(r){const n=r[1],o=r[2];let a=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(r[3]);if(!t.leadingZeros&&o.length>0&&n&&"."!==i[2])return e;if(!t.leadingZeros&&o.length>0&&!n&&"."!==i[1])return e;if(t.leadingZeros&&o===e)return 0;{const r=Number(i),s=""+r;return-1!==s.search(/[eE]/)?t.eNotation?r:e:-1!==i.indexOf(".")?"0"===s&&""===a||s===a||n&&s==="-"+a?r:e:o?a===s||n+a===s?r:e:i===s||i===n+s?r:e}}return e}}},function(e,t,r){"use strict";function n(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const r=t[e];if(":@"!==r)return r}}function o(e,t,r,n){if(t){const o=Object.keys(t),i=o.length;for(let a=0;a<i;a++){const i=o[a];n.isArray(i,r+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function i(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return 0===n||!(1!==n||!e[r]&&"boolean"!=typeof e[r]&&0!==e[r])}t.prettify=function(e,t){return function e(t,r,a){let s;const l={};for(let p=0;p<t.length;p++){const c=t[p],u=n(c);let d="";if(d=void 0===a?u:a+"."+u,u===r.textNodeName)void 0===s?s=c[u]:s+=""+c[u];else{if(void 0===u)continue;if(c[u]){let t=e(c[u],r,d);const n=i(t,r);c[":@"]?o(t,c[":@"],d,r):1!==Object.keys(t).length||void 0===t[r.textNodeName]||r.alwaysCreateTextNode?0===Object.keys(t).length&&(r.alwaysCreateTextNode?t[r.textNodeName]="":t=""):t=t[r.textNodeName],void 0!==l[u]&&l.hasOwnProperty(u)?(Array.isArray(l[u])||(l[u]=[l[u]]),l[u].push(t)):r.isArray(u,d,n)?l[u]=[t]:l[u]=t}}}"string"==typeof s?s.length>0&&(l[r.textNodeName]=s):void 0!==s&&(l[r.textNodeName]=s);return l}(e,t)}},function(e,t,r){"use strict";const n=r(675),o=r(365),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function a(e){this.options=Object.assign({},i,e),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=o(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=p),this.processTextOrObjNode=s,this.options.format?(this.indentate=l,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function s(e,t,r,n){const o=this.j2x(e,r+1,n.concat(t));return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,o.attrStr,r):this.buildObjectNode(o.val,t,o.attrStr,r)}function l(e){return this.options.indentBy.repeat(e)}function p(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}a.prototype.build=function(e){return this.options.preserveOrder?n(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0,[]).val)},a.prototype.j2x=function(e,t,r){let n="",o="";const i=r.join(".");for(let a in e)if(Object.prototype.hasOwnProperty.call(e,a))if(void 0===e[a])this.isAttribute(a)&&(o+="");else if(null===e[a])this.isAttribute(a)||a===this.options.cdataPropName?o+="":"?"===a[0]?o+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if(e[a]instanceof Date)o+=this.buildTextValNode(e[a],a,"",t);else if("object"!=typeof e[a]){const r=this.isAttribute(a);if(r&&!this.ignoreAttributesFn(r,i))n+=this.buildAttrPairStr(r,""+e[a]);else if(!r)if(a===this.options.textNodeName){let t=this.options.tagValueProcessor(a,""+e[a]);o+=this.replaceEntitiesValue(t)}else o+=this.buildTextValNode(e[a],a,"",t)}else if(Array.isArray(e[a])){const n=e[a].length;let i="",s="";for(let l=0;l<n;l++){const n=e[a][l];if(void 0===n);else if(null===n)"?"===a[0]?o+=this.indentate(t)+"<"+a+"?"+this.tagEndChar:o+=this.indentate(t)+"<"+a+"/"+this.tagEndChar;else if("object"==typeof n)if(this.options.oneListGroup){const e=this.j2x(n,t+1,r.concat(a));i+=e.val,this.options.attributesGroupName&&n.hasOwnProperty(this.options.attributesGroupName)&&(s+=e.attrStr)}else i+=this.processTextOrObjNode(n,a,t,r);else if(this.options.oneListGroup){let e=this.options.tagValueProcessor(a,n);e=this.replaceEntitiesValue(e),i+=e}else i+=this.buildTextValNode(n,a,"",t)}this.options.oneListGroup&&(i=this.buildObjectNode(i,a,s,t)),o+=i}else if(this.options.attributesGroupName&&a===this.options.attributesGroupName){const t=Object.keys(e[a]),r=t.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(t[o],""+e[a][t[o]])}else o+=this.processTextOrObjNode(e[a],a,t,r);return{attrStr:n,val:o}},a.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},a.prototype.buildObjectNode=function(e,t,r,n){if(""===e)return"?"===t[0]?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return"?"===t[0]&&(i="?",o=""),!r&&""!==r||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===i.length?this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(n)+"<"+t+r+i+this.tagEndChar+e+this.indentate(n)+o:this.indentate(n)+"<"+t+r+i+">"+e+o}},a.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":"></"+e,t},a.prototype.buildTextValNode=function(e,t,r,n){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(n)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),""===o?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}},a.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e},e.exports=a},function(e,t){function r(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(e.hasOwnProperty(n)&&":@"!==n)return n}}function n(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){if(!e.hasOwnProperty(n))continue;let o=t.attributeValueProcessor(n,e[n]);o=i(o,t),!0===o&&t.suppressBooleanAttributes?r+=" "+n.substr(t.attributeNamePrefix.length):r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function o(e,t){let r=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function i(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}e.exports=function(e,t){let a="";return t.format&&t.indentBy.length>0&&(a="\n"),function e(t,a,s,l){let p="",c=!1;for(let u=0;u<t.length;u++){const d=t[u],h=r(d);if(void 0===h)continue;let f="";if(f=0===s.length?h:`${s}.${h}`,h===a.textNodeName){let e=d[h];o(f,a)||(e=a.tagValueProcessor(h,e),e=i(e,a)),c&&(p+=l),p+=e,c=!1;continue}if(h===a.cdataPropName){c&&(p+=l),p+=`<![CDATA[${d[h][0][a.textNodeName]}]]>`,c=!1;continue}if(h===a.commentPropName){p+=l+`\x3c!--${d[h][0][a.textNodeName]}--\x3e`,c=!0;continue}if("?"===h[0]){const e=n(d[":@"],a),t="?xml"===h?"":l;let r=d[h][0][a.textNodeName];r=0!==r.length?" "+r:"",p+=t+`<${h}${r}${e}?>`,c=!0;continue}let g=l;""!==g&&(g+=a.indentBy);const m=n(d[":@"],a),y=l+`<${h}${m}`,v=e(d[h],a,f,g);-1!==a.unpairedTags.indexOf(h)?a.suppressUnpairedNode?p+=y+">":p+=y+"/>":v&&0!==v.length||!a.suppressEmptyNode?v&&v.endsWith(">")?p+=y+`>${v}${l}</${h}>`:(p+=y+">",v&&""!==l&&(v.includes("/>")||v.includes("</"))?p+=l+a.indentBy+v+l:p+=v,p+=`</${h}>`):p+=y+"/>",c=!0}return p}(e,t,"",a)}},function(e,t,r){"use strict";var n=e.exports=r(677);n.build="full",n.tokenize=r(377),n.parse=r(690),n.common=r(691),n.Root._configure(n.Type,n.parse,n.common)},function(e,t,r){"use strict";var n=e.exports=r(367);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(372),n.decoder=r(373),n.verifier=r(374),n.converter=r(375),n.ReflectionObject=r(90),n.Namespace=r(112),n.Root=r(211),n.Enum=r(50),n.Type=r(206),n.Field=r(77),n.OneOf=r(113),n.MapField=r(207),n.Service=r(208),n.Method=r(209),n.Message=r(210),n.wrappers=r(376),n.types=r(91),n.util=r(16),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,i=null,a=[],s=0,l=0;t<r;){var p=e[t++];switch(l){case 0:a[s++]=o[p>>2],n=(3&p)<<4,l=1;break;case 1:a[s++]=o[n|p>>4],n=(15&p)<<2,l=2;break;case 2:a[s++]=o[n|p>>6],a[s++]=o[63&p],l=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return l&&(a[s++]=o[n],a[s++]=61,1===l&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,r){for(var n,o=r,a=0,s=0;s<e.length;){var l=e.charCodeAt(s++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error("invalid encoding");switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,o,i+t),e((a<<31|l+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,l=a>>>20&2047,p=4294967296*(1048575&a)+i;return 2047===l?p?NaN:s*(1/0):0===l?5e-324*s*p:s*Math.pow(2,l-1075)*(p+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){"use strict";e.exports=o;var n=r(59);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=i;var n=r(204);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(59);function i(){n.call(this)}function a(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},function(e,t,r){"use strict";e.exports=i;var n=r(205);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(59);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,r){"use strict";e.exports=o;var n=r(59);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";function n(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function o(e){if("string"!=typeof e){var t=i();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),l=new Array(a.length),p=0;p<a.length;)s[p]=a[p],l[p]=e[a[p++]];return s[p]=t,Function.apply(null,s).apply(null,l)}return Function(t)()}for(var c=new Array(arguments.length-1),u=0;u<c.length;)c[u]=arguments[++u];if(u=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=c[u++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),u!==c.length)throw Error("parameter count mismatch");return r.push(e),o}function i(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=n,n.verbose=!1},function(e,t,r){"use strict";e.exports=i;var n=r(368),o=r(369)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,o){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},function(e,t,r){"use strict";var n=t,o=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=o(e),n="";r&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=i(t)),o(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},function(e,t,r){"use strict";e.exports=S,S.filename=null,S.defaults={keepCase:!1};var n=r(377),o=r(211),i=r(206),a=r(77),s=r(207),l=r(113),p=r(50),c=r(208),u=r(209),d=r(91),h=r(16),f=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,b=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,O=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,w=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function S(e,t,r){t instanceof o||(r=t,t=new o),r||(r=S.defaults);var T,A,C,I,N,P=r.preferTrailingComment||!1,R=n(e,r.alternateCommentMode||!1),D=R.next,k=R.push,x=R.peek,j=R.skip,L=R.cmnt,F=!0,M=!1,U=t,B=r.keepCase?function(e){return e}:h.camelCase;function V(e,t,r){var n=S.filename;return r||(S.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+R.line+")")}function q(){var e,t=[];do{if('"'!==(e=D())&&"'"!==e)throw V(e);t.push(D()),j(e),e=x()}while('"'===e||"'"===e);return t.join("")}function G(e){var t=D();switch(t){case"'":case'"':return k(t),q();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(v.test(e))return r*parseInt(e,8);if(E.test(e))return r*parseFloat(e);throw V(e,"number",t)}(t,!0)}catch(r){if(e&&O.test(t))return t;throw V(t,"value")}}function H(e,t){var r,n;do{!t||'"'!==(r=x())&&"'"!==r?e.push([n=z(D()),j("to",!0)?z(D()):n]):e.push(q())}while(j(",",!0));var o={options:void 0,setOption:function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t}};$(o,(function(e){if("option"!==e)throw V(e);ee(o,e),j(";")}),(function(){ne(o)}))}function z(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw V(e,"id");if(g.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw V(e,"id")}function W(){if(void 0!==T)throw V("package");if(T=D(),!O.test(T))throw V(T,"name");U=U.define(T),j(";")}function J(){var e,t=x();switch(t){case"weak":e=C||(C=[]),D();break;case"public":D();default:e=A||(A=[])}t=q(),j(";"),e.push(t)}function K(){if(j("="),I=q(),!(M="proto3"===I)&&"proto2"!==I)throw V(I,"syntax");t.setOption("syntax",I),j(";")}function Y(e,t){switch(t){case"option":return ee(e,t),j(";"),!0;case"message":return Q(e,t),!0;case"enum":return Z(e,t),!0;case"service":return function(e,t){if(!_.test(t=D()))throw V(t,"service name");var r=new c(t);$(r,(function(e){if(!Y(r,e)){if("rpc"!==e)throw V(e);!function(e,t){var r=L(),n=t;if(!_.test(t=D()))throw V(t,"name");var o,i,a,s,l=t;j("("),j("stream",!0)&&(i=!0);if(!O.test(t=D()))throw V(t);o=t,j(")"),j("returns"),j("("),j("stream",!0)&&(s=!0);if(!O.test(t=D()))throw V(t);a=t,j(")");var p=new u(l,n,o,a,i,s);p.comment=r,$(p,(function(e){if("option"!==e)throw V(e);ee(p,e),j(";")})),e.add(p)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!O.test(t=D()))throw V(t,"reference");var r=t;$(null,(function(t){switch(t){case"required":case"repeated":X(e,t,r);break;case"optional":X(e,M?"proto3_optional":"optional",r);break;default:if(!M||!O.test(t))throw V(t);k(t),X(e,"optional",r)}}))}(e,t),!0}return!1}function $(e,t,r){var n=R.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=S.filename),j("{",!0)){for(var o;"}"!==(o=D());)t(o);j(";",!0)}else r&&r(),j(";"),e&&("string"!=typeof e.comment||P)&&(e.comment=L(n)||e.comment)}function Q(e,t){if(!_.test(t=D()))throw V(t,"type name");var r=new i(t);$(r,(function(e){if(!Y(r,e))switch(e){case"map":!function(e){j("<");var t=D();if(void 0===d.mapKey[t])throw V(t,"type");j(",");var r=D();if(!O.test(r))throw V(r,"type");j(">");var n=D();if(!_.test(n))throw V(n,"name");j("=");var o=new s(B(n),z(D()),t,r);$(o,(function(e){if("option"!==e)throw V(e);ee(o,e),j(";")}),(function(){ne(o)})),e.add(o)}(r);break;case"required":case"repeated":X(r,e);break;case"optional":X(r,M?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!_.test(t=D()))throw V(t,"name");var r=new l(B(t));$(r,(function(e){"option"===e?(ee(r,e),j(";")):(k(e),X(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":H(r.extensions||(r.extensions=[]));break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:if(!M||!O.test(e))throw V(e);k(e),X(r,"optional")}})),e.add(r)}function X(e,t,r){var n=D();if("group"!==n){for(;n.endsWith(".")||x().startsWith(".");)n+=D();if(!O.test(n))throw V(n,"type");var o=D();if(!_.test(o))throw V(o,"name");o=B(o),j("=");var s=new a(o,z(D()),n,t,r);if($(s,(function(e){if("option"!==e)throw V(e);ee(s,e),j(";")}),(function(){ne(s)})),"proto3_optional"===t){var p=new l("_"+o);s.setOption("proto3_optional",!0),p.add(s),e.add(p)}else e.add(s);M||!s.repeated||void 0===d.packed[n]&&void 0!==d.basic[n]||s.setOption("packed",!1,!0)}else!function(e,t){var r=D();if(!_.test(r))throw V(r,"name");var n=h.lcFirst(r);r===n&&(r=h.ucFirst(r));j("=");var o=z(D()),s=new i(r);s.group=!0;var l=new a(n,o,r,t);l.filename=S.filename,$(s,(function(e){switch(e){case"option":ee(s,e),j(";");break;case"required":case"repeated":X(s,e);break;case"optional":X(s,M?"proto3_optional":"optional");break;case"message":Q(s,e);break;case"enum":Z(s,e);break;default:throw V(e)}})),e.add(s).add(l)}(e,t)}function Z(e,t){if(!_.test(t=D()))throw V(t,"name");var r=new p(t);$(r,(function(e){switch(e){case"option":ee(r,e),j(";");break;case"reserved":H(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!_.test(t))throw V(t,"name");j("=");var r=z(D(),!0),n={options:void 0,setOption:function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t}};$(n,(function(e){if("option"!==e)throw V(e);ee(n,e),j(";")}),(function(){ne(n)})),e.add(t,r,n.comment,n.options)}(r,e)}})),e.add(r)}function ee(e,t){var r=j("(",!0);if(!O.test(t=D()))throw V(t,"name");var n,o=t,i=o;r&&(j(")"),i=o="("+o+")",t=x(),w.test(t)&&(n=t.slice(1),o+=t,D())),j("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,i,te(e,o),n)}function te(e,t){if(j("{",!0)){for(var r={};!j("}",!0);){if(!_.test(N=D()))throw V(N,"name");if(null===N)throw V(N,"end of input");var n,o=N;if(j(":",!0),"{"===x())n=te(e,t+"."+N);else if("["===x()){var i;if(n=[],j("[",!0)){do{i=G(!0),n.push(i)}while(j(",",!0));j("]"),void 0!==i&&re(e,t+"."+N,i)}}else n=G(!0),re(e,t+"."+N,n);var a=r[o];a&&(n=[].concat(a).concat(n)),r[o]=n,j(",",!0),j(";",!0)}return r}var s=G(!0);return re(e,t,s),s}function re(e,t,r){e.setOption&&e.setOption(t,r)}function ne(e){if(j("[",!0)){do{ee(e,"option")}while(j(",",!0));j("]")}return e}for(;null!==(N=D());)switch(N){case"package":if(!F)throw V(N);W();break;case"import":if(!F)throw V(N);J();break;case"syntax":if(!F)throw V(N);K();break;case"option":ee(U,N),j(";");break;default:if(Y(U,N)){F=!1;continue}throw V(N)}return S.filename=null,{package:T,imports:A,weakImports:C,syntax:I,root:t}}},function(e,t,r){"use strict";e.exports=i;var n,o=/\/|\./;function i(e,t){o.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),i[e]=t}i("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),i("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),i("timestamp",{Timestamp:n}),i("empty",{Empty:{fields:{}}}),i("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),i("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),i("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),i.get=function(e){return i[e]||null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAPICaller=function(e,t){if(!t)return new n.NormalApiCaller;return t.getApiCaller(e)};const n=r(212)},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/errdetails;errdetails","java_multiple_files":true,"java_outer_classname":"ErrorDetailsProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}},"RetryInfo":{"fields":{"retryDelay":{"type":"google.protobuf.Duration","id":1}}},"DebugInfo":{"fields":{"stackEntries":{"rule":"repeated","type":"string","id":1},"detail":{"type":"string","id":2}}},"QuotaFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"subject":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"ErrorInfo":{"fields":{"reason":{"type":"string","id":1},"domain":{"type":"string","id":2},"metadata":{"keyType":"string","type":"string","id":3}}},"PreconditionFailure":{"fields":{"violations":{"rule":"repeated","type":"Violation","id":1}},"nested":{"Violation":{"fields":{"type":{"type":"string","id":1},"subject":{"type":"string","id":2},"description":{"type":"string","id":3}}}}},"BadRequest":{"fields":{"fieldViolations":{"rule":"repeated","type":"FieldViolation","id":1}},"nested":{"FieldViolation":{"fields":{"field":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"RequestInfo":{"fields":{"requestId":{"type":"string","id":1},"servingData":{"type":"string","id":2}}},"ResourceInfo":{"fields":{"resourceType":{"type":"string","id":1},"resourceName":{"type":"string","id":2},"owner":{"type":"string","id":3},"description":{"type":"string","id":4}}},"Help":{"fields":{"links":{"rule":"repeated","type":"Link","id":1}},"nested":{"Link":{"fields":{"description":{"type":"string","id":1},"url":{"type":"string","id":2}}}}},"LocalizedMessage":{"fields":{"locale":{"type":"string","id":1},"message":{"type":"string","id":2}}}}}}}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryable=function(e,t,r,a){const s=t.backoffSettings.retryDelayMultiplier,l=t.backoffSettings.maxRetryDelayMillis,p=t.backoffSettings.rpcTimeoutMultiplier,c=t.backoffSettings.maxRpcTimeoutMillis;let u=t.backoffSettings.initialRetryDelayMillis,d=t.backoffSettings.initialRpcTimeoutMillis;return(h,f)=>{let g,m,y,v=new Date;t.backoffSettings.totalTimeoutMillis&&(y=v.getTime()+t.backoffSettings.totalTimeoutMillis);let b=0;const E=t.backoffSettings.maxRetries;if(E&&y){const e=new o.GoogleError("Cannot set both totalTimeoutMillis and maxRetries in backoffSettings.");e.code=n.Status.INVALID_ARGUMENT,f(e)}else!function _(O){if(m=null,y&&v.getTime()>=y){const e=new o.GoogleError(`Total timeout of API ${a} exceeded ${t.backoffSettings.totalTimeoutMillis} milliseconds ${O?`retrying error ${O} `:""} before any response was received.`);return e.code=n.Status.DEADLINE_EXCEEDED,void f(e)}if(b&&b>=E){const e=new o.GoogleError("Exceeded maximum number of retries "+(O?`retrying error ${O} `:"")+"before any response was received");return e.code=n.Status.DEADLINE_EXCEEDED,void f(e)}b++;let w=O;const S=(0,i.addTimeoutArg)(e,d,r);g=S(h,(e,r,n,o)=>{if(e&&4!==e.code&&(w=e),e)if(g=null,t.retryCodes.length>0&&t.retryCodes.indexOf(e.code)<0)e.note="Exception occurred in retry method that was not classified as transient",f(e);else{const e=Math.random()*u;m=setTimeout(()=>{v=new Date,u=Math.min(u*s,l);const e=d&&p?d*p:0,t=c||0,r=y?y-v.getTime():0;d=Math.min(e,t,r),_(w)},e)}else f(null,r,n,o)}),g instanceof Promise&&g.catch(e=>{f(new o.GoogleError(e))})}();return{cancel(){if(m&&clearTimeout(m),g)g.cancel();else{const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,f(e)}}}}};const n=r(39),o=r(40),i=r(387)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.streamingRetryRequest=function(e){if(void 0===(e=Object.assign({},o,e)).request)throw new Error("A request function must be provided");let t,r,i=0,a=!1;const s=new n({objectMode:!0});return l(),s;function l(){a=!1,r=new n({objectMode:!0}),t=e.request(null),t.on("error",e=>{a||(a=!0,p(e))}).on("response",e=>{a||(a=!0,p(null,e))}),t.pipe(r)}function p(n,o=null){if(n)return i++,void(i<=e.maxRetries?l():s.emit("error",n));s.emit("response",o),r.pipe(s),t.on("error",()=>{s.destroy()})}};const{PassThrough:n}=r(1),o={maxRetries:2}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongRunningDescriptor=void 0;const n=r(697);t.LongRunningDescriptor=class{constructor(e,t,r){this.operationsClient=e,this.responseDecoder=t,this.metadataDecoder=r}getApiCaller(){return new n.LongrunningApiCaller(this)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongrunningApiCaller=void 0;const n=r(115),o=r(64),i=r(216);t.LongrunningApiCaller=class{constructor(e){this.longrunningDescriptor=e}init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}wrap(e){return e}call(e,t,r,n){n.call((t,n)=>this._wrapOperation(e,r,t,n),t)}_wrapOperation(e,t,r,n){let a=t.longrunning;a||(a=(0,o.createDefaultBackoffSettings)());const s=this.longrunningDescriptor;return e(r,(e,r)=>{if(e)return void n(e,null,null,r);const o=new i.Operation(r,s,a,t);n(null,o,r)})}fail(e,t){e.callback(t)}result(e){return e.promise}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PagedApiCaller=void 0;const n=r(115),o=r(40),i=r(699);t.PagedApiCaller=class{constructor(e){this.pageDescriptor=e}generateParseResponseCallback(e,t){const r=this.pageDescriptor.resourceField,n=this.pageDescriptor.responsePageTokenField,i=this.pageDescriptor.requestPageTokenField;return(a,s)=>{if(a)return void t(a);if(!e)return void t(new o.GoogleError("Undefined request in pagination method callback."));if(!s)return void t(new o.GoogleError("Undefined response in pagination method callback."));const l=s[r]||[],p=s[n];let c=null;p&&(c=Object.assign({},e),c[i]=p),t(a,l,c,s)}}wrap(e){const t=this;return function(r,n,o,i){return e(r,n,o,t.generateParseResponseCallback(r,i))}}init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}call(e,t,r,n){if(t=Object.assign({},t),!r.autoPaginate)return void n.call(e,t);const o=r.maxResults||-1;new i.ResourceCollector(e,o).processAllPages(t).then(e=>n.callback(null,e),e=>n.callback(e))}fail(e,t){e.callback(t)}result(e){return e.promise}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceCollector=void 0;t.ResourceCollector=class{constructor(e,t=-1){this.apiCall=e,this.resources=[],this.maxResults=t}callback(e,t,r){if(e)return void this.rejectCallback(e);for(const e of t)if(this.resources.push(e),this.resources.length===this.maxResults){r=null;break}if(!r)return void this.resolveCallback(this.resources);setImmediate(this.apiCall,r,(...e)=>this.callback(...e))}processAllPages(e){return new Promise((t,r)=>{this.resolveCallback=t,this.rejectCallback=r;setImmediate(this.apiCall,e,(...e)=>this.callback(...e))})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDescriptor=void 0;const n=r(388);t.StreamDescriptor=class{constructor(e,t,r){this.type=e,this.streaming=!0,this.rest=t,this.gaxStreamingRetries=r}getApiCaller(){return new n.StreamingApiCaller(this)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleDescriptor=void 0;const n=r(212),o=r(702),i=r(703),a=r(92);t.BundleDescriptor=class{constructor(e,t,r,n){n||"function"!=typeof r||(n=r,r=null),this.bundledField=e,this.requestDiscriminatorFields=t.map(a.toCamelCase),this.subresponseField=r,this.byteLengthFunction=n}getApiCaller(e){return!1===e.isBundling?new n.NormalApiCaller:new o.BundleApiCaller(new i.BundleExecutor(e.bundleOptions,this))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleApiCaller=void 0;const n=r(115),o=r(40);t.BundleApiCaller=class{constructor(e){this.bundler=e}init(e){return e?new n.OngoingCall(e):new n.OngoingCallPromise}wrap(e){return e}call(e,t,r,n){if(!r.isBundling)throw new o.GoogleError("Bundling enabled with no isBundling!");n.call((t,r)=>(this.bundler.schedule(e,t,r),n),t)}fail(e,t){e.callback(t)}result(e){return e.promise}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleExecutor=void 0;const n=r(39),o=r(40),i=r(78),a=r(704),s=r(705);function l(){}t.BundleExecutor=class{constructor(e,t){this._options=e,this._descriptor=t,this._tasks={},this._timers={},this._invocations={},this._invocationId=0}schedule(e,t,r){const p=(0,a.computeBundleId)(t,this._descriptor.requestDiscriminatorFields);if(r=r||l,void 0===p)return(0,i.warn)("bundling_schedule_bundleid_undefined",`The request does not have enough information for request bundling. Invoking immediately. Request: ${JSON.stringify(t)} discriminator fields: `+this._descriptor.requestDiscriminatorFields),e(t,r);if(void 0===t[this._descriptor.bundledField])return(0,i.warn)("bundling_no_bundled_field",`Request does not contain field ${this._descriptor.bundledField} that must present for bundling. Invoking immediately. Request: `+JSON.stringify(t)),e(t,r);p in this._tasks||(this._tasks[p]=new s.Task(e,t,this._descriptor.bundledField,this._descriptor.subresponseField));let c=this._tasks[p];r.id=String(this._invocationId++),this._invocations[r.id]=p;const u=t[this._descriptor.bundledField],d=u.length;let h=0;const f=this;u.forEach(e=>{h+=this._descriptor.byteLengthFunction(e)});const g=this._options.elementCountLimit||0,m=this._options.requestByteLimit||0;if(g>0&&d>g||m>0&&h>=m){let e;e=g>0&&d>g?"The number of elements "+d+" exceeds the limit "+this._options.elementCountLimit:"The required bytes "+h+" exceeds the limit "+this._options.requestByteLimit;const t=new o.GoogleError(e);return t.code=n.Status.INVALID_ARGUMENT,r(t),{cancel:l}}const y=c.getElementCount(),v=c.getRequestByteSize();(g>0&&d+y>=g||m>0&&h+v>=m)&&(this._runNow(p),this._tasks[p]=new s.Task(e,t,this._descriptor.bundledField,this._descriptor.subresponseField),c=this._tasks[p]),c.extend(u,h,r);const b={cancel(){f._cancel(r.id)}},E=this._options.elementCountThreshold||0,_=this._options.requestByteThreshold||0;return E>0&&c.getElementCount()>=E||_>0&&c.getRequestByteSize()>=_?(this._runNow(p),b):(!(p in this._timers)&&this._options.delayThreshold>0&&(this._timers[p]=setTimeout(()=>{delete this._timers[p],this._runNow(p)},this._options.delayThreshold)),b)}_maybeClearTimeout(e){if(e in this._timers){const t=this._timers[e];delete this._timers[e],clearTimeout(t)}}_cancel(e){if(!(e in this._invocations))return;const t=this._invocations[e];if(!(t in this._tasks))return;const r=this._tasks[t];delete this._invocations[e],r.cancel(e)&&(this._maybeClearTimeout(t),delete this._tasks[t])}_runNow(e){if(!(e in this._tasks))return void(0,i.warn)("bundle_runnow_bundleid_unknown","No such bundleid: "+e);this._maybeClearTimeout(e);const t=this._tasks[e];delete this._tasks[e],t.run().forEach(e=>{delete this._invocations[e]})}}},function(e,t,r){"use strict";function n(e,t){const r=t.split(".");let n=e;for(const e of r)n=null==n?void 0:n[e];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.computeBundleId=function(e,t){const r=[];let o=!1;for(const i of t){const t=n(e,i);void 0===t?r.push(null):(o=!0,r.push(t))}if(!o)return;return JSON.stringify(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Task=void 0,t.deepCopyForResponse=i;const n=r(39),o=r(40);function i(e,t){let r;return null===e?null:void 0!==e?Array.isArray(e)?(r=[],e.forEach(e=>{r.push(i(e,null))}),r):void 0!==e.copy?e.copy():e instanceof ArrayBuffer?e.slice(0):"object"==typeof e?(r={},Object.keys(e).forEach(n=>{t&&n===t.field&&Array.isArray(e[n])?r[n]=e[n].slice(t.start,t.end):r[n]=i(e[n],null)}),r):e:void 0}t.Task=class{constructor(e,t,r,n){this._apiCall=e,this._request=t,this._bundledField=r,this._subresponseField=n,this._data=[]}getElementCount(){let e=0;for(let t=0;t<this._data.length;++t)e+=this._data[t].elements.length;return e}getRequestByteSize(){let e=0;for(let t=0;t<this._data.length;++t)e+=this._data[t].bytes;return e}run(){if(0===this._data.length)return[];const e=this._request,t=[],r=[];for(let e=0;e<this._data.length;++e)t.push(...this._data[e].elements),r.push(this._data[e].callback.id);e[this._bundledField]=t;const a=this;return this.callCanceller=this._apiCall(e,(e,t)=>{const r=[];if(e)a._data.forEach(()=>{r.push(void 0)});else{let e=null;a._subresponseField&&(e={field:a._subresponseField,start:0}),a._data.forEach(n=>{e&&(e.end=e.start+n.elements.length),r.push(i(t,e)),e&&(e.start=e.end)})}for(let t=0;t<a._data.length;++t)if(a._data[t].cancelled){const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,a._data[t].callback(e)}else a._data[t].callback(e,r[t])}),r}extend(e,t,r){this._data.push({elements:e,bytes:t,callback:r})}cancel(e){if(this.callCanceller){let t=!0;return this._data.forEach(r=>{r.callback.id===e&&(r.cancelled=!0),r.cancelled||(t=!1)}),t&&this.callCanceller.cancel(),t}for(let t=0;t<this._data.length;++t)if(this._data[t].callback.id===e){const e=new o.GoogleError("cancelled");e.code=n.Status.CANCELLED,this._data[t].callback(e),this._data.splice(t,1);break}return 0===this._data.length}}},function(e){e.exports=JSON.parse('{"interfaces":{"google.longrunning.Operations":{"retry_codes":{"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"non_idempotent":[]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":90000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":90000,"total_timeout_millis":600000}},"methods":{"GetOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListOperations":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"CancelOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"DeleteOperation":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"google.golang.org/genproto/googleapis/longrunning;longrunning","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/operations/{name}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/operations/{name}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Empty":{"fields":{}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateServiceStub=function(e,t,r,l,p,c,u,d){const h=(0,i.hasWindowFetch)()?window.fetch:n.default,f={close:()=>({cancel:()=>{}})};for(const[n,g]of Object.entries(e))f[n]=(e,n,f,m)=>{let y;null!=n||(n={});try{y=c(g,t,r,l,e,d)}catch(e){return m&&m(e),{cancel(){}}}const v=(0,i.hasAbortController)()?new AbortController:new o.AbortController,b=v.signal;let E=!1;const _=y.url,O=y.headers;for(const e of Object.keys(n))O[e]=n[e][0];const w=new a.StreamArrayParser(g);return p.getRequestHeaders().then(e=>{const t={headers:{...e,...O},body:y.body,method:y.method,signal:b};return"GET"!==y.method&&"DELETE"!==y.method||delete t.body,h(_,t)}).then(e=>e.ok&&g.responseStream?void(0,s.pipeline)(e.body,w,e=>{e&&(!E||e instanceof Error&&"AbortError"!==e.name)&&(m&&m(e),w.emit("error",e))}):Promise.all([Promise.resolve(e.ok),e.arrayBuffer()]).then(([e,t])=>{const r=u(g,e,t);m(null,r)}).catch(e=>{if(!E||"AbortError"!==e.name)if(g.responseStream)m&&m(e),w.emit("error",e);else{if(!m)throw e;m(e)}})).catch(e=>{if(g.responseStream)m&&m(e),w.emit("error",e);else{if(!m)throw e;m(e)}}),g.responseStream?w:{cancel:()=>{E=!0,v.abort()}}};return f};const n=r(160),o=r(240),i=r(145),a=r(709),s=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamArrayParser=void 0;const n=r(240),o=r(1),i=r(391),a=r(145);class s extends o.Transform{constructor(e,t){super(Object.assign({},t,{readableObjectMode:!0})),this._done=!1,this._prevBlock=Buffer.from(""),this._isInString=!1,this._isSkipped=!1,this._level=0,this.rpc=e,this.cancelController=(0,a.hasAbortController)()?new AbortController:new n.AbortController,this.cancelSignal=this.cancelController.signal,this.cancelRequested=!1}_transform(e,t,r){let n=0,o=0;for(0===this._level&&0===o&&("["!==String.fromCharCode(e[0])&&this.emit("error",new Error("Internal Error: API service stream data must start with a '[' and close with the corresponding ']', but it start with "+String.fromCharCode(e[0]))),o++,this._level++);o<e.length;){const t=String.fromCharCode(e[o]);if(this._isSkipped)this._isSkipped=!1;else switch(t){case"{":this._isInString||this._level++,this._isInString||2!==this._level||(n=o);break;case'"':this._isInString=!this._isInString;break;case"}":if(this._isInString||this._level--,!this._isInString&&1===this._level){const t=Buffer.concat([this._prevBlock,e.slice(n,o+1)]);try{const e=(0,i.decodeResponse)(this.rpc,!0,t);this.push(e)}catch(e){this.emit("error",e)}n=o+1,this._prevBlock=Buffer.from("")}break;case"]":this._isInString||1!==this._level||(this._done=!0,this.push(null));break;case"\\":this._isSkipped=!0}o++}this._level>1&&(this._prevBlock=Buffer.concat([this._prevBlock,e.slice(n,o)])),r()}_flush(e){e()}cancel(){this._done=!0,this.cancelRequested=!0,this.cancelController.abort(),this.end()}}t.StreamArrayParser=s},function(e){e.exports=JSON.parse('{"interfaces":{"google.iam.v1.IAMPolicy":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":20000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":20000,"total_timeout_millis":600000}},"methods":{"GetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"SetIamPolicy":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"TestIamPermissions":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"iam":{"nested":{"v1":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.Cloud.Iam.V1","go_package":"google.golang.org/genproto/googleapis/iam/v1;iam","java_multiple_files":true,"java_outer_classname":"PolicyProto","java_package":"com.google.iam.v1","php_namespace":"Google\\\\Cloud\\\\Iam\\\\V1"},"nested":{"IAMPolicy":{"options":{"(google.api.default_host)":"iam-meta-api.googleapis.com"},"methods":{"SetIamPolicy":{"requestType":"SetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:setIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:setIamPolicy","body":"*"}}]},"GetIamPolicy":{"requestType":"GetIamPolicyRequest","responseType":"Policy","options":{"(google.api.http).post":"/v1/{resource=**}:getIamPolicy","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:getIamPolicy","body":"*"}}]},"TestIamPermissions":{"requestType":"TestIamPermissionsRequest","responseType":"TestIamPermissionsResponse","options":{"(google.api.http).post":"/v1/{resource=**}:testIamPermissions","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{resource=**}:testIamPermissions","body":"*"}}]}}},"SetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"policy":{"type":"Policy","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetIamPolicyRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"options":{"type":"GetPolicyOptions","id":2}}},"TestIamPermissionsRequest":{"fields":{"resource":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"*"}},"permissions":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"TestIamPermissionsResponse":{"fields":{"permissions":{"rule":"repeated","type":"string","id":1}}},"GetPolicyOptions":{"fields":{"requestedPolicyVersion":{"type":"int32","id":1}}},"Policy":{"fields":{"version":{"type":"int32","id":1},"bindings":{"rule":"repeated","type":"Binding","id":4},"etag":{"type":"bytes","id":3}}},"Binding":{"fields":{"role":{"type":"string","id":1},"members":{"rule":"repeated","type":"string","id":2},"condition":{"type":"google.type.Expr","id":3}}},"PolicyDelta":{"fields":{"bindingDeltas":{"rule":"repeated","type":"BindingDelta","id":1},"auditConfigDeltas":{"rule":"repeated","type":"AuditConfigDelta","id":2}}},"BindingDelta":{"fields":{"action":{"type":"Action","id":1},"role":{"type":"string","id":2},"member":{"type":"string","id":3},"condition":{"type":"google.type.Expr","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"AuditConfigDelta":{"fields":{"action":{"type":"Action","id":1},"service":{"type":"string","id":2},"exemptedMember":{"type":"string","id":3},"logType":{"type":"string","id":4}},"nested":{"Action":{"values":{"ACTION_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"logging":{"options":{"csharp_namespace":"Google.Cloud.Iam.V1.Logging","go_package":"google.golang.org/genproto/googleapis/iam/v1/logging;logging","java_multiple_files":true,"java_outer_classname":"AuditDataProto","java_package":"com.google.iam.v1.logging"},"nested":{"AuditData":{"fields":{"policyDelta":{"type":"google.iam.v1.PolicyDelta","id":2}}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions"},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/expr;expr","java_multiple_files":true,"java_outer_classname":"ExprProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"Expr":{"fields":{"expression":{"type":"string","id":1},"title":{"type":"string","id":2},"description":{"type":"string","id":3},"location":{"type":"string","id":4}}}}}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"cloud":{"nested":{"location":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/cloud/location;location","java_multiple_files":true,"java_outer_classname":"LocationsProto","java_package":"com.google.cloud.location"},"nested":{"Locations":{"options":{"(google.api.default_host)":"cloud.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform"},"methods":{"ListLocations":{"requestType":"ListLocationsRequest","responseType":"ListLocationsResponse","options":{"(google.api.http).get":"/v1/{name=locations}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*}/locations"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations}","additional_bindings":{"get":"/v1/{name=projects/*}/locations"}}}]},"GetLocation":{"requestType":"GetLocationRequest","responseType":"Location","options":{"(google.api.http).get":"/v1/{name=locations/*}","(google.api.http).additional_bindings.get":"/v1/{name=projects/*/locations/*}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=locations/*}","additional_bindings":{"get":"/v1/{name=projects/*/locations/*}"}}}]}}},"ListLocationsRequest":{"fields":{"name":{"type":"string","id":1},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListLocationsResponse":{"fields":{"locations":{"rule":"repeated","type":"Location","id":1},"nextPageToken":{"type":"string","id":2}}},"GetLocationRequest":{"fields":{"name":{"type":"string","id":1}}},"Location":{"fields":{"name":{"type":"string","id":1},"locationId":{"type":"string","id":4},"displayName":{"type":"string","id":5},"labels":{"keyType":"string","type":"string","id":2},"metadata":{"type":"google.protobuf.Any","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ClientProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"phpGenericServices":{"type":"bool","id":42,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}}}}}}}}')},function(e){e.exports=JSON.parse('{"interfaces":{"google.cloud.location.Locations":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"ListLocations":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"GetLocation":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RateLimiter=void 0;
/*!
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const n=r(45),o=r(25);t.RateLimiter=class{constructor(e,t,r,n,o=Date.now()){this.initialCapacity=e,this.multiplier=t,this.multiplierMillis=r,this.maximumCapacity=n,this.startTimeMillis=o,this.availableTokens=e,this.lastRefillTimeMillis=o,this.previousCapacity=e}tryMakeRequest(e,t=Date.now()){return this.refillTokens(t),e<=this.availableTokens&&(this.availableTokens-=e,!0)}getNextRequestDelayMs(e,t=Date.now()){if(this.refillTokens(t),e<this.availableTokens)return 0;const r=this.calculateCapacity(t);if(r<e)return-1;const n=e-this.availableTokens;return Math.ceil(1e3*n/r)}refillTokens(e){if(!(e>=this.lastRefillTimeMillis))throw new Error("Request time should not be before the last token refill time.");{const t=e-this.lastRefillTimeMillis,r=this.calculateCapacity(e),n=Math.floor(t*r/1e3);n>0&&(this.availableTokens=Math.min(r,this.availableTokens+n),this.lastRefillTimeMillis=e)}}calculateCapacity(e){n(e>=this.startTimeMillis,"startTime cannot be after currentTime");const t=e-this.startTimeMillis,r=Math.min(Math.floor(Math.pow(this.multiplier,Math.floor(t/this.multiplierMillis))*this.initialCapacity),this.maximumCapacity);return r!==this.previousCapacity&&(0,o.logger)("RateLimiter.calculateCapacity",null,`New request capacity: ${r} operations per second.`),this.previousCapacity=r,r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorQuerySnapshot=void 0;const n=r(14),o=r(13);class i{constructor(e,t,r,n,o){this._query=e,this._readTime=t,this._size=r,this._materializedDocs=null,this._materializedChanges=null,this._docs=null,this._changes=null,this._docs=n,this._changes=o}get query(){return this._query}get docs(){return this._materializedDocs||(this._materializedDocs=this._docs(),this._docs=null),this._materializedDocs}get empty(){return 0===this._size}get size(){return this._size}get readTime(){return this._readTime}docChanges(){return this._materializedChanges||(this._materializedChanges=this._changes(),this._changes=null),this._materializedChanges}forEach(e,t){(0,n.validateFunction)("callback",e);for(const r of this.docs)e.call(t,r)}isEqual(e){return this===e||e instanceof i&&(this._size===e._size&&(!!this._query.isEqual(e._query)&&(this._materializedDocs&&!this._materializedChanges?(0,o.isArrayEqual)(this.docs,e.docs)&&(0,o.isArrayEqual)(this.docChanges(),e.docChanges()):(0,o.isArrayEqual)(this.docChanges(),e.docChanges())&&(0,o.isArrayEqual)(this.docs,e.docs))))}}t.VectorQuerySnapshot=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldFilterInternal=void 0;const n=r(95),o=r(404);class i extends o.FilterInternal{getFlattenedFilters(){return[this]}getFilters(){return[this]}constructor(e,t,r,n){super(),this.serializer=e,this.field=t,this.op=r,this.value=n}isInequalityFilter(){switch(this.op){case"GREATER_THAN":case"GREATER_THAN_OR_EQUAL":case"LESS_THAN":case"LESS_THAN_OR_EQUAL":case"NOT_EQUAL":case"NOT_IN":return!0;default:return!1}}toProto(){return"number"==typeof this.value&&isNaN(this.value)?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:"EQUAL"===this.op?"IS_NAN":"IS_NOT_NAN"}}:null===this.value?{unaryFilter:{field:{fieldPath:this.field.formattedName},op:"EQUAL"===this.op?"IS_NULL":"IS_NOT_NULL"}}:{fieldFilter:{field:{fieldPath:this.field.formattedName},op:this.op,value:this.serializer.encodeValue(this.value)}}}isEqual(e){return e instanceof i&&this.field.isEqual(e.field)&&this.op===e.op&&n(this.value,e.value)}}t.FieldFilterInternal=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeFilterInternal=void 0;const n=r(404);class o extends n.FilterInternal{constructor(e,t){super(),this.filters=e,this.operator=t,this.memoizedFlattenedFilters=null}getFilters(){return this.filters}isConjunction(){return"AND"===this.operator}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}toProto(){if(1===this.filters.length)return this.filters[0].toProto();return{compositeFilter:{op:this.operator,filters:this.filters.map(e=>e.toProto())}}}isEqual(e){if(e instanceof o){const t=e.getFilters();return this.operator===e.operator&&this.getFilters().length===e.getFilters().length&&this.getFilters().every((e,r)=>e.isEqual(t[r]))}return!1}}t.CompositeFilterInternal=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateQuerySnapshot=void 0;const n=r(95);class o{constructor(e,t,r){this._query=e,this._readTime=t,this._data=r}get query(){return this._query}get readTime(){return this._readTime}data(){return this._data}isEqual(e){return this===e||e instanceof o&&(!!this.query.isEqual(e.query)&&n(this._data,e._data))}}t.AggregateQuerySnapshot=o},function(e,t,r){"use strict";e.exports=function(e){return new s(e||g,null)};function n(e,t,r,n,o,i){this._color=e,this.key=t,this.value=r,this.left=n,this.right=o,this._count=i}function o(e){return new n(e._color,e.key,e.value,e.left,e.right,e._count)}function i(e,t){return new n(e,t.key,t.value,t.left,t.right,t._count)}function a(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function s(e,t){this._compare=e,this.root=t}var l=s.prototype;function p(e,t){var r;if(t.left&&(r=p(e,t.left)))return r;return(r=e(t.key,t.value))||(t.right?p(e,t.right):void 0)}function c(e,t,r,n){if(t(e,n.key)<=0){var o;if(n.left)if(o=c(e,t,r,n.left))return o;if(o=r(n.key,n.value))return o}if(n.right)return c(e,t,r,n.right)}function u(e,t,r,n,o){var i,a=r(e,o.key),s=r(t,o.key);if(a<=0){if(o.left&&(i=u(e,t,r,n,o.left)))return i;if(s>0&&(i=n(o.key,o.value)))return i}if(s>0&&o.right)return u(e,t,r,n,o.right)}function d(e,t){this.tree=e,this._stack=t}Object.defineProperty(l,"keys",{get:function(){var e=[];return this.forEach((function(t,r){e.push(t)})),e}}),Object.defineProperty(l,"values",{get:function(){var e=[];return this.forEach((function(t,r){e.push(r)})),e}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(e,t){for(var r=this._compare,o=this.root,l=[],p=[];o;){var c=r(e,o.key);l.push(o),p.push(c),o=c<=0?o.left:o.right}l.push(new n(0,e,t,null,null,1));for(var u=l.length-2;u>=0;--u){o=l[u];p[u]<=0?l[u]=new n(o._color,o.key,o.value,l[u+1],o.right,o._count+1):l[u]=new n(o._color,o.key,o.value,o.left,l[u+1],o._count+1)}for(u=l.length-1;u>1;--u){var d=l[u-1];o=l[u];if(1===d._color||1===o._color)break;var h=l[u-2];if(h.left===d)if(d.left===o){if(!(f=h.right)||0!==f._color){if(h._color=0,h.left=d.right,d._color=1,d.right=h,l[u-2]=d,l[u-1]=o,a(h),a(d),u>=3)(g=l[u-3]).left===h?g.left=d:g.right=d;break}d._color=1,h.right=i(1,f),h._color=0,u-=1}else{if(!(f=h.right)||0!==f._color){if(d.right=o.left,h._color=0,h.left=o.right,o._color=1,o.left=d,o.right=h,l[u-2]=o,l[u-1]=d,a(h),a(d),a(o),u>=3)(g=l[u-3]).left===h?g.left=o:g.right=o;break}d._color=1,h.right=i(1,f),h._color=0,u-=1}else if(d.right===o){if(!(f=h.left)||0!==f._color){if(h._color=0,h.right=d.left,d._color=1,d.left=h,l[u-2]=d,l[u-1]=o,a(h),a(d),u>=3)(g=l[u-3]).right===h?g.right=d:g.left=d;break}d._color=1,h.left=i(1,f),h._color=0,u-=1}else{var f;if(!(f=h.left)||0!==f._color){var g;if(d.left=o.right,h._color=0,h.right=o.left,o._color=1,o.right=d,o.left=h,l[u-2]=o,l[u-1]=d,a(h),a(d),a(o),u>=3)(g=l[u-3]).right===h?g.right=o:g.left=o;break}d._color=1,h.left=i(1,f),h._color=0,u-=1}}return l[0]._color=1,new s(r,l[0])},l.forEach=function(e,t,r){if(this.root)switch(arguments.length){case 1:return p(e,this.root);case 2:return c(t,this._compare,e,this.root);case 3:if(this._compare(t,r)>=0)return;return u(t,r,this._compare,e,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new d(this,e)}}),Object.defineProperty(l,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new d(this,e)}}),l.at=function(e){if(e<0)return new d(this,[]);for(var t=this.root,r=[];;){if(r.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new d(this,r);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new d(this,[])},l.ge=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i<=0&&(o=n.length),r=i<=0?r.left:r.right}return n.length=o,new d(this,n)},l.gt=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i<0&&(o=n.length),r=i<0?r.left:r.right}return n.length=o,new d(this,n)},l.lt=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i>0&&(o=n.length),r=i<=0?r.left:r.right}return n.length=o,new d(this,n)},l.le=function(e){for(var t=this._compare,r=this.root,n=[],o=0;r;){var i=t(e,r.key);n.push(r),i>=0&&(o=n.length),r=i<0?r.left:r.right}return n.length=o,new d(this,n)},l.find=function(e){for(var t=this._compare,r=this.root,n=[];r;){var o=t(e,r.key);if(n.push(r),0===o)return new d(this,n);r=o<=0?r.left:r.right}return new d(this,[])},l.remove=function(e){var t=this.find(e);return t?t.remove():this},l.get=function(e){for(var t=this._compare,r=this.root;r;){var n=t(e,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var h=d.prototype;function f(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function g(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(h,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(h,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),h.clone=function(){return new d(this.tree,this._stack.slice())},h.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),r=e[e.length-1];t[t.length-1]=new n(r._color,r.key,r.value,r.left,r.right,r._count);for(var l=e.length-2;l>=0;--l){(r=e[l]).left===e[l+1]?t[l]=new n(r._color,r.key,r.value,t[l+1],r.right,r._count):t[l]=new n(r._color,r.key,r.value,r.left,t[l+1],r._count)}if((r=t[t.length-1]).left&&r.right){var p=t.length;for(r=r.left;r.right;)t.push(r),r=r.right;var c=t[p-1];t.push(new n(r._color,c.key,c.value,r.left,r.right,r._count)),t[p-1].key=r.key,t[p-1].value=r.value;for(l=t.length-2;l>=p;--l)r=t[l],t[l]=new n(r._color,r.key,r.value,r.left,t[l+1],r._count);t[p-1].left=t[p]}if(0===(r=t[t.length-1])._color){var u=t[t.length-2];u.left===r?u.left=null:u.right===r&&(u.right=null),t.pop();for(l=0;l<t.length;++l)t[l]._count--;return new s(this.tree._compare,t[0])}if(r.left||r.right){r.left?f(r,r.left):r.right&&f(r,r.right),r._color=1;for(l=0;l<t.length-1;++l)t[l]._count--;return new s(this.tree._compare,t[0])}if(1===t.length)return new s(this.tree._compare,null);for(l=0;l<t.length;++l)t[l]._count--;var d=t[t.length-2];return function(e){for(var t,r,n,s,l=e.length-1;l>=0;--l){if(t=e[l],0===l)return void(t._color=1);if((r=e[l-1]).left===t){if((n=r.right).right&&0===n.right._color){if(s=(n=r.right=o(n)).right=o(n.right),r.right=n.left,n.left=r,n.right=s,n._color=r._color,t._color=1,r._color=1,s._color=1,a(r),a(n),l>1)(p=e[l-2]).left===r?p.left=n:p.right=n;return void(e[l-1]=n)}if(n.left&&0===n.left._color){if(s=(n=r.right=o(n)).left=o(n.left),r.right=s.left,n.left=s.right,s.left=r,s.right=n,s._color=r._color,r._color=1,n._color=1,t._color=1,a(r),a(n),a(s),l>1)(p=e[l-2]).left===r?p.left=s:p.right=s;return void(e[l-1]=s)}if(1===n._color){if(0===r._color)return r._color=1,void(r.right=i(0,n));r.right=i(0,n);continue}n=o(n),r.right=n.left,n.left=r,n._color=r._color,r._color=0,a(r),a(n),l>1&&((p=e[l-2]).left===r?p.left=n:p.right=n),e[l-1]=n,e[l]=r,l+1<e.length?e[l+1]=t:e.push(t),l+=2}else{if((n=r.left).left&&0===n.left._color){if(s=(n=r.left=o(n)).left=o(n.left),r.left=n.right,n.right=r,n.left=s,n._color=r._color,t._color=1,r._color=1,s._color=1,a(r),a(n),l>1)(p=e[l-2]).right===r?p.right=n:p.left=n;return void(e[l-1]=n)}if(n.right&&0===n.right._color){if(s=(n=r.left=o(n)).right=o(n.right),r.left=s.right,n.right=s.left,s.right=r,s.left=n,s._color=r._color,r._color=1,n._color=1,t._color=1,a(r),a(n),a(s),l>1)(p=e[l-2]).right===r?p.right=s:p.left=s;return void(e[l-1]=s)}if(1===n._color){if(0===r._color)return r._color=1,void(r.left=i(0,n));r.left=i(0,n);continue}var p;n=o(n),r.left=n.right,n.right=r,n._color=r._color,r._color=0,a(r),a(n),l>1&&((p=e[l-2]).right===r?p.right=n:p.left=n),e[l-1]=n,e[l]=r,l+1<e.length?e[l+1]=t:e.push(t),l+=2}}}(t),d.left===r?d.left=null:d.right=null,new s(this.tree._compare,t[0])},Object.defineProperty(h,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(h,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(h,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var r=this.tree.root;return r?r._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var n=t.length-2;n>=0;--n)t[n+1]===t[n].right&&(++e,t[n].left&&(e+=t[n].left._count));return e},enumerable:!0}),h.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(h,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),h.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var r=new Array(t.length),o=t[t.length-1];r[r.length-1]=new n(o._color,o.key,e,o.left,o.right,o._count);for(var i=t.length-2;i>=0;--i)(o=t[i]).left===t[i+1]?r[i]=new n(o._color,o.key,o.value,r[i+1],o.right,o._count):r[i]=new n(o._color,o.key,o.value,o.left,r[i+1],o._count);return new s(this.tree._compare,r[0])},h.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(h,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},function(e,t){e.exports=require("process")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;const n=r(154),o=r(722),i=r(723),a=r(82),s=r(21),l=r(7),p=r(423),c=r(740),u=r(60),d=r(10),h=r(419),f=r(28),g=r(43),m=r(98),y=r(741),v=r(156),b=r(742),E=r(422),_=r(228),O=r(743),w=r(229),S=new Map;class T extends w.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,o)=>{t.throttleKeepalive(o)}}ref(){0===this.refCount&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class A{pick(e){return{pickResultType:a.PickResultType.DROP,status:{code:l.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new s.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}class C{constructor(e){this.target=e,this.trace=new m.ChannelzTrace,this.callTracker=new m.ChannelzCallTracker,this.childrenTracker=new m.ChannelzChildrenTracker,this.state=g.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}}t.InternalChannel=class{constructor(e,t,r){var s,y,v,b,E,w;if(this.credentials=t,this.options=r,this.connectivityState=g.ConnectivityState.IDLE,this.currentPicker=new a.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new C(e);const A=(0,f.parseUri)(e);if(null===A)throw new Error(`Could not parse target name "${e}"`);const I=(0,u.mapUriDefaultScheme)(A);if(null===I)throw new Error(`Could not find a default scheme for target name "${e}"`);0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,m.registerChannelzChannel)(e,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,u.getDefaultAuthority)(I);const N=(0,h.mapProxyName)(I,r);this.target=N.target,this.options=Object.assign({},this.options,N.extraOptions),this.subchannelPool=(0,i.getSubchannelPool)(0===(null!==(s=r["grpc.use_local_subchannel_pool"])&&void 0!==s?s:0)),this.retryBufferTracker=new O.MessageBufferTracker(null!==(y=r["grpc.retry_buffer_size"])&&void 0!==y?y:1<<24,null!==(v=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==v?v:1<<20),this.keepaliveTime=null!==(b=r["grpc.keepalive_time_ms"])&&void 0!==b?b:-1,this.idleTimeoutMs=Math.max(null!==(E=r["grpc.client_idle_timeout_ms"])&&void 0!==E?E:18e5,1e3);const P={createSubchannel:(e,t,r)=>{const n=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),null!=r?r:this.credentials);n.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",n.getChannelzRef());return new T(n,this)},updateState:(e,t)=>{this.currentPicker=t;const r=this.pickQueue.slice();this.pickQueue=[],r.length>0&&this.callRefTimerUnref();for(const e of r)e.doPick();this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new o.ResolvingLoadBalancer(this.target,P,t,r,(e,t)=>{e.retryThrottling?S.set(this.getTarget(),new O.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,S.get(this.getTarget()))):S.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref();for(const t of e)t.getConfig()})},e=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,_.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));const t=this.configSelectionQueue;this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref();for(const r of t)r.reportResolverError(e)}),this.filterStackFactory=new p.FilterStackFactory([new c.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));const R=new Error;(0,d.isTracerEnabled)("channel_stacktrace")&&(0,d.trace)(l.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(w=R.stack)||void 0===w?void 0:w.substring(R.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}trace(e,t){(0,d.trace)(null!=t?t:l.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,f.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},2147483647)),(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t,r;(null===(e=this.callRefTimer)||void 0===e?void 0:e.hasRef)&&!this.callRefTimer.hasRef()||(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(r=null===(t=this.callRefTimer)||void 0===t?void 0:t.unref)||void 0===r||r.call(t))}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,d.trace)(l.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,f.uriToString)(this.target)+" "+g.ConnectivityState[this.connectivityState]+" -> "+g.ConnectivityState[e]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+g.ConnectivityState[e]),this.connectivityState=e,this.channelzInfoTracker.state=e;const t=this.connectivityStateWatchers.slice();for(const r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==g.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(const t of this.wrappedSubchannels)t.throttleKeepalive(e)}}addWrappedSubchannel(e){this.wrappedSubchannels.add(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.connectivityState!==g.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.IDLE),this.currentPicker=new a.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);const e=(new Date).valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===g.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===l.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,o){const i=(0,E.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+i+'] method="'+t+'"'),new y.LoadBalancingCall(this,e,t,r,n,o,i)}createRetryingCall(e,t,r,n,o){const i=(0,E.getNextCallNumber)();return this.trace("createRetryingCall ["+i+'] method="'+t+'"'),new O.RetryingCall(this,e,t,r,n,o,i,this.retryBufferTracker,S.get(this.getTarget()))}createInnerCall(e,t,r,n,o){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,o):this.createRetryingCall(e,t,r,n,o)}createResolvingCall(e,t,r,n,o){const i=(0,E.getNextCallNumber)();this.trace("createResolvingCall ["+i+'] method="'+e+'", deadline='+(0,v.deadlineToString)(t));const a={deadline:t,flags:null!=o?o:l.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},s=new b.ResolvingCall(this,e,a,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),i);return this.onCallStart(),s.addStatusWatcher(e=>{this.onCallEnd(e)}),s}close(){this.resolvingLoadBalancer.destroy(),this.updateState(g.ConnectivityState.SHUTDOWN),this.currentPicker=new A;for(const e of this.configSelectionQueue)e.cancelWithStatus(l.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(const e of this.pickQueue)e.cancelWithStatus(l.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,m.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,f.uriToString)(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(t!==1/0){const e=t instanceof Date?t:new Date(t),i=new Date;if(t===-1/0||e<=i)return void process.nextTick(r,new Error("Deadline passed without connectivity state change"));n=setTimeout(()=>{this.removeConnectivityStateWatcher(o),r(new Error("Deadline passed without connectivity state change"))},e.getTime()-i.getTime())}const o={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(o)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,o){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===g.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,o)}getOptions(){return this.options}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;const n=r(97),o=r(413),i=r(43),a=r(60),s=r(82),l=r(155),p=r(7),c=r(21),u=r(10),d=r(7),h=r(28),f=r(226);function g(e){u.trace(d.LogVerbosity.DEBUG,"resolving_load_balancer",e)}const m=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function y(e,t,r,n){for(const o of r.name)switch(n){case"EMPTY":if(!o.service&&!o.method)return!0;break;case"SERVICE":if(o.service===e&&!o.method)return!0;break;case"SERVICE_AND_METHOD":if(o.service===e&&o.method===t)return!0}return!1}function v(e,t,r,n){for(const o of r)if(y(e,t,o,n))return o;return null}t.ResolvingLoadBalancer=class{constructor(e,t,r,u,d,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=i.ConnectivityState.IDLE,this.latestChildPicker=new s.QueuePicker(this),this.currentState=i.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,u["grpc.service_config"]?this.defaultServiceConfig=(0,o.validateServiceConfig)(JSON.parse(u["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)},r,u),this.innerResolver=(0,a.createResolver)(e,{onSuccessfulResolution:(e,t,r,o,i)=>{var a;this.backoffTimeout.stop(),this.backoffTimeout.reset();let s=null;null===t?null===r?(this.previousServiceConfig=null,s=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):s=this.previousServiceConfig:(s=t,this.previousServiceConfig=t);const l=null!==(a=null==s?void 0:s.loadBalancingConfig)&&void 0!==a?a:[],u=(0,n.selectLbConfigFromList)(l,!0);if(null===u)return void this.handleResolutionFailure({code:p.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new c.Metadata});this.childLoadBalancer.updateAddressList(e,u,i);const d=null!=s?s:this.defaultServiceConfig;this.onSuccessfulResolution(d,null!=o?o:function(e){return function(t,r){var n,o;const i=t.split("/").filter(e=>e.length>0),a=null!==(n=i[0])&&void 0!==n?n:"",s=null!==(o=i[1])&&void 0!==o?o:"";if(e&&e.methodConfig)for(const t of m){const r=v(a,s,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:p.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:p.Status.OK,dynamicFilterFactories:[]}}}(d))},onError:e=>{this.handleResolutionFailure(e)}},u);const y={initialDelay:u["grpc.initial_reconnect_backoff_ms"],maxDelay:u["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new l.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},y),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===i.ConnectivityState.IDLE&&this.updateState(i.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,t){g((0,h.uriToString)(this.target)+" "+i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.IDLE&&(t=new s.QueuePicker(this,t)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===i.ConnectivityState.IDLE&&(this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){this.currentState!==i.ConnectivityState.IDLE&&this.currentState!==i.ConnectivityState.TRANSIENT_FAILURE||(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=i.ConnectivityState.IDLE,this.latestChildPicker=new s.QueuePicker(this),this.currentState=i.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubchannelPool=void 0,t.getSubchannelPool=function(e){return e?p:new l};const n=r(724),o=r(725),i=r(44),a=r(28),s=r(736);class l{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,l){this.ensureCleanupTask();const p=(0,a.uriToString)(e);if(p in this.pool){const e=this.pool[p];for(const o of e)if((0,i.subchannelAddressEqual)(t,o.subchannelAddress)&&(0,n.channelOptionsEqual)(r,o.channelArguments)&&l._equals(o.channelCredentials))return o.subchannel}const c=new o.Subchannel(e,t,r,l,new s.Http2SubchannelConnector(e));return p in this.pool||(this.pool[p]=[]),this.pool[p].push({subchannelAddress:t,channelArguments:r,channelCredentials:l,subchannel:c}),c.ref(),c}}t.SubchannelPool=l;const p=new l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recognizedOptions=void 0,t.channelOptionsEqual=function(e,t){const r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let o=0;o<r.length;o+=1){if(r[o]!==n[o])return!1;if(e[r[o]]!==t[n[o]])return!1}return!0},t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;const n=r(43),o=r(155),i=r(10),a=r(7),s=r(28),l=r(44),p=r(98);t.Subchannel=class{constructor(e,t,r,i,a){var s;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=i,this.connector=a,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0;const c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new o.BackoffTimeout(()=>{this.handleBackoffTimer()},c),this.backoffTimeout.unref(),this.subchannelAddressString=(0,l.subchannelAddressToString)(t),this.keepaliveTime=null!==(s=r["grpc.keepalive_time_ms"])&&void 0!==s?s:-1,0===r["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new p.ChannelzTraceStub,this.callTracker=new p.ChannelzCallTrackerStub,this.childrenTracker=new p.ChannelzChildrenTrackerStub,this.streamTracker=new p.ChannelzCallTrackerStub):(this.channelzTrace=new p.ChannelzTrace,this.callTracker=new p.ChannelzCallTracker,this.childrenTracker=new p.ChannelzChildrenTracker,this.streamTracker=new p.ChannelzCallTracker),this.channelzRef=(0,p.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2)),i._ref()}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){i.trace(a.LogVerbosity.DEBUG,"subchannel","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){i.trace(a.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){const t=Math.min(this.keepaliveTime,~(1<<31));e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,i.log(a.LogVerbosity.ERROR,`Connection to ${(0,s.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,""+e)})}transitionToState(e,t,r){var o,i;if(-1===e.indexOf(this.connectivityState))return!1;r?this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]+' with error "'+r+'"'):this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);const a=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(o=this.transport)||void 0===o||o.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null;break;default:throw new Error("Invalid state: unknown ConnectivityState "+t)}for(const e of this.stateListeners)e(this,a,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,p.unregisterChannelzRef)(this.channelzRef),this.credentials._unref(),process.nextTick(()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let o;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),o={onCallEnd:e=>{e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):o={},this.transport.createCall(e,t,r,n,o)}startConnecting(){process.nextTick(()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState===n.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"OrderedMap",(function(){return u}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError;var i=function(){function e(e,t,r){void 0===r&&(r=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=r}return e.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&1===e.l)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var r=e.h;r.t===e;)r=(e=r).h;e=r}return e},e.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}for(var t=e.h;t.i===e;)t=(e=t).h;return e.i!==t?t:e},e.prototype.T=function(){var e=this.h,t=this.i,r=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=r,r&&(r.h=this),t},e.prototype.I=function(){var e=this.h,t=this.t,r=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=r,r&&(r.h=this),t},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.O=1,t}return o(t,e),t.prototype.T=function(){var t=e.prototype.T.call(this);return this.M(),t.M(),t},t.prototype.I=function(){var t=e.prototype.I.call(this);return this.M(),t.M(),t},t.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},t}(i),s=function(){function e(e){void 0===e&&(e=0),this.iteratorType=e}return e.prototype.equals=function(e){return this.C===e.C},e}();function l(){throw new RangeError("Iterator access denied!")}var p=function(e){function t(t,r){void 0===t&&(t=function(e,t){return e<t?-1:e>t?1:0}),void 0===r&&(r=!1);var n=e.call(this)||this;return n.N=void 0,n.g=t,n.enableIndex=r,n.S=r?a:i,n.A=new n.S,n}return o(t,e),t.prototype.m=function(e,t){for(var r=this.A;e;){var n=this.g(e.u,t);if(n<0)e=e.i;else{if(!(n>0))return e;r=e,e=e.t}}return r},t.prototype.B=function(e,t){for(var r=this.A;e;){this.g(e.u,t)<=0?e=e.i:(r=e,e=e.t)}return r},t.prototype.j=function(e,t){for(var r=this.A;e;){var n=this.g(e.u,t);if(n<0)r=e,e=e.i;else{if(!(n>0))return e;e=e.t}}return r},t.prototype.k=function(e,t){for(var r=this.A;e;){this.g(e.u,t)<0?(r=e,e=e.i):e=e.t}return r},t.prototype.R=function(e){for(;;){var t,r=e.h;if(r===this.A)return;if(1===e.l)return void(e.l=0);if(e===r.t)if(1===(t=r.i).l)t.l=0,r.l=1,r===this.N?this.N=r.T():r.T();else{if(t.i&&1===t.i.l)return t.l=r.l,r.l=0,t.i.l=0,void(r===this.N?this.N=r.T():r.T());t.t&&1===t.t.l?(t.l=1,t.t.l=0,t.I()):(t.l=1,e=r)}else if(1===(t=r.t).l)t.l=0,r.l=1,r===this.N?this.N=r.I():r.I();else{if(t.t&&1===t.t.l)return t.l=r.l,r.l=0,t.t.l=0,void(r===this.N?this.N=r.I():r.I());t.i&&1===t.i.l?(t.l=1,t.i.l=0,t.T()):(t.l=1,e=r)}}},t.prototype.G=function(e){if(1!==this._){for(var t=e;t.t||t.i;){if(t.i)for(t=t.i;t.t;)t=t.t;else t=t.t;var r=e.u;e.u=t.u,t.u=r;var n=e.o;e.o=t.o,t.o=n,e=t}this.A.t===t?this.A.t=t.h:this.A.i===t&&(this.A.i=t.h),this.R(t);var o=t.h;if(t===o.t?o.t=void 0:o.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;o!==this.A;)o.O-=1,o=o.h}else this.clear()},t.prototype.P=function(e){for(var t="number"==typeof e?e:void 0,r="function"==typeof e?e:void 0,n=void 0===e?[]:void 0,o=0,i=this.N,a=[];a.length||i;)if(i)a.push(i),i=i.t;else{if(i=a.pop(),o===t)return i;n&&n.push(i),r&&r(i,o,this),o+=1,i=i.i}return n},t.prototype.q=function(e){for(;;){var t=e.h;if(0===t.l)return;var r=t.h;if(t===r.t){if((n=r.i)&&1===n.l){if(n.l=t.l=0,r===this.N)return;r.l=1,e=r;continue}if(e!==t.i)return t.l=0,r===this.N?this.N=r.I():r.I(),void(r.l=1);e.l=0,e.t&&(e.t.h=t),e.i&&(e.i.h=r),t.i=e.t,r.t=e.i,e.t=t,e.i=r,r===this.N?(this.N=e,this.A.h=e):(o=r.h).t===r?o.t=e:o.i=e,e.h=r.h,t.h=e,r.h=e,r.l=1}else{var n,o;if((n=r.t)&&1===n.l){if(n.l=t.l=0,r===this.N)return;r.l=1,e=r;continue}if(e!==t.t)return t.l=0,r===this.N?this.N=r.T():r.T(),void(r.l=1);e.l=0,e.t&&(e.t.h=r),e.i&&(e.i.h=t),r.i=e.t,t.t=e.i,e.t=r,e.i=t,r===this.N?(this.N=e,this.A.h=e):(o=r.h).t===r?o.t=e:o.i=e,e.h=r.h,t.h=e,r.h=e,r.l=1}return void(this.enableIndex&&(t.M(),r.M(),e.M()))}},t.prototype.D=function(e,t,r){if(void 0===this.N)return this._+=1,this.N=new this.S(e,t,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var n,o=this.A.t,i=this.g(o.u,e);if(0===i)return o.o=t,this._;if(i>0)o.t=new this.S(e,t),o.t.h=o,n=o.t,this.A.t=n;else{var a=this.A.i,s=this.g(a.u,e);if(0===s)return a.o=t,this._;if(s<0)a.i=new this.S(e,t),a.i.h=a,n=a.i,this.A.i=n;else{if(void 0!==r){var l=r.C;if(l!==this.A){var p=this.g(l.u,e);if(0===p)return l.o=t,this._;if(p>0){var c=l.v(),u=this.g(c.u,e);if(0===u)return c.o=t,this._;u<0&&(n=new this.S(e,t),void 0===c.i?(c.i=n,n.h=c):(l.t=n,n.h=l))}}}if(void 0===n)for(n=this.N;;){var d=this.g(n.u,e);if(d>0){if(void 0===n.t){n.t=new this.S(e,t),n.t.h=n,n=n.t;break}n=n.t}else{if(!(d<0))return n.o=t,this._;if(void 0===n.i){n.i=new this.S(e,t),n.i.h=n,n=n.i;break}n=n.i}}}}if(this.enableIndex)for(var h=n.h;h!==this.A;)h.O+=1,h=h.h;return this.q(n),this._+=1,this._},t.prototype.F=function(e,t){for(;e;){var r=this.g(e.u,t);if(r<0)e=e.i;else{if(!(r>0))return e;e=e.t}}return e||this.A},t.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},t.prototype.updateKeyByIterator=function(e,t){var r=e.C;if(r===this.A&&l(),1===this._)return r.u=t,!0;var n=r.p().u;if(r===this.A.t)return this.g(n,t)>0&&(r.u=t,!0);var o=r.v().u;return r===this.A.i?this.g(o,t)<0&&(r.u=t,!0):!(this.g(o,t)>=0||this.g(n,t)<=0)&&(r.u=t,!0)},t.prototype.eraseElementByPos=function(e){if(e<0||e>this._-1)throw new RangeError;var t=this.P(e);return this.G(t),this._},t.prototype.eraseElementByKey=function(e){if(0===this._)return!1;var t=this.F(this.N,e);return t!==this.A&&(this.G(t),!0)},t.prototype.eraseElementByIterator=function(e){var t=e.C;t===this.A&&l();var r=void 0===t.i;return 0===e.iteratorType?r&&e.next():r&&void 0!==t.t||e.next(),this.G(t),e},t.prototype.getHeight=function(){if(0===this._)return 0;return function e(t){return t?Math.max(e(t.t),e(t.i))+1:0}(this.N)},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(function(){function e(){this._=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),e.prototype.size=function(){return this._},e.prototype.empty=function(){return 0===this._},e}())),c=function(e){function t(t,r,n,o){var i=e.call(this,t,r,o)||this;return i.container=n,i}return o(t,e),Object.defineProperty(t.prototype,"pointer",{get:function(){this.C===this.A&&l();var e=this;return new Proxy([],{get:function(t,r){return"0"===r?e.C.u:"1"===r?e.C.o:(t[0]=e.C.u,t[1]=e.C.o,t[r])},set:function(t,r,n){if("1"!==r)throw new TypeError("prop must be 1");return e.C.o=n,!0}})},enumerable:!1,configurable:!0}),t.prototype.copy=function(){return new t(this.C,this.A,this.container,this.iteratorType)},t}(function(e){function t(t,r,n){var o=e.call(this,n)||this;return o.C=t,o.A=r,0===o.iteratorType?(o.pre=function(){return this.C===this.A.t&&l(),this.C=this.C.v(),this},o.next=function(){return this.C===this.A&&l(),this.C=this.C.p(),this}):(o.pre=function(){return this.C===this.A.i&&l(),this.C=this.C.p(),this},o.next=function(){return this.C===this.A&&l(),this.C=this.C.v(),this}),o}return o(t,e),Object.defineProperty(t.prototype,"index",{get:function(){var e=this.C,t=this.A.h;if(e===this.A)return t?t.O-1:0;var r=0;for(e.t&&(r+=e.t.O);e!==t;){var n=e.h;e===n.i&&(r+=1,n.t&&(r+=n.t.O)),e=n}return r},enumerable:!1,configurable:!0}),t.prototype.isAccessible=function(){return this.C!==this.A},t}(s)),u=function(e){function t(t,r,n){void 0===t&&(t=[]);var o=e.call(this,r,n)||this,i=o;return t.forEach((function(e){i.setElement(e[0],e[1])})),o}return o(t,e),t.prototype.begin=function(){return new c(this.A.t||this.A,this.A,this)},t.prototype.end=function(){return new c(this.A,this.A,this)},t.prototype.rBegin=function(){return new c(this.A.i||this.A,this.A,this,1)},t.prototype.rEnd=function(){return new c(this.A,this.A,this,1)},t.prototype.front=function(){if(0!==this._){var e=this.A.t;return[e.u,e.o]}},t.prototype.back=function(){if(0!==this._){var e=this.A.i;return[e.u,e.o]}},t.prototype.lowerBound=function(e){var t=this.m(this.N,e);return new c(t,this.A,this)},t.prototype.upperBound=function(e){var t=this.B(this.N,e);return new c(t,this.A,this)},t.prototype.reverseLowerBound=function(e){var t=this.j(this.N,e);return new c(t,this.A,this)},t.prototype.reverseUpperBound=function(e){var t=this.k(this.N,e);return new c(t,this.A,this)},t.prototype.forEach=function(e){this.P((function(t,r,n){e([t.u,t.o],r,n)}))},t.prototype.setElement=function(e,t,r){return this.D(e,t,r)},t.prototype.getElementByPos=function(e){if(e<0||e>this._-1)throw new RangeError;var t=this.P(e);return[t.u,t.o]},t.prototype.find=function(e){var t=this.F(this.N,e);return new c(t,this.A,this)},t.prototype.getElementByKey=function(e){return this.F(this.N,e).o},t.prototype.union=function(e){var t=this;return e.forEach((function(e){t.setElement(e[0],e[1])})),this._},t.prototype[Symbol.iterator]=function(){var e,t,r,n;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return l([e,t])}}function l(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}(this,(function(o){switch(o.label){case 0:e=this._,t=this.P(),r=0,o.label=1;case 1:return r<e?[4,[(n=t[r]).u,n.o]]:[3,4];case 2:o.sent(),o.label=3;case 3:return++r,[3,1];case 4:return[2]}}))},t}(p)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=void 0,t.callErrorFromStatus=function(e,t){const r=`${e.code} ${i.Status[e.code]}: ${e.details}`,n=`${new Error(r).stack}\nfor call at\n${t}`;return Object.assign(new Error(r),e,{stack:n})};const n=r(23),o=r(1),i=r(7);class a extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=a;class s extends o.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=s;class l extends o.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;const o={callback:r},i=Number(t);Number.isNaN(i)||(o.flags=i),null===(n=this.call)||void 0===n||n.sendMessageWithContext(o,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=l;class p extends o.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(i.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;const o={callback:r},i=Number(t);Number.isNaN(i)||(o.flags=i),null===(n=this.call)||void 0===n||n.sendMessageWithContext(o,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=void 0,t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length};t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}},function(e,t){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="[\\ud800-\\udfff]",a="["+o+"]",s="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",l="\\d+",p="[\\u2700-\\u27bf]",c="[a-z\\xdf-\\xf6\\xf8-\\xff]",u="[^\\ud800-\\udfff"+o+l+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",d="\\ud83c[\\udffb-\\udfff]",h="[^\\ud800-\\udfff]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="[A-Z\\xc0-\\xd6\\xd8-\\xde]",y="(?:"+c+"|"+u+")",v="(?:"+m+"|"+u+")",b="(?:"+s+"|"+d+")"+"?",E="[\\ufe0e\\ufe0f]?"+b+("(?:\\u200d(?:"+[h,f,g].join("|")+")[\\ufe0e\\ufe0f]?"+b+")*"),_="(?:"+[p,f,g].join("|")+")"+E,O="(?:"+[h+s+"?",s,f,g,i].join("|")+")",w=RegExp("[']","g"),S=RegExp(s,"g"),T=RegExp(d+"(?="+d+")|"+O+E,"g"),A=RegExp([m+"?"+c+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[a,m,"$"].join("|")+")",v+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[a,m+y,"$"].join("|")+")",m+"?"+y+"+(?:['](?:d|ll|m|re|s|t|ve))?",m+"+(?:['](?:D|LL|M|RE|S|T|VE))?",l,_].join("|"),"g"),C=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),I=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,N="object"==typeof global&&global&&global.Object===Object&&global,P="object"==typeof self&&self&&self.Object===Object&&self,R=N||P||Function("return this")();var D,k=(D={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"},function(e){return null==D?void 0:D[e]});function x(e){return C.test(e)}function j(e){return x(e)?function(e){return e.match(T)||[]}(e):function(e){return e.split("")}(e)}var L=Object.prototype.toString,F=R.Symbol,M=F?F.prototype:void 0,U=M?M.toString:void 0;function B(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==L.call(e)}(e))return U?U.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function V(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(e,t,r)}function q(e){return null==e?"":B(e)}var G,H=(G=function(e,t,r){return t=t.toLowerCase(),e+(r?W(q(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}(function(e,t,n){return e=q(e),void 0===(t=n?void 0:t)?function(e){return I.test(e)}(e)?function(e){return e.match(A)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=q(e))&&e.replace(n,k).replace(S,"")}(e).replace(w,"")),G,"")});var z,W=(z="toUpperCase",function(e){var t=x(e=q(e))?j(e):void 0,r=t?t[0]:e.charAt(0),n=t?V(t,1).join(""):e.slice(1);return r[z]()+n});e.exports=H},function(e,t,r){"use strict";var n=r(76);e.exports=t=n.descriptor=n.Root.fromJSON(r(418)).lookup(".google.protobuf");var o=n.Namespace,i=n.Root,a=n.Enum,s=n.Type,l=n.Field,p=n.MapField,c=n.OneOf,u=n.Service,d=n.Method;i.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new i;if(e.file)for(var n,o,p,c=0;c<e.file.length;++c){if(o=r,(n=e.file[c]).package&&n.package.length&&(o=r.define(n.package)),n.name&&n.name.length&&r.files.push(o.filename=n.name),n.messageType)for(p=0;p<n.messageType.length;++p)o.add(s.fromDescriptor(n.messageType[p],n.syntax));if(n.enumType)for(p=0;p<n.enumType.length;++p)o.add(a.fromDescriptor(n.enumType[p]));if(n.extension)for(p=0;p<n.extension.length;++p)o.add(l.fromDescriptor(n.extension[p]));if(n.service)for(p=0;p<n.service.length;++p)o.add(u.fromDescriptor(n.service[p]));var d=E(n.options,t.FileOptions);if(d){var h=Object.keys(d);for(p=0;p<h.length;++p)o.setOption(h[p],d[h[p]])}}return r},i.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return function e(r,n,p){var c=t.FileDescriptorProto.create({name:r.filename||(r.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});p&&(c.syntax=p);r instanceof i||(c.package=r.fullName.substring(1));for(var d,h=0;h<r.nestedArray.length;++h)(d=r._nestedArray[h])instanceof s?c.messageType.push(d.toDescriptor(p)):d instanceof a?c.enumType.push(d.toDescriptor()):d instanceof l?c.extension.push(d.toDescriptor(p)):d instanceof u?c.service.push(d.toDescriptor()):d instanceof o&&e(d,n,p);c.options=_(r.options,t.FileOptions),c.messageType.length+c.enumType.length+c.extension.length+c.service.length&&n.push(c)}(this,r.file,e),r};var h=0;s.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,o=new s(e.name.length?e.name:"Type"+h++,E(e.options,t.MessageOptions));if(e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)o.add(c.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var i=l.fromDescriptor(e.field[n],r);o.add(i),e.field[n].hasOwnProperty("oneofIndex")&&o.oneofsArray[e.field[n].oneofIndex].add(i)}if(e.extension)for(n=0;n<e.extension.length;++n)o.add(l.fromDescriptor(e.extension[n],r));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)o.add(s.fromDescriptor(e.nestedType[n],r)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&o.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)o.add(a.fromDescriptor(e.enumType[n]));if(e.extensionRange&&e.extensionRange.length)for(o.extensions=[],n=0;n<e.extensionRange.length;++n)o.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(o.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)o.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)o.reserved.push(e.reservedName[n])}return o},s.prototype.toDescriptor=function(e){var r,n=t.DescriptorProto.create({name:this.name});for(r=0;r<this.fieldsArray.length;++r){var o;if(n.field.push(o=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof p){var i=b(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),c=b(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),u=11===c||14===c?this._fieldsArray[r].resolvedType&&O(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;n.nestedType.push(t.DescriptorProto.create({name:o.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:i}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:u})],options:t.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof l?n.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof s?n.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof a&&n.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)"string"==typeof this.reserved[r]?n.reservedName.push(this.reserved[r]):n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return n.options=_(this.options,t.MessageOptions),n};var f=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;l.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");var n,o;switch(n=e.typeName&&e.typeName.length?e.typeName:function(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}(e.type),e.label){case 1:o=void 0;break;case 2:o="required";break;case 3:o="repeated";break;default:throw Error("illegal label: "+e.label)}var i=e.extendee;void 0!==e.extendee&&(i=i.length?i:void 0);var a=new l(e.name.length?e.name:"field"+e.number,e.number,n,o,i);if(a.options=E(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var s=e.defaultValue;switch(s){case"true":case"TRUE":s=!0;break;case"false":case"FALSE":s=!1;break;default:f.exec(s)&&(s=parseInt(s))}a.setOption("default",s)}return function(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}(e.type)&&("proto3"===r?e.options&&!e.options.packed&&a.setOption("packed",!1):e.options&&e.options.packed||a.setOption("packed",!1)),a},l.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=b(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?O(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=_(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var g=0;a.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var o=e.value[n].name,i=e.value[n].number||0;r[o&&o.length?o:"NAME"+i]=i}return new a(e.name&&e.name.length?e.name:"Enum"+g++,r,E(e.options,t.EnumOptions))},a.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:_(this.options,t.EnumOptions)})};var m=0;c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"oneof"+m++)},c.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var y=0;u.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new u(e.name&&e.name.length?e.name:"Service"+y++,E(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(d.fromDescriptor(e.method[n]));return r},u.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:_(this.options,t.ServiceOptions)})};var v=0;function b(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof a)return 14;if(t instanceof s)return t.group?10:11;throw Error("illegal type: "+e)}function E(e,t){if(e){for(var r,o,i,s,l=[],p=0;p<t.fieldsArray.length;++p)"uninterpretedOption"!==(o=(r=t._fieldsArray[p]).name)&&e.hasOwnProperty(o)&&(i=e[o],r.resolvedType instanceof a&&"number"==typeof i&&void 0!==r.resolvedType.valuesById[i]&&(i=r.resolvedType.valuesById[i]),l.push((s=o).substring(0,1)+s.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,(function(e,t){return"_"+t.toLowerCase()})),i));return l.length?n.util.toObject(l):void 0}}function _(e,t){if(e){for(var r,o,i=[],a=0,s=Object.keys(e);a<s.length;++a)if(o=e[r=s[a]],"default"!==r){var l=t.fields[r];(l||(l=t.fields[r=n.util.camelCase(r)]))&&i.push(r,o)}return i.length?t.fromObject(n.util.toObject(i)):void 0}}function O(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),a=0,s=0,l=n.length-1;if(!(e instanceof i)&&t instanceof o)for(;a<r.length&&s<l&&r[a]===n[s];){var p=t.lookup(r[a++],!0);if(null!==p&&p!==t)break;++s}else for(;a<r.length&&s<l&&r[a]===n[s];++a,++s);return n.slice(s).join(".")}d.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new d(e.name&&e.name.length?e.name:"Method"+v++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),E(e.options,t.MethodOptions))},d.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:_(this.options,t.MethodOptions)})}},function(e,t,r){"use strict";
/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;const n=r(17),o=r(46),i=r(76);function a(e,t){const r=e.resolvePath;e.resolvePath=(e,i)=>{if(o.isAbsolute(i))return i;for(const e of t){const t=o.join(e,i);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${i} not found in any of the include paths ${t}`),r(e,i)}}t.loadProtosWithOptions=async function(e,t){const r=new i.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));a(r,t.includeDirs)}const n=await r.load(e,t);return n.resolveAll(),n},t.loadProtosWithOptionsSync=function(e,t){const r=new i.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw new Error("The includeDirs option must be an array");a(r,t.includeDirs)}const n=r.loadSync(e,t);return n.resolveAll(),n},t.addCommonProtos=function(){const e=r(732),t=r(418),n=r(733),o=r(734);i.common("api",e.nested.google.nested.protobuf.nested),i.common("descriptor",t.nested.google.nested.protobuf.nested),i.common("source_context",n.nested.google.nested.protobuf.nested),i.common("type",o.nested.google.nested.protobuf.nested)}},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},function(e){e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},function(e,t,r){var n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0===(n=function(){var e={};return function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;
/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */
var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function o(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var i={},a={};function s(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=a[e])?n:(r=p(e,0,!0),o&&(a[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=i[e])?n:(r=p(e,e<0?-1:0,!1),o&&(i[e]=r),r)}function l(e,t){if(isNaN(e))return t?v:y;if(t){if(e<0)return v;if(e>=f)return w}else{if(e<=-g)return S;if(e+1>=g)return O}return e<0?l(-e,t).neg():p(e%h|0,e/h|0,t)}function p(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=l,r.fromBits=p;var c=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?v:y;if((r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return u(e.substring(1),t,r).neg();for(var o=l(c(r,8)),i=y,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),p=parseInt(e.substring(a,a+s),r);if(s<8){var d=l(c(r,s));i=i.mul(d).add(l(p))}else i=(i=i.mul(o)).add(l(p))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?u(e,t):p(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=d;var h=4294967296,f=h*h,g=f/2,m=s(1<<24),y=s(0);r.ZERO=y;var v=s(0,!0);r.UZERO=v;var b=s(1);r.ONE=b;var E=s(1,!0);r.UONE=E;var _=s(-1);r.NEG_ONE=_;var O=p(-1,2147483647,!1);r.MAX_VALUE=O;var w=p(-1,-1,!0);r.MAX_UNSIGNED_VALUE=w;var S=p(0,-2147483648,!1);r.MIN_VALUE=S;var T=r.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=l(c(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),p=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return p+a;for(;p.length<6;)p="0"+p;a=""+p+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return n(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(n(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},T.neg=T.negate,T.add=function(e){n(e)||(e=d(e));var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,u=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,u+=(h+=o+l)>>>16,c+=(u+=r+s)>>>16,c+=t+a,p((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},T.subtract=function(e){return n(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=d(e)),t)return p(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?v:y;if(this.eq(S))return e.isOdd()?S:y;if(e.eq(S))return this.isOdd()?S:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return l(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,c=65535&e.high,u=e.low>>>16,h=65535&e.low,f=0,g=0,b=0,E=0;return b+=(E+=a*h)>>>16,g+=(b+=i*h)>>>16,b&=65535,g+=(b+=a*u)>>>16,f+=(g+=o*h)>>>16,g&=65535,f+=(g+=i*u)>>>16,g&=65535,f+=(g+=a*c)>>>16,f+=r*h+o*u+i*c+a*s,p((b&=65535)<<16|(E&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(n(e)||(e=d(e)),e.isZero())throw Error("division by zero");var r,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?p((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return E;i=v}else{if(this.eq(S))return e.eq(b)||e.eq(_)?S:e.eq(S)?b:(r=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:_:(o=this.sub(e.mul(r)),i=r.add(o.div(e)));if(e.eq(S))return this.unsigned?v:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=y}for(o=this;o.gte(e);){r=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),s=a<=48?1:c(2,a-48),u=l(r),h=u.mul(e);h.isNegative()||h.gt(o);)h=(u=l(r-=s,this.unsigned)).mul(e);u.isZero()&&(u=b),i=i.add(u),o=o.sub(h)}return i},T.div=T.divide,T.modulo=function(e){return n(e)||(e=d(e)),t?p((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return p(~this.low,~this.high,this.unsigned)},T.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},T.clz=T.countLeadingZeros,T.countTrailingZeros=function(){return this.low?o(this.low):o(this.high)+32},T.ctz=T.countTrailingZeros,T.and=function(e){return n(e)||(e=d(e)),p(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return n(e)||(e=d(e)),p(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return n(e)||(e=d(e)),p(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?p(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):p(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?p(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):p(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?p(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):p(32===e?this.high:this.high>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.rotateLeft=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?p(this.high,this.low,this.unsigned):e<32?(t=32-e,p(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),p(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},T.rotl=T.rotateLeft,T.rotateRight=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?p(this.high,this.low,this.unsigned):e<32?(t=32-e,p(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),p(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},T.rotr=T.rotateRight,T.toSigned=function(){return this.unsigned?p(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:p(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(r.fromBigInt=function(e,t){return p(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},r.fromValue=function(e,t){return"bigint"==typeof e?fromBigInt(e,t):d(e,t)},T.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=r}(e),function(e){return"default"in e?e.default:e}(e)}.apply(t,[]))||(e.exports=n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;const n=r(85),o=r(66),i=r(98),a=r(7),s=r(419),l=r(10),p=r(60),c=r(44),u=r(28),d=r(31),h=r(739),f=r(422),g=r(224).version,{HTTP2_HEADER_AUTHORITY:m,HTTP2_HEADER_CONTENT_TYPE:y,HTTP2_HEADER_METHOD:v,HTTP2_HEADER_PATH:b,HTTP2_HEADER_TE:E,HTTP2_HEADER_USER_AGENT:_}=n.constants,O=Buffer.from("too_many_pings","ascii");class w{constructor(e,t,r,o){this.session=e,this.options=r,this.remoteName=o,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,c.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.streamTracker=new i.ChannelzCallTrackerStub):this.streamTracker=new i.ChannelzCallTracker,this.channelzRef=(0,i.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],"grpc-node-js/"+g,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),this.keepaliveTimeMs="grpc.keepalive_time_ms"in r?r["grpc.keepalive_time_ms"]:-1,this.keepaliveTimeoutMs="grpc.keepalive_timeout_ms"in r?r["grpc.keepalive_timeout_ms"]:2e4,this.keepaliveWithoutCalls="grpc.keepalive_permit_without_calls"in r&&1===r["grpc.keepalive_permit_without_calls"],e.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let o=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(O)&&(o=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(o)}),e.once("error",e=>{this.trace("connection closed with error "+e.message),this.handleDisconnect()}),e.socket.once("close",()=>{this.trace("connection closed"),this.handleDisconnect()}),l.isTracerEnabled("transport")&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;const n=this.session.socket,o=n.remoteAddress?(0,c.stringToSubchannelAddress)(n.remoteAddress,n.remotePort):null,i=n.localAddress?(0,c.stringToSubchannelAddress)(n.localAddress,n.localPort):null;let a;if(this.session.encrypted){const t=n,r=t.getCipher(),o=t.getCertificate(),i=t.getPeerCertificate();a={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:o&&"raw"in o?o.raw:null,remoteCertificate:i&&"raw"in i?i.raw:null}}else a=null;return{remoteAddress:o,localAddress:i,security:a,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){l.trace(a.LogVerbosity.DEBUG,"transport","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){l.trace(a.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){l.trace(a.LogVerbosity.DEBUG,"transport_flowctrl","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){l.trace(a.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(const e of this.activeCalls)e.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(e){this.disconnectListeners.push(e)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(!this.canSendPing())return void(this.pendingSendKeepalivePing=!0);if(this.keepaliveTimer)return void console.error("keepaliveTimeout is not null");this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimer).unref)||void 0===t||t.call(e);let r="";try{this.session.ping((e,t,r)=>{this.clearKeepaliveTimeout(),e?(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}r&&(this.keepaliveTrace("Ping send failed: "+r),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),null===(t=(e=this.keepaliveTimer).unref)||void 0===t||t.call(e)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,o){const i=e.toHttp2Headers();let a,s,l;i[m]=t,i[_]=this.userAgent,i[y]="application/grpc",i[v]="POST",i[b]=r,i[E]="trailers";try{a=this.session.request(i)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),s={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=o.addMessageSent)||void 0===e||e.call(o)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=o.addMessageReceived)||void 0===e||e.call(o)},onCallEnd:e=>{var t;null===(t=o.onCallEnd)||void 0===t||t.call(o,e),this.removeActiveCall(l)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=o.onStreamEnd)||void 0===t||t.call(o,e)}}):s={addMessageSent:()=>{var e;null===(e=o.addMessageSent)||void 0===e||e.call(o)},addMessageReceived:()=>{var e;null===(e=o.addMessageReceived)||void 0===e||e.call(o)},onCallEnd:e=>{var t;null===(t=o.onCallEnd)||void 0===t||t.call(o,e),this.removeActiveCall(l)},onStreamEnd:e=>{var t;null===(t=o.onStreamEnd)||void 0===t||t.call(o,e)}},l=new h.Http2SubchannelCall(a,s,n,this,(0,f.getNextCallNumber)()),this.addActiveCall(l),l}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,i.unregisterChannelzRef)(this.channelzRef)}}t.Http2SubchannelConnector=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){l.trace(a.LogVerbosity.DEBUG,"transport",(0,u.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,i){return this.isShutdown?Promise.reject():new Promise((a,s)=>{var l,h,f,g;let m;i.realTarget?(m=(0,u.uriToString)(i.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,u.uriToString)(i.realTarget))):(m=null,this.trace("creating HTTP/2 session to "+(0,c.subchannelAddressToString)(e)));const y=(0,p.getDefaultAuthority)(null!==(l=i.realTarget)&&void 0!==l?l:this.channelTarget);let v=t._getConnectionOptions();if(!v)return void s("Credentials not loaded");v.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,v.maxSessionMemory="grpc-node.max_session_memory"in r?r["grpc-node.max_session_memory"]:Number.MAX_SAFE_INTEGER;let b="http://";if("secureContext"in v){if(b="https://",r["grpc.ssl_target_name_override"]){const e=r["grpc.ssl_target_name_override"],t=null!==(h=v.checkServerIdentity)&&void 0!==h?h:o.checkServerIdentity;v.checkServerIdentity=(r,n)=>t(e,n),v.servername=e}else{const e=null!==(g=null===(f=(0,u.splitHostPort)(y))||void 0===f?void 0:f.host)&&void 0!==g?g:"localhost";v.servername=e}i.socket&&(v.createConnection=(e,t)=>i.socket)}else v.createConnection=(t,r)=>i.socket?i.socket:d.connect(e);v=Object.assign(Object.assign(Object.assign({},v),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});const E=n.connect(b+y,v);this.session=E;let _="Failed to connect",O=!1;E.unref(),E.once("connect",()=>{E.removeAllListeners(),a(new w(E,e,r,m)),this.session=null}),E.once("close",()=>{this.session=null,setImmediate(()=>{O||(O=!0,s(`${_} (${(new Date).toISOString()})`))})}),E.once("error",e=>{_=e.message,this.trace("connection failed with error "+_),O||(O=!0,s(`${_} (${(new Date).toISOString()})`))})})}connect(e,t,r){var n,i,a;if(this.isShutdown)return Promise.reject();const l=t._getConnectionOptions();if(!l)return Promise.reject("Credentials not loaded");if("secureContext"in l){if(l.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){const e=r["grpc.ssl_target_name_override"],t=null!==(n=l.checkServerIdentity)&&void 0!==n?n:o.checkServerIdentity;l.checkServerIdentity=(r,n)=>t(e,n),l.servername=e}else if("grpc.http_connect_target"in r){const e=(0,p.getDefaultAuthority)(null!==(i=(0,u.parseUri)(r["grpc.http_connect_target"]))&&void 0!==i?i:{path:"localhost"}),t=(0,u.splitHostPort)(e);l.servername=null!==(a=null==t?void 0:t.host)&&void 0!==a?a:e}r["grpc-node.tls_enable_trace"]&&(l.enableTrace=!0)}return(0,s.getProxiedConnection)(e,r,l).then(n=>this.createSession(e,t,r,n))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}},function(e,t){e.exports=require("dns")},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,t.GRPC_NODE_USE_ALTERNATIVE_RESOLVER="true"===(null!==(n=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)&&void 0!==n?n:"false")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;const n=r(85),o=r(67),i=r(7),a=r(21),s=r(421),l=r(10),p=r(7);function c(e){const t="Received HTTP status code "+e;let r;switch(e){case 400:r=i.Status.INTERNAL;break;case 401:r=i.Status.UNAUTHENTICATED;break;case 403:r=i.Status.PERMISSION_DENIED;break;case 404:r=i.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:r=i.Status.UNAVAILABLE;break;default:r=i.Status.UNKNOWN}return{code:r,details:t,metadata:new a.Metadata}}t.Http2SubchannelCall=class{constructor(e,t,r,l,p){var u;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=l,this.callId=p,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;const d=null!==(u=l.getOptions()["grpc.max_receive_message_length"])&&void 0!==u?u:i.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new s.StreamDecoder(d),e.on("response",(e,t)=>{let r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";if(this.trace("Received server headers:\n"+r),this.httpStatusCode=e[":status"],t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=a.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:i.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{if(this.statusOutput)return;let t;this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){if(void 0!==this.httpStatusCode&&200!==this.httpStatusCode){const e=c(this.httpStatusCode);this.cancelWithStatus(e.code,e.details)}else this.cancelWithStatus(i.Status.RESOURCE_EXHAUSTED,e.message);return}for(const e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===i.Status.OK)return;let r,o="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;if(this.httpStatusCode&&200!==this.httpStatusCode){const e=c(this.httpStatusCode);r=e.code,o=e.details}else r=i.Status.INTERNAL,o=`Received RST_STREAM with code ${e.rstCode} (Call ended without gRPC status)`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=i.Status.UNAVAILABLE,o="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:this.connectionDropped?(r=i.Status.UNAVAILABLE,o="Connection dropped"):(r=i.Status.CANCELLED,o="Call cancelled");break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=i.Status.RESOURCE_EXHAUSTED,o="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=i.Status.PERMISSION_DENIED,o="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=i.Status.INTERNAL,null===this.internalError?o=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=i.Status.UNAVAILABLE,o=this.internalError.message):o=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=i.Status.INTERNAL,o="Received RST_STREAM with code "+e.rstCode}this.endCall({code:r,details:o,metadata:new a.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+function(e){for(const[t,r]of Object.entries(o.constants.errno))if(r===e)return t;return"Unknown system error "+e}(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return["remote_addr="+this.getPeer()]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:i.Status.UNAVAILABLE,details:"Connection dropped",metadata:new a.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){l.trace(p.LogVerbosity.DEBUG,"subchannel_call","["+this.callId+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==i.Status.OK||(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==i.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let t,r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=a.Metadata.fromHttp2Headers(e)}catch(e){t=new a.Metadata}const n=t.getMap();let o;if("string"==typeof n["grpc-status"]){const e=Number(n["grpc-status"]);this.trace("received status code "+e+" from server"),t.remove("grpc-status");let r="";if("string"==typeof n["grpc-message"]){try{r=decodeURI(n["grpc-message"])}catch(e){r=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+r+'" from server')}o={code:e,details:r,metadata:t}}else this.httpStatusCode?(o=c(this.httpStatusCode),o.metadata=t):o={code:i.Status.UNKNOWN,details:"No status information received",metadata:t};this.endCall(o)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===i.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new a.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==i.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();this.push(e)}else this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);const r=t=>{process.nextTick(()=>{var r;let n=i.Status.UNAVAILABLE;"ERR_STREAM_WRITE_AFTER_END"===(null==t?void 0:t.code)&&(n=i.Status.INTERNAL),t&&this.cancelWithStatus(n,"Write error: "+t.message),null===(r=e.callback)||void 0===r||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:i.Status.UNAVAILABLE,details:"Write failed with error "+e.message,metadata:new a.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;const n=r(22),o=r(424),i=r(7),a=r(425),s=r(10);class l{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));const n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){const t=1===e.readUInt8(0);let r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class p extends l{async compressMessage(e){return e}async writeMessage(e,t){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class c extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let o=0;const a=[],s=n.createInflate();s.on("data",e=>{a.push(e),o+=e.byteLength,-1!==this.maxRecvMessageLength&&o>this.maxRecvMessageLength&&(s.destroy(),r({code:i.Status.RESOURCE_EXHAUSTED,details:"Received message that decompresses to a size larger than "+this.maxRecvMessageLength}))}),s.on("end",()=>{t(Buffer.concat(a))}),s.write(e),s.end()})}}class u extends l{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let o=0;const a=[],s=n.createGunzip();s.on("data",e=>{a.push(e),o+=e.byteLength,-1!==this.maxRecvMessageLength&&o>this.maxRecvMessageLength&&(s.destroy(),r({code:i.Status.RESOURCE_EXHAUSTED,details:"Received message that decompresses to a size larger than "+this.maxRecvMessageLength}))}),s.on("end",()=>{t(Buffer.concat(a))}),s.write(e),s.end()})}}class d extends l{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error("Received message compressed with unsupported compression method "+this.compressionName))}decompressMessage(e){return Promise.reject(new Error("Compression method not supported: "+this.compressionName))}}function h(e,t){switch(e){case"identity":return new p;case"deflate":return new c(t);case"gzip":return new u(t);default:return new d(e)}}class f extends a.BaseFilter{constructor(e,t){var r,n,a;super(),this.sharedFilterConfig=t,this.sendCompression=new p,this.receiveCompression=new p,this.currentCompressionAlgorithm="identity";const l=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:i.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=null!==(n=e["grpc.max_send_message_length"])&&void 0!==n?n:i.DEFAULT_MAX_SEND_MESSAGE_LENGTH,void 0!==l)if("number"==typeof(c=l)&&"string"==typeof o.CompressionAlgorithms[c]){const e=o.CompressionAlgorithms[l],r=null===(a=t.serverSupportedEncodingHeader)||void 0===a?void 0:a.split(",");r&&!r.includes(e)||(this.currentCompressionAlgorithm=e,this.sendCompression=h(this.currentCompressionAlgorithm,-1))}else s.log(i.LogVerbosity.ERROR,"Invalid value provided for grpc.default_compression_algorithm option: "+l);var c}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=h(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");const r=e.get("grpc-accept-encoding")[0];if(r){this.sharedFilterConfig.serverSupportedEncodingHeader=r;r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new p,this.currentCompressionAlgorithm="identity")}return e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;const r=await e;if(-1!==this.maxSendMessageLength&&r.message.length>this.maxSendMessageLength)throw{code:i.Status.RESOURCE_EXHAUSTED,details:"Attempted to send message with a size larger than "+this.maxSendMessageLength};let n;return n=!(this.sendCompression instanceof p)&&0==(2&(null!==(t=r.flags)&&void 0!==t?t:0)),{message:await this.sendCompression.writeMessage(r.message,n),flags:r.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=f;t.CompressionFilterFactory=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new f(this.options,this.sharedFilterConfig)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;const n=r(43),o=r(7),i=r(156),a=r(21),s=r(82),l=r(28),p=r(10),c=r(228),u=r(85);t.LoadBalancingCall=class{constructor(e,t,r,n,o,i,a){var s,p;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=o,this.deadline=i,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;const c=this.methodName.split("/");let u="";c.length>=2&&(u=c[1]);const d=null!==(p=null===(s=(0,l.splitHostPort)(this.host))||void 0===s?void 0:s.host)&&void 0!==p?p:"localhost";this.serviceUrl=`https://${d}/${u}`,this.startTime=new Date}getDeadlineInfo(){var e,t;const r=[];return this.childStartTime?(this.childStartTime>this.startTime&&((null===(e=this.metadata)||void 0===e?void 0:e.getOptions().waitForReady)&&r.push("wait_for_ready"),r.push("LB pick: "+(0,i.formatDateDifference)(this.startTime,this.childStartTime))),r.push(...this.child.getDeadlineInfo()),r):((null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)&&r.push("wait_for_ready"),r.push("Waiting for LB pick"),r)}trace(e){p.trace(o.LogVerbosity.DEBUG,"load_balancing_call","["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString());const o=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(o),null===(n=this.onCallEnded)||void 0===n||n.call(this,o.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");const r=this.metadata.clone(),l=this.channel.doPick(r,this.callConfig.pickInformation),p=l.subchannel?"("+l.subchannel.getChannelzRef().id+") "+l.subchannel.getAddress():""+l.subchannel;switch(this.trace("Pick result: "+s.PickResultType[l.pickResultType]+" subchannel: "+p+" status: "+(null===(e=l.status)||void 0===e?void 0:e.code)+" "+(null===(t=l.status)||void 0===t?void 0:t.details)),l.pickResultType){case s.PickResultType.COMPLETE:this.credentials.generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(e=>{var t,s,c;if(this.ended)this.trace("Credentials metadata generation finished after call ended");else{if(r.merge(e),r.get("authorization").length>1&&this.outputStatus({code:o.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new a.Metadata},"PROCESSED"),l.subchannel.getConnectivityState()!==n.ConnectivityState.READY)return this.trace("Picked subchannel "+p+" has state "+n.ConnectivityState[l.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),void this.doPick();this.deadline!==1/0&&r.set("grpc-timeout",(0,i.getDeadlineTimeoutString)(this.deadline));try{this.child=l.subchannel.getRealSubchannel().createCall(r,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===u.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}}),this.childStartTime=new Date}catch(e){return this.trace("Failed to start call on picked subchannel "+p+" with error "+e.message),void this.outputStatus({code:o.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new a.Metadata},"NOT_STARTED")}null===(s=(t=this.callConfig).onCommitted)||void 0===s||s.call(t),null===(c=l.onCallStarted)||void 0===c||c.call(l),this.onCallEnded=l.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()}},e=>{const{code:t,details:r}=(0,c.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:o.Status.UNKNOWN,"Getting metadata from plugin failed with error: "+e.message);this.outputStatus({code:t,details:r,metadata:new a.Metadata},"PROCESSED")});break;case s.PickResultType.DROP:const{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(l.status.code,l.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:l.status.metadata},"DROP")});break;case s.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{const{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(l.status.code,l.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:l.status.metadata},"PROCESSED")})}break;case s.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new a.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;const n=r(7),o=r(156),i=r(21),a=r(10),s=r(228);t.ResolvingCall=class{constructor(e,t,r,i,a,s){this.channel=e,this.method=t,this.filterStackFactory=i,this.credentials=a,this.callNumber=s,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")}),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,o.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){a.trace(n.LogVerbosity.DEBUG,"resolving_call","["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,o.deadlineToString)(this.deadline));const e=(0,o.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");const t=()=>{if(!this.deadlineStartTime)return void this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded");const e=[],t=new Date;e.push("Deadline exceeded after "+(0,o.formatDateDifference)(this.deadlineStartTime,t)),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&e.push("name resolution: "+(0,o.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)),this.childStartTime?this.childStartTime>this.configReceivedTime&&e.push("metadata filters: "+(0,o.formatDateDifference)(this.configReceivedTime,this.childStartTime)):e.push("waiting for metadata filters")):e.push("waiting for name resolution"),this.child&&e.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,e.join(","))};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);const t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");const r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");const e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type)return void this.channel.queueCallForConfig(this);if("ERROR"===e.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error));this.configReceivedTime=new Date;const t=e.config;if(t.status===n.Status.OK){if(t.methodConfig.timeout){const e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,o.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}else{const{code:e,details:r}=(0,s.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new i.Metadata})}}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new i.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;const n=r(7),o=r(156),i=r(21),a=r(10);t.RetryThrottler=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,this.tokens=r?r.tokens*(e/r.maxTokens):e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};t.MessageBufferTracker=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;const n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e||this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;const n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;const r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};t.RetryingCall=class{constructor(e,t,r,n,o,i,a,s,l){var p;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=o,this.deadline=i,this.callNumber=a,this.bufferTracker=s,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;const c=null!==(p=e.getOptions()["grpc-node.retry_max_attempts_limit"])&&void 0!==p?p:5;if(t.methodConfig.retryPolicy){this.state="RETRY";const e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1)),this.maxAttempts=Math.min(e.maxAttempts,c)}else t.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(t.methodConfig.hedgingPolicy.maxAttempts,c)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(0===this.underlyingCalls.length)return[];const e=[],t=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&e.push("previous attempts: "+(this.underlyingCalls.length-1)),t.startTime>this.startTime&&e.push("time to current attempt start: "+(0,o.formatDateDifference)(this.startTime,t.startTime)),e.push(...t.call.getDeadlineInfo()),e}getCallNumber(){return this.callNumber}trace(e){a.trace(n.LogVerbosity.DEBUG,"retrying_call","["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new i.Metadata});for(const{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;const e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){const e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(const[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>{var r;return e===t||e.toString().toLowerCase()===(null===(r=n.Status[t])||void 0===r?void 0:r.toLowerCase())})}getNextRetryBackoffMs(){var e;const t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;const r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){if("RETRY"!==this.state)return void t(!1);if(this.attempts>=this.maxAttempts)return void t(!1);let r;if(null===e)r=this.getNextRetryBackoffMs();else{if(e<0)return this.state="TRANSPARENT_ONLY",void t(!1);r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec}setTimeout(()=>{var e,r;"RETRY"===this.state?(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt()):t(!1)},r)}countActiveCalls(){let e=0;for(const t of this.underlyingCalls)"ACTIVE"===(null==t?void 0:t.state)&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,o,i;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(o=this.retryThrottler)||void 0===o||o.addCallFailed(),null===r)n=0;else{if(r<0)return this.state="TRANSPARENT_ONLY",this.commitCall(t),void this.reportStatus(e);n=r}setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){const t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return-1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK)return null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),void this.reportStatus(e);if("COMMITTED"===this.state)return void this.reportStatus(e);const o=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,o):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,o)}}maybeStartHedgingAttempt(){"HEDGING"===this.state&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state)return;if(!this.callConfig.methodConfig.hedgingPolicy)return;const n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;const o=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",i=Number(o.substring(0,o.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*i),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){const e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);const t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0,startTime:new Date});const r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set("grpc-previous-rpc-attempts",""+r);let o=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),o=!0,r>0&&n.set("grpc-previous-rpc-attempts",""+r),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!o&&r>0&&n.metadata.set("grpc-previous-rpc-attempts",""+r),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;const n=this.underlyingCalls[e],o=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(o)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){const t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){const r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);const n={message:t,flags:e.flags},o=this.getNextBufferIndex(),i={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(i),i.allocated){null===(r=e.callback)||void 0===r||r.call(e);for(const[e,r]of this.underlyingCalls.entries())"ACTIVE"===r.state&&r.nextMessageToSend===o&&r.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},t)}else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;const r=this.underlyingCalls[this.committedCallIndex];i.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===o&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(const e of this.underlyingCalls)"ACTIVE"===(null==e?void 0:e.state)&&e.call.startRead()}halfClose(){this.trace("halfClose called");const e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(const t of this.underlyingCalls)"ACTIVE"===(null==t?void 0:t.state)&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}},function(e,t,r){"use strict";var n=this&&this.__runInitializers||function(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0},o=this&&this.__esDecorate||function(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=n.kind,p="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d=!1,h=r.length-1;h>=0;h--){var f={};for(var g in n)f[g]="access"===g?{}:n[g];for(var g in n.access)f.access[g]=n.access[g];f.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var m=(0,r[h])("accessor"===l?{get:u.get,set:u.set}:u[p],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(s=a(m.get))&&(u.get=s),(s=a(m.set))&&(u.set=s),(s=a(m.init))&&o.unshift(s)}else(s=a(m))&&("field"===l?o.unshift(s):u[p]=s)}c&&Object.defineProperty(c,n.name,u),d=!0};Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const i=r(85),a=r(6),s=r(7),l=r(745),p=r(230),c=r(60),u=r(10),d=r(44),h=r(28),f=r(98),g=r(426),{HTTP2_HEADER_PATH:m}=i.constants,y=Buffer.from("max_age");function v(){}function b(e){return{code:s.Status.UNIMPLEMENTED,details:"The server does not implement the method "+e}}let E=(()=>{var e;let t,r=[];return e=class{constructor(e){var t,o,i,a,s,l;this.boundPorts=(n(this,r),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]?(this.channelzEnabled=!1,this.channelzTrace=new f.ChannelzTraceStub,this.callTracker=new f.ChannelzCallTrackerStub,this.listenerChildrenTracker=new f.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new f.ChannelzChildrenTrackerStub):(this.channelzTrace=new f.ChannelzTrace,this.callTracker=new f.ChannelzCallTracker,this.listenerChildrenTracker=new f.ChannelzChildrenTracker,this.sessionChildrenTracker=new f.ChannelzChildrenTracker),this.channelzRef=(0,f.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:~(1<<31),this.maxConnectionAgeGraceMs=null!==(o=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==o?o:~(1<<31),this.keepaliveTimeMs=null!==(i=this.options["grpc.keepalive_time_ms"])&&void 0!==i?i:~(1<<31),this.keepaliveTimeoutMs=null!==(a=this.options["grpc.keepalive_timeout_ms"])&&void 0!==a?a:2e4,this.sessionIdleTimeout=null!==(s=this.options["grpc.max_connection_idle_ms"])&&void 0!==s?s:~(1<<31),this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=null!==(l=this.options.interceptors)&&void 0!==l?l:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(e){var t,r,n;const o=this.sessions.get(e),i=e.socket,a=i.remoteAddress?(0,d.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,s=i.localAddress?(0,d.stringToSubchannelAddress)(i.localAddress,i.localPort):null;let l;if(e.encrypted){const e=i,r=e.getCipher(),n=e.getCertificate(),o=e.getPeerCertificate();l={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else l=null;return{remoteAddress:a,localAddress:s,security:l,remoteName:null,streamsStarted:o.streamTracker.callsStarted,streamsSucceeded:o.streamTracker.callsSucceeded,streamsFailed:o.streamTracker.callsFailed,messagesSent:o.messagesSent,messagesReceived:o.messagesReceived,keepAlivesSent:o.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:o.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:o.lastMessageSentTimestamp,lastMessageReceivedTimestamp:o.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}trace(e){u.trace(s.LogVerbosity.DEBUG,"server","("+this.channelzRef.id+") "+e)}keepaliveTrace(e){u.trace(s.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");r.forEach(r=>{const n=e[r];let o;o=n.requestStream?n.responseStream?"bidi":"clientStream":n.responseStream?"serverStream":"unary";let i,a=t[r];void 0===a&&"string"==typeof n.originalName&&(a=t[n.originalName]),i=void 0!==a?a.bind(t):function(e,t){const r=b(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":case"bidi":return e=>{e.emit("error",r)};default:throw new Error("Invalid handlerType "+e)}}(o,r);if(!1===this.register(n.path,i,n.responseSerialize,n.requestDeserialize,o))throw new Error(`Method handler for ${n.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw new Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{const r=e[t];this.unregister(r.path)})}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(e){return(0,f.registerChannelzSocket)((0,d.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(e){let t;if(e._isSecure()){const r=e._getSettings(),n=Object.assign(Object.assign(Object.assign({},this.commonServerOptions),r),{enableTrace:1===this.options["grpc-node.tls_enable_trace"]});let o=null!==r;t=i.createSecureServer(n),t.on("connection",e=>{o||e.destroy()}),t.on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})});const a=e=>{e&&t.setSecureContext(e),o=null!==e};e._addWatcher(a),t.on("close",()=>{e._removeWatcher(a)})}else t=i.createServer(this.commonServerOptions);return t.setTimeout(0,v),this._setupHandlers(t,e._getInterceptors()),t}bindOneAddress(e,t){this.trace("Attempting to bind "+(0,d.subchannelAddressToString)(e));const r=this.createHttp2Server(t.credentials);return new Promise((n,o)=>{const i=t=>{this.trace("Failed to bind "+(0,d.subchannelAddressToString)(e)+" with error "+t.message),n({port:"port"in e?e.port:1,error:t.message})};r.once("error",i),r.listen(e,()=>{const e=r.address();let o;o="string"==typeof e?{path:e}:{host:e.address,port:e.port};const a=this.registerListenerToChannelz(o);this.listenerChildrenTracker.refChild(a),this.http2Servers.set(r,{channelzRef:a,sessions:new Set}),t.listeningServers.add(r),this.trace("Successfully bound "+(0,d.subchannelAddressToString)(o)),n({port:"port"in o?o.port:1}),r.removeListener("error",i)})})}async bindManyPorts(e,t){if(0===e.length)return{count:0,port:0,errors:[]};if((0,d.isTcpSubchannelAddress)(e[0])&&0===e[0].port){const r=await this.bindOneAddress(e[0],t);if(r.error){const n=await this.bindManyPorts(e.slice(1),t);return Object.assign(Object.assign({},n),{errors:[r.error,...n.errors]})}{const n=e.slice(1).map(e=>(0,d.isTcpSubchannelAddress)(e)?{host:e.host,port:r.port}:e),o=await Promise.all(n.map(e=>this.bindOneAddress(e,t))),i=[r,...o];return{count:i.filter(e=>void 0===e.error).length,port:r.port,errors:i.filter(e=>e.error).map(e=>e.error)}}}{const r=await Promise.all(e.map(e=>this.bindOneAddress(e,t)));return{count:r.filter(e=>void 0===e.error).length,port:r[0].port,errors:r.filter(e=>e.error).map(e=>e.error)}}}async bindAddressList(e,t){const r=await this.bindManyPorts(e,t);if(r.count>0)return r.count<e.length&&u.log(s.LogVerbosity.INFO,`WARNING Only ${r.count} addresses added out of total ${e.length} resolved`),r.port;{const t=`No address added out of total ${e.length} resolved`;throw u.log(s.LogVerbosity.ERROR,t),new Error(`${t} errors: [${r.errors.join(",")}]`)}}resolvePort(e){return new Promise((t,r)=>{const n={onSuccessfulResolution:(o,i,a)=>{n.onSuccessfulResolution=()=>{};const s=[].concat(...o.map(e=>e.addresses));0!==s.length?t(s):r(new Error("No addresses resolved for port "+e))},onError:e=>{r(new Error(e.details))}};(0,c.createResolver)(e,n,this.options).updateResolution()})}async bindPort(e,t){const r=await this.resolvePort(e);if(t.cancelled)throw this.completeUnbind(t),new Error("bindAsync operation cancelled by unbind call");const n=await this.bindAddressList(r,t);if(t.cancelled)throw this.completeUnbind(t),new Error("bindAsync operation cancelled by unbind call");return n}normalizePort(e){const t=(0,h.parseUri)(e);if(null===t)throw new Error(`Could not parse port "${e}"`);const r=(0,c.mapUriDefaultScheme)(t);if(null===r)throw new Error(`Could not get a default scheme for port "${e}"`);return r}bindAsync(e,t,r){if(this.shutdown)throw new Error("bindAsync called after shutdown");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||!(t instanceof p.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw new TypeError("callback must be a function");this.trace("bindAsync port="+e);const n=this.normalizePort(e),o=(e,t)=>{process.nextTick(()=>r(e,t))};let i=this.boundPorts.get((0,h.uriToString)(n));if(i)return t._equals(i.credentials)?(i.cancelled=!1,void(i.completionPromise?i.completionPromise.then(e=>r(null,e),e=>r(e,0)):o(null,i.portNumber))):void o(new Error(e+" already bound with incompatible credentials"),0);i={mapKey:(0,h.uriToString)(n),originalUri:n,completionPromise:null,cancelled:!1,portNumber:0,credentials:t,listeningServers:new Set};const a=(0,h.splitHostPort)(n.path),s=this.bindPort(n,i);i.completionPromise=s,0===(null==a?void 0:a.port)?s.then(e=>{const t={scheme:n.scheme,authority:n.authority,path:(0,h.combineHostPort)({host:a.host,port:e})};i.mapKey=(0,h.uriToString)(t),i.completionPromise=null,i.portNumber=e,this.boundPorts.set(i.mapKey,i),r(null,e)},e=>{r(e,0)}):(this.boundPorts.set(i.mapKey,i),s.then(e=>{i.completionPromise=null,i.portNumber=e,r(null,e)},e=>{r(e,0)}))}registerInjectorToChannelz(){return(0,f.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createConnectionInjector(e){if(null===e||!(e instanceof p.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");const t=this.createHttp2Server(e),r=this.registerInjectorToChannelz();this.channelzEnabled&&this.listenerChildrenTracker.refChild(r);const n=new Set;return this.http2Servers.set(t,{channelzRef:r,sessions:n}),{injectConnection:e=>{t.emit("connection",e)},drain:e=>{var t,r;for(const e of n)this.closeSession(e);null===(r=(t=setTimeout(()=>{for(const e of n)e.destroy(i.constants.NGHTTP2_CANCEL)},e)).unref)||void 0===r||r.call(t)},destroy:()=>{this.closeServer(t);for(const e of n)this.closeSession(e)}}}closeServer(e,t){this.trace("Closing server with address "+JSON.stringify(e.address()));const r=this.http2Servers.get(e);e.close(()=>{r&&(this.listenerChildrenTracker.unrefChild(r.channelzRef),(0,f.unregisterChannelzRef)(r.channelzRef)),this.http2Servers.delete(e),null==t||t()})}closeSession(e,t){var r;this.trace("Closing session initiated by "+(null===(r=e.socket)||void 0===r?void 0:r.remoteAddress));const n=this.sessions.get(e),o=()=>{n&&(this.sessionChildrenTracker.unrefChild(n.ref),(0,f.unregisterChannelzRef)(n.ref)),null==t||t()};e.closed?queueMicrotask(o):e.close(o)}completeUnbind(e){for(const t of e.listeningServers){const r=this.http2Servers.get(t);if(this.closeServer(t,()=>{e.listeningServers.delete(t)}),r)for(const e of r.sessions)this.closeSession(e)}this.boundPorts.delete(e.mapKey)}unbind(e){this.trace("unbind port="+e);const t=this.normalizePort(e),r=(0,h.splitHostPort)(t.path);if(0===(null==r?void 0:r.port))throw new Error("Cannot unbind port 0");const n=this.boundPorts.get((0,h.uriToString)(t));n&&(this.trace("unbinding "+n.mapKey+" originally bound as "+(0,h.uriToString)(n.originalUri)),n.completionPromise?n.cancelled=!0:this.completeUnbind(n))}drain(e,t){var r,n;this.trace("drain port="+e+" graceTimeMs="+t);const o=this.normalizePort(e),a=(0,h.splitHostPort)(o.path);if(0===(null==a?void 0:a.port))throw new Error("Cannot drain port 0");const s=this.boundPorts.get((0,h.uriToString)(o));if(!s)return;const l=new Set;for(const e of s.listeningServers){const t=this.http2Servers.get(e);if(t)for(const e of t.sessions)l.add(e),this.closeSession(e,()=>{l.delete(e)})}null===(n=(r=setTimeout(()=>{for(const e of l)e.destroy(i.constants.NGHTTP2_CANCEL)},t)).unref)||void 0===n||n.call(r)}forceShutdown(){for(const e of this.boundPorts.values())e.cancelled=!0;this.boundPorts.clear();for(const e of this.http2Servers.keys())this.closeServer(e);this.sessions.forEach((e,t)=>{this.closeSession(t),t.destroy(i.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,f.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(e,t,r,n,o){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:o,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2Servers.size||[...this.http2Servers.keys()].every(e=>!e.listening))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){var t;const r=t=>{(0,f.unregisterChannelzRef)(this.channelzRef),e(t)};let n=0;function o(){n--,0===n&&r()}this.shutdown=!0;for(const[e,r]of this.http2Servers.entries()){n++;const i=r.channelzRef.name;this.trace("Waiting for server "+i+" to close"),this.closeServer(e,()=>{this.trace("Server "+i+" finished closing"),o()});for(const e of r.sessions.keys()){n++;const r=null===(t=e.socket)||void 0===t?void 0:t.remoteAddress;this.trace("Waiting for session "+r+" to close"),this.closeSession(e,()=>{this.trace("Session "+r+" finished closing"),o()})}}0===n&&r()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){const r=t[i.constants.HTTP2_HEADER_CONTENT_TYPE];return!("string"!=typeof r||!r.startsWith("application/grpc"))||(e.respond({[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);const t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){var n,o;const a=Object.assign({"grpc-status":null!==(n=e.code)&&void 0!==n?n:s.Status.INTERNAL,"grpc-message":e.details,[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},null===(o=e.metadata)||void 0===o?void 0:o.toHttp2Headers());t.respond(a,{endStream:!0}),this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()}_channelzHandler(e,t,r){this.onStreamOpened(t);const n=this.sessions.get(t.session);if(this.callTracker.addCallStarted(),null==n||n.streamTracker.addCallStarted(),!this._verifyContentType(t,r))return this.callTracker.addCallFailed(),void(null==n||n.streamTracker.addCallFailed());const o=r[m],i=this._retrieveHandler(o);if(!i)return void this._respondWithError(b(o),t,n);const a={addMessageSent:()=>{n&&(n.messagesSent+=1,n.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{n&&(n.messagesReceived+=1,n.lastMessageReceivedTimestamp=new Date)},onCallEnd:e=>{e.code===s.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:e=>{n&&(e?n.streamTracker.addCallSucceeded():n.streamTracker.addCallFailed())}},l=(0,g.getServerInterceptingCall)([...e,...this.interceptors],t,r,a,i,this.options);this._runHandlerForCall(l,i)||(this.callTracker.addCallFailed(),null==n||n.streamTracker.addCallFailed(),l.sendStatus({code:s.Status.INTERNAL,details:"Unknown handler type: "+i.type}))}_streamHandler(e,t,r){if(this.onStreamOpened(t),!0!==this._verifyContentType(t,r))return;const n=r[m],o=this._retrieveHandler(n);if(!o)return void this._respondWithError(b(n),t,null);const i=(0,g.getServerInterceptingCall)([...e,...this.interceptors],t,r,null,o,this.options);this._runHandlerForCall(i,o)||i.sendStatus({code:s.Status.INTERNAL,details:"Unknown handler type: "+o.type})}_runHandlerForCall(e,t){const{type:r}=t;if("unary"===r)!async function(e,t){let r,n;function o(t,r,n,o){t?e.sendStatus((0,l.serverErrorToStatus)(t,n)):e.sendMessage(r,()=>{e.sendStatus({code:s.Status.OK,details:"OK",metadata:null!=n?n:null})})}let i=null;e.start({onReceiveMetadata(t){n=t,e.startRead()},onReceiveMessage(r){i?e.sendStatus({code:s.Status.UNIMPLEMENTED,details:"Received a second request message for server streaming method "+t.path,metadata:null}):(i=r,e.startRead())},onReceiveHalfClose(){if(i){r=new l.ServerWritableStreamImpl(t.path,e,n,i);try{t.func(r,o)}catch(t){e.sendStatus({code:s.Status.UNKNOWN,details:"Server method handler threw error "+t.message,metadata:null})}}else e.sendStatus({code:s.Status.UNIMPLEMENTED,details:"Received no request message for server streaming method "+t.path,metadata:null})},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"))}})}(e,t);else if("clientStream"===r)!function(e,t){let r;function n(t,r,n,o){t?e.sendStatus((0,l.serverErrorToStatus)(t,n)):e.sendMessage(r,()=>{e.sendStatus({code:s.Status.OK,details:"OK",metadata:null!=n?n:null})})}e.start({onReceiveMetadata(o){r=new l.ServerDuplexStreamImpl(t.path,e,o);try{t.func(r,n)}catch(t){e.sendStatus({code:s.Status.UNKNOWN,details:"Server method handler threw error "+t.message,metadata:null})}},onReceiveMessage(e){r.push(e)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}(e,t);else if("serverStream"===r)!function(e,t){let r,n,o=null;e.start({onReceiveMetadata(t){n=t,e.startRead()},onReceiveMessage(r){o?e.sendStatus({code:s.Status.UNIMPLEMENTED,details:"Received a second request message for server streaming method "+t.path,metadata:null}):(o=r,e.startRead())},onReceiveHalfClose(){if(o){r=new l.ServerWritableStreamImpl(t.path,e,n,o);try{t.func(r)}catch(t){e.sendStatus({code:s.Status.UNKNOWN,details:"Server method handler threw error "+t.message,metadata:null})}}else e.sendStatus({code:s.Status.UNIMPLEMENTED,details:"Received no request message for server streaming method "+t.path,metadata:null})},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}(e,t);else{if("bidi"!==r)return!1;!function(e,t){let r;e.start({onReceiveMetadata(n){r=new l.ServerDuplexStreamImpl(t.path,e,n);try{t.func(r)}catch(t){e.sendStatus({code:s.Status.UNKNOWN,details:"Server method handler threw error "+t.message,metadata:null})}},onReceiveMessage(e){r.push(e)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}(e,t)}return!0}_setupHandlers(e,t){if(null===e)return;const r=e.address();let n="null";r&&(n="string"==typeof r?r:r.address+":"+r.port),this.serverAddressString=n;const o=this.channelzEnabled?this._channelzHandler:this._streamHandler,i=this.channelzEnabled?this._channelzSessionHandler(e):this._sessionHandler(e);e.on("stream",o.bind(this,t)),e.on("session",i)}_sessionHandler(e){return t=>{var r,n;null===(r=this.http2Servers.get(e))||void 0===r||r.sessions.add(t);let o=null,a=null,s=null,l=!1;const p=this.enableIdleTimeout(t);if(this.maxConnectionAgeMs!==~(1<<31)){const e=this.maxConnectionAgeMs/10,r=Math.random()*e*2-e;o=setTimeout(()=>{var e,r;l=!0,this.trace("Connection dropped by max connection age: "+(null===(e=t.socket)||void 0===e?void 0:e.remoteAddress));try{t.goaway(i.constants.NGHTTP2_NO_ERROR,~(1<<31),y)}catch(e){return void t.destroy()}t.close(),this.maxConnectionAgeGraceMs!==~(1<<31)&&(a=setTimeout(()=>{t.destroy()},this.maxConnectionAgeGraceMs),null===(r=a.unref)||void 0===r||r.call(a))},this.maxConnectionAgeMs+r),null===(n=o.unref)||void 0===n||n.call(o)}const c=()=>{s&&(clearTimeout(s),s=null)},u=()=>!t.destroyed&&this.keepaliveTimeMs<~(1<<31)&&this.keepaliveTimeMs>0;let d;const h=()=>{var e;u()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),s=setTimeout(()=>{c(),d()},this.keepaliveTimeMs),null===(e=s.unref)||void 0===e||e.call(s))};d=()=>{var e;if(!u())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let r="";try{t.ping((e,r,n)=>{c(),e?(this.keepaliveTrace("Ping failed with error: "+e.message),l=!0,t.close()):(this.keepaliveTrace("Received ping response"),h())})||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}if(r)return this.keepaliveTrace("Ping send failed: "+r),this.trace("Connection dropped due to ping send error: "+r),l=!0,void t.close();s=setTimeout(()=>{c(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),l=!0,t.close()},this.keepaliveTimeoutMs),null===(e=s.unref)||void 0===e||e.call(s)},h(),t.on("close",()=>{var r,n;l||this.trace("Connection dropped by client "+(null===(r=t.socket)||void 0===r?void 0:r.remoteAddress)),o&&clearTimeout(o),a&&clearTimeout(a),c(),null!==p&&(clearTimeout(p.timeout),this.sessionIdleTimeouts.delete(t)),null===(n=this.http2Servers.get(e))||void 0===n||n.sessions.delete(t)})}}_channelzSessionHandler(e){return t=>{var r,n,o,a;const s=(0,f.registerChannelzSocket)(null!==(n=null===(r=t.socket)||void 0===r?void 0:r.remoteAddress)&&void 0!==n?n:"unknown",this.getChannelzSessionInfo.bind(this,t),this.channelzEnabled),l={ref:s,streamTracker:new f.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};null===(o=this.http2Servers.get(e))||void 0===o||o.sessions.add(t),this.sessions.set(t,l);const p=`${t.socket.remoteAddress}:${t.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+p),this.trace("Connection established by client "+p),this.sessionChildrenTracker.refChild(s);let c=null,u=null,d=null,h=!1;const g=this.enableIdleTimeout(t);if(this.maxConnectionAgeMs!==~(1<<31)){const e=this.maxConnectionAgeMs/10,r=Math.random()*e*2-e;c=setTimeout(()=>{var e;h=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+p);try{t.goaway(i.constants.NGHTTP2_NO_ERROR,~(1<<31),y)}catch(e){return void t.destroy()}t.close(),this.maxConnectionAgeGraceMs!==~(1<<31)&&(u=setTimeout(()=>{t.destroy()},this.maxConnectionAgeGraceMs),null===(e=u.unref)||void 0===e||e.call(u))},this.maxConnectionAgeMs+r),null===(a=c.unref)||void 0===a||a.call(c)}const m=()=>{d&&(clearTimeout(d),d=null)},v=()=>!t.destroyed&&this.keepaliveTimeMs<~(1<<31)&&this.keepaliveTimeMs>0;let b;const E=()=>{var e;v()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),d=setTimeout(()=>{m(),b()},this.keepaliveTimeMs),null===(e=d.unref)||void 0===e||e.call(d))};b=()=>{var e;if(!v())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let r="";try{t.ping((e,r,n)=>{m(),e?(this.keepaliveTrace("Ping failed with error: "+e.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+e.message+" return in "+r),h=!0,t.close()):(this.keepaliveTrace("Received ping response"),E())})||(r="Ping returned false")}catch(e){r=(e instanceof Error?e.message:"")||"Unknown error"}if(r)return this.keepaliveTrace("Ping send failed: "+r),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+r),h=!0,void t.close();l.keepAlivesSent+=1,d=setTimeout(()=>{m(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+p),h=!0,t.close()},this.keepaliveTimeoutMs),null===(e=d.unref)||void 0===e||e.call(d)},E(),t.on("close",()=>{var r;h||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+p),this.sessionChildrenTracker.unrefChild(s),(0,f.unregisterChannelzRef)(s),c&&clearTimeout(c),u&&clearTimeout(u),m(),null!==g&&(clearTimeout(g.timeout),this.sessionIdleTimeouts.delete(t)),null===(r=this.http2Servers.get(e))||void 0===r||r.sessions.delete(t),this.sessions.delete(t)})}}enableIdleTimeout(e){var t,r;if(this.sessionIdleTimeout>=~(1<<31))return null;const n={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,e),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,e)};null===(r=(t=n.timeout).unref)||void 0===r||r.call(t),this.sessionIdleTimeouts.set(e,n);const{socket:o}=e;return this.trace("Enable idle timeout for "+o.remoteAddress+":"+o.remotePort),n}onIdleTimeout(e,t){const{socket:r}=t,n=e.sessionIdleTimeouts.get(t);void 0!==n&&0===n.activeStreams&&(Date.now()-n.lastIdle>=e.sessionIdleTimeout?(e.trace("Session idle timeout triggered for "+(null==r?void 0:r.remoteAddress)+":"+(null==r?void 0:r.remotePort)+" last idle at "+n.lastIdle),e.closeSession(t)):n.timeout.refresh())}onStreamOpened(e){const t=e.session,r=this.sessionIdleTimeouts.get(t);r&&(r.activeStreams+=1,e.once("close",r.onClose))}onStreamClose(e){var t,r;const n=this.sessionIdleTimeouts.get(e);n&&(n.activeStreams-=1,0===n.activeStreams&&(n.lastIdle=Date.now(),n.timeout.refresh(),this.trace("Session onStreamClose"+(null===(t=e.socket)||void 0===t?void 0:t.remoteAddress)+":"+(null===(r=e.socket)||void 0===r?void 0:r.remotePort)+" at "+n.lastIdle)))}},(()=>{const n="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;var i;t=[(i="Calling start() is no longer necessary. It can be safely omitted.",function(e,t){return a.deprecate(e,i)})],o(e,null,t,{kind:"method",name:"start",static:!1,private:!1,access:{has:e=>"start"in e,get:e=>e.start},metadata:n},null,r),n&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:n})})(),e})();t.Server=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0,t.serverErrorToStatus=s;const n=r(23),o=r(1),i=r(7),a=r(21);function s(e,t){var r;const n={code:i.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:null!==(r=null!=t?t:e.metadata)&&void 0!==r?r:null};return"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(n.code=e.code,"details"in e&&"string"==typeof e.details&&(n.details=e.details)),n}class l extends n.EventEmitter{constructor(e,t,r,n){super(),this.path=e,this.call=t,this.metadata=r,this.request=n,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}t.ServerUnaryCallImpl=l;class p extends o.Readable{constructor(e,t,r){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}}t.ServerReadableStreamImpl=p;class c extends o.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.request=n,this.pendingStatus={code:i.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.on("error",e=>{this.pendingStatus=s(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_write(e,t,r){this.call.sendMessage(e,r)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!==(t=this.pendingStatus.metadata)&&void 0!==t?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=c;class u extends o.Duplex{constructor(e,t,r){super({objectMode:!0}),this.path=e,this.call=t,this.metadata=r,this.pendingStatus={code:i.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.on("error",e=>{this.pendingStatus=s(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}_read(e){this.call.startRead()}_write(e,t,r){this.call.sendMessage(e,r)}_final(e){var t;e(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:null!==(t=this.pendingStatus.metadata)&&void 0!==t?t:this.trailingMetadata}))}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileWatcherCertificateProvider=void 0;const n=r(17),o=r(10),i=r(7),a=r(6);function s(e){o.trace(i.LogVerbosity.DEBUG,"certificate_provider",e)}const l=(0,a.promisify)(n.readFile);t.FileWatcherCertificateProvider=class{constructor(e){if(this.config=e,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=null,this.caListeners=new Set,this.latestIdentityUpdate=null,this.identityListeners=new Set,this.lastUpdateTime=null,void 0===e.certificateFile!=(void 0===e.privateKeyFile))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(void 0===e.certificateFile&&void 0===e.caCertificateFile)throw new Error("At least one of certificateFile and caCertificateFile must be set");s("File watcher constructed with config "+JSON.stringify(e))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?l(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?l(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?l(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([e,t,r])=>{if(this.refreshTimer){s("File watcher read certificates certificate"+(e?"!=":"==")+"null, privateKey"+(t?"!=":"==")+"null, CA certificate"+(r?"!=":"==")+"null"),this.lastUpdateTime=new Date,this.fileResultPromise=null,"fulfilled"===e.status&&"fulfilled"===t.status?this.latestIdentityUpdate={certificate:e.value,privateKey:t.value}:this.latestIdentityUpdate=null,"fulfilled"===r.status&&(this.latestCaUpdate={caCertificate:r.value});for(const e of this.identityListeners)e(this.latestIdentityUpdate);for(const e of this.caListeners)e(this.latestCaUpdate)}}),s("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){const e=this.lastUpdateTime?(new Date).getTime()-this.lastUpdateTime.getTime():1/0;e>this.config.refreshIntervalMs&&this.updateCertificates(),e>2*this.config.refreshIntervalMs&&(this.latestCaUpdate=null,this.latestIdentityUpdate=null),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),s("File watcher started watching")}}maybeStopWatchingFiles(){0===this.caListeners.size&&0===this.identityListeners.size&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(e){this.caListeners.add(e),this.maybeStartWatchingFiles(),process.nextTick(e,this.latestCaUpdate)}removeCaCertificateListener(e){this.caListeners.delete(e),this.maybeStopWatchingFiles()}addIdentityCertificateListener(e){this.identityListeners.add(e),this.maybeStartWatchingFiles(),process.nextTick(e,this.latestIdentityUpdate)}removeIdentityCertificateListener(e){this.identityListeners.delete(e),this.maybeStopWatchingFiles()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function(){(0,n.registerResolver)("unix",o)};const n=r(60);class o{constructor(e,t,r){let n;this.listener=t,this.hasReturnedResult=!1,this.endpoints=[],n=""===e.authority?"/"+e.path:e.path,this.endpoints=[{addresses:[{path:n}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return"localhost"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=function(){(0,a.registerResolver)("ipv4",c),(0,a.registerResolver)("ipv6",c)};const n=r(31),o=r(7),i=r(21),a=r(60),s=r(28),l=r(10);function p(e){l.trace(o.LogVerbosity.DEBUG,"ip_resolver",e)}class c{constructor(e,t,r){var a;this.listener=t,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,p("Resolver constructed for target "+(0,s.uriToString)(e));const l=[];if("ipv4"!==e.scheme&&"ipv6"!==e.scheme)return void(this.error={code:o.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new i.Metadata});const c=e.path.split(",");for(const t of c){const r=(0,s.splitHostPort)(t);if(null===r)return void(this.error={code:o.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new i.Metadata});if("ipv4"===e.scheme&&!(0,n.isIPv4)(r.host)||"ipv6"===e.scheme&&!(0,n.isIPv6)(r.host))return void(this.error={code:o.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new i.Metadata});l.push({host:r.host,port:null!==(a=r.port)&&void 0!==a?a:443})}this.endpoints=l.map(e=>({addresses:[e]})),p("Parsed "+e.scheme+" address list "+l)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoundRobinLoadBalancer=void 0,t.setup=function(){(0,n.registerLoadBalancerType)("round_robin",h,u)};const n=r(97),o=r(43),i=r(82),a=r(10),s=r(7),l=r(44),p=r(231);function c(e){a.trace(s.LogVerbosity.DEBUG,"round_robin",e)}class u{getLoadBalancerName(){return"round_robin"}constructor(){}toJsonObject(){return{round_robin:{}}}static createFromJson(e){return new u}}class d{constructor(e,t=0){this.children=e,this.nextIndex=t}pick(e){const t=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,t.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}class h{constructor(e,t,r){this.channelControlHelper=e,this.credentials=t,this.options=r,this.children=[],this.currentState=o.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,n.createChildChannelControlHelper)(e,{updateState:(e,t)=>{this.currentState===o.ConnectivityState.READY&&e!==o.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(o.ConnectivityState.READY)>0){const e=this.children.filter(e=>e.getConnectivityState()===o.ConnectivityState.READY);let t=0;if(null!==this.currentReadyPicker){const r=this.currentReadyPicker.peekNextEndpoint();t=e.findIndex(e=>(0,l.endpointEqual)(e.getEndpoint(),r)),t<0&&(t=0)}this.updateState(o.ConnectivityState.READY,new d(e.map(e=>({endpoint:e.getEndpoint(),picker:e.getPicker()})),t))}else this.countChildrenWithState(o.ConnectivityState.CONNECTING)>0?this.updateState(o.ConnectivityState.CONNECTING,new i.QueuePicker(this)):this.countChildrenWithState(o.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new i.UnavailablePicker({details:"No connection established. Last error: "+this.lastError})):this.updateState(o.ConnectivityState.IDLE,new i.QueuePicker(this));for(const e of this.children)e.getConnectivityState()===o.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,t){c(o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),e===o.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.children)e.destroy()}updateAddressList(e,t){this.resetSubchannelList(),c("Connect to endpoint list "+e.map(l.endpointToString)),this.updatesPaused=!0,this.children=e.map(e=>new p.LeafLoadBalancer(e,this.childChannelControlHelper,this.credentials,this.options));for(const e of this.children)e.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return"round_robin"}}t.RoundRobinLoadBalancer=h},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0,t.setup=function(){g&&(0,s.registerLoadBalancerType)("outlier_detection",T,_)};const o=r(43),i=r(7),a=r(428),s=r(427),l=r(97),p=r(226),c=r(82),u=r(44),d=r(229),h=r(10);function f(e){h.trace(i.LogVerbosity.DEBUG,"outlier_detection",e)}const g="true"===(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true"),m={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},y={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function v(e,t,r,n){if(t in e&&void 0!==e[t]&&typeof e[t]!==r){throw new Error(`outlier detection config ${n?`${n}.${t}`:t} parse error: expected ${r}, got ${typeof e[t]}`)}}function b(e,t,r){const n=r?`${r}.${t}`:t;if(t in e&&void 0!==e[t]){if(!(0,a.isDuration)(e[t]))throw new Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw new Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function E(e,t,r){const n=r?`${r}.${t}`:t;if(v(e,t,"number",r),t in e&&void 0!==e[t]&&!(e[t]>=0&&e[t]<=100))throw new Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class _{constructor(e,t,r,n,o,i,a){if(this.childPolicy=a,"pick_first"===a.getLoadBalancerName())throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=o?Object.assign(Object.assign({},m),o):null,this.failurePercentageEjection=i?Object.assign(Object.assign({},y),i):null}getLoadBalancerName(){return"outlier_detection"}toJsonObject(){var e,t;return{outlier_detection:{interval:(0,a.msToDuration)(this.intervalMs),base_ejection_time:(0,a.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,a.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:null!==(e=this.successRateEjection)&&void 0!==e?e:void 0,failure_percentage_ejection:null!==(t=this.failurePercentageEjection)&&void 0!==t?t:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var t;if(b(e,"interval"),b(e,"base_ejection_time"),b(e,"max_ejection_time"),E(e,"max_ejection_percent"),"success_rate_ejection"in e&&void 0!==e.success_rate_ejection){if("object"!=typeof e.success_rate_ejection)throw new Error("outlier detection config success_rate_ejection must be an object");v(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),E(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),v(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),v(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&void 0!==e.failure_percentage_ejection){if("object"!=typeof e.failure_percentage_ejection)throw new Error("outlier detection config failure_percentage_ejection must be an object");E(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),E(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),v(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),v(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");const r=(0,l.selectLbConfigFromList)(e.child_policy);if(!r)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new _(e.interval?(0,a.durationToMs)(e.interval):null,e.base_ejection_time?(0,a.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,a.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,r)}}t.OutlierDetectionLoadBalancingConfig=_;class O extends d.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){const e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}class w{constructor(){this.activeBucket={success:0,failure:0},this.inactiveBucket={success:0,failure:0}}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket={success:0,failure:0}}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class S{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){const t=this.wrappedPicker.pick(e);if(t.pickResultType===c.PickResultType.COMPLETE){const e=t.subchannel,r=e.getMapEntry();if(r){let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===i.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()})}return t}}class T{constructor(e,t,r){this.entryMap=new u.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new p.ChildLoadBalancerHandler((0,s.createChildChannelControlHelper)(e,{createSubchannel:(t,r,n)=>{const o=e.createSubchannel(t,r,n),i=this.entryMap.getForSubchannelAddress(t),a=new O(o,i);return null!==(null==i?void 0:i.currentEjectionTimestamp)&&a.eject(),null==i||i.subchannelWrappers.push(a),a},updateState:(t,r)=>{t===o.ConnectivityState.READY?e.updateState(t,new S(r,this.isCountingEnabled())):e.updateState(t,r)}}),t,r),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(const t of this.entryMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;const t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;f("Running success rate check");const r=t.request_volume;let n=0;const o=[];for(const[e,t]of this.entryMap.entries()){const i=t.counter.getLastSuccesses(),a=t.counter.getLastFailures();f("Stats for "+(0,u.endpointToString)(e)+": successes="+i+" failures="+a+" targetRequestVolume="+r),i+a>=r&&(n+=1,o.push(i/(i+a)))}if(f("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+o+"]"),n<t.minimum_hosts)return;const i=o.reduce((e,t)=>e+t)/o.length;let a=0;for(const e of o){const t=e-i;a+=t*t}const s=a/o.length,l=Math.sqrt(s),p=i-l*(t.stdev_factor/1e3);f("stdev="+l+" ejectionThreshold="+p);for(const[n,o]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const i=o.counter.getLastSuccesses(),a=o.counter.getLastFailures();if(i+a<r)continue;const s=i/(i+a);if(f("Checking candidate "+n+" successRate="+s),s<p){const r=100*Math.random();f("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(f("Ejecting candidate "+n),this.eject(o,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;const t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;f("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(const e of this.entryMap.values()){e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1)}if(!(r<t.minimum_hosts))for(const[r,n]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const o=n.counter.getLastSuccesses(),i=n.counter.getLastFailures();if(f("Candidate successes="+o+" failures="+i),o+i<t.request_volume)continue;if(100*i/(i+o)>t.threshold){const o=100*Math.random();f("Candidate "+r+" randomNumber="+o+" enforcement_percentage="+t.enforcement_percentage),o<t.enforcement_percentage&&(f("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(const t of e.subchannelWrappers)t.eject()}uneject(e){e.currentEjectionTimestamp=null;for(const t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(const e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){const e=new Date;if(f("Ejection timer running"),this.switchAllBuckets(),this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(const[e,t]of this.entryMap.entries())if(null===t.currentEjectionTimestamp)t.ejectionTimeMultiplier>0&&(t.ejectionTimeMultiplier-=1);else{const r=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),o=new Date(t.currentEjectionTimestamp.getTime());o.setMilliseconds(o.getMilliseconds()+Math.min(r*t.ejectionTimeMultiplier,Math.max(r,n))),o<new Date&&(f("Unejecting "+e),this.uneject(t))}}}updateAddressList(e,t,r){if(!(t instanceof _))return;for(const t of e)this.entryMap.has(t)||(f("Adding map entry for "+(0,u.endpointToString)(t)),this.entryMap.set(t,{counter:new w,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);const n=t.getChildPolicy();if(this.childBalancer.updateAddressList(e,n,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){f("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);const e=t.getIntervalMs()-((new Date).getTime()-this.timerStartTime.getTime());this.startTimer(e)}else f("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{f("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(const e of this.entryMap.values())this.uneject(e),e.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return"outlier_detection"}}t.OutlierDetectionLoadBalancer=T},function(e){e.exports=JSON.parse('["google/api/annotations.proto","google/api/apikeys/v2/apikeys.proto","google/api/apikeys/v2/resources.proto","google/api/auth.proto","google/api/backend.proto","google/api/billing.proto","google/api/client.proto","google/api/cloudquotas/v1/cloudquotas.proto","google/api/cloudquotas/v1/resources.proto","google/api/config_change.proto","google/api/consumer.proto","google/api/context.proto","google/api/control.proto","google/api/distribution.proto","google/api/documentation.proto","google/api/endpoint.proto","google/api/error_reason.proto","google/api/expr/conformance/v1alpha1/conformance_service.proto","google/api/expr/v1alpha1/checked.proto","google/api/expr/v1alpha1/eval.proto","google/api/expr/v1alpha1/explain.proto","google/api/expr/v1alpha1/syntax.proto","google/api/expr/v1alpha1/value.proto","google/api/expr/v1beta1/decl.proto","google/api/expr/v1beta1/eval.proto","google/api/expr/v1beta1/expr.proto","google/api/expr/v1beta1/source.proto","google/api/expr/v1beta1/value.proto","google/api/field_behavior.proto","google/api/field_info.proto","google/api/http.proto","google/api/httpbody.proto","google/api/label.proto","google/api/launch_stage.proto","google/api/log.proto","google/api/logging.proto","google/api/metric.proto","google/api/monitored_resource.proto","google/api/monitoring.proto","google/api/policy.proto","google/api/quota.proto","google/api/resource.proto","google/api/routing.proto","google/api/service.proto","google/api/servicecontrol/v1/check_error.proto","google/api/servicecontrol/v1/distribution.proto","google/api/servicecontrol/v1/http_request.proto","google/api/servicecontrol/v1/log_entry.proto","google/api/servicecontrol/v1/metric_value.proto","google/api/servicecontrol/v1/operation.proto","google/api/servicecontrol/v1/quota_controller.proto","google/api/servicecontrol/v1/service_controller.proto","google/api/servicecontrol/v2/service_controller.proto","google/api/servicemanagement/v1/resources.proto","google/api/servicemanagement/v1/servicemanager.proto","google/api/serviceusage/v1/resources.proto","google/api/serviceusage/v1/serviceusage.proto","google/api/serviceusage/v1beta1/resources.proto","google/api/serviceusage/v1beta1/serviceusage.proto","google/api/source_info.proto","google/api/system_parameter.proto","google/api/usage.proto","google/api/visibility.proto","google/cloud/location/locations.proto","google/iam/v1/iam_policy.proto","google/iam/v1/logging/audit_data.proto","google/iam/v1/options.proto","google/iam/v1/policy.proto","google/logging/type/http_request.proto","google/logging/type/log_severity.proto","google/longrunning/operations.proto","google/monitoring/v3/alert.proto","google/monitoring/v3/alert_service.proto","google/monitoring/v3/common.proto","google/monitoring/v3/dropped_labels.proto","google/monitoring/v3/group.proto","google/monitoring/v3/group_service.proto","google/monitoring/v3/metric.proto","google/monitoring/v3/metric_service.proto","google/monitoring/v3/mutation_record.proto","google/monitoring/v3/notification.proto","google/monitoring/v3/notification_service.proto","google/monitoring/v3/query_service.proto","google/monitoring/v3/service.proto","google/monitoring/v3/service_service.proto","google/monitoring/v3/snooze.proto","google/monitoring/v3/snooze_service.proto","google/monitoring/v3/span_context.proto","google/monitoring/v3/uptime.proto","google/monitoring/v3/uptime_service.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/bridge/message_set.proto","google/protobuf/compiler/plugin.proto","google/protobuf/compiler/ruby/ruby_generated_code.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2.proto","google/protobuf/compiler/ruby/ruby_generated_code_proto2_import.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_explicit_legacy.proto","google/protobuf/compiler/ruby/ruby_generated_pkg_implicit.proto","google/protobuf/cpp_features.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/util/json_format.proto","google/protobuf/util/json_format_proto3.proto","google/protobuf/wrappers.proto","google/rpc/code.proto","google/rpc/context/attribute_context.proto","google/rpc/context/audit_context.proto","google/rpc/error_details.proto","google/rpc/http.proto","google/rpc/status.proto","google/type/calendar_period.proto","google/type/color.proto","google/type/date.proto","google/type/datetime.proto","google/type/dayofweek.proto","google/type/decimal.proto","google/type/expr.proto","google/type/fraction.proto","google/type/interval.proto","google/type/latlng.proto","google/type/localized_text.proto","google/type/money.proto","google/type/month.proto","google/type/phone_number.proto","google/type/postal_address.proto","google/type/quaternion.proto","google/type/timeofday.proto"]')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BundleBuilder=void 0;const n=r(65),o=r(222),i=r(41),a=r(14);t.BundleBuilder=class{constructor(e){this.bundleId=e,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new i.Timestamp(0,0)}add(e,t){return(0,a.validateMinNumberOfArguments)("BundleBuilder.add",arguments,1),(0,a.validateMaxNumberOfArguments)("BundleBuilder.add",arguments,2),1===arguments.length?(!function(e,t){if(!(t instanceof n.DocumentSnapshot))throw new Error((0,a.invalidArgumentMessage)(e,"DocumentSnapshot"))}("documentOrName",e),this.addBundledDocument(e)):((0,a.validateString)("documentOrName",e),function(e,t){if(!(t instanceof o.QuerySnapshot))throw new Error((0,a.invalidArgumentMessage)(e,"QuerySnapshot"))}("querySnapshot",t),this.addNamedQuery(e,t)),this}addBundledDocument(e,t){const r=this.documents.get(e.ref.path),n=null==r?void 0:r.metadata.queries;if(!r||i.Timestamp.fromProto(r.metadata.readTime)<e.readTime){const t=e.toDocumentProto();this.documents.set(e.ref.path,{document:e.exists?t:void 0,metadata:{name:t.name,readTime:e.readTime.toProto().timestampValue,exists:e.exists}})}const o=this.documents.get(e.ref.path);o.metadata.queries=n||[],t&&o.metadata.queries.push(t),e.readTime>this.latestReadTime&&(this.latestReadTime=e.readTime)}addNamedQuery(e,t){if(this.namedQueries.has(e))throw new Error(`Query name conflict: ${e} has already been added.`);this.namedQueries.set(e,{name:e,bundledQuery:t.query._toBundledQuery(),readTime:t.readTime.toProto().timestampValue});for(const r of t.docs)this.addBundledDocument(r,e);t.readTime>this.latestReadTime&&(this.latestReadTime=t.readTime)}elementToLengthPrefixedBuffer(e){const t=r(754).firestore.BundleElement.fromObject(e).toJSON(),n=Buffer.from(JSON.stringify(t),"utf-8"),o=Buffer.from(n.length.toString());return Buffer.concat([o,n])}build(){let e=Buffer.alloc(0);for(const t of this.namedQueries.values())e=Buffer.concat([e,this.elementToLengthPrefixedBuffer({namedQuery:t})]);for(const t of this.documents.values()){const r=t.metadata;e=Buffer.concat([e,this.elementToLengthPrefixedBuffer({documentMetadata:r})]);const n=t.document;n&&(e=Buffer.concat([e,this.elementToLengthPrefixedBuffer({document:n})]))}const t={id:this.bundleId,createTime:this.latestReadTime.toProto().timestampValue,version:1,totalDocuments:this.documents.size,totalBytes:e.length};return e=Buffer.concat([this.elementToLengthPrefixedBuffer({metadata:t}),e]),e}}},function(e,t,r){var n,o,i;o=[r(93)],void 0===(i="function"==typeof(n=function(e){var t,r,n,o,i,a=e.util,s=e.roots.firestore_v1||(e.roots.firestore_v1={});function l(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function p(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function c(e){if(this.queries=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function u(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function d(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function h(e){if(this.aggregateFields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function f(e){if(this.fields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function g(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function m(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function y(e){if(this.fields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function v(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function b(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function E(e){if(this.fieldPaths=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function _(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function O(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function w(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function S(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function T(t,r,n){e.rpc.Service.call(this,t,r,n)}function A(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function C(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function I(e){if(this.documents=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function N(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function P(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function R(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function D(e){if(this.documents=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function k(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function x(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function j(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function L(e){if(this.writes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function F(e){if(this.writeResults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function M(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function U(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function B(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function V(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function q(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function G(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function H(e){if(this.partitions=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function z(e){if(this.writes=[],this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function W(e){if(this.writeResults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function J(e){if(this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function K(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Y(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function $(e){if(this.documents=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Q(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function X(e){if(this.targetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Z(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ee(e){if(this.collectionIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function te(e){if(this.writes=[],this.labels={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function re(e){if(this.writeResults=[],this.status=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ne(e){if(this.from=[],this.orderBy=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function oe(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ie(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ae(e){if(this.filters=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function se(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function le(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function pe(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ce(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ue(e){if(this.fields=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function de(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function he(e){if(this.aggregations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function fe(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ge(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function me(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ye(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ve(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function be(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ee(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function _e(e){if(this.indexesUsed=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Oe(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function we(e){if(this.updateTransforms=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Se(e){if(this.fieldTransforms=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Te(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ae(e){if(this.transformResults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ce(e){if(this.targetIds=[],this.removedTargetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ie(e){if(this.removedTargetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ne(e){if(this.removedTargetIds=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Pe(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Re(e){if(this.rules=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function De(e){if(this.additionalBindings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ke(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function xe(e){if(this.destinations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function je(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Le(e){if(this.methodSettings=[],this.codeownerGithubTeams=[],this.librarySettings=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Fe(e){if(this.serviceClassNames={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Me(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ue(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Be(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ve(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function qe(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ge(e){if(this.renamedServices={},this.renamedResources={},this.ignoredResources=[],this.forcedNamespaceAliases=[],this.handwrittenSignatures=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function He(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ze(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function We(e){if(this.autoPopulatedFields=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Je(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ke(e){if(this.pattern=[],this.style=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ye(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function $e(e){if(this.file=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Qe(e){if(this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Xe(e){if(this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ze(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function et(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function tt(e){if(this.uninterpretedOption=[],this.declaration=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function rt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function nt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ot(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function it(e){if(this.value=[],this.reservedRange=[],this.reservedName=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function at(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function st(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function lt(e){if(this.method=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function pt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ct(e){if(this.uninterpretedOption=[],this[".google.api.resourceDefinition"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ut(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function dt(e){if(this.targets=[],this.editionDefaults=[],this.uninterpretedOption=[],this[".google.api.fieldBehavior"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ht(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function ft(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function gt(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function mt(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function yt(e){if(this.uninterpretedOption=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function vt(e){if(this.uninterpretedOption=[],this[".google.api.methodSignature"]=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function bt(e){if(this.name=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Et(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function _t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ot(e){if(this.defaults=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function wt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function St(e){if(this.location=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Tt(e){if(this.path=[],this.span=[],this.leadingDetachedComments=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function At(e){if(this.annotation=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ct(e){if(this.path=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function It(e){if(this.fields={},e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Nt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Pt(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Rt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Dt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function kt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function xt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function jt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Lt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ft(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Mt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ut(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Bt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Vt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function qt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Gt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Ht(e){if(this.paths=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function zt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Wt(e){if(this.details=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Jt(t,r,n){e.rpc.Service.call(this,t,r,n)}function Kt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Yt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function $t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Qt(e){if(this.operations=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Xt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function Zt(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function er(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}function tr(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return s.firestore=((n={}).BundledQuery=(l.prototype.parent="",l.prototype.structuredQuery=null,l.prototype.limitType=0,Object.defineProperty(l.prototype,"queryType",{get:a.oneOfGetter(r=["structuredQuery"]),set:a.oneOfSetter(r)}),l.fromObject=function(e){if(e instanceof s.firestore.BundledQuery)return e;var t=new s.firestore.BundledQuery;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".firestore.BundledQuery.structuredQuery: object expected");t.structuredQuery=s.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}switch(e.limitType){default:"number"==typeof e.limitType&&(t.limitType=e.limitType);break;case"FIRST":case 0:t.limitType=0;break;case"LAST":case 1:t.limitType=1}return t},l.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent="",r.limitType=t.enums===String?"FIRST":0),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(r.structuredQuery=s.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs)&&(r.queryType="structuredQuery"),null!=e.limitType&&e.hasOwnProperty("limitType")&&(r.limitType=t.enums!==String||void 0===s.firestore.BundledQuery.LimitType[e.limitType]?e.limitType:s.firestore.BundledQuery.LimitType[e.limitType]),r},l.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},l.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/firestore.BundledQuery"},l.LimitType=(r={},(i=Object.create(r))[r[0]="FIRST"]="FIRST",i[r[1]="LAST"]="LAST",i),l),n.NamedQuery=(p.prototype.name="",p.prototype.bundledQuery=null,p.prototype.readTime=null,p.fromObject=function(e){if(e instanceof s.firestore.NamedQuery)return e;var t=new s.firestore.NamedQuery;if(null!=e.name&&(t.name=String(e.name)),null!=e.bundledQuery){if("object"!=typeof e.bundledQuery)throw TypeError(".firestore.NamedQuery.bundledQuery: object expected");t.bundledQuery=s.firestore.BundledQuery.fromObject(e.bundledQuery)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".firestore.NamedQuery.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},p.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.bundledQuery=null,r.readTime=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.bundledQuery&&e.hasOwnProperty("bundledQuery")&&(r.bundledQuery=s.firestore.BundledQuery.toObject(e.bundledQuery,t)),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),r},p.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},p.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/firestore.NamedQuery"},p),n.BundledDocumentMetadata=(c.prototype.name="",c.prototype.readTime=null,c.prototype.exists=!1,c.prototype.queries=a.emptyArray,c.fromObject=function(e){if(e instanceof s.firestore.BundledDocumentMetadata)return e;var t=new s.firestore.BundledDocumentMetadata;if(null!=e.name&&(t.name=String(e.name)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".firestore.BundledDocumentMetadata.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.exists&&(t.exists=Boolean(e.exists)),e.queries){if(!Array.isArray(e.queries))throw TypeError(".firestore.BundledDocumentMetadata.queries: array expected");t.queries=[];for(var r=0;r<e.queries.length;++r)t.queries[r]=String(e.queries[r])}return t},c.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.queries=[]),t.defaults&&(r.name="",r.readTime=null,r.exists=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),null!=e.exists&&e.hasOwnProperty("exists")&&(r.exists=e.exists),e.queries&&e.queries.length){r.queries=[];for(var n=0;n<e.queries.length;++n)r.queries[n]=e.queries[n]}return r},c.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},c.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/firestore.BundledDocumentMetadata"},c),n.BundleMetadata=(u.prototype.id="",u.prototype.createTime=null,u.prototype.version=0,u.prototype.totalDocuments=0,u.prototype.totalBytes=a.Long?a.Long.fromBits(0,0,!0):0,u.fromObject=function(e){if(e instanceof s.firestore.BundleMetadata)return e;var t=new s.firestore.BundleMetadata;if(null!=e.id&&(t.id=String(e.id)),null!=e.createTime){if("object"!=typeof e.createTime)throw TypeError(".firestore.BundleMetadata.createTime: object expected");t.createTime=s.google.protobuf.Timestamp.fromObject(e.createTime)}return null!=e.version&&(t.version=e.version>>>0),null!=e.totalDocuments&&(t.totalDocuments=e.totalDocuments>>>0),null!=e.totalBytes&&(a.Long?(t.totalBytes=a.Long.fromValue(e.totalBytes)).unsigned=!0:"string"==typeof e.totalBytes?t.totalBytes=parseInt(e.totalBytes,10):"number"==typeof e.totalBytes?t.totalBytes=e.totalBytes:"object"==typeof e.totalBytes&&(t.totalBytes=new a.LongBits(e.totalBytes.low>>>0,e.totalBytes.high>>>0).toNumber(!0))),t},u.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(n.id="",n.createTime=null,n.version=0,n.totalDocuments=0,a.Long?(r=new a.Long(0,0,!0),n.totalBytes=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.totalBytes=t.longs===String?"0":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.createTime&&e.hasOwnProperty("createTime")&&(n.createTime=s.google.protobuf.Timestamp.toObject(e.createTime,t)),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.totalDocuments&&e.hasOwnProperty("totalDocuments")&&(n.totalDocuments=e.totalDocuments),null!=e.totalBytes&&e.hasOwnProperty("totalBytes")&&("number"==typeof e.totalBytes?n.totalBytes=t.longs===String?String(e.totalBytes):e.totalBytes:n.totalBytes=t.longs===String?a.Long.prototype.toString.call(e.totalBytes):t.longs===Number?new a.LongBits(e.totalBytes.low>>>0,e.totalBytes.high>>>0).toNumber(!0):e.totalBytes),n},u.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},u.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/firestore.BundleMetadata"},u),n.BundleElement=(d.prototype.metadata=null,d.prototype.namedQuery=null,d.prototype.documentMetadata=null,d.prototype.document=null,Object.defineProperty(d.prototype,"elementType",{get:a.oneOfGetter(r=["metadata","namedQuery","documentMetadata","document"]),set:a.oneOfSetter(r)}),d.fromObject=function(e){if(e instanceof s.firestore.BundleElement)return e;var t=new s.firestore.BundleElement;if(null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".firestore.BundleElement.metadata: object expected");t.metadata=s.firestore.BundleMetadata.fromObject(e.metadata)}if(null!=e.namedQuery){if("object"!=typeof e.namedQuery)throw TypeError(".firestore.BundleElement.namedQuery: object expected");t.namedQuery=s.firestore.NamedQuery.fromObject(e.namedQuery)}if(null!=e.documentMetadata){if("object"!=typeof e.documentMetadata)throw TypeError(".firestore.BundleElement.documentMetadata: object expected");t.documentMetadata=s.firestore.BundledDocumentMetadata.fromObject(e.documentMetadata)}if(null!=e.document){if("object"!=typeof e.document)throw TypeError(".firestore.BundleElement.document: object expected");t.document=s.google.firestore.v1.Document.fromObject(e.document)}return t},d.toObject=function(e,t){t=t||{};var r={};return null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=s.firestore.BundleMetadata.toObject(e.metadata,t),t.oneofs)&&(r.elementType="metadata"),null!=e.namedQuery&&e.hasOwnProperty("namedQuery")&&(r.namedQuery=s.firestore.NamedQuery.toObject(e.namedQuery,t),t.oneofs)&&(r.elementType="namedQuery"),null!=e.documentMetadata&&e.hasOwnProperty("documentMetadata")&&(r.documentMetadata=s.firestore.BundledDocumentMetadata.toObject(e.documentMetadata,t),t.oneofs)&&(r.elementType="documentMetadata"),null!=e.document&&e.hasOwnProperty("document")&&(r.document=s.google.firestore.v1.Document.toObject(e.document,t),t.oneofs)&&(r.elementType="document"),r},d.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},d.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/firestore.BundleElement"},d),n),s.google=((i={}).firestore=((r={}).v1=((n={}).AggregationResult=(h.prototype.aggregateFields=a.emptyObject,h.fromObject=function(e){if(e instanceof s.google.firestore.v1.AggregationResult)return e;var t=new s.google.firestore.v1.AggregationResult;if(e.aggregateFields){if("object"!=typeof e.aggregateFields)throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");t.aggregateFields={};for(var r=Object.keys(e.aggregateFields),n=0;n<r.length;++n){if("object"!=typeof e.aggregateFields[r[n]])throw TypeError(".google.firestore.v1.AggregationResult.aggregateFields: object expected");t.aggregateFields[r[n]]=s.google.firestore.v1.Value.fromObject(e.aggregateFields[r[n]])}}return t},h.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.aggregateFields={}),e.aggregateFields&&(r=Object.keys(e.aggregateFields)).length){n.aggregateFields={};for(var o=0;o<r.length;++o)n.aggregateFields[r[o]]=s.google.firestore.v1.Value.toObject(e.aggregateFields[r[o]],t)}return n},h.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},h.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.AggregationResult"},h),n.Document=(f.prototype.name="",f.prototype.fields=a.emptyObject,f.prototype.createTime=null,f.prototype.updateTime=null,f.fromObject=function(e){if(e instanceof s.google.firestore.v1.Document)return e;var t=new s.google.firestore.v1.Document;if(null!=e.name&&(t.name=String(e.name)),e.fields){if("object"!=typeof e.fields)throw TypeError(".google.firestore.v1.Document.fields: object expected");t.fields={};for(var r=Object.keys(e.fields),n=0;n<r.length;++n){if("object"!=typeof e.fields[r[n]])throw TypeError(".google.firestore.v1.Document.fields: object expected");t.fields[r[n]]=s.google.firestore.v1.Value.fromObject(e.fields[r[n]])}}if(null!=e.createTime){if("object"!=typeof e.createTime)throw TypeError(".google.firestore.v1.Document.createTime: object expected");t.createTime=s.google.protobuf.Timestamp.fromObject(e.createTime)}if(null!=e.updateTime){if("object"!=typeof e.updateTime)throw TypeError(".google.firestore.v1.Document.updateTime: object expected");t.updateTime=s.google.protobuf.Timestamp.fromObject(e.updateTime)}return t},f.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.fields={}),t.defaults&&(n.name="",n.createTime=null,n.updateTime=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.fields&&(r=Object.keys(e.fields)).length){n.fields={};for(var o=0;o<r.length;++o)n.fields[r[o]]=s.google.firestore.v1.Value.toObject(e.fields[r[o]],t)}return null!=e.createTime&&e.hasOwnProperty("createTime")&&(n.createTime=s.google.protobuf.Timestamp.toObject(e.createTime,t)),null!=e.updateTime&&e.hasOwnProperty("updateTime")&&(n.updateTime=s.google.protobuf.Timestamp.toObject(e.updateTime,t)),n},f.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},f.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Document"},f),n.Value=(g.prototype.nullValue=null,g.prototype.booleanValue=null,g.prototype.integerValue=null,g.prototype.doubleValue=null,g.prototype.timestampValue=null,g.prototype.stringValue=null,g.prototype.bytesValue=null,g.prototype.referenceValue=null,g.prototype.geoPointValue=null,g.prototype.arrayValue=null,g.prototype.mapValue=null,Object.defineProperty(g.prototype,"valueType",{get:a.oneOfGetter(o=["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]),set:a.oneOfSetter(o)}),g.fromObject=function(e){if(e instanceof s.google.firestore.v1.Value)return e;var t=new s.google.firestore.v1.Value;switch(e.nullValue){default:"number"==typeof e.nullValue&&(t.nullValue=e.nullValue);break;case"NULL_VALUE":case 0:t.nullValue=0}if(null!=e.booleanValue&&(t.booleanValue=Boolean(e.booleanValue)),null!=e.integerValue&&(a.Long?(t.integerValue=a.Long.fromValue(e.integerValue)).unsigned=!1:"string"==typeof e.integerValue?t.integerValue=parseInt(e.integerValue,10):"number"==typeof e.integerValue?t.integerValue=e.integerValue:"object"==typeof e.integerValue&&(t.integerValue=new a.LongBits(e.integerValue.low>>>0,e.integerValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.timestampValue){if("object"!=typeof e.timestampValue)throw TypeError(".google.firestore.v1.Value.timestampValue: object expected");t.timestampValue=s.google.protobuf.Timestamp.fromObject(e.timestampValue)}if(null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.bytesValue&&("string"==typeof e.bytesValue?a.base64.decode(e.bytesValue,t.bytesValue=a.newBuffer(a.base64.length(e.bytesValue)),0):0<=e.bytesValue.length&&(t.bytesValue=e.bytesValue)),null!=e.referenceValue&&(t.referenceValue=String(e.referenceValue)),null!=e.geoPointValue){if("object"!=typeof e.geoPointValue)throw TypeError(".google.firestore.v1.Value.geoPointValue: object expected");t.geoPointValue=s.google.type.LatLng.fromObject(e.geoPointValue)}if(null!=e.arrayValue){if("object"!=typeof e.arrayValue)throw TypeError(".google.firestore.v1.Value.arrayValue: object expected");t.arrayValue=s.google.firestore.v1.ArrayValue.fromObject(e.arrayValue)}if(null!=e.mapValue){if("object"!=typeof e.mapValue)throw TypeError(".google.firestore.v1.Value.mapValue: object expected");t.mapValue=s.google.firestore.v1.MapValue.fromObject(e.mapValue)}return t},g.toObject=function(e,t){t=t||{};var r={};return null!=e.booleanValue&&e.hasOwnProperty("booleanValue")&&(r.booleanValue=e.booleanValue,t.oneofs)&&(r.valueType="booleanValue"),null!=e.integerValue&&e.hasOwnProperty("integerValue")&&("number"==typeof e.integerValue?r.integerValue=t.longs===String?String(e.integerValue):e.integerValue:r.integerValue=t.longs===String?a.Long.prototype.toString.call(e.integerValue):t.longs===Number?new a.LongBits(e.integerValue.low>>>0,e.integerValue.high>>>0).toNumber():e.integerValue,t.oneofs)&&(r.valueType="integerValue"),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,t.oneofs)&&(r.valueType="doubleValue"),null!=e.referenceValue&&e.hasOwnProperty("referenceValue")&&(r.referenceValue=e.referenceValue,t.oneofs)&&(r.valueType="referenceValue"),null!=e.mapValue&&e.hasOwnProperty("mapValue")&&(r.mapValue=s.google.firestore.v1.MapValue.toObject(e.mapValue,t),t.oneofs)&&(r.valueType="mapValue"),null!=e.geoPointValue&&e.hasOwnProperty("geoPointValue")&&(r.geoPointValue=s.google.type.LatLng.toObject(e.geoPointValue,t),t.oneofs)&&(r.valueType="geoPointValue"),null!=e.arrayValue&&e.hasOwnProperty("arrayValue")&&(r.arrayValue=s.google.firestore.v1.ArrayValue.toObject(e.arrayValue,t),t.oneofs)&&(r.valueType="arrayValue"),null!=e.timestampValue&&e.hasOwnProperty("timestampValue")&&(r.timestampValue=s.google.protobuf.Timestamp.toObject(e.timestampValue,t),t.oneofs)&&(r.valueType="timestampValue"),null!=e.nullValue&&e.hasOwnProperty("nullValue")&&(r.nullValue=t.enums!==String||void 0===s.google.protobuf.NullValue[e.nullValue]?e.nullValue:s.google.protobuf.NullValue[e.nullValue],t.oneofs)&&(r.valueType="nullValue"),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs)&&(r.valueType="stringValue"),null!=e.bytesValue&&e.hasOwnProperty("bytesValue")&&(r.bytesValue=t.bytes===String?a.base64.encode(e.bytesValue,0,e.bytesValue.length):t.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,t.oneofs)&&(r.valueType="bytesValue"),r},g.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},g.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Value"},g),n.ArrayValue=(m.prototype.values=a.emptyArray,m.fromObject=function(e){if(e instanceof s.google.firestore.v1.ArrayValue)return e;var t=new s.google.firestore.v1.ArrayValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.firestore.v1.ArrayValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".google.firestore.v1.ArrayValue.values: object expected");t.values[r]=s.google.firestore.v1.Value.fromObject(e.values[r])}}return t},m.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=s.google.firestore.v1.Value.toObject(e.values[n],t)}return r},m.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},m.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ArrayValue"},m),n.MapValue=(y.prototype.fields=a.emptyObject,y.fromObject=function(e){if(e instanceof s.google.firestore.v1.MapValue)return e;var t=new s.google.firestore.v1.MapValue;if(e.fields){if("object"!=typeof e.fields)throw TypeError(".google.firestore.v1.MapValue.fields: object expected");t.fields={};for(var r=Object.keys(e.fields),n=0;n<r.length;++n){if("object"!=typeof e.fields[r[n]])throw TypeError(".google.firestore.v1.MapValue.fields: object expected");t.fields[r[n]]=s.google.firestore.v1.Value.fromObject(e.fields[r[n]])}}return t},y.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.fields={}),e.fields&&(r=Object.keys(e.fields)).length){n.fields={};for(var o=0;o<r.length;++o)n.fields[r[o]]=s.google.firestore.v1.Value.toObject(e.fields[r[o]],t)}return n},y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},y.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.MapValue"},y),n.BitSequence=(v.prototype.bitmap=a.newBuffer([]),v.prototype.padding=0,v.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.BitSequence?e:(t=new s.google.firestore.v1.BitSequence,null!=e.bitmap&&("string"==typeof e.bitmap?a.base64.decode(e.bitmap,t.bitmap=a.newBuffer(a.base64.length(e.bitmap)),0):0<=e.bitmap.length&&(t.bitmap=e.bitmap)),null!=e.padding&&(t.padding=0|e.padding),t)},v.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.bitmap="":(r.bitmap=[],t.bytes!==Array&&(r.bitmap=a.newBuffer(r.bitmap))),r.padding=0),null!=e.bitmap&&e.hasOwnProperty("bitmap")&&(r.bitmap=t.bytes===String?a.base64.encode(e.bitmap,0,e.bitmap.length):t.bytes===Array?Array.prototype.slice.call(e.bitmap):e.bitmap),null!=e.padding&&e.hasOwnProperty("padding")&&(r.padding=e.padding),r},v.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},v.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BitSequence"},v),n.BloomFilter=(b.prototype.bits=null,b.prototype.hashCount=0,b.fromObject=function(e){if(e instanceof s.google.firestore.v1.BloomFilter)return e;var t=new s.google.firestore.v1.BloomFilter;if(null!=e.bits){if("object"!=typeof e.bits)throw TypeError(".google.firestore.v1.BloomFilter.bits: object expected");t.bits=s.google.firestore.v1.BitSequence.fromObject(e.bits)}return null!=e.hashCount&&(t.hashCount=0|e.hashCount),t},b.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.bits=null,r.hashCount=0),null!=e.bits&&e.hasOwnProperty("bits")&&(r.bits=s.google.firestore.v1.BitSequence.toObject(e.bits,t)),null!=e.hashCount&&e.hasOwnProperty("hashCount")&&(r.hashCount=e.hashCount),r},b.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},b.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BloomFilter"},b),n.DocumentMask=(E.prototype.fieldPaths=a.emptyArray,E.fromObject=function(e){if(e instanceof s.google.firestore.v1.DocumentMask)return e;var t=new s.google.firestore.v1.DocumentMask;if(e.fieldPaths){if(!Array.isArray(e.fieldPaths))throw TypeError(".google.firestore.v1.DocumentMask.fieldPaths: array expected");t.fieldPaths=[];for(var r=0;r<e.fieldPaths.length;++r)t.fieldPaths[r]=String(e.fieldPaths[r])}return t},E.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.fieldPaths=[]),e.fieldPaths&&e.fieldPaths.length){r.fieldPaths=[];for(var n=0;n<e.fieldPaths.length;++n)r.fieldPaths[n]=e.fieldPaths[n]}return r},E.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},E.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DocumentMask"},E),n.Precondition=(_.prototype.exists=null,_.prototype.updateTime=null,Object.defineProperty(_.prototype,"conditionType",{get:a.oneOfGetter(o=["exists","updateTime"]),set:a.oneOfSetter(o)}),_.fromObject=function(e){if(e instanceof s.google.firestore.v1.Precondition)return e;var t=new s.google.firestore.v1.Precondition;if(null!=e.exists&&(t.exists=Boolean(e.exists)),null!=e.updateTime){if("object"!=typeof e.updateTime)throw TypeError(".google.firestore.v1.Precondition.updateTime: object expected");t.updateTime=s.google.protobuf.Timestamp.fromObject(e.updateTime)}return t},_.toObject=function(e,t){t=t||{};var r={};return null!=e.exists&&e.hasOwnProperty("exists")&&(r.exists=e.exists,t.oneofs)&&(r.conditionType="exists"),null!=e.updateTime&&e.hasOwnProperty("updateTime")&&(r.updateTime=s.google.protobuf.Timestamp.toObject(e.updateTime,t),t.oneofs)&&(r.conditionType="updateTime"),r},_.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Precondition"},_),n.TransactionOptions=(O.prototype.readOnly=null,O.prototype.readWrite=null,Object.defineProperty(O.prototype,"mode",{get:a.oneOfGetter(o=["readOnly","readWrite"]),set:a.oneOfSetter(o)}),O.fromObject=function(e){if(e instanceof s.google.firestore.v1.TransactionOptions)return e;var t=new s.google.firestore.v1.TransactionOptions;if(null!=e.readOnly){if("object"!=typeof e.readOnly)throw TypeError(".google.firestore.v1.TransactionOptions.readOnly: object expected");t.readOnly=s.google.firestore.v1.TransactionOptions.ReadOnly.fromObject(e.readOnly)}if(null!=e.readWrite){if("object"!=typeof e.readWrite)throw TypeError(".google.firestore.v1.TransactionOptions.readWrite: object expected");t.readWrite=s.google.firestore.v1.TransactionOptions.ReadWrite.fromObject(e.readWrite)}return t},O.toObject=function(e,t){t=t||{};var r={};return null!=e.readOnly&&e.hasOwnProperty("readOnly")&&(r.readOnly=s.google.firestore.v1.TransactionOptions.ReadOnly.toObject(e.readOnly,t),t.oneofs)&&(r.mode="readOnly"),null!=e.readWrite&&e.hasOwnProperty("readWrite")&&(r.readWrite=s.google.firestore.v1.TransactionOptions.ReadWrite.toObject(e.readWrite,t),t.oneofs)&&(r.mode="readWrite"),r},O.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},O.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.TransactionOptions"},O.ReadWrite=(w.prototype.retryTransaction=a.newBuffer([]),w.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.TransactionOptions.ReadWrite?e:(t=new s.google.firestore.v1.TransactionOptions.ReadWrite,null!=e.retryTransaction&&("string"==typeof e.retryTransaction?a.base64.decode(e.retryTransaction,t.retryTransaction=a.newBuffer(a.base64.length(e.retryTransaction)),0):0<=e.retryTransaction.length&&(t.retryTransaction=e.retryTransaction)),t)},w.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.retryTransaction="":(r.retryTransaction=[],t.bytes!==Array&&(r.retryTransaction=a.newBuffer(r.retryTransaction)))),null!=e.retryTransaction&&e.hasOwnProperty("retryTransaction")&&(r.retryTransaction=t.bytes===String?a.base64.encode(e.retryTransaction,0,e.retryTransaction.length):t.bytes===Array?Array.prototype.slice.call(e.retryTransaction):e.retryTransaction),r},w.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},w.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.TransactionOptions.ReadWrite"},w),O.ReadOnly=(S.prototype.readTime=null,Object.defineProperty(S.prototype,"consistencySelector",{get:a.oneOfGetter(o=["readTime"]),set:a.oneOfSetter(o)}),S.fromObject=function(e){if(e instanceof s.google.firestore.v1.TransactionOptions.ReadOnly)return e;var t=new s.google.firestore.v1.TransactionOptions.ReadOnly;if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.TransactionOptions.ReadOnly.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},S.toObject=function(e,t){t=t||{};var r={};return null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),r},S.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},S.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.TransactionOptions.ReadOnly"},S),O),n.Firestore=((T.prototype=Object.create(e.rpc.Service.prototype)).constructor=T,Object.defineProperty(T.prototype.getDocument=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.GetDocumentRequest,s.google.firestore.v1.Document,t,r)},"name",{value:"GetDocument"}),Object.defineProperty(T.prototype.listDocuments=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.ListDocumentsRequest,s.google.firestore.v1.ListDocumentsResponse,t,r)},"name",{value:"ListDocuments"}),Object.defineProperty(T.prototype.updateDocument=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.UpdateDocumentRequest,s.google.firestore.v1.Document,t,r)},"name",{value:"UpdateDocument"}),Object.defineProperty(T.prototype.deleteDocument=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.DeleteDocumentRequest,s.google.protobuf.Empty,t,r)},"name",{value:"DeleteDocument"}),Object.defineProperty(T.prototype.batchGetDocuments=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.BatchGetDocumentsRequest,s.google.firestore.v1.BatchGetDocumentsResponse,t,r)},"name",{value:"BatchGetDocuments"}),Object.defineProperty(T.prototype.beginTransaction=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.BeginTransactionRequest,s.google.firestore.v1.BeginTransactionResponse,t,r)},"name",{value:"BeginTransaction"}),Object.defineProperty(T.prototype.commit=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.CommitRequest,s.google.firestore.v1.CommitResponse,t,r)},"name",{value:"Commit"}),Object.defineProperty(T.prototype.rollback=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.RollbackRequest,s.google.protobuf.Empty,t,r)},"name",{value:"Rollback"}),Object.defineProperty(T.prototype.runQuery=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.RunQueryRequest,s.google.firestore.v1.RunQueryResponse,t,r)},"name",{value:"RunQuery"}),Object.defineProperty(T.prototype.runAggregationQuery=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.RunAggregationQueryRequest,s.google.firestore.v1.RunAggregationQueryResponse,t,r)},"name",{value:"RunAggregationQuery"}),Object.defineProperty(T.prototype.partitionQuery=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.PartitionQueryRequest,s.google.firestore.v1.PartitionQueryResponse,t,r)},"name",{value:"PartitionQuery"}),Object.defineProperty(T.prototype.write=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.WriteRequest,s.google.firestore.v1.WriteResponse,t,r)},"name",{value:"Write"}),Object.defineProperty(T.prototype.listen=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.ListenRequest,s.google.firestore.v1.ListenResponse,t,r)},"name",{value:"Listen"}),Object.defineProperty(T.prototype.listCollectionIds=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.ListCollectionIdsRequest,s.google.firestore.v1.ListCollectionIdsResponse,t,r)},"name",{value:"ListCollectionIds"}),Object.defineProperty(T.prototype.batchWrite=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.BatchWriteRequest,s.google.firestore.v1.BatchWriteResponse,t,r)},"name",{value:"BatchWrite"}),Object.defineProperty(T.prototype.createDocument=function e(t,r){return this.rpcCall(e,s.google.firestore.v1.CreateDocumentRequest,s.google.firestore.v1.Document,t,r)},"name",{value:"CreateDocument"}),T),n.GetDocumentRequest=(A.prototype.name="",A.prototype.mask=null,A.prototype.transaction=null,A.prototype.readTime=null,Object.defineProperty(A.prototype,"consistencySelector",{get:a.oneOfGetter(o=["transaction","readTime"]),set:a.oneOfSetter(o)}),A.fromObject=function(e){if(e instanceof s.google.firestore.v1.GetDocumentRequest)return e;var t=new s.google.firestore.v1.GetDocumentRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.GetDocumentRequest.mask: object expected");t.mask=s.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.GetDocumentRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},A.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.mask=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=s.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs)&&(r.consistencySelector="transaction"),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),r},A.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},A.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.GetDocumentRequest"},A),n.ListDocumentsRequest=(C.prototype.parent="",C.prototype.collectionId="",C.prototype.pageSize=0,C.prototype.pageToken="",C.prototype.orderBy="",C.prototype.mask=null,C.prototype.transaction=null,C.prototype.readTime=null,C.prototype.showMissing=!1,Object.defineProperty(C.prototype,"consistencySelector",{get:a.oneOfGetter(o=["transaction","readTime"]),set:a.oneOfSetter(o)}),C.fromObject=function(e){if(e instanceof s.google.firestore.v1.ListDocumentsRequest)return e;var t=new s.google.firestore.v1.ListDocumentsRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.collectionId&&(t.collectionId=String(e.collectionId)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),null!=e.orderBy&&(t.orderBy=String(e.orderBy)),null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.ListDocumentsRequest.mask: object expected");t.mask=s.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.ListDocumentsRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return null!=e.showMissing&&(t.showMissing=Boolean(e.showMissing)),t},C.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent="",r.collectionId="",r.pageSize=0,r.pageToken="",r.orderBy="",r.mask=null,r.showMissing=!1),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.collectionId&&e.hasOwnProperty("collectionId")&&(r.collectionId=e.collectionId),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),null!=e.orderBy&&e.hasOwnProperty("orderBy")&&(r.orderBy=e.orderBy),null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=s.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs)&&(r.consistencySelector="transaction"),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),null!=e.showMissing&&e.hasOwnProperty("showMissing")&&(r.showMissing=e.showMissing),r},C.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},C.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ListDocumentsRequest"},C),n.ListDocumentsResponse=(I.prototype.documents=a.emptyArray,I.prototype.nextPageToken="",I.fromObject=function(e){if(e instanceof s.google.firestore.v1.ListDocumentsResponse)return e;var t=new s.google.firestore.v1.ListDocumentsResponse;if(e.documents){if(!Array.isArray(e.documents))throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: array expected");t.documents=[];for(var r=0;r<e.documents.length;++r){if("object"!=typeof e.documents[r])throw TypeError(".google.firestore.v1.ListDocumentsResponse.documents: object expected");t.documents[r]=s.google.firestore.v1.Document.fromObject(e.documents[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},I.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.documents=[]),t.defaults&&(r.nextPageToken=""),e.documents&&e.documents.length){r.documents=[];for(var n=0;n<e.documents.length;++n)r.documents[n]=s.google.firestore.v1.Document.toObject(e.documents[n],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},I.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},I.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ListDocumentsResponse"},I),n.CreateDocumentRequest=(N.prototype.parent="",N.prototype.collectionId="",N.prototype.documentId="",N.prototype.document=null,N.prototype.mask=null,N.fromObject=function(e){if(e instanceof s.google.firestore.v1.CreateDocumentRequest)return e;var t=new s.google.firestore.v1.CreateDocumentRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.collectionId&&(t.collectionId=String(e.collectionId)),null!=e.documentId&&(t.documentId=String(e.documentId)),null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.CreateDocumentRequest.document: object expected");t.document=s.google.firestore.v1.Document.fromObject(e.document)}if(null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.CreateDocumentRequest.mask: object expected");t.mask=s.google.firestore.v1.DocumentMask.fromObject(e.mask)}return t},N.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent="",r.collectionId="",r.documentId="",r.document=null,r.mask=null),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.collectionId&&e.hasOwnProperty("collectionId")&&(r.collectionId=e.collectionId),null!=e.documentId&&e.hasOwnProperty("documentId")&&(r.documentId=e.documentId),null!=e.document&&e.hasOwnProperty("document")&&(r.document=s.google.firestore.v1.Document.toObject(e.document,t)),null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=s.google.firestore.v1.DocumentMask.toObject(e.mask,t)),r},N.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},N.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.CreateDocumentRequest"},N),n.UpdateDocumentRequest=(P.prototype.document=null,P.prototype.updateMask=null,P.prototype.mask=null,P.prototype.currentDocument=null,P.fromObject=function(e){if(e instanceof s.google.firestore.v1.UpdateDocumentRequest)return e;var t=new s.google.firestore.v1.UpdateDocumentRequest;if(null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.document: object expected");t.document=s.google.firestore.v1.Document.fromObject(e.document)}if(null!=e.updateMask){if("object"!=typeof e.updateMask)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.updateMask: object expected");t.updateMask=s.google.firestore.v1.DocumentMask.fromObject(e.updateMask)}if(null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.mask: object expected");t.mask=s.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.currentDocument){if("object"!=typeof e.currentDocument)throw TypeError(".google.firestore.v1.UpdateDocumentRequest.currentDocument: object expected");t.currentDocument=s.google.firestore.v1.Precondition.fromObject(e.currentDocument)}return t},P.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.document=null,r.updateMask=null,r.mask=null,r.currentDocument=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=s.google.firestore.v1.Document.toObject(e.document,t)),null!=e.updateMask&&e.hasOwnProperty("updateMask")&&(r.updateMask=s.google.firestore.v1.DocumentMask.toObject(e.updateMask,t)),null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=s.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.currentDocument&&e.hasOwnProperty("currentDocument")&&(r.currentDocument=s.google.firestore.v1.Precondition.toObject(e.currentDocument,t)),r},P.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},P.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.UpdateDocumentRequest"},P),n.DeleteDocumentRequest=(R.prototype.name="",R.prototype.currentDocument=null,R.fromObject=function(e){if(e instanceof s.google.firestore.v1.DeleteDocumentRequest)return e;var t=new s.google.firestore.v1.DeleteDocumentRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.currentDocument){if("object"!=typeof e.currentDocument)throw TypeError(".google.firestore.v1.DeleteDocumentRequest.currentDocument: object expected");t.currentDocument=s.google.firestore.v1.Precondition.fromObject(e.currentDocument)}return t},R.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.currentDocument=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.currentDocument&&e.hasOwnProperty("currentDocument")&&(r.currentDocument=s.google.firestore.v1.Precondition.toObject(e.currentDocument,t)),r},R.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},R.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DeleteDocumentRequest"},R),n.BatchGetDocumentsRequest=(D.prototype.database="",D.prototype.documents=a.emptyArray,D.prototype.mask=null,D.prototype.transaction=null,D.prototype.newTransaction=null,D.prototype.readTime=null,Object.defineProperty(D.prototype,"consistencySelector",{get:a.oneOfGetter(o=["transaction","newTransaction","readTime"]),set:a.oneOfSetter(o)}),D.fromObject=function(e){if(e instanceof s.google.firestore.v1.BatchGetDocumentsRequest)return e;var t=new s.google.firestore.v1.BatchGetDocumentsRequest;if(null!=e.database&&(t.database=String(e.database)),e.documents){if(!Array.isArray(e.documents))throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.documents: array expected");t.documents=[];for(var r=0;r<e.documents.length;++r)t.documents[r]=String(e.documents[r])}if(null!=e.mask){if("object"!=typeof e.mask)throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.mask: object expected");t.mask=s.google.firestore.v1.DocumentMask.fromObject(e.mask)}if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.newTransaction){if("object"!=typeof e.newTransaction)throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.newTransaction: object expected");t.newTransaction=s.google.firestore.v1.TransactionOptions.fromObject(e.newTransaction)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.BatchGetDocumentsRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},D.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.documents=[]),t.defaults&&(r.database="",r.mask=null),null!=e.database&&e.hasOwnProperty("database")&&(r.database=e.database),e.documents&&e.documents.length){r.documents=[];for(var n=0;n<e.documents.length;++n)r.documents[n]=e.documents[n]}return null!=e.mask&&e.hasOwnProperty("mask")&&(r.mask=s.google.firestore.v1.DocumentMask.toObject(e.mask,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs)&&(r.consistencySelector="transaction"),null!=e.newTransaction&&e.hasOwnProperty("newTransaction")&&(r.newTransaction=s.google.firestore.v1.TransactionOptions.toObject(e.newTransaction,t),t.oneofs)&&(r.consistencySelector="newTransaction"),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),r},D.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},D.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BatchGetDocumentsRequest"},D),n.BatchGetDocumentsResponse=(k.prototype.found=null,k.prototype.missing=null,k.prototype.transaction=a.newBuffer([]),k.prototype.readTime=null,Object.defineProperty(k.prototype,"result",{get:a.oneOfGetter(o=["found","missing"]),set:a.oneOfSetter(o)}),k.fromObject=function(e){if(e instanceof s.google.firestore.v1.BatchGetDocumentsResponse)return e;var t=new s.google.firestore.v1.BatchGetDocumentsResponse;if(null!=e.found){if("object"!=typeof e.found)throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.found: object expected");t.found=s.google.firestore.v1.Document.fromObject(e.found)}if(null!=e.missing&&(t.missing=String(e.missing)),null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.BatchGetDocumentsResponse.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},k.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.transaction="":(r.transaction=[],t.bytes!==Array&&(r.transaction=a.newBuffer(r.transaction))),r.readTime=null),null!=e.found&&e.hasOwnProperty("found")&&(r.found=s.google.firestore.v1.Document.toObject(e.found,t),t.oneofs)&&(r.result="found"),null!=e.missing&&e.hasOwnProperty("missing")&&(r.missing=e.missing,t.oneofs)&&(r.result="missing"),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),r},k.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},k.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BatchGetDocumentsResponse"},k),n.BeginTransactionRequest=(x.prototype.database="",x.prototype.options=null,x.fromObject=function(e){if(e instanceof s.google.firestore.v1.BeginTransactionRequest)return e;var t=new s.google.firestore.v1.BeginTransactionRequest;if(null!=e.database&&(t.database=String(e.database)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.firestore.v1.BeginTransactionRequest.options: object expected");t.options=s.google.firestore.v1.TransactionOptions.fromObject(e.options)}return t},x.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.database="",r.options=null),null!=e.database&&e.hasOwnProperty("database")&&(r.database=e.database),null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.firestore.v1.TransactionOptions.toObject(e.options,t)),r},x.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},x.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BeginTransactionRequest"},x),n.BeginTransactionResponse=(j.prototype.transaction=a.newBuffer([]),j.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.BeginTransactionResponse?e:(t=new s.google.firestore.v1.BeginTransactionResponse,null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),t)},j.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.transaction="":(r.transaction=[],t.bytes!==Array&&(r.transaction=a.newBuffer(r.transaction)))),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),r},j.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},j.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BeginTransactionResponse"},j),n.CommitRequest=(L.prototype.database="",L.prototype.writes=a.emptyArray,L.prototype.transaction=a.newBuffer([]),L.fromObject=function(e){if(e instanceof s.google.firestore.v1.CommitRequest)return e;var t=new s.google.firestore.v1.CommitRequest;if(null!=e.database&&(t.database=String(e.database)),e.writes){if(!Array.isArray(e.writes))throw TypeError(".google.firestore.v1.CommitRequest.writes: array expected");t.writes=[];for(var r=0;r<e.writes.length;++r){if("object"!=typeof e.writes[r])throw TypeError(".google.firestore.v1.CommitRequest.writes: object expected");t.writes[r]=s.google.firestore.v1.Write.fromObject(e.writes[r])}}return null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),t},L.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.writes=[]),t.defaults&&(r.database="",t.bytes===String?r.transaction="":(r.transaction=[],t.bytes!==Array&&(r.transaction=a.newBuffer(r.transaction)))),null!=e.database&&e.hasOwnProperty("database")&&(r.database=e.database),e.writes&&e.writes.length){r.writes=[];for(var n=0;n<e.writes.length;++n)r.writes[n]=s.google.firestore.v1.Write.toObject(e.writes[n],t)}return null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),r},L.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},L.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.CommitRequest"},L),n.CommitResponse=(F.prototype.writeResults=a.emptyArray,F.prototype.commitTime=null,F.fromObject=function(e){if(e instanceof s.google.firestore.v1.CommitResponse)return e;var t=new s.google.firestore.v1.CommitResponse;if(e.writeResults){if(!Array.isArray(e.writeResults))throw TypeError(".google.firestore.v1.CommitResponse.writeResults: array expected");t.writeResults=[];for(var r=0;r<e.writeResults.length;++r){if("object"!=typeof e.writeResults[r])throw TypeError(".google.firestore.v1.CommitResponse.writeResults: object expected");t.writeResults[r]=s.google.firestore.v1.WriteResult.fromObject(e.writeResults[r])}}if(null!=e.commitTime){if("object"!=typeof e.commitTime)throw TypeError(".google.firestore.v1.CommitResponse.commitTime: object expected");t.commitTime=s.google.protobuf.Timestamp.fromObject(e.commitTime)}return t},F.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.writeResults=[]),t.defaults&&(r.commitTime=null),e.writeResults&&e.writeResults.length){r.writeResults=[];for(var n=0;n<e.writeResults.length;++n)r.writeResults[n]=s.google.firestore.v1.WriteResult.toObject(e.writeResults[n],t)}return null!=e.commitTime&&e.hasOwnProperty("commitTime")&&(r.commitTime=s.google.protobuf.Timestamp.toObject(e.commitTime,t)),r},F.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},F.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.CommitResponse"},F),n.RollbackRequest=(M.prototype.database="",M.prototype.transaction=a.newBuffer([]),M.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.RollbackRequest?e:(t=new s.google.firestore.v1.RollbackRequest,null!=e.database&&(t.database=String(e.database)),null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),t)},M.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.database="",t.bytes===String?r.transaction="":(r.transaction=[],t.bytes!==Array&&(r.transaction=a.newBuffer(r.transaction)))),null!=e.database&&e.hasOwnProperty("database")&&(r.database=e.database),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),r},M.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},M.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.RollbackRequest"},M),n.RunQueryRequest=(U.prototype.parent="",U.prototype.structuredQuery=null,U.prototype.transaction=null,U.prototype.newTransaction=null,U.prototype.readTime=null,U.prototype.explainOptions=null,Object.defineProperty(U.prototype,"queryType",{get:a.oneOfGetter(o=["structuredQuery"]),set:a.oneOfSetter(o)}),Object.defineProperty(U.prototype,"consistencySelector",{get:a.oneOfGetter(o=["transaction","newTransaction","readTime"]),set:a.oneOfSetter(o)}),U.fromObject=function(e){if(e instanceof s.google.firestore.v1.RunQueryRequest)return e;var t=new s.google.firestore.v1.RunQueryRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.RunQueryRequest.structuredQuery: object expected");t.structuredQuery=s.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.newTransaction){if("object"!=typeof e.newTransaction)throw TypeError(".google.firestore.v1.RunQueryRequest.newTransaction: object expected");t.newTransaction=s.google.firestore.v1.TransactionOptions.fromObject(e.newTransaction)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.RunQueryRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.explainOptions){if("object"!=typeof e.explainOptions)throw TypeError(".google.firestore.v1.RunQueryRequest.explainOptions: object expected");t.explainOptions=s.google.firestore.v1.ExplainOptions.fromObject(e.explainOptions)}return t},U.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent="",r.explainOptions=null),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(r.structuredQuery=s.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs)&&(r.queryType="structuredQuery"),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs)&&(r.consistencySelector="transaction"),null!=e.newTransaction&&e.hasOwnProperty("newTransaction")&&(r.newTransaction=s.google.firestore.v1.TransactionOptions.toObject(e.newTransaction,t),t.oneofs)&&(r.consistencySelector="newTransaction"),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),null!=e.explainOptions&&e.hasOwnProperty("explainOptions")&&(r.explainOptions=s.google.firestore.v1.ExplainOptions.toObject(e.explainOptions,t)),r},U.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},U.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.RunQueryRequest"},U),n.RunQueryResponse=(B.prototype.transaction=a.newBuffer([]),B.prototype.document=null,B.prototype.readTime=null,B.prototype.skippedResults=0,B.prototype.done=null,B.prototype.explainMetrics=null,Object.defineProperty(B.prototype,"continuationSelector",{get:a.oneOfGetter(o=["done"]),set:a.oneOfSetter(o)}),B.fromObject=function(e){if(e instanceof s.google.firestore.v1.RunQueryResponse)return e;var t=new s.google.firestore.v1.RunQueryResponse;if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.RunQueryResponse.document: object expected");t.document=s.google.firestore.v1.Document.fromObject(e.document)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.RunQueryResponse.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.skippedResults&&(t.skippedResults=0|e.skippedResults),null!=e.done&&(t.done=Boolean(e.done)),null!=e.explainMetrics){if("object"!=typeof e.explainMetrics)throw TypeError(".google.firestore.v1.RunQueryResponse.explainMetrics: object expected");t.explainMetrics=s.google.firestore.v1.ExplainMetrics.fromObject(e.explainMetrics)}return t},B.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.document=null,t.bytes===String?r.transaction="":(r.transaction=[],t.bytes!==Array&&(r.transaction=a.newBuffer(r.transaction))),r.readTime=null,r.skippedResults=0,r.explainMetrics=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=s.google.firestore.v1.Document.toObject(e.document,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),null!=e.skippedResults&&e.hasOwnProperty("skippedResults")&&(r.skippedResults=e.skippedResults),null!=e.done&&e.hasOwnProperty("done")&&(r.done=e.done,t.oneofs)&&(r.continuationSelector="done"),null!=e.explainMetrics&&e.hasOwnProperty("explainMetrics")&&(r.explainMetrics=s.google.firestore.v1.ExplainMetrics.toObject(e.explainMetrics,t)),r},B.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},B.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.RunQueryResponse"},B),n.RunAggregationQueryRequest=(V.prototype.parent="",V.prototype.structuredAggregationQuery=null,V.prototype.transaction=null,V.prototype.newTransaction=null,V.prototype.readTime=null,V.prototype.explainOptions=null,Object.defineProperty(V.prototype,"queryType",{get:a.oneOfGetter(o=["structuredAggregationQuery"]),set:a.oneOfSetter(o)}),Object.defineProperty(V.prototype,"consistencySelector",{get:a.oneOfGetter(o=["transaction","newTransaction","readTime"]),set:a.oneOfSetter(o)}),V.fromObject=function(e){if(e instanceof s.google.firestore.v1.RunAggregationQueryRequest)return e;var t=new s.google.firestore.v1.RunAggregationQueryRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredAggregationQuery){if("object"!=typeof e.structuredAggregationQuery)throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.structuredAggregationQuery: object expected");t.structuredAggregationQuery=s.google.firestore.v1.StructuredAggregationQuery.fromObject(e.structuredAggregationQuery)}if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.newTransaction){if("object"!=typeof e.newTransaction)throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.newTransaction: object expected");t.newTransaction=s.google.firestore.v1.TransactionOptions.fromObject(e.newTransaction)}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.explainOptions){if("object"!=typeof e.explainOptions)throw TypeError(".google.firestore.v1.RunAggregationQueryRequest.explainOptions: object expected");t.explainOptions=s.google.firestore.v1.ExplainOptions.fromObject(e.explainOptions)}return t},V.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent="",r.explainOptions=null),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.structuredAggregationQuery&&e.hasOwnProperty("structuredAggregationQuery")&&(r.structuredAggregationQuery=s.google.firestore.v1.StructuredAggregationQuery.toObject(e.structuredAggregationQuery,t),t.oneofs)&&(r.queryType="structuredAggregationQuery"),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction,t.oneofs)&&(r.consistencySelector="transaction"),null!=e.newTransaction&&e.hasOwnProperty("newTransaction")&&(r.newTransaction=s.google.firestore.v1.TransactionOptions.toObject(e.newTransaction,t),t.oneofs)&&(r.consistencySelector="newTransaction"),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),null!=e.explainOptions&&e.hasOwnProperty("explainOptions")&&(r.explainOptions=s.google.firestore.v1.ExplainOptions.toObject(e.explainOptions,t)),r},V.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},V.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.RunAggregationQueryRequest"},V),n.RunAggregationQueryResponse=(q.prototype.result=null,q.prototype.transaction=a.newBuffer([]),q.prototype.readTime=null,q.prototype.explainMetrics=null,q.fromObject=function(e){if(e instanceof s.google.firestore.v1.RunAggregationQueryResponse)return e;var t=new s.google.firestore.v1.RunAggregationQueryResponse;if(null!=e.result){if("object"!=typeof e.result)throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.result: object expected");t.result=s.google.firestore.v1.AggregationResult.fromObject(e.result)}if(null!=e.transaction&&("string"==typeof e.transaction?a.base64.decode(e.transaction,t.transaction=a.newBuffer(a.base64.length(e.transaction)),0):0<=e.transaction.length&&(t.transaction=e.transaction)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.explainMetrics){if("object"!=typeof e.explainMetrics)throw TypeError(".google.firestore.v1.RunAggregationQueryResponse.explainMetrics: object expected");t.explainMetrics=s.google.firestore.v1.ExplainMetrics.fromObject(e.explainMetrics)}return t},q.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.result=null,t.bytes===String?r.transaction="":(r.transaction=[],t.bytes!==Array&&(r.transaction=a.newBuffer(r.transaction))),r.readTime=null,r.explainMetrics=null),null!=e.result&&e.hasOwnProperty("result")&&(r.result=s.google.firestore.v1.AggregationResult.toObject(e.result,t)),null!=e.transaction&&e.hasOwnProperty("transaction")&&(r.transaction=t.bytes===String?a.base64.encode(e.transaction,0,e.transaction.length):t.bytes===Array?Array.prototype.slice.call(e.transaction):e.transaction),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),null!=e.explainMetrics&&e.hasOwnProperty("explainMetrics")&&(r.explainMetrics=s.google.firestore.v1.ExplainMetrics.toObject(e.explainMetrics,t)),r},q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},q.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.RunAggregationQueryResponse"},q),n.PartitionQueryRequest=(G.prototype.parent="",G.prototype.structuredQuery=null,G.prototype.partitionCount=a.Long?a.Long.fromBits(0,0,!1):0,G.prototype.pageToken="",G.prototype.pageSize=0,G.prototype.readTime=null,Object.defineProperty(G.prototype,"queryType",{get:a.oneOfGetter(o=["structuredQuery"]),set:a.oneOfSetter(o)}),Object.defineProperty(G.prototype,"consistencySelector",{get:a.oneOfGetter(o=["readTime"]),set:a.oneOfSetter(o)}),G.fromObject=function(e){if(e instanceof s.google.firestore.v1.PartitionQueryRequest)return e;var t=new s.google.firestore.v1.PartitionQueryRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.PartitionQueryRequest.structuredQuery: object expected");t.structuredQuery=s.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}if(null!=e.partitionCount&&(a.Long?(t.partitionCount=a.Long.fromValue(e.partitionCount)).unsigned=!1:"string"==typeof e.partitionCount?t.partitionCount=parseInt(e.partitionCount,10):"number"==typeof e.partitionCount?t.partitionCount=e.partitionCount:"object"==typeof e.partitionCount&&(t.partitionCount=new a.LongBits(e.partitionCount.low>>>0,e.partitionCount.high>>>0).toNumber())),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.PartitionQueryRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},G.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(n.parent="",a.Long?(r=new a.Long(0,0,!1),n.partitionCount=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.partitionCount=t.longs===String?"0":0,n.pageToken="",n.pageSize=0),null!=e.parent&&e.hasOwnProperty("parent")&&(n.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(n.structuredQuery=s.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs)&&(n.queryType="structuredQuery"),null!=e.partitionCount&&e.hasOwnProperty("partitionCount")&&("number"==typeof e.partitionCount?n.partitionCount=t.longs===String?String(e.partitionCount):e.partitionCount:n.partitionCount=t.longs===String?a.Long.prototype.toString.call(e.partitionCount):t.longs===Number?new a.LongBits(e.partitionCount.low>>>0,e.partitionCount.high>>>0).toNumber():e.partitionCount),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(n.pageToken=e.pageToken),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(n.pageSize=e.pageSize),null!=e.readTime&&e.hasOwnProperty("readTime")&&(n.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(n.consistencySelector="readTime"),n},G.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},G.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.PartitionQueryRequest"},G),n.PartitionQueryResponse=(H.prototype.partitions=a.emptyArray,H.prototype.nextPageToken="",H.fromObject=function(e){if(e instanceof s.google.firestore.v1.PartitionQueryResponse)return e;var t=new s.google.firestore.v1.PartitionQueryResponse;if(e.partitions){if(!Array.isArray(e.partitions))throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: array expected");t.partitions=[];for(var r=0;r<e.partitions.length;++r){if("object"!=typeof e.partitions[r])throw TypeError(".google.firestore.v1.PartitionQueryResponse.partitions: object expected");t.partitions[r]=s.google.firestore.v1.Cursor.fromObject(e.partitions[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},H.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.partitions=[]),t.defaults&&(r.nextPageToken=""),e.partitions&&e.partitions.length){r.partitions=[];for(var n=0;n<e.partitions.length;++n)r.partitions[n]=s.google.firestore.v1.Cursor.toObject(e.partitions[n],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},H.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},H.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.PartitionQueryResponse"},H),n.WriteRequest=(z.prototype.database="",z.prototype.streamId="",z.prototype.writes=a.emptyArray,z.prototype.streamToken=a.newBuffer([]),z.prototype.labels=a.emptyObject,z.fromObject=function(e){if(e instanceof s.google.firestore.v1.WriteRequest)return e;var t=new s.google.firestore.v1.WriteRequest;if(null!=e.database&&(t.database=String(e.database)),null!=e.streamId&&(t.streamId=String(e.streamId)),e.writes){if(!Array.isArray(e.writes))throw TypeError(".google.firestore.v1.WriteRequest.writes: array expected");t.writes=[];for(var r=0;r<e.writes.length;++r){if("object"!=typeof e.writes[r])throw TypeError(".google.firestore.v1.WriteRequest.writes: object expected");t.writes[r]=s.google.firestore.v1.Write.fromObject(e.writes[r])}}if(null!=e.streamToken&&("string"==typeof e.streamToken?a.base64.decode(e.streamToken,t.streamToken=a.newBuffer(a.base64.length(e.streamToken)),0):0<=e.streamToken.length&&(t.streamToken=e.streamToken)),e.labels){if("object"!=typeof e.labels)throw TypeError(".google.firestore.v1.WriteRequest.labels: object expected");t.labels={};var n=Object.keys(e.labels);for(r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},z.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.writes=[]),(t.objects||t.defaults)&&(n.labels={}),t.defaults&&(n.database="",n.streamId="",t.bytes===String?n.streamToken="":(n.streamToken=[],t.bytes!==Array&&(n.streamToken=a.newBuffer(n.streamToken)))),null!=e.database&&e.hasOwnProperty("database")&&(n.database=e.database),null!=e.streamId&&e.hasOwnProperty("streamId")&&(n.streamId=e.streamId),e.writes&&e.writes.length){n.writes=[];for(var o=0;o<e.writes.length;++o)n.writes[o]=s.google.firestore.v1.Write.toObject(e.writes[o],t)}if(null!=e.streamToken&&e.hasOwnProperty("streamToken")&&(n.streamToken=t.bytes===String?a.base64.encode(e.streamToken,0,e.streamToken.length):t.bytes===Array?Array.prototype.slice.call(e.streamToken):e.streamToken),e.labels&&(r=Object.keys(e.labels)).length)for(n.labels={},o=0;o<r.length;++o)n.labels[r[o]]=e.labels[r[o]];return n},z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},z.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.WriteRequest"},z),n.WriteResponse=(W.prototype.streamId="",W.prototype.streamToken=a.newBuffer([]),W.prototype.writeResults=a.emptyArray,W.prototype.commitTime=null,W.fromObject=function(e){if(e instanceof s.google.firestore.v1.WriteResponse)return e;var t=new s.google.firestore.v1.WriteResponse;if(null!=e.streamId&&(t.streamId=String(e.streamId)),null!=e.streamToken&&("string"==typeof e.streamToken?a.base64.decode(e.streamToken,t.streamToken=a.newBuffer(a.base64.length(e.streamToken)),0):0<=e.streamToken.length&&(t.streamToken=e.streamToken)),e.writeResults){if(!Array.isArray(e.writeResults))throw TypeError(".google.firestore.v1.WriteResponse.writeResults: array expected");t.writeResults=[];for(var r=0;r<e.writeResults.length;++r){if("object"!=typeof e.writeResults[r])throw TypeError(".google.firestore.v1.WriteResponse.writeResults: object expected");t.writeResults[r]=s.google.firestore.v1.WriteResult.fromObject(e.writeResults[r])}}if(null!=e.commitTime){if("object"!=typeof e.commitTime)throw TypeError(".google.firestore.v1.WriteResponse.commitTime: object expected");t.commitTime=s.google.protobuf.Timestamp.fromObject(e.commitTime)}return t},W.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.writeResults=[]),t.defaults&&(r.streamId="",t.bytes===String?r.streamToken="":(r.streamToken=[],t.bytes!==Array&&(r.streamToken=a.newBuffer(r.streamToken))),r.commitTime=null),null!=e.streamId&&e.hasOwnProperty("streamId")&&(r.streamId=e.streamId),null!=e.streamToken&&e.hasOwnProperty("streamToken")&&(r.streamToken=t.bytes===String?a.base64.encode(e.streamToken,0,e.streamToken.length):t.bytes===Array?Array.prototype.slice.call(e.streamToken):e.streamToken),e.writeResults&&e.writeResults.length){r.writeResults=[];for(var n=0;n<e.writeResults.length;++n)r.writeResults[n]=s.google.firestore.v1.WriteResult.toObject(e.writeResults[n],t)}return null!=e.commitTime&&e.hasOwnProperty("commitTime")&&(r.commitTime=s.google.protobuf.Timestamp.toObject(e.commitTime,t)),r},W.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},W.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.WriteResponse"},W),n.ListenRequest=(J.prototype.database="",J.prototype.addTarget=null,J.prototype.removeTarget=null,J.prototype.labels=a.emptyObject,Object.defineProperty(J.prototype,"targetChange",{get:a.oneOfGetter(o=["addTarget","removeTarget"]),set:a.oneOfSetter(o)}),J.fromObject=function(e){if(e instanceof s.google.firestore.v1.ListenRequest)return e;var t=new s.google.firestore.v1.ListenRequest;if(null!=e.database&&(t.database=String(e.database)),null!=e.addTarget){if("object"!=typeof e.addTarget)throw TypeError(".google.firestore.v1.ListenRequest.addTarget: object expected");t.addTarget=s.google.firestore.v1.Target.fromObject(e.addTarget)}if(null!=e.removeTarget&&(t.removeTarget=0|e.removeTarget),e.labels){if("object"!=typeof e.labels)throw TypeError(".google.firestore.v1.ListenRequest.labels: object expected");t.labels={};for(var r=Object.keys(e.labels),n=0;n<r.length;++n)t.labels[r[n]]=String(e.labels[r[n]])}return t},J.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.labels={}),t.defaults&&(n.database=""),null!=e.database&&e.hasOwnProperty("database")&&(n.database=e.database),null!=e.addTarget&&e.hasOwnProperty("addTarget")&&(n.addTarget=s.google.firestore.v1.Target.toObject(e.addTarget,t),t.oneofs)&&(n.targetChange="addTarget"),null!=e.removeTarget&&e.hasOwnProperty("removeTarget")&&(n.removeTarget=e.removeTarget,t.oneofs)&&(n.targetChange="removeTarget"),e.labels&&(r=Object.keys(e.labels)).length){n.labels={};for(var o=0;o<r.length;++o)n.labels[r[o]]=e.labels[r[o]]}return n},J.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},J.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ListenRequest"},J),n.ListenResponse=(K.prototype.targetChange=null,K.prototype.documentChange=null,K.prototype.documentDelete=null,K.prototype.documentRemove=null,K.prototype.filter=null,Object.defineProperty(K.prototype,"responseType",{get:a.oneOfGetter(o=["targetChange","documentChange","documentDelete","documentRemove","filter"]),set:a.oneOfSetter(o)}),K.fromObject=function(e){if(e instanceof s.google.firestore.v1.ListenResponse)return e;var t=new s.google.firestore.v1.ListenResponse;if(null!=e.targetChange){if("object"!=typeof e.targetChange)throw TypeError(".google.firestore.v1.ListenResponse.targetChange: object expected");t.targetChange=s.google.firestore.v1.TargetChange.fromObject(e.targetChange)}if(null!=e.documentChange){if("object"!=typeof e.documentChange)throw TypeError(".google.firestore.v1.ListenResponse.documentChange: object expected");t.documentChange=s.google.firestore.v1.DocumentChange.fromObject(e.documentChange)}if(null!=e.documentDelete){if("object"!=typeof e.documentDelete)throw TypeError(".google.firestore.v1.ListenResponse.documentDelete: object expected");t.documentDelete=s.google.firestore.v1.DocumentDelete.fromObject(e.documentDelete)}if(null!=e.documentRemove){if("object"!=typeof e.documentRemove)throw TypeError(".google.firestore.v1.ListenResponse.documentRemove: object expected");t.documentRemove=s.google.firestore.v1.DocumentRemove.fromObject(e.documentRemove)}if(null!=e.filter){if("object"!=typeof e.filter)throw TypeError(".google.firestore.v1.ListenResponse.filter: object expected");t.filter=s.google.firestore.v1.ExistenceFilter.fromObject(e.filter)}return t},K.toObject=function(e,t){t=t||{};var r={};return null!=e.targetChange&&e.hasOwnProperty("targetChange")&&(r.targetChange=s.google.firestore.v1.TargetChange.toObject(e.targetChange,t),t.oneofs)&&(r.responseType="targetChange"),null!=e.documentChange&&e.hasOwnProperty("documentChange")&&(r.documentChange=s.google.firestore.v1.DocumentChange.toObject(e.documentChange,t),t.oneofs)&&(r.responseType="documentChange"),null!=e.documentDelete&&e.hasOwnProperty("documentDelete")&&(r.documentDelete=s.google.firestore.v1.DocumentDelete.toObject(e.documentDelete,t),t.oneofs)&&(r.responseType="documentDelete"),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=s.google.firestore.v1.ExistenceFilter.toObject(e.filter,t),t.oneofs)&&(r.responseType="filter"),null!=e.documentRemove&&e.hasOwnProperty("documentRemove")&&(r.documentRemove=s.google.firestore.v1.DocumentRemove.toObject(e.documentRemove,t),t.oneofs)&&(r.responseType="documentRemove"),r},K.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},K.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ListenResponse"},K),n.Target=(Y.prototype.query=null,Y.prototype.documents=null,Y.prototype.resumeToken=null,Y.prototype.readTime=null,Y.prototype.targetId=0,Y.prototype.once=!1,Y.prototype.expectedCount=null,Object.defineProperty(Y.prototype,"targetType",{get:a.oneOfGetter(o=["query","documents"]),set:a.oneOfSetter(o)}),Object.defineProperty(Y.prototype,"resumeType",{get:a.oneOfGetter(o=["resumeToken","readTime"]),set:a.oneOfSetter(o)}),Y.fromObject=function(e){if(e instanceof s.google.firestore.v1.Target)return e;var t=new s.google.firestore.v1.Target;if(null!=e.query){if("object"!=typeof e.query)throw TypeError(".google.firestore.v1.Target.query: object expected");t.query=s.google.firestore.v1.Target.QueryTarget.fromObject(e.query)}if(null!=e.documents){if("object"!=typeof e.documents)throw TypeError(".google.firestore.v1.Target.documents: object expected");t.documents=s.google.firestore.v1.Target.DocumentsTarget.fromObject(e.documents)}if(null!=e.resumeToken&&("string"==typeof e.resumeToken?a.base64.decode(e.resumeToken,t.resumeToken=a.newBuffer(a.base64.length(e.resumeToken)),0):0<=e.resumeToken.length&&(t.resumeToken=e.resumeToken)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.Target.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}if(null!=e.targetId&&(t.targetId=0|e.targetId),null!=e.once&&(t.once=Boolean(e.once)),null!=e.expectedCount){if("object"!=typeof e.expectedCount)throw TypeError(".google.firestore.v1.Target.expectedCount: object expected");t.expectedCount=s.google.protobuf.Int32Value.fromObject(e.expectedCount)}return t},Y.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.targetId=0,r.once=!1,r.expectedCount=null),null!=e.query&&e.hasOwnProperty("query")&&(r.query=s.google.firestore.v1.Target.QueryTarget.toObject(e.query,t),t.oneofs)&&(r.targetType="query"),null!=e.documents&&e.hasOwnProperty("documents")&&(r.documents=s.google.firestore.v1.Target.DocumentsTarget.toObject(e.documents,t),t.oneofs)&&(r.targetType="documents"),null!=e.resumeToken&&e.hasOwnProperty("resumeToken")&&(r.resumeToken=t.bytes===String?a.base64.encode(e.resumeToken,0,e.resumeToken.length):t.bytes===Array?Array.prototype.slice.call(e.resumeToken):e.resumeToken,t.oneofs)&&(r.resumeType="resumeToken"),null!=e.targetId&&e.hasOwnProperty("targetId")&&(r.targetId=e.targetId),null!=e.once&&e.hasOwnProperty("once")&&(r.once=e.once),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.resumeType="readTime"),null!=e.expectedCount&&e.hasOwnProperty("expectedCount")&&(r.expectedCount=s.google.protobuf.Int32Value.toObject(e.expectedCount,t)),r},Y.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Y.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Target"},Y.DocumentsTarget=($.prototype.documents=a.emptyArray,$.fromObject=function(e){if(e instanceof s.google.firestore.v1.Target.DocumentsTarget)return e;var t=new s.google.firestore.v1.Target.DocumentsTarget;if(e.documents){if(!Array.isArray(e.documents))throw TypeError(".google.firestore.v1.Target.DocumentsTarget.documents: array expected");t.documents=[];for(var r=0;r<e.documents.length;++r)t.documents[r]=String(e.documents[r])}return t},$.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.documents=[]),e.documents&&e.documents.length){r.documents=[];for(var n=0;n<e.documents.length;++n)r.documents[n]=e.documents[n]}return r},$.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Target.DocumentsTarget"},$),Y.QueryTarget=(Q.prototype.parent="",Q.prototype.structuredQuery=null,Object.defineProperty(Q.prototype,"queryType",{get:a.oneOfGetter(o=["structuredQuery"]),set:a.oneOfSetter(o)}),Q.fromObject=function(e){if(e instanceof s.google.firestore.v1.Target.QueryTarget)return e;var t=new s.google.firestore.v1.Target.QueryTarget;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.Target.QueryTarget.structuredQuery: object expected");t.structuredQuery=s.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}return t},Q.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent=""),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(r.structuredQuery=s.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs)&&(r.queryType="structuredQuery"),r},Q.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Q.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Target.QueryTarget"},Q),Y),n.TargetChange=(X.prototype.targetChangeType=0,X.prototype.targetIds=a.emptyArray,X.prototype.cause=null,X.prototype.resumeToken=a.newBuffer([]),X.prototype.readTime=null,X.fromObject=function(e){if(e instanceof s.google.firestore.v1.TargetChange)return e;var t=new s.google.firestore.v1.TargetChange;switch(e.targetChangeType){default:"number"==typeof e.targetChangeType&&(t.targetChangeType=e.targetChangeType);break;case"NO_CHANGE":case 0:t.targetChangeType=0;break;case"ADD":case 1:t.targetChangeType=1;break;case"REMOVE":case 2:t.targetChangeType=2;break;case"CURRENT":case 3:t.targetChangeType=3;break;case"RESET":case 4:t.targetChangeType=4}if(e.targetIds){if(!Array.isArray(e.targetIds))throw TypeError(".google.firestore.v1.TargetChange.targetIds: array expected");t.targetIds=[];for(var r=0;r<e.targetIds.length;++r)t.targetIds[r]=0|e.targetIds[r]}if(null!=e.cause){if("object"!=typeof e.cause)throw TypeError(".google.firestore.v1.TargetChange.cause: object expected");t.cause=s.google.rpc.Status.fromObject(e.cause)}if(null!=e.resumeToken&&("string"==typeof e.resumeToken?a.base64.decode(e.resumeToken,t.resumeToken=a.newBuffer(a.base64.length(e.resumeToken)),0):0<=e.resumeToken.length&&(t.resumeToken=e.resumeToken)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.TargetChange.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},X.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.targetIds=[]),t.defaults&&(r.targetChangeType=t.enums===String?"NO_CHANGE":0,r.cause=null,t.bytes===String?r.resumeToken="":(r.resumeToken=[],t.bytes!==Array&&(r.resumeToken=a.newBuffer(r.resumeToken))),r.readTime=null),null!=e.targetChangeType&&e.hasOwnProperty("targetChangeType")&&(r.targetChangeType=t.enums!==String||void 0===s.google.firestore.v1.TargetChange.TargetChangeType[e.targetChangeType]?e.targetChangeType:s.google.firestore.v1.TargetChange.TargetChangeType[e.targetChangeType]),e.targetIds&&e.targetIds.length){r.targetIds=[];for(var n=0;n<e.targetIds.length;++n)r.targetIds[n]=e.targetIds[n]}return null!=e.cause&&e.hasOwnProperty("cause")&&(r.cause=s.google.rpc.Status.toObject(e.cause,t)),null!=e.resumeToken&&e.hasOwnProperty("resumeToken")&&(r.resumeToken=t.bytes===String?a.base64.encode(e.resumeToken,0,e.resumeToken.length):t.bytes===Array?Array.prototype.slice.call(e.resumeToken):e.resumeToken),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),r},X.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},X.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.TargetChange"},X.TargetChangeType=(o={},(t=Object.create(o))[o[0]="NO_CHANGE"]="NO_CHANGE",t[o[1]="ADD"]="ADD",t[o[2]="REMOVE"]="REMOVE",t[o[3]="CURRENT"]="CURRENT",t[o[4]="RESET"]="RESET",t),X),n.ListCollectionIdsRequest=(Z.prototype.parent="",Z.prototype.pageSize=0,Z.prototype.pageToken="",Z.prototype.readTime=null,Object.defineProperty(Z.prototype,"consistencySelector",{get:a.oneOfGetter(o=["readTime"]),set:a.oneOfSetter(o)}),Z.fromObject=function(e){if(e instanceof s.google.firestore.v1.ListCollectionIdsRequest)return e;var t=new s.google.firestore.v1.ListCollectionIdsRequest;if(null!=e.parent&&(t.parent=String(e.parent)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.ListCollectionIdsRequest.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},Z.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.parent="",r.pageSize=0,r.pageToken=""),null!=e.parent&&e.hasOwnProperty("parent")&&(r.parent=e.parent),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t),t.oneofs)&&(r.consistencySelector="readTime"),r},Z.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Z.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ListCollectionIdsRequest"},Z),n.ListCollectionIdsResponse=(ee.prototype.collectionIds=a.emptyArray,ee.prototype.nextPageToken="",ee.fromObject=function(e){if(e instanceof s.google.firestore.v1.ListCollectionIdsResponse)return e;var t=new s.google.firestore.v1.ListCollectionIdsResponse;if(e.collectionIds){if(!Array.isArray(e.collectionIds))throw TypeError(".google.firestore.v1.ListCollectionIdsResponse.collectionIds: array expected");t.collectionIds=[];for(var r=0;r<e.collectionIds.length;++r)t.collectionIds[r]=String(e.collectionIds[r])}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},ee.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.collectionIds=[]),t.defaults&&(r.nextPageToken=""),e.collectionIds&&e.collectionIds.length){r.collectionIds=[];for(var n=0;n<e.collectionIds.length;++n)r.collectionIds[n]=e.collectionIds[n]}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},ee.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ee.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ListCollectionIdsResponse"},ee),n.BatchWriteRequest=(te.prototype.database="",te.prototype.writes=a.emptyArray,te.prototype.labels=a.emptyObject,te.fromObject=function(e){if(e instanceof s.google.firestore.v1.BatchWriteRequest)return e;var t=new s.google.firestore.v1.BatchWriteRequest;if(null!=e.database&&(t.database=String(e.database)),e.writes){if(!Array.isArray(e.writes))throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: array expected");t.writes=[];for(var r=0;r<e.writes.length;++r){if("object"!=typeof e.writes[r])throw TypeError(".google.firestore.v1.BatchWriteRequest.writes: object expected");t.writes[r]=s.google.firestore.v1.Write.fromObject(e.writes[r])}}if(e.labels){if("object"!=typeof e.labels)throw TypeError(".google.firestore.v1.BatchWriteRequest.labels: object expected");t.labels={};var n=Object.keys(e.labels);for(r=0;r<n.length;++r)t.labels[n[r]]=String(e.labels[n[r]])}return t},te.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.writes=[]),(t.objects||t.defaults)&&(n.labels={}),t.defaults&&(n.database=""),null!=e.database&&e.hasOwnProperty("database")&&(n.database=e.database),e.writes&&e.writes.length){n.writes=[];for(var o=0;o<e.writes.length;++o)n.writes[o]=s.google.firestore.v1.Write.toObject(e.writes[o],t)}if(e.labels&&(r=Object.keys(e.labels)).length)for(n.labels={},o=0;o<r.length;++o)n.labels[r[o]]=e.labels[r[o]];return n},te.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},te.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BatchWriteRequest"},te),n.BatchWriteResponse=(re.prototype.writeResults=a.emptyArray,re.prototype.status=a.emptyArray,re.fromObject=function(e){if(e instanceof s.google.firestore.v1.BatchWriteResponse)return e;var t=new s.google.firestore.v1.BatchWriteResponse;if(e.writeResults){if(!Array.isArray(e.writeResults))throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: array expected");t.writeResults=[];for(var r=0;r<e.writeResults.length;++r){if("object"!=typeof e.writeResults[r])throw TypeError(".google.firestore.v1.BatchWriteResponse.writeResults: object expected");t.writeResults[r]=s.google.firestore.v1.WriteResult.fromObject(e.writeResults[r])}}if(e.status){if(!Array.isArray(e.status))throw TypeError(".google.firestore.v1.BatchWriteResponse.status: array expected");for(t.status=[],r=0;r<e.status.length;++r){if("object"!=typeof e.status[r])throw TypeError(".google.firestore.v1.BatchWriteResponse.status: object expected");t.status[r]=s.google.rpc.Status.fromObject(e.status[r])}}return t},re.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.writeResults=[],r.status=[]),e.writeResults&&e.writeResults.length){r.writeResults=[];for(var n=0;n<e.writeResults.length;++n)r.writeResults[n]=s.google.firestore.v1.WriteResult.toObject(e.writeResults[n],t)}if(e.status&&e.status.length)for(r.status=[],n=0;n<e.status.length;++n)r.status[n]=s.google.rpc.Status.toObject(e.status[n],t);return r},re.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},re.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.BatchWriteResponse"},re),n.StructuredQuery=(ne.prototype.select=null,ne.prototype.from=a.emptyArray,ne.prototype.where=null,ne.prototype.orderBy=a.emptyArray,ne.prototype.startAt=null,ne.prototype.endAt=null,ne.prototype.offset=0,ne.prototype.limit=null,ne.prototype.findNearest=null,ne.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery)return e;var t=new s.google.firestore.v1.StructuredQuery;if(null!=e.select){if("object"!=typeof e.select)throw TypeError(".google.firestore.v1.StructuredQuery.select: object expected");t.select=s.google.firestore.v1.StructuredQuery.Projection.fromObject(e.select)}if(e.from){if(!Array.isArray(e.from))throw TypeError(".google.firestore.v1.StructuredQuery.from: array expected");t.from=[];for(var r=0;r<e.from.length;++r){if("object"!=typeof e.from[r])throw TypeError(".google.firestore.v1.StructuredQuery.from: object expected");t.from[r]=s.google.firestore.v1.StructuredQuery.CollectionSelector.fromObject(e.from[r])}}if(null!=e.where){if("object"!=typeof e.where)throw TypeError(".google.firestore.v1.StructuredQuery.where: object expected");t.where=s.google.firestore.v1.StructuredQuery.Filter.fromObject(e.where)}if(e.orderBy){if(!Array.isArray(e.orderBy))throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: array expected");for(t.orderBy=[],r=0;r<e.orderBy.length;++r){if("object"!=typeof e.orderBy[r])throw TypeError(".google.firestore.v1.StructuredQuery.orderBy: object expected");t.orderBy[r]=s.google.firestore.v1.StructuredQuery.Order.fromObject(e.orderBy[r])}}if(null!=e.startAt){if("object"!=typeof e.startAt)throw TypeError(".google.firestore.v1.StructuredQuery.startAt: object expected");t.startAt=s.google.firestore.v1.Cursor.fromObject(e.startAt)}if(null!=e.endAt){if("object"!=typeof e.endAt)throw TypeError(".google.firestore.v1.StructuredQuery.endAt: object expected");t.endAt=s.google.firestore.v1.Cursor.fromObject(e.endAt)}if(null!=e.offset&&(t.offset=0|e.offset),null!=e.limit){if("object"!=typeof e.limit)throw TypeError(".google.firestore.v1.StructuredQuery.limit: object expected");t.limit=s.google.protobuf.Int32Value.fromObject(e.limit)}if(null!=e.findNearest){if("object"!=typeof e.findNearest)throw TypeError(".google.firestore.v1.StructuredQuery.findNearest: object expected");t.findNearest=s.google.firestore.v1.StructuredQuery.FindNearest.fromObject(e.findNearest)}return t},ne.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.from=[],r.orderBy=[]),t.defaults&&(r.select=null,r.where=null,r.limit=null,r.offset=0,r.startAt=null,r.endAt=null,r.findNearest=null),null!=e.select&&e.hasOwnProperty("select")&&(r.select=s.google.firestore.v1.StructuredQuery.Projection.toObject(e.select,t)),e.from&&e.from.length){r.from=[];for(var n=0;n<e.from.length;++n)r.from[n]=s.google.firestore.v1.StructuredQuery.CollectionSelector.toObject(e.from[n],t)}if(null!=e.where&&e.hasOwnProperty("where")&&(r.where=s.google.firestore.v1.StructuredQuery.Filter.toObject(e.where,t)),e.orderBy&&e.orderBy.length)for(r.orderBy=[],n=0;n<e.orderBy.length;++n)r.orderBy[n]=s.google.firestore.v1.StructuredQuery.Order.toObject(e.orderBy[n],t);return null!=e.limit&&e.hasOwnProperty("limit")&&(r.limit=s.google.protobuf.Int32Value.toObject(e.limit,t)),null!=e.offset&&e.hasOwnProperty("offset")&&(r.offset=e.offset),null!=e.startAt&&e.hasOwnProperty("startAt")&&(r.startAt=s.google.firestore.v1.Cursor.toObject(e.startAt,t)),null!=e.endAt&&e.hasOwnProperty("endAt")&&(r.endAt=s.google.firestore.v1.Cursor.toObject(e.endAt,t)),null!=e.findNearest&&e.hasOwnProperty("findNearest")&&(r.findNearest=s.google.firestore.v1.StructuredQuery.FindNearest.toObject(e.findNearest,t)),r},ne.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ne.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery"},ne.CollectionSelector=(oe.prototype.collectionId="",oe.prototype.allDescendants=!1,oe.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.StructuredQuery.CollectionSelector?e:(t=new s.google.firestore.v1.StructuredQuery.CollectionSelector,null!=e.collectionId&&(t.collectionId=String(e.collectionId)),null!=e.allDescendants&&(t.allDescendants=Boolean(e.allDescendants)),t)},oe.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.collectionId="",r.allDescendants=!1),null!=e.collectionId&&e.hasOwnProperty("collectionId")&&(r.collectionId=e.collectionId),null!=e.allDescendants&&e.hasOwnProperty("allDescendants")&&(r.allDescendants=e.allDescendants),r},oe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},oe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.CollectionSelector"},oe),ne.Filter=(ie.prototype.compositeFilter=null,ie.prototype.fieldFilter=null,ie.prototype.unaryFilter=null,Object.defineProperty(ie.prototype,"filterType",{get:a.oneOfGetter(t=["compositeFilter","fieldFilter","unaryFilter"]),set:a.oneOfSetter(t)}),ie.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.Filter)return e;var t=new s.google.firestore.v1.StructuredQuery.Filter;if(null!=e.compositeFilter){if("object"!=typeof e.compositeFilter)throw TypeError(".google.firestore.v1.StructuredQuery.Filter.compositeFilter: object expected");t.compositeFilter=s.google.firestore.v1.StructuredQuery.CompositeFilter.fromObject(e.compositeFilter)}if(null!=e.fieldFilter){if("object"!=typeof e.fieldFilter)throw TypeError(".google.firestore.v1.StructuredQuery.Filter.fieldFilter: object expected");t.fieldFilter=s.google.firestore.v1.StructuredQuery.FieldFilter.fromObject(e.fieldFilter)}if(null!=e.unaryFilter){if("object"!=typeof e.unaryFilter)throw TypeError(".google.firestore.v1.StructuredQuery.Filter.unaryFilter: object expected");t.unaryFilter=s.google.firestore.v1.StructuredQuery.UnaryFilter.fromObject(e.unaryFilter)}return t},ie.toObject=function(e,t){t=t||{};var r={};return null!=e.compositeFilter&&e.hasOwnProperty("compositeFilter")&&(r.compositeFilter=s.google.firestore.v1.StructuredQuery.CompositeFilter.toObject(e.compositeFilter,t),t.oneofs)&&(r.filterType="compositeFilter"),null!=e.fieldFilter&&e.hasOwnProperty("fieldFilter")&&(r.fieldFilter=s.google.firestore.v1.StructuredQuery.FieldFilter.toObject(e.fieldFilter,t),t.oneofs)&&(r.filterType="fieldFilter"),null!=e.unaryFilter&&e.hasOwnProperty("unaryFilter")&&(r.unaryFilter=s.google.firestore.v1.StructuredQuery.UnaryFilter.toObject(e.unaryFilter,t),t.oneofs)&&(r.filterType="unaryFilter"),r},ie.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ie.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.Filter"},ie),ne.CompositeFilter=(ae.prototype.op=0,ae.prototype.filters=a.emptyArray,ae.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.CompositeFilter)return e;var t=new s.google.firestore.v1.StructuredQuery.CompositeFilter;switch(e.op){default:"number"==typeof e.op&&(t.op=e.op);break;case"OPERATOR_UNSPECIFIED":case 0:t.op=0;break;case"AND":case 1:t.op=1;break;case"OR":case 2:t.op=2}if(e.filters){if(!Array.isArray(e.filters))throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: array expected");t.filters=[];for(var r=0;r<e.filters.length;++r){if("object"!=typeof e.filters[r])throw TypeError(".google.firestore.v1.StructuredQuery.CompositeFilter.filters: object expected");t.filters[r]=s.google.firestore.v1.StructuredQuery.Filter.fromObject(e.filters[r])}}return t},ae.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.filters=[]),t.defaults&&(r.op=t.enums===String?"OPERATOR_UNSPECIFIED":0),null!=e.op&&e.hasOwnProperty("op")&&(r.op=t.enums!==String||void 0===s.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[e.op]?e.op:s.google.firestore.v1.StructuredQuery.CompositeFilter.Operator[e.op]),e.filters&&e.filters.length){r.filters=[];for(var n=0;n<e.filters.length;++n)r.filters[n]=s.google.firestore.v1.StructuredQuery.Filter.toObject(e.filters[n],t)}return r},ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ae.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.CompositeFilter"},ae.Operator=(t={},(o=Object.create(t))[t[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",o[t[1]="AND"]="AND",o[t[2]="OR"]="OR",o),ae),ne.FieldFilter=(se.prototype.field=null,se.prototype.op=0,se.prototype.value=null,se.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.FieldFilter)return e;var t=new s.google.firestore.v1.StructuredQuery.FieldFilter;if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.field: object expected");t.field=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}switch(e.op){default:"number"==typeof e.op&&(t.op=e.op);break;case"OPERATOR_UNSPECIFIED":case 0:t.op=0;break;case"LESS_THAN":case 1:t.op=1;break;case"LESS_THAN_OR_EQUAL":case 2:t.op=2;break;case"GREATER_THAN":case 3:t.op=3;break;case"GREATER_THAN_OR_EQUAL":case 4:t.op=4;break;case"EQUAL":case 5:t.op=5;break;case"NOT_EQUAL":case 6:t.op=6;break;case"ARRAY_CONTAINS":case 7:t.op=7;break;case"IN":case 8:t.op=8;break;case"ARRAY_CONTAINS_ANY":case 9:t.op=9;break;case"NOT_IN":case 10:t.op=10}if(null!=e.value){if("object"!=typeof e.value)throw TypeError(".google.firestore.v1.StructuredQuery.FieldFilter.value: object expected");t.value=s.google.firestore.v1.Value.fromObject(e.value)}return t},se.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.field=null,r.op=t.enums===String?"OPERATOR_UNSPECIFIED":0,r.value=null),null!=e.field&&e.hasOwnProperty("field")&&(r.field=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t)),null!=e.op&&e.hasOwnProperty("op")&&(r.op=t.enums!==String||void 0===s.google.firestore.v1.StructuredQuery.FieldFilter.Operator[e.op]?e.op:s.google.firestore.v1.StructuredQuery.FieldFilter.Operator[e.op]),null!=e.value&&e.hasOwnProperty("value")&&(r.value=s.google.firestore.v1.Value.toObject(e.value,t)),r},se.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},se.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.FieldFilter"},se.Operator=(t={},(o=Object.create(t))[t[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",o[t[1]="LESS_THAN"]="LESS_THAN",o[t[2]="LESS_THAN_OR_EQUAL"]="LESS_THAN_OR_EQUAL",o[t[3]="GREATER_THAN"]="GREATER_THAN",o[t[4]="GREATER_THAN_OR_EQUAL"]="GREATER_THAN_OR_EQUAL",o[t[5]="EQUAL"]="EQUAL",o[t[6]="NOT_EQUAL"]="NOT_EQUAL",o[t[7]="ARRAY_CONTAINS"]="ARRAY_CONTAINS",o[t[8]="IN"]="IN",o[t[9]="ARRAY_CONTAINS_ANY"]="ARRAY_CONTAINS_ANY",o[t[10]="NOT_IN"]="NOT_IN",o),se),ne.UnaryFilter=(le.prototype.op=0,le.prototype.field=null,Object.defineProperty(le.prototype,"operandType",{get:a.oneOfGetter(t=["field"]),set:a.oneOfSetter(t)}),le.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.UnaryFilter)return e;var t=new s.google.firestore.v1.StructuredQuery.UnaryFilter;switch(e.op){default:"number"==typeof e.op&&(t.op=e.op);break;case"OPERATOR_UNSPECIFIED":case 0:t.op=0;break;case"IS_NAN":case 2:t.op=2;break;case"IS_NULL":case 3:t.op=3;break;case"IS_NOT_NAN":case 4:t.op=4;break;case"IS_NOT_NULL":case 5:t.op=5}if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredQuery.UnaryFilter.field: object expected");t.field=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}return t},le.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.op=t.enums===String?"OPERATOR_UNSPECIFIED":0),null!=e.op&&e.hasOwnProperty("op")&&(r.op=t.enums!==String||void 0===s.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[e.op]?e.op:s.google.firestore.v1.StructuredQuery.UnaryFilter.Operator[e.op]),null!=e.field&&e.hasOwnProperty("field")&&(r.field=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t),t.oneofs)&&(r.operandType="field"),r},le.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},le.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.UnaryFilter"},le.Operator=(t={},(o=Object.create(t))[t[0]="OPERATOR_UNSPECIFIED"]="OPERATOR_UNSPECIFIED",o[t[2]="IS_NAN"]="IS_NAN",o[t[3]="IS_NULL"]="IS_NULL",o[t[4]="IS_NOT_NAN"]="IS_NOT_NAN",o[t[5]="IS_NOT_NULL"]="IS_NOT_NULL",o),le),ne.Order=(pe.prototype.field=null,pe.prototype.direction=0,pe.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.Order)return e;var t=new s.google.firestore.v1.StructuredQuery.Order;if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredQuery.Order.field: object expected");t.field=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}switch(e.direction){default:"number"==typeof e.direction&&(t.direction=e.direction);break;case"DIRECTION_UNSPECIFIED":case 0:t.direction=0;break;case"ASCENDING":case 1:t.direction=1;break;case"DESCENDING":case 2:t.direction=2}return t},pe.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.field=null,r.direction=t.enums===String?"DIRECTION_UNSPECIFIED":0),null!=e.field&&e.hasOwnProperty("field")&&(r.field=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t)),null!=e.direction&&e.hasOwnProperty("direction")&&(r.direction=t.enums!==String||void 0===s.google.firestore.v1.StructuredQuery.Direction[e.direction]?e.direction:s.google.firestore.v1.StructuredQuery.Direction[e.direction]),r},pe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},pe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.Order"},pe),ne.Direction=(t={},(o=Object.create(t))[t[0]="DIRECTION_UNSPECIFIED"]="DIRECTION_UNSPECIFIED",o[t[1]="ASCENDING"]="ASCENDING",o[t[2]="DESCENDING"]="DESCENDING",o),ne.FieldReference=(ce.prototype.fieldPath="",ce.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.StructuredQuery.FieldReference?e:(t=new s.google.firestore.v1.StructuredQuery.FieldReference,null!=e.fieldPath&&(t.fieldPath=String(e.fieldPath)),t)},ce.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.fieldPath=""),null!=e.fieldPath&&e.hasOwnProperty("fieldPath")&&(r.fieldPath=e.fieldPath),r},ce.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ce.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.FieldReference"},ce),ne.Projection=(ue.prototype.fields=a.emptyArray,ue.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.Projection)return e;var t=new s.google.firestore.v1.StructuredQuery.Projection;if(e.fields){if(!Array.isArray(e.fields))throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: array expected");t.fields=[];for(var r=0;r<e.fields.length;++r){if("object"!=typeof e.fields[r])throw TypeError(".google.firestore.v1.StructuredQuery.Projection.fields: object expected");t.fields[r]=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.fields[r])}}return t},ue.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.fields=[]),e.fields&&e.fields.length){r.fields=[];for(var n=0;n<e.fields.length;++n)r.fields[n]=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.fields[n],t)}return r},ue.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ue.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.Projection"},ue),ne.FindNearest=(de.prototype.vectorField=null,de.prototype.queryVector=null,de.prototype.distanceMeasure=0,de.prototype.limit=null,de.prototype.distanceResultField="",de.prototype.distanceThreshold=null,de.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredQuery.FindNearest)return e;var t=new s.google.firestore.v1.StructuredQuery.FindNearest;if(null!=e.vectorField){if("object"!=typeof e.vectorField)throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.vectorField: object expected");t.vectorField=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.vectorField)}if(null!=e.queryVector){if("object"!=typeof e.queryVector)throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.queryVector: object expected");t.queryVector=s.google.firestore.v1.Value.fromObject(e.queryVector)}switch(e.distanceMeasure){default:"number"==typeof e.distanceMeasure&&(t.distanceMeasure=e.distanceMeasure);break;case"DISTANCE_MEASURE_UNSPECIFIED":case 0:t.distanceMeasure=0;break;case"EUCLIDEAN":case 1:t.distanceMeasure=1;break;case"COSINE":case 2:t.distanceMeasure=2;break;case"DOT_PRODUCT":case 3:t.distanceMeasure=3}if(null!=e.limit){if("object"!=typeof e.limit)throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.limit: object expected");t.limit=s.google.protobuf.Int32Value.fromObject(e.limit)}if(null!=e.distanceResultField&&(t.distanceResultField=String(e.distanceResultField)),null!=e.distanceThreshold){if("object"!=typeof e.distanceThreshold)throw TypeError(".google.firestore.v1.StructuredQuery.FindNearest.distanceThreshold: object expected");t.distanceThreshold=s.google.protobuf.DoubleValue.fromObject(e.distanceThreshold)}return t},de.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.vectorField=null,r.queryVector=null,r.distanceMeasure=t.enums===String?"DISTANCE_MEASURE_UNSPECIFIED":0,r.limit=null,r.distanceResultField="",r.distanceThreshold=null),null!=e.vectorField&&e.hasOwnProperty("vectorField")&&(r.vectorField=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.vectorField,t)),null!=e.queryVector&&e.hasOwnProperty("queryVector")&&(r.queryVector=s.google.firestore.v1.Value.toObject(e.queryVector,t)),null!=e.distanceMeasure&&e.hasOwnProperty("distanceMeasure")&&(r.distanceMeasure=t.enums!==String||void 0===s.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[e.distanceMeasure]?e.distanceMeasure:s.google.firestore.v1.StructuredQuery.FindNearest.DistanceMeasure[e.distanceMeasure]),null!=e.limit&&e.hasOwnProperty("limit")&&(r.limit=s.google.protobuf.Int32Value.toObject(e.limit,t)),null!=e.distanceResultField&&e.hasOwnProperty("distanceResultField")&&(r.distanceResultField=e.distanceResultField),null!=e.distanceThreshold&&e.hasOwnProperty("distanceThreshold")&&(r.distanceThreshold=s.google.protobuf.DoubleValue.toObject(e.distanceThreshold,t)),r},de.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},de.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredQuery.FindNearest"},de.DistanceMeasure=(t={},(o=Object.create(t))[t[0]="DISTANCE_MEASURE_UNSPECIFIED"]="DISTANCE_MEASURE_UNSPECIFIED",o[t[1]="EUCLIDEAN"]="EUCLIDEAN",o[t[2]="COSINE"]="COSINE",o[t[3]="DOT_PRODUCT"]="DOT_PRODUCT",o),de),ne),n.StructuredAggregationQuery=(he.prototype.structuredQuery=null,he.prototype.aggregations=a.emptyArray,Object.defineProperty(he.prototype,"queryType",{get:a.oneOfGetter(t=["structuredQuery"]),set:a.oneOfSetter(t)}),he.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredAggregationQuery)return e;var t=new s.google.firestore.v1.StructuredAggregationQuery;if(null!=e.structuredQuery){if("object"!=typeof e.structuredQuery)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.structuredQuery: object expected");t.structuredQuery=s.google.firestore.v1.StructuredQuery.fromObject(e.structuredQuery)}if(e.aggregations){if(!Array.isArray(e.aggregations))throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: array expected");t.aggregations=[];for(var r=0;r<e.aggregations.length;++r){if("object"!=typeof e.aggregations[r])throw TypeError(".google.firestore.v1.StructuredAggregationQuery.aggregations: object expected");t.aggregations[r]=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.fromObject(e.aggregations[r])}}return t},he.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.aggregations=[]),null!=e.structuredQuery&&e.hasOwnProperty("structuredQuery")&&(r.structuredQuery=s.google.firestore.v1.StructuredQuery.toObject(e.structuredQuery,t),t.oneofs)&&(r.queryType="structuredQuery"),e.aggregations&&e.aggregations.length){r.aggregations=[];for(var n=0;n<e.aggregations.length;++n)r.aggregations[n]=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.toObject(e.aggregations[n],t)}return r},he.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},he.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredAggregationQuery"},he.Aggregation=(fe.prototype.count=null,fe.prototype.sum=null,fe.prototype.avg=null,fe.prototype.alias="",Object.defineProperty(fe.prototype,"operator",{get:a.oneOfGetter(t=["count","sum","avg"]),set:a.oneOfSetter(t)}),fe.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredAggregationQuery.Aggregation)return e;var t=new s.google.firestore.v1.StructuredAggregationQuery.Aggregation;if(null!=e.count){if("object"!=typeof e.count)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.count: object expected");t.count=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.fromObject(e.count)}if(null!=e.sum){if("object"!=typeof e.sum)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.sum: object expected");t.sum=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.fromObject(e.sum)}if(null!=e.avg){if("object"!=typeof e.avg)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.avg: object expected");t.avg=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.fromObject(e.avg)}return null!=e.alias&&(t.alias=String(e.alias)),t},fe.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.alias=""),null!=e.count&&e.hasOwnProperty("count")&&(r.count=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.toObject(e.count,t),t.oneofs)&&(r.operator="count"),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.toObject(e.sum,t),t.oneofs)&&(r.operator="sum"),null!=e.avg&&e.hasOwnProperty("avg")&&(r.avg=s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.toObject(e.avg,t),t.oneofs)&&(r.operator="avg"),null!=e.alias&&e.hasOwnProperty("alias")&&(r.alias=e.alias),r},fe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},fe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation"},fe.Count=(ge.prototype.upTo=null,ge.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count)return e;var t=new s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Count;if(null!=e.upTo){if("object"!=typeof e.upTo)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Count.upTo: object expected");t.upTo=s.google.protobuf.Int64Value.fromObject(e.upTo)}return t},ge.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.upTo=null),null!=e.upTo&&e.hasOwnProperty("upTo")&&(r.upTo=s.google.protobuf.Int64Value.toObject(e.upTo,t)),r},ge.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ge.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Count"},ge),fe.Sum=(me.prototype.field=null,me.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum)return e;var t=new s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum;if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum.field: object expected");t.field=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}return t},me.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.field=null),null!=e.field&&e.hasOwnProperty("field")&&(r.field=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t)),r},me.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},me.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Sum"},me),fe.Avg=(ye.prototype.field=null,ye.fromObject=function(e){if(e instanceof s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg)return e;var t=new s.google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg;if(null!=e.field){if("object"!=typeof e.field)throw TypeError(".google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg.field: object expected");t.field=s.google.firestore.v1.StructuredQuery.FieldReference.fromObject(e.field)}return t},ye.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.field=null),null!=e.field&&e.hasOwnProperty("field")&&(r.field=s.google.firestore.v1.StructuredQuery.FieldReference.toObject(e.field,t)),r},ye.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ye.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.StructuredAggregationQuery.Aggregation.Avg"},ye),fe),he),n.Cursor=(ve.prototype.values=a.emptyArray,ve.prototype.before=!1,ve.fromObject=function(e){if(e instanceof s.google.firestore.v1.Cursor)return e;var t=new s.google.firestore.v1.Cursor;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.firestore.v1.Cursor.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".google.firestore.v1.Cursor.values: object expected");t.values[r]=s.google.firestore.v1.Value.fromObject(e.values[r])}}return null!=e.before&&(t.before=Boolean(e.before)),t},ve.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.values=[]),t.defaults&&(r.before=!1),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=s.google.firestore.v1.Value.toObject(e.values[n],t)}return null!=e.before&&e.hasOwnProperty("before")&&(r.before=e.before),r},ve.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ve.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Cursor"},ve),n.ExplainOptions=(be.prototype.analyze=!1,be.fromObject=function(e){var t;return e instanceof s.google.firestore.v1.ExplainOptions?e:(t=new s.google.firestore.v1.ExplainOptions,null!=e.analyze&&(t.analyze=Boolean(e.analyze)),t)},be.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.analyze=!1),null!=e.analyze&&e.hasOwnProperty("analyze")&&(r.analyze=e.analyze),r},be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},be.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ExplainOptions"},be),n.ExplainMetrics=(Ee.prototype.planSummary=null,Ee.prototype.executionStats=null,Ee.fromObject=function(e){if(e instanceof s.google.firestore.v1.ExplainMetrics)return e;var t=new s.google.firestore.v1.ExplainMetrics;if(null!=e.planSummary){if("object"!=typeof e.planSummary)throw TypeError(".google.firestore.v1.ExplainMetrics.planSummary: object expected");t.planSummary=s.google.firestore.v1.PlanSummary.fromObject(e.planSummary)}if(null!=e.executionStats){if("object"!=typeof e.executionStats)throw TypeError(".google.firestore.v1.ExplainMetrics.executionStats: object expected");t.executionStats=s.google.firestore.v1.ExecutionStats.fromObject(e.executionStats)}return t},Ee.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.planSummary=null,r.executionStats=null),null!=e.planSummary&&e.hasOwnProperty("planSummary")&&(r.planSummary=s.google.firestore.v1.PlanSummary.toObject(e.planSummary,t)),null!=e.executionStats&&e.hasOwnProperty("executionStats")&&(r.executionStats=s.google.firestore.v1.ExecutionStats.toObject(e.executionStats,t)),r},Ee.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ee.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ExplainMetrics"},Ee),n.PlanSummary=(_e.prototype.indexesUsed=a.emptyArray,_e.fromObject=function(e){if(e instanceof s.google.firestore.v1.PlanSummary)return e;var t=new s.google.firestore.v1.PlanSummary;if(e.indexesUsed){if(!Array.isArray(e.indexesUsed))throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: array expected");t.indexesUsed=[];for(var r=0;r<e.indexesUsed.length;++r){if("object"!=typeof e.indexesUsed[r])throw TypeError(".google.firestore.v1.PlanSummary.indexesUsed: object expected");t.indexesUsed[r]=s.google.protobuf.Struct.fromObject(e.indexesUsed[r])}}return t},_e.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.indexesUsed=[]),e.indexesUsed&&e.indexesUsed.length){r.indexesUsed=[];for(var n=0;n<e.indexesUsed.length;++n)r.indexesUsed[n]=s.google.protobuf.Struct.toObject(e.indexesUsed[n],t)}return r},_e.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_e.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.PlanSummary"},_e),n.ExecutionStats=(Oe.prototype.resultsReturned=a.Long?a.Long.fromBits(0,0,!1):0,Oe.prototype.executionDuration=null,Oe.prototype.readOperations=a.Long?a.Long.fromBits(0,0,!1):0,Oe.prototype.debugStats=null,Oe.fromObject=function(e){if(e instanceof s.google.firestore.v1.ExecutionStats)return e;var t=new s.google.firestore.v1.ExecutionStats;if(null!=e.resultsReturned&&(a.Long?(t.resultsReturned=a.Long.fromValue(e.resultsReturned)).unsigned=!1:"string"==typeof e.resultsReturned?t.resultsReturned=parseInt(e.resultsReturned,10):"number"==typeof e.resultsReturned?t.resultsReturned=e.resultsReturned:"object"==typeof e.resultsReturned&&(t.resultsReturned=new a.LongBits(e.resultsReturned.low>>>0,e.resultsReturned.high>>>0).toNumber())),null!=e.executionDuration){if("object"!=typeof e.executionDuration)throw TypeError(".google.firestore.v1.ExecutionStats.executionDuration: object expected");t.executionDuration=s.google.protobuf.Duration.fromObject(e.executionDuration)}if(null!=e.readOperations&&(a.Long?(t.readOperations=a.Long.fromValue(e.readOperations)).unsigned=!1:"string"==typeof e.readOperations?t.readOperations=parseInt(e.readOperations,10):"number"==typeof e.readOperations?t.readOperations=e.readOperations:"object"==typeof e.readOperations&&(t.readOperations=new a.LongBits(e.readOperations.low>>>0,e.readOperations.high>>>0).toNumber())),null!=e.debugStats){if("object"!=typeof e.debugStats)throw TypeError(".google.firestore.v1.ExecutionStats.debugStats: object expected");t.debugStats=s.google.protobuf.Struct.fromObject(e.debugStats)}return t},Oe.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(a.Long?(r=new a.Long(0,0,!1),n.resultsReturned=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.resultsReturned=t.longs===String?"0":0,n.executionDuration=null,a.Long?(r=new a.Long(0,0,!1),n.readOperations=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.readOperations=t.longs===String?"0":0,n.debugStats=null),null!=e.resultsReturned&&e.hasOwnProperty("resultsReturned")&&("number"==typeof e.resultsReturned?n.resultsReturned=t.longs===String?String(e.resultsReturned):e.resultsReturned:n.resultsReturned=t.longs===String?a.Long.prototype.toString.call(e.resultsReturned):t.longs===Number?new a.LongBits(e.resultsReturned.low>>>0,e.resultsReturned.high>>>0).toNumber():e.resultsReturned),null!=e.executionDuration&&e.hasOwnProperty("executionDuration")&&(n.executionDuration=s.google.protobuf.Duration.toObject(e.executionDuration,t)),null!=e.readOperations&&e.hasOwnProperty("readOperations")&&("number"==typeof e.readOperations?n.readOperations=t.longs===String?String(e.readOperations):e.readOperations:n.readOperations=t.longs===String?a.Long.prototype.toString.call(e.readOperations):t.longs===Number?new a.LongBits(e.readOperations.low>>>0,e.readOperations.high>>>0).toNumber():e.readOperations),null!=e.debugStats&&e.hasOwnProperty("debugStats")&&(n.debugStats=s.google.protobuf.Struct.toObject(e.debugStats,t)),n},Oe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Oe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ExecutionStats"},Oe),n.Write=(we.prototype.update=null,we.prototype.delete=null,we.prototype.transform=null,we.prototype.updateMask=null,we.prototype.updateTransforms=a.emptyArray,we.prototype.currentDocument=null,Object.defineProperty(we.prototype,"operation",{get:a.oneOfGetter(o=["update","delete","transform"]),set:a.oneOfSetter(o)}),we.fromObject=function(e){if(e instanceof s.google.firestore.v1.Write)return e;var t=new s.google.firestore.v1.Write;if(null!=e.update){if("object"!=typeof e.update)throw TypeError(".google.firestore.v1.Write.update: object expected");t.update=s.google.firestore.v1.Document.fromObject(e.update)}if(null!=e.delete&&(t.delete=String(e.delete)),null!=e.transform){if("object"!=typeof e.transform)throw TypeError(".google.firestore.v1.Write.transform: object expected");t.transform=s.google.firestore.v1.DocumentTransform.fromObject(e.transform)}if(null!=e.updateMask){if("object"!=typeof e.updateMask)throw TypeError(".google.firestore.v1.Write.updateMask: object expected");t.updateMask=s.google.firestore.v1.DocumentMask.fromObject(e.updateMask)}if(e.updateTransforms){if(!Array.isArray(e.updateTransforms))throw TypeError(".google.firestore.v1.Write.updateTransforms: array expected");t.updateTransforms=[];for(var r=0;r<e.updateTransforms.length;++r){if("object"!=typeof e.updateTransforms[r])throw TypeError(".google.firestore.v1.Write.updateTransforms: object expected");t.updateTransforms[r]=s.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(e.updateTransforms[r])}}if(null!=e.currentDocument){if("object"!=typeof e.currentDocument)throw TypeError(".google.firestore.v1.Write.currentDocument: object expected");t.currentDocument=s.google.firestore.v1.Precondition.fromObject(e.currentDocument)}return t},we.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.updateTransforms=[]),t.defaults&&(r.updateMask=null,r.currentDocument=null),null!=e.update&&e.hasOwnProperty("update")&&(r.update=s.google.firestore.v1.Document.toObject(e.update,t),t.oneofs)&&(r.operation="update"),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs)&&(r.operation="delete"),null!=e.updateMask&&e.hasOwnProperty("updateMask")&&(r.updateMask=s.google.firestore.v1.DocumentMask.toObject(e.updateMask,t)),null!=e.currentDocument&&e.hasOwnProperty("currentDocument")&&(r.currentDocument=s.google.firestore.v1.Precondition.toObject(e.currentDocument,t)),null!=e.transform&&e.hasOwnProperty("transform")&&(r.transform=s.google.firestore.v1.DocumentTransform.toObject(e.transform,t),t.oneofs)&&(r.operation="transform"),e.updateTransforms&&e.updateTransforms.length){r.updateTransforms=[];for(var n=0;n<e.updateTransforms.length;++n)r.updateTransforms[n]=s.google.firestore.v1.DocumentTransform.FieldTransform.toObject(e.updateTransforms[n],t)}return r},we.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},we.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.Write"},we),n.DocumentTransform=(Se.prototype.document="",Se.prototype.fieldTransforms=a.emptyArray,Se.fromObject=function(e){if(e instanceof s.google.firestore.v1.DocumentTransform)return e;var t=new s.google.firestore.v1.DocumentTransform;if(null!=e.document&&(t.document=String(e.document)),e.fieldTransforms){if(!Array.isArray(e.fieldTransforms))throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: array expected");t.fieldTransforms=[];for(var r=0;r<e.fieldTransforms.length;++r){if("object"!=typeof e.fieldTransforms[r])throw TypeError(".google.firestore.v1.DocumentTransform.fieldTransforms: object expected");t.fieldTransforms[r]=s.google.firestore.v1.DocumentTransform.FieldTransform.fromObject(e.fieldTransforms[r])}}return t},Se.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.fieldTransforms=[]),t.defaults&&(r.document=""),null!=e.document&&e.hasOwnProperty("document")&&(r.document=e.document),e.fieldTransforms&&e.fieldTransforms.length){r.fieldTransforms=[];for(var n=0;n<e.fieldTransforms.length;++n)r.fieldTransforms[n]=s.google.firestore.v1.DocumentTransform.FieldTransform.toObject(e.fieldTransforms[n],t)}return r},Se.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Se.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DocumentTransform"},Se.FieldTransform=(Te.prototype.fieldPath="",Te.prototype.setToServerValue=null,Te.prototype.increment=null,Te.prototype.maximum=null,Te.prototype.minimum=null,Te.prototype.appendMissingElements=null,Te.prototype.removeAllFromArray=null,Object.defineProperty(Te.prototype,"transformType",{get:a.oneOfGetter(t=["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]),set:a.oneOfSetter(t)}),Te.fromObject=function(e){if(e instanceof s.google.firestore.v1.DocumentTransform.FieldTransform)return e;var t=new s.google.firestore.v1.DocumentTransform.FieldTransform;switch(null!=e.fieldPath&&(t.fieldPath=String(e.fieldPath)),e.setToServerValue){default:"number"==typeof e.setToServerValue&&(t.setToServerValue=e.setToServerValue);break;case"SERVER_VALUE_UNSPECIFIED":case 0:t.setToServerValue=0;break;case"REQUEST_TIME":case 1:t.setToServerValue=1}if(null!=e.increment){if("object"!=typeof e.increment)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.increment: object expected");t.increment=s.google.firestore.v1.Value.fromObject(e.increment)}if(null!=e.maximum){if("object"!=typeof e.maximum)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.maximum: object expected");t.maximum=s.google.firestore.v1.Value.fromObject(e.maximum)}if(null!=e.minimum){if("object"!=typeof e.minimum)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.minimum: object expected");t.minimum=s.google.firestore.v1.Value.fromObject(e.minimum)}if(null!=e.appendMissingElements){if("object"!=typeof e.appendMissingElements)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.appendMissingElements: object expected");t.appendMissingElements=s.google.firestore.v1.ArrayValue.fromObject(e.appendMissingElements)}if(null!=e.removeAllFromArray){if("object"!=typeof e.removeAllFromArray)throw TypeError(".google.firestore.v1.DocumentTransform.FieldTransform.removeAllFromArray: object expected");t.removeAllFromArray=s.google.firestore.v1.ArrayValue.fromObject(e.removeAllFromArray)}return t},Te.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.fieldPath=""),null!=e.fieldPath&&e.hasOwnProperty("fieldPath")&&(r.fieldPath=e.fieldPath),null!=e.setToServerValue&&e.hasOwnProperty("setToServerValue")&&(r.setToServerValue=t.enums!==String||void 0===s.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[e.setToServerValue]?e.setToServerValue:s.google.firestore.v1.DocumentTransform.FieldTransform.ServerValue[e.setToServerValue],t.oneofs)&&(r.transformType="setToServerValue"),null!=e.increment&&e.hasOwnProperty("increment")&&(r.increment=s.google.firestore.v1.Value.toObject(e.increment,t),t.oneofs)&&(r.transformType="increment"),null!=e.maximum&&e.hasOwnProperty("maximum")&&(r.maximum=s.google.firestore.v1.Value.toObject(e.maximum,t),t.oneofs)&&(r.transformType="maximum"),null!=e.minimum&&e.hasOwnProperty("minimum")&&(r.minimum=s.google.firestore.v1.Value.toObject(e.minimum,t),t.oneofs)&&(r.transformType="minimum"),null!=e.appendMissingElements&&e.hasOwnProperty("appendMissingElements")&&(r.appendMissingElements=s.google.firestore.v1.ArrayValue.toObject(e.appendMissingElements,t),t.oneofs)&&(r.transformType="appendMissingElements"),null!=e.removeAllFromArray&&e.hasOwnProperty("removeAllFromArray")&&(r.removeAllFromArray=s.google.firestore.v1.ArrayValue.toObject(e.removeAllFromArray,t),t.oneofs)&&(r.transformType="removeAllFromArray"),r},Te.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Te.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DocumentTransform.FieldTransform"},Te.ServerValue=(t={},(o=Object.create(t))[t[0]="SERVER_VALUE_UNSPECIFIED"]="SERVER_VALUE_UNSPECIFIED",o[t[1]="REQUEST_TIME"]="REQUEST_TIME",o),Te),Se),n.WriteResult=(Ae.prototype.updateTime=null,Ae.prototype.transformResults=a.emptyArray,Ae.fromObject=function(e){if(e instanceof s.google.firestore.v1.WriteResult)return e;var t=new s.google.firestore.v1.WriteResult;if(null!=e.updateTime){if("object"!=typeof e.updateTime)throw TypeError(".google.firestore.v1.WriteResult.updateTime: object expected");t.updateTime=s.google.protobuf.Timestamp.fromObject(e.updateTime)}if(e.transformResults){if(!Array.isArray(e.transformResults))throw TypeError(".google.firestore.v1.WriteResult.transformResults: array expected");t.transformResults=[];for(var r=0;r<e.transformResults.length;++r){if("object"!=typeof e.transformResults[r])throw TypeError(".google.firestore.v1.WriteResult.transformResults: object expected");t.transformResults[r]=s.google.firestore.v1.Value.fromObject(e.transformResults[r])}}return t},Ae.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.transformResults=[]),t.defaults&&(r.updateTime=null),null!=e.updateTime&&e.hasOwnProperty("updateTime")&&(r.updateTime=s.google.protobuf.Timestamp.toObject(e.updateTime,t)),e.transformResults&&e.transformResults.length){r.transformResults=[];for(var n=0;n<e.transformResults.length;++n)r.transformResults[n]=s.google.firestore.v1.Value.toObject(e.transformResults[n],t)}return r},Ae.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ae.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.WriteResult"},Ae),n.DocumentChange=(Ce.prototype.document=null,Ce.prototype.targetIds=a.emptyArray,Ce.prototype.removedTargetIds=a.emptyArray,Ce.fromObject=function(e){if(e instanceof s.google.firestore.v1.DocumentChange)return e;var t=new s.google.firestore.v1.DocumentChange;if(null!=e.document){if("object"!=typeof e.document)throw TypeError(".google.firestore.v1.DocumentChange.document: object expected");t.document=s.google.firestore.v1.Document.fromObject(e.document)}if(e.targetIds){if(!Array.isArray(e.targetIds))throw TypeError(".google.firestore.v1.DocumentChange.targetIds: array expected");t.targetIds=[];for(var r=0;r<e.targetIds.length;++r)t.targetIds[r]=0|e.targetIds[r]}if(e.removedTargetIds){if(!Array.isArray(e.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentChange.removedTargetIds: array expected");for(t.removedTargetIds=[],r=0;r<e.removedTargetIds.length;++r)t.removedTargetIds[r]=0|e.removedTargetIds[r]}return t},Ce.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.targetIds=[],r.removedTargetIds=[]),t.defaults&&(r.document=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=s.google.firestore.v1.Document.toObject(e.document,t)),e.targetIds&&e.targetIds.length){r.targetIds=[];for(var n=0;n<e.targetIds.length;++n)r.targetIds[n]=e.targetIds[n]}if(e.removedTargetIds&&e.removedTargetIds.length)for(r.removedTargetIds=[],n=0;n<e.removedTargetIds.length;++n)r.removedTargetIds[n]=e.removedTargetIds[n];return r},Ce.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ce.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DocumentChange"},Ce),n.DocumentDelete=(Ie.prototype.document="",Ie.prototype.removedTargetIds=a.emptyArray,Ie.prototype.readTime=null,Ie.fromObject=function(e){if(e instanceof s.google.firestore.v1.DocumentDelete)return e;var t=new s.google.firestore.v1.DocumentDelete;if(null!=e.document&&(t.document=String(e.document)),e.removedTargetIds){if(!Array.isArray(e.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentDelete.removedTargetIds: array expected");t.removedTargetIds=[];for(var r=0;r<e.removedTargetIds.length;++r)t.removedTargetIds[r]=0|e.removedTargetIds[r]}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.DocumentDelete.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},Ie.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.removedTargetIds=[]),t.defaults&&(r.document="",r.readTime=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=e.document),null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),e.removedTargetIds&&e.removedTargetIds.length){r.removedTargetIds=[];for(var n=0;n<e.removedTargetIds.length;++n)r.removedTargetIds[n]=e.removedTargetIds[n]}return r},Ie.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ie.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DocumentDelete"},Ie),n.DocumentRemove=(Ne.prototype.document="",Ne.prototype.removedTargetIds=a.emptyArray,Ne.prototype.readTime=null,Ne.fromObject=function(e){if(e instanceof s.google.firestore.v1.DocumentRemove)return e;var t=new s.google.firestore.v1.DocumentRemove;if(null!=e.document&&(t.document=String(e.document)),e.removedTargetIds){if(!Array.isArray(e.removedTargetIds))throw TypeError(".google.firestore.v1.DocumentRemove.removedTargetIds: array expected");t.removedTargetIds=[];for(var r=0;r<e.removedTargetIds.length;++r)t.removedTargetIds[r]=0|e.removedTargetIds[r]}if(null!=e.readTime){if("object"!=typeof e.readTime)throw TypeError(".google.firestore.v1.DocumentRemove.readTime: object expected");t.readTime=s.google.protobuf.Timestamp.fromObject(e.readTime)}return t},Ne.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.removedTargetIds=[]),t.defaults&&(r.document="",r.readTime=null),null!=e.document&&e.hasOwnProperty("document")&&(r.document=e.document),e.removedTargetIds&&e.removedTargetIds.length){r.removedTargetIds=[];for(var n=0;n<e.removedTargetIds.length;++n)r.removedTargetIds[n]=e.removedTargetIds[n]}return null!=e.readTime&&e.hasOwnProperty("readTime")&&(r.readTime=s.google.protobuf.Timestamp.toObject(e.readTime,t)),r},Ne.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ne.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.DocumentRemove"},Ne),n.ExistenceFilter=(Pe.prototype.targetId=0,Pe.prototype.count=0,Pe.prototype.unchangedNames=null,Pe.fromObject=function(e){if(e instanceof s.google.firestore.v1.ExistenceFilter)return e;var t=new s.google.firestore.v1.ExistenceFilter;if(null!=e.targetId&&(t.targetId=0|e.targetId),null!=e.count&&(t.count=0|e.count),null!=e.unchangedNames){if("object"!=typeof e.unchangedNames)throw TypeError(".google.firestore.v1.ExistenceFilter.unchangedNames: object expected");t.unchangedNames=s.google.firestore.v1.BloomFilter.fromObject(e.unchangedNames)}return t},Pe.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.targetId=0,r.count=0,r.unchangedNames=null),null!=e.targetId&&e.hasOwnProperty("targetId")&&(r.targetId=e.targetId),null!=e.count&&e.hasOwnProperty("count")&&(r.count=e.count),null!=e.unchangedNames&&e.hasOwnProperty("unchangedNames")&&(r.unchangedNames=s.google.firestore.v1.BloomFilter.toObject(e.unchangedNames,t)),r},Pe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Pe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.firestore.v1.ExistenceFilter"},Pe),n),r),i.api=((t={}).FieldBehavior=(o={},(n=Object.create(o))[o[0]="FIELD_BEHAVIOR_UNSPECIFIED"]="FIELD_BEHAVIOR_UNSPECIFIED",n[o[1]="OPTIONAL"]="OPTIONAL",n[o[2]="REQUIRED"]="REQUIRED",n[o[3]="OUTPUT_ONLY"]="OUTPUT_ONLY",n[o[4]="INPUT_ONLY"]="INPUT_ONLY",n[o[5]="IMMUTABLE"]="IMMUTABLE",n[o[6]="UNORDERED_LIST"]="UNORDERED_LIST",n[o[7]="NON_EMPTY_DEFAULT"]="NON_EMPTY_DEFAULT",n[o[8]="IDENTIFIER"]="IDENTIFIER",n),t.Http=(Re.prototype.rules=a.emptyArray,Re.prototype.fullyDecodeReservedExpansion=!1,Re.fromObject=function(e){if(e instanceof s.google.api.Http)return e;var t=new s.google.api.Http;if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".google.api.Http.rules: array expected");t.rules=[];for(var r=0;r<e.rules.length;++r){if("object"!=typeof e.rules[r])throw TypeError(".google.api.Http.rules: object expected");t.rules[r]=s.google.api.HttpRule.fromObject(e.rules[r])}}return null!=e.fullyDecodeReservedExpansion&&(t.fullyDecodeReservedExpansion=Boolean(e.fullyDecodeReservedExpansion)),t},Re.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.rules=[]),t.defaults&&(r.fullyDecodeReservedExpansion=!1),e.rules&&e.rules.length){r.rules=[];for(var n=0;n<e.rules.length;++n)r.rules[n]=s.google.api.HttpRule.toObject(e.rules[n],t)}return null!=e.fullyDecodeReservedExpansion&&e.hasOwnProperty("fullyDecodeReservedExpansion")&&(r.fullyDecodeReservedExpansion=e.fullyDecodeReservedExpansion),r},Re.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Re.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.Http"},Re),t.HttpRule=(De.prototype.selector="",De.prototype.get=null,De.prototype.put=null,De.prototype.post=null,De.prototype.delete=null,De.prototype.patch=null,De.prototype.custom=null,De.prototype.body="",De.prototype.responseBody="",De.prototype.additionalBindings=a.emptyArray,Object.defineProperty(De.prototype,"pattern",{get:a.oneOfGetter(o=["get","put","post","delete","patch","custom"]),set:a.oneOfSetter(o)}),De.fromObject=function(e){if(e instanceof s.google.api.HttpRule)return e;var t=new s.google.api.HttpRule;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.get&&(t.get=String(e.get)),null!=e.put&&(t.put=String(e.put)),null!=e.post&&(t.post=String(e.post)),null!=e.delete&&(t.delete=String(e.delete)),null!=e.patch&&(t.patch=String(e.patch)),null!=e.custom){if("object"!=typeof e.custom)throw TypeError(".google.api.HttpRule.custom: object expected");t.custom=s.google.api.CustomHttpPattern.fromObject(e.custom)}if(null!=e.body&&(t.body=String(e.body)),null!=e.responseBody&&(t.responseBody=String(e.responseBody)),e.additionalBindings){if(!Array.isArray(e.additionalBindings))throw TypeError(".google.api.HttpRule.additionalBindings: array expected");t.additionalBindings=[];for(var r=0;r<e.additionalBindings.length;++r){if("object"!=typeof e.additionalBindings[r])throw TypeError(".google.api.HttpRule.additionalBindings: object expected");t.additionalBindings[r]=s.google.api.HttpRule.fromObject(e.additionalBindings[r])}}return t},De.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.additionalBindings=[]),t.defaults&&(r.selector="",r.body="",r.responseBody=""),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.get&&e.hasOwnProperty("get")&&(r.get=e.get,t.oneofs)&&(r.pattern="get"),null!=e.put&&e.hasOwnProperty("put")&&(r.put=e.put,t.oneofs)&&(r.pattern="put"),null!=e.post&&e.hasOwnProperty("post")&&(r.post=e.post,t.oneofs)&&(r.pattern="post"),null!=e.delete&&e.hasOwnProperty("delete")&&(r.delete=e.delete,t.oneofs)&&(r.pattern="delete"),null!=e.patch&&e.hasOwnProperty("patch")&&(r.patch=e.patch,t.oneofs)&&(r.pattern="patch"),null!=e.body&&e.hasOwnProperty("body")&&(r.body=e.body),null!=e.custom&&e.hasOwnProperty("custom")&&(r.custom=s.google.api.CustomHttpPattern.toObject(e.custom,t),t.oneofs)&&(r.pattern="custom"),e.additionalBindings&&e.additionalBindings.length){r.additionalBindings=[];for(var n=0;n<e.additionalBindings.length;++n)r.additionalBindings[n]=s.google.api.HttpRule.toObject(e.additionalBindings[n],t)}return null!=e.responseBody&&e.hasOwnProperty("responseBody")&&(r.responseBody=e.responseBody),r},De.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},De.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.HttpRule"},De),t.CustomHttpPattern=(ke.prototype.kind="",ke.prototype.path="",ke.fromObject=function(e){var t;return e instanceof s.google.api.CustomHttpPattern?e:(t=new s.google.api.CustomHttpPattern,null!=e.kind&&(t.kind=String(e.kind)),null!=e.path&&(t.path=String(e.path)),t)},ke.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.kind="",r.path=""),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=e.kind),null!=e.path&&e.hasOwnProperty("path")&&(r.path=e.path),r},ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ke.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.CustomHttpPattern"},ke),t.CommonLanguageSettings=(xe.prototype.referenceDocsUri="",xe.prototype.destinations=a.emptyArray,xe.fromObject=function(e){if(e instanceof s.google.api.CommonLanguageSettings)return e;var t=new s.google.api.CommonLanguageSettings;if(null!=e.referenceDocsUri&&(t.referenceDocsUri=String(e.referenceDocsUri)),e.destinations){if(!Array.isArray(e.destinations))throw TypeError(".google.api.CommonLanguageSettings.destinations: array expected");t.destinations=[];for(var r=0;r<e.destinations.length;++r)switch(e.destinations[r]){default:if("number"==typeof e.destinations[r]){t.destinations[r]=e.destinations[r];break}case"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":case 0:t.destinations[r]=0;break;case"GITHUB":case 10:t.destinations[r]=10;break;case"PACKAGE_MANAGER":case 20:t.destinations[r]=20}}return t},xe.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.destinations=[]),t.defaults&&(r.referenceDocsUri=""),null!=e.referenceDocsUri&&e.hasOwnProperty("referenceDocsUri")&&(r.referenceDocsUri=e.referenceDocsUri),e.destinations&&e.destinations.length){r.destinations=[];for(var n=0;n<e.destinations.length;++n)r.destinations[n]=t.enums!==String||void 0===s.google.api.ClientLibraryDestination[e.destinations[n]]?e.destinations[n]:s.google.api.ClientLibraryDestination[e.destinations[n]]}return r},xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.CommonLanguageSettings"},xe),t.ClientLibrarySettings=(je.prototype.version="",je.prototype.launchStage=0,je.prototype.restNumericEnums=!1,je.prototype.javaSettings=null,je.prototype.cppSettings=null,je.prototype.phpSettings=null,je.prototype.pythonSettings=null,je.prototype.nodeSettings=null,je.prototype.dotnetSettings=null,je.prototype.rubySettings=null,je.prototype.goSettings=null,je.fromObject=function(e){if(e instanceof s.google.api.ClientLibrarySettings)return e;var t=new s.google.api.ClientLibrarySettings;switch(null!=e.version&&(t.version=String(e.version)),e.launchStage){default:"number"==typeof e.launchStage&&(t.launchStage=e.launchStage);break;case"LAUNCH_STAGE_UNSPECIFIED":case 0:t.launchStage=0;break;case"UNIMPLEMENTED":case 6:t.launchStage=6;break;case"PRELAUNCH":case 7:t.launchStage=7;break;case"EARLY_ACCESS":case 1:t.launchStage=1;break;case"ALPHA":case 2:t.launchStage=2;break;case"BETA":case 3:t.launchStage=3;break;case"GA":case 4:t.launchStage=4;break;case"DEPRECATED":case 5:t.launchStage=5}if(null!=e.restNumericEnums&&(t.restNumericEnums=Boolean(e.restNumericEnums)),null!=e.javaSettings){if("object"!=typeof e.javaSettings)throw TypeError(".google.api.ClientLibrarySettings.javaSettings: object expected");t.javaSettings=s.google.api.JavaSettings.fromObject(e.javaSettings)}if(null!=e.cppSettings){if("object"!=typeof e.cppSettings)throw TypeError(".google.api.ClientLibrarySettings.cppSettings: object expected");t.cppSettings=s.google.api.CppSettings.fromObject(e.cppSettings)}if(null!=e.phpSettings){if("object"!=typeof e.phpSettings)throw TypeError(".google.api.ClientLibrarySettings.phpSettings: object expected");t.phpSettings=s.google.api.PhpSettings.fromObject(e.phpSettings)}if(null!=e.pythonSettings){if("object"!=typeof e.pythonSettings)throw TypeError(".google.api.ClientLibrarySettings.pythonSettings: object expected");t.pythonSettings=s.google.api.PythonSettings.fromObject(e.pythonSettings)}if(null!=e.nodeSettings){if("object"!=typeof e.nodeSettings)throw TypeError(".google.api.ClientLibrarySettings.nodeSettings: object expected");t.nodeSettings=s.google.api.NodeSettings.fromObject(e.nodeSettings)}if(null!=e.dotnetSettings){if("object"!=typeof e.dotnetSettings)throw TypeError(".google.api.ClientLibrarySettings.dotnetSettings: object expected");t.dotnetSettings=s.google.api.DotnetSettings.fromObject(e.dotnetSettings)}if(null!=e.rubySettings){if("object"!=typeof e.rubySettings)throw TypeError(".google.api.ClientLibrarySettings.rubySettings: object expected");t.rubySettings=s.google.api.RubySettings.fromObject(e.rubySettings)}if(null!=e.goSettings){if("object"!=typeof e.goSettings)throw TypeError(".google.api.ClientLibrarySettings.goSettings: object expected");t.goSettings=s.google.api.GoSettings.fromObject(e.goSettings)}return t},je.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.version="",r.launchStage=t.enums===String?"LAUNCH_STAGE_UNSPECIFIED":0,r.restNumericEnums=!1,r.javaSettings=null,r.cppSettings=null,r.phpSettings=null,r.pythonSettings=null,r.nodeSettings=null,r.dotnetSettings=null,r.rubySettings=null,r.goSettings=null),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.launchStage&&e.hasOwnProperty("launchStage")&&(r.launchStage=t.enums!==String||void 0===s.google.api.LaunchStage[e.launchStage]?e.launchStage:s.google.api.LaunchStage[e.launchStage]),null!=e.restNumericEnums&&e.hasOwnProperty("restNumericEnums")&&(r.restNumericEnums=e.restNumericEnums),null!=e.javaSettings&&e.hasOwnProperty("javaSettings")&&(r.javaSettings=s.google.api.JavaSettings.toObject(e.javaSettings,t)),null!=e.cppSettings&&e.hasOwnProperty("cppSettings")&&(r.cppSettings=s.google.api.CppSettings.toObject(e.cppSettings,t)),null!=e.phpSettings&&e.hasOwnProperty("phpSettings")&&(r.phpSettings=s.google.api.PhpSettings.toObject(e.phpSettings,t)),null!=e.pythonSettings&&e.hasOwnProperty("pythonSettings")&&(r.pythonSettings=s.google.api.PythonSettings.toObject(e.pythonSettings,t)),null!=e.nodeSettings&&e.hasOwnProperty("nodeSettings")&&(r.nodeSettings=s.google.api.NodeSettings.toObject(e.nodeSettings,t)),null!=e.dotnetSettings&&e.hasOwnProperty("dotnetSettings")&&(r.dotnetSettings=s.google.api.DotnetSettings.toObject(e.dotnetSettings,t)),null!=e.rubySettings&&e.hasOwnProperty("rubySettings")&&(r.rubySettings=s.google.api.RubySettings.toObject(e.rubySettings,t)),null!=e.goSettings&&e.hasOwnProperty("goSettings")&&(r.goSettings=s.google.api.GoSettings.toObject(e.goSettings,t)),r},je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},je.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.ClientLibrarySettings"},je),t.Publishing=(Le.prototype.methodSettings=a.emptyArray,Le.prototype.newIssueUri="",Le.prototype.documentationUri="",Le.prototype.apiShortName="",Le.prototype.githubLabel="",Le.prototype.codeownerGithubTeams=a.emptyArray,Le.prototype.docTagPrefix="",Le.prototype.organization=0,Le.prototype.librarySettings=a.emptyArray,Le.prototype.protoReferenceDocumentationUri="",Le.prototype.restReferenceDocumentationUri="",Le.fromObject=function(e){if(e instanceof s.google.api.Publishing)return e;var t=new s.google.api.Publishing;if(e.methodSettings){if(!Array.isArray(e.methodSettings))throw TypeError(".google.api.Publishing.methodSettings: array expected");t.methodSettings=[];for(var r=0;r<e.methodSettings.length;++r){if("object"!=typeof e.methodSettings[r])throw TypeError(".google.api.Publishing.methodSettings: object expected");t.methodSettings[r]=s.google.api.MethodSettings.fromObject(e.methodSettings[r])}}if(null!=e.newIssueUri&&(t.newIssueUri=String(e.newIssueUri)),null!=e.documentationUri&&(t.documentationUri=String(e.documentationUri)),null!=e.apiShortName&&(t.apiShortName=String(e.apiShortName)),null!=e.githubLabel&&(t.githubLabel=String(e.githubLabel)),e.codeownerGithubTeams){if(!Array.isArray(e.codeownerGithubTeams))throw TypeError(".google.api.Publishing.codeownerGithubTeams: array expected");for(t.codeownerGithubTeams=[],r=0;r<e.codeownerGithubTeams.length;++r)t.codeownerGithubTeams[r]=String(e.codeownerGithubTeams[r])}switch(null!=e.docTagPrefix&&(t.docTagPrefix=String(e.docTagPrefix)),e.organization){default:"number"==typeof e.organization&&(t.organization=e.organization);break;case"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":case 0:t.organization=0;break;case"CLOUD":case 1:t.organization=1;break;case"ADS":case 2:t.organization=2;break;case"PHOTOS":case 3:t.organization=3;break;case"STREET_VIEW":case 4:t.organization=4;break;case"SHOPPING":case 5:t.organization=5;break;case"GEO":case 6:t.organization=6;break;case"GENERATIVE_AI":case 7:t.organization=7}if(e.librarySettings){if(!Array.isArray(e.librarySettings))throw TypeError(".google.api.Publishing.librarySettings: array expected");for(t.librarySettings=[],r=0;r<e.librarySettings.length;++r){if("object"!=typeof e.librarySettings[r])throw TypeError(".google.api.Publishing.librarySettings: object expected");t.librarySettings[r]=s.google.api.ClientLibrarySettings.fromObject(e.librarySettings[r])}}return null!=e.protoReferenceDocumentationUri&&(t.protoReferenceDocumentationUri=String(e.protoReferenceDocumentationUri)),null!=e.restReferenceDocumentationUri&&(t.restReferenceDocumentationUri=String(e.restReferenceDocumentationUri)),t},Le.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.methodSettings=[],r.codeownerGithubTeams=[],r.librarySettings=[]),t.defaults&&(r.newIssueUri="",r.documentationUri="",r.apiShortName="",r.githubLabel="",r.docTagPrefix="",r.organization=t.enums===String?"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,r.protoReferenceDocumentationUri="",r.restReferenceDocumentationUri=""),e.methodSettings&&e.methodSettings.length){r.methodSettings=[];for(var n=0;n<e.methodSettings.length;++n)r.methodSettings[n]=s.google.api.MethodSettings.toObject(e.methodSettings[n],t)}if(null!=e.newIssueUri&&e.hasOwnProperty("newIssueUri")&&(r.newIssueUri=e.newIssueUri),null!=e.documentationUri&&e.hasOwnProperty("documentationUri")&&(r.documentationUri=e.documentationUri),null!=e.apiShortName&&e.hasOwnProperty("apiShortName")&&(r.apiShortName=e.apiShortName),null!=e.githubLabel&&e.hasOwnProperty("githubLabel")&&(r.githubLabel=e.githubLabel),e.codeownerGithubTeams&&e.codeownerGithubTeams.length)for(r.codeownerGithubTeams=[],n=0;n<e.codeownerGithubTeams.length;++n)r.codeownerGithubTeams[n]=e.codeownerGithubTeams[n];if(null!=e.docTagPrefix&&e.hasOwnProperty("docTagPrefix")&&(r.docTagPrefix=e.docTagPrefix),null!=e.organization&&e.hasOwnProperty("organization")&&(r.organization=t.enums!==String||void 0===s.google.api.ClientLibraryOrganization[e.organization]?e.organization:s.google.api.ClientLibraryOrganization[e.organization]),e.librarySettings&&e.librarySettings.length)for(r.librarySettings=[],n=0;n<e.librarySettings.length;++n)r.librarySettings[n]=s.google.api.ClientLibrarySettings.toObject(e.librarySettings[n],t);return null!=e.protoReferenceDocumentationUri&&e.hasOwnProperty("protoReferenceDocumentationUri")&&(r.protoReferenceDocumentationUri=e.protoReferenceDocumentationUri),null!=e.restReferenceDocumentationUri&&e.hasOwnProperty("restReferenceDocumentationUri")&&(r.restReferenceDocumentationUri=e.restReferenceDocumentationUri),r},Le.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Le.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.Publishing"},Le),t.JavaSettings=(Fe.prototype.libraryPackage="",Fe.prototype.serviceClassNames=a.emptyObject,Fe.prototype.common=null,Fe.fromObject=function(e){if(e instanceof s.google.api.JavaSettings)return e;var t=new s.google.api.JavaSettings;if(null!=e.libraryPackage&&(t.libraryPackage=String(e.libraryPackage)),e.serviceClassNames){if("object"!=typeof e.serviceClassNames)throw TypeError(".google.api.JavaSettings.serviceClassNames: object expected");t.serviceClassNames={};for(var r=Object.keys(e.serviceClassNames),n=0;n<r.length;++n)t.serviceClassNames[r[n]]=String(e.serviceClassNames[r[n]])}if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.JavaSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}return t},Fe.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.serviceClassNames={}),t.defaults&&(n.libraryPackage="",n.common=null),null!=e.libraryPackage&&e.hasOwnProperty("libraryPackage")&&(n.libraryPackage=e.libraryPackage),e.serviceClassNames&&(r=Object.keys(e.serviceClassNames)).length){n.serviceClassNames={};for(var o=0;o<r.length;++o)n.serviceClassNames[r[o]]=e.serviceClassNames[r[o]]}return null!=e.common&&e.hasOwnProperty("common")&&(n.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),n},Fe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Fe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.JavaSettings"},Fe),t.CppSettings=(Me.prototype.common=null,Me.fromObject=function(e){if(e instanceof s.google.api.CppSettings)return e;var t=new s.google.api.CppSettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.CppSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}return t},Me.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.common=null),null!=e.common&&e.hasOwnProperty("common")&&(r.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),r},Me.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Me.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.CppSettings"},Me),t.PhpSettings=(Ue.prototype.common=null,Ue.fromObject=function(e){if(e instanceof s.google.api.PhpSettings)return e;var t=new s.google.api.PhpSettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.PhpSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}return t},Ue.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.common=null),null!=e.common&&e.hasOwnProperty("common")&&(r.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),r},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ue.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.PhpSettings"},Ue),t.PythonSettings=(Be.prototype.common=null,Be.prototype.experimentalFeatures=null,Be.fromObject=function(e){if(e instanceof s.google.api.PythonSettings)return e;var t=new s.google.api.PythonSettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.PythonSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}if(null!=e.experimentalFeatures){if("object"!=typeof e.experimentalFeatures)throw TypeError(".google.api.PythonSettings.experimentalFeatures: object expected");t.experimentalFeatures=s.google.api.PythonSettings.ExperimentalFeatures.fromObject(e.experimentalFeatures)}return t},Be.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.common=null,r.experimentalFeatures=null),null!=e.common&&e.hasOwnProperty("common")&&(r.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),null!=e.experimentalFeatures&&e.hasOwnProperty("experimentalFeatures")&&(r.experimentalFeatures=s.google.api.PythonSettings.ExperimentalFeatures.toObject(e.experimentalFeatures,t)),r},Be.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Be.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.PythonSettings"},Be.ExperimentalFeatures=(Ve.prototype.restAsyncIoEnabled=!1,Ve.fromObject=function(e){var t;return e instanceof s.google.api.PythonSettings.ExperimentalFeatures?e:(t=new s.google.api.PythonSettings.ExperimentalFeatures,null!=e.restAsyncIoEnabled&&(t.restAsyncIoEnabled=Boolean(e.restAsyncIoEnabled)),t)},Ve.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.restAsyncIoEnabled=!1),null!=e.restAsyncIoEnabled&&e.hasOwnProperty("restAsyncIoEnabled")&&(r.restAsyncIoEnabled=e.restAsyncIoEnabled),r},Ve.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ve.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.PythonSettings.ExperimentalFeatures"},Ve),Be),t.NodeSettings=(qe.prototype.common=null,qe.fromObject=function(e){if(e instanceof s.google.api.NodeSettings)return e;var t=new s.google.api.NodeSettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.NodeSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}return t},qe.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.common=null),null!=e.common&&e.hasOwnProperty("common")&&(r.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),r},qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.NodeSettings"},qe),t.DotnetSettings=(Ge.prototype.common=null,Ge.prototype.renamedServices=a.emptyObject,Ge.prototype.renamedResources=a.emptyObject,Ge.prototype.ignoredResources=a.emptyArray,Ge.prototype.forcedNamespaceAliases=a.emptyArray,Ge.prototype.handwrittenSignatures=a.emptyArray,Ge.fromObject=function(e){if(e instanceof s.google.api.DotnetSettings)return e;var t=new s.google.api.DotnetSettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.DotnetSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}if(e.renamedServices){if("object"!=typeof e.renamedServices)throw TypeError(".google.api.DotnetSettings.renamedServices: object expected");t.renamedServices={};for(var r=Object.keys(e.renamedServices),n=0;n<r.length;++n)t.renamedServices[r[n]]=String(e.renamedServices[r[n]])}if(e.renamedResources){if("object"!=typeof e.renamedResources)throw TypeError(".google.api.DotnetSettings.renamedResources: object expected");for(t.renamedResources={},r=Object.keys(e.renamedResources),n=0;n<r.length;++n)t.renamedResources[r[n]]=String(e.renamedResources[r[n]])}if(e.ignoredResources){if(!Array.isArray(e.ignoredResources))throw TypeError(".google.api.DotnetSettings.ignoredResources: array expected");for(t.ignoredResources=[],n=0;n<e.ignoredResources.length;++n)t.ignoredResources[n]=String(e.ignoredResources[n])}if(e.forcedNamespaceAliases){if(!Array.isArray(e.forcedNamespaceAliases))throw TypeError(".google.api.DotnetSettings.forcedNamespaceAliases: array expected");for(t.forcedNamespaceAliases=[],n=0;n<e.forcedNamespaceAliases.length;++n)t.forcedNamespaceAliases[n]=String(e.forcedNamespaceAliases[n])}if(e.handwrittenSignatures){if(!Array.isArray(e.handwrittenSignatures))throw TypeError(".google.api.DotnetSettings.handwrittenSignatures: array expected");for(t.handwrittenSignatures=[],n=0;n<e.handwrittenSignatures.length;++n)t.handwrittenSignatures[n]=String(e.handwrittenSignatures[n])}return t},Ge.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.ignoredResources=[],n.forcedNamespaceAliases=[],n.handwrittenSignatures=[]),(t.objects||t.defaults)&&(n.renamedServices={},n.renamedResources={}),t.defaults&&(n.common=null),null!=e.common&&e.hasOwnProperty("common")&&(n.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),e.renamedServices&&(r=Object.keys(e.renamedServices)).length){n.renamedServices={};for(var o=0;o<r.length;++o)n.renamedServices[r[o]]=e.renamedServices[r[o]]}if(e.renamedResources&&(r=Object.keys(e.renamedResources)).length)for(n.renamedResources={},o=0;o<r.length;++o)n.renamedResources[r[o]]=e.renamedResources[r[o]];if(e.ignoredResources&&e.ignoredResources.length)for(n.ignoredResources=[],o=0;o<e.ignoredResources.length;++o)n.ignoredResources[o]=e.ignoredResources[o];if(e.forcedNamespaceAliases&&e.forcedNamespaceAliases.length)for(n.forcedNamespaceAliases=[],o=0;o<e.forcedNamespaceAliases.length;++o)n.forcedNamespaceAliases[o]=e.forcedNamespaceAliases[o];if(e.handwrittenSignatures&&e.handwrittenSignatures.length)for(n.handwrittenSignatures=[],o=0;o<e.handwrittenSignatures.length;++o)n.handwrittenSignatures[o]=e.handwrittenSignatures[o];return n},Ge.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ge.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.DotnetSettings"},Ge),t.RubySettings=(He.prototype.common=null,He.fromObject=function(e){if(e instanceof s.google.api.RubySettings)return e;var t=new s.google.api.RubySettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.RubySettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}return t},He.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.common=null),null!=e.common&&e.hasOwnProperty("common")&&(r.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),r},He.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},He.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.RubySettings"},He),t.GoSettings=(ze.prototype.common=null,ze.fromObject=function(e){if(e instanceof s.google.api.GoSettings)return e;var t=new s.google.api.GoSettings;if(null!=e.common){if("object"!=typeof e.common)throw TypeError(".google.api.GoSettings.common: object expected");t.common=s.google.api.CommonLanguageSettings.fromObject(e.common)}return t},ze.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.common=null),null!=e.common&&e.hasOwnProperty("common")&&(r.common=s.google.api.CommonLanguageSettings.toObject(e.common,t)),r},ze.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ze.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.GoSettings"},ze),t.MethodSettings=(We.prototype.selector="",We.prototype.longRunning=null,We.prototype.autoPopulatedFields=a.emptyArray,We.fromObject=function(e){if(e instanceof s.google.api.MethodSettings)return e;var t=new s.google.api.MethodSettings;if(null!=e.selector&&(t.selector=String(e.selector)),null!=e.longRunning){if("object"!=typeof e.longRunning)throw TypeError(".google.api.MethodSettings.longRunning: object expected");t.longRunning=s.google.api.MethodSettings.LongRunning.fromObject(e.longRunning)}if(e.autoPopulatedFields){if(!Array.isArray(e.autoPopulatedFields))throw TypeError(".google.api.MethodSettings.autoPopulatedFields: array expected");t.autoPopulatedFields=[];for(var r=0;r<e.autoPopulatedFields.length;++r)t.autoPopulatedFields[r]=String(e.autoPopulatedFields[r])}return t},We.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.autoPopulatedFields=[]),t.defaults&&(r.selector="",r.longRunning=null),null!=e.selector&&e.hasOwnProperty("selector")&&(r.selector=e.selector),null!=e.longRunning&&e.hasOwnProperty("longRunning")&&(r.longRunning=s.google.api.MethodSettings.LongRunning.toObject(e.longRunning,t)),e.autoPopulatedFields&&e.autoPopulatedFields.length){r.autoPopulatedFields=[];for(var n=0;n<e.autoPopulatedFields.length;++n)r.autoPopulatedFields[n]=e.autoPopulatedFields[n]}return r},We.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},We.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.MethodSettings"},We.LongRunning=(Je.prototype.initialPollDelay=null,Je.prototype.pollDelayMultiplier=0,Je.prototype.maxPollDelay=null,Je.prototype.totalPollTimeout=null,Je.fromObject=function(e){if(e instanceof s.google.api.MethodSettings.LongRunning)return e;var t=new s.google.api.MethodSettings.LongRunning;if(null!=e.initialPollDelay){if("object"!=typeof e.initialPollDelay)throw TypeError(".google.api.MethodSettings.LongRunning.initialPollDelay: object expected");t.initialPollDelay=s.google.protobuf.Duration.fromObject(e.initialPollDelay)}if(null!=e.pollDelayMultiplier&&(t.pollDelayMultiplier=Number(e.pollDelayMultiplier)),null!=e.maxPollDelay){if("object"!=typeof e.maxPollDelay)throw TypeError(".google.api.MethodSettings.LongRunning.maxPollDelay: object expected");t.maxPollDelay=s.google.protobuf.Duration.fromObject(e.maxPollDelay)}if(null!=e.totalPollTimeout){if("object"!=typeof e.totalPollTimeout)throw TypeError(".google.api.MethodSettings.LongRunning.totalPollTimeout: object expected");t.totalPollTimeout=s.google.protobuf.Duration.fromObject(e.totalPollTimeout)}return t},Je.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.initialPollDelay=null,r.pollDelayMultiplier=0,r.maxPollDelay=null,r.totalPollTimeout=null),null!=e.initialPollDelay&&e.hasOwnProperty("initialPollDelay")&&(r.initialPollDelay=s.google.protobuf.Duration.toObject(e.initialPollDelay,t)),null!=e.pollDelayMultiplier&&e.hasOwnProperty("pollDelayMultiplier")&&(r.pollDelayMultiplier=t.json&&!isFinite(e.pollDelayMultiplier)?String(e.pollDelayMultiplier):e.pollDelayMultiplier),null!=e.maxPollDelay&&e.hasOwnProperty("maxPollDelay")&&(r.maxPollDelay=s.google.protobuf.Duration.toObject(e.maxPollDelay,t)),null!=e.totalPollTimeout&&e.hasOwnProperty("totalPollTimeout")&&(r.totalPollTimeout=s.google.protobuf.Duration.toObject(e.totalPollTimeout,t)),r},Je.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Je.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.MethodSettings.LongRunning"},Je),We),t.ClientLibraryOrganization=(n={},(o=Object.create(n))[n[0]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED"]="CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED",o[n[1]="CLOUD"]="CLOUD",o[n[2]="ADS"]="ADS",o[n[3]="PHOTOS"]="PHOTOS",o[n[4]="STREET_VIEW"]="STREET_VIEW",o[n[5]="SHOPPING"]="SHOPPING",o[n[6]="GEO"]="GEO",o[n[7]="GENERATIVE_AI"]="GENERATIVE_AI",o),t.ClientLibraryDestination=(n={},(o=Object.create(n))[n[0]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED"]="CLIENT_LIBRARY_DESTINATION_UNSPECIFIED",o[n[10]="GITHUB"]="GITHUB",o[n[20]="PACKAGE_MANAGER"]="PACKAGE_MANAGER",o),t.LaunchStage=(n={},(o=Object.create(n))[n[0]="LAUNCH_STAGE_UNSPECIFIED"]="LAUNCH_STAGE_UNSPECIFIED",o[n[6]="UNIMPLEMENTED"]="UNIMPLEMENTED",o[n[7]="PRELAUNCH"]="PRELAUNCH",o[n[1]="EARLY_ACCESS"]="EARLY_ACCESS",o[n[2]="ALPHA"]="ALPHA",o[n[3]="BETA"]="BETA",o[n[4]="GA"]="GA",o[n[5]="DEPRECATED"]="DEPRECATED",o),t.ResourceDescriptor=(Ke.prototype.type="",Ke.prototype.pattern=a.emptyArray,Ke.prototype.nameField="",Ke.prototype.history=0,Ke.prototype.plural="",Ke.prototype.singular="",Ke.prototype.style=a.emptyArray,Ke.fromObject=function(e){if(e instanceof s.google.api.ResourceDescriptor)return e;var t=new s.google.api.ResourceDescriptor;if(null!=e.type&&(t.type=String(e.type)),e.pattern){if(!Array.isArray(e.pattern))throw TypeError(".google.api.ResourceDescriptor.pattern: array expected");t.pattern=[];for(var r=0;r<e.pattern.length;++r)t.pattern[r]=String(e.pattern[r])}switch(null!=e.nameField&&(t.nameField=String(e.nameField)),e.history){default:"number"==typeof e.history&&(t.history=e.history);break;case"HISTORY_UNSPECIFIED":case 0:t.history=0;break;case"ORIGINALLY_SINGLE_PATTERN":case 1:t.history=1;break;case"FUTURE_MULTI_PATTERN":case 2:t.history=2}if(null!=e.plural&&(t.plural=String(e.plural)),null!=e.singular&&(t.singular=String(e.singular)),e.style){if(!Array.isArray(e.style))throw TypeError(".google.api.ResourceDescriptor.style: array expected");for(t.style=[],r=0;r<e.style.length;++r)switch(e.style[r]){default:if("number"==typeof e.style[r]){t.style[r]=e.style[r];break}case"STYLE_UNSPECIFIED":case 0:t.style[r]=0;break;case"DECLARATIVE_FRIENDLY":case 1:t.style[r]=1}}return t},Ke.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.pattern=[],r.style=[]),t.defaults&&(r.type="",r.nameField="",r.history=t.enums===String?"HISTORY_UNSPECIFIED":0,r.plural="",r.singular=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),e.pattern&&e.pattern.length){r.pattern=[];for(var n=0;n<e.pattern.length;++n)r.pattern[n]=e.pattern[n]}if(null!=e.nameField&&e.hasOwnProperty("nameField")&&(r.nameField=e.nameField),null!=e.history&&e.hasOwnProperty("history")&&(r.history=t.enums!==String||void 0===s.google.api.ResourceDescriptor.History[e.history]?e.history:s.google.api.ResourceDescriptor.History[e.history]),null!=e.plural&&e.hasOwnProperty("plural")&&(r.plural=e.plural),null!=e.singular&&e.hasOwnProperty("singular")&&(r.singular=e.singular),e.style&&e.style.length)for(r.style=[],n=0;n<e.style.length;++n)r.style[n]=t.enums!==String||void 0===s.google.api.ResourceDescriptor.Style[e.style[n]]?e.style[n]:s.google.api.ResourceDescriptor.Style[e.style[n]];return r},Ke.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ke.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.ResourceDescriptor"},Ke.History=(n={},(o=Object.create(n))[n[0]="HISTORY_UNSPECIFIED"]="HISTORY_UNSPECIFIED",o[n[1]="ORIGINALLY_SINGLE_PATTERN"]="ORIGINALLY_SINGLE_PATTERN",o[n[2]="FUTURE_MULTI_PATTERN"]="FUTURE_MULTI_PATTERN",o),Ke.Style=(n={},(o=Object.create(n))[n[0]="STYLE_UNSPECIFIED"]="STYLE_UNSPECIFIED",o[n[1]="DECLARATIVE_FRIENDLY"]="DECLARATIVE_FRIENDLY",o),Ke),t.ResourceReference=(Ye.prototype.type="",Ye.prototype.childType="",Ye.fromObject=function(e){var t;return e instanceof s.google.api.ResourceReference?e:(t=new s.google.api.ResourceReference,null!=e.type&&(t.type=String(e.type)),null!=e.childType&&(t.childType=String(e.childType)),t)},Ye.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.type="",r.childType=""),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.childType&&e.hasOwnProperty("childType")&&(r.childType=e.childType),r},Ye.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ye.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.api.ResourceReference"},Ye),t),i.protobuf=((r={}).FileDescriptorSet=($e.prototype.file=a.emptyArray,$e.fromObject=function(e){if(e instanceof s.google.protobuf.FileDescriptorSet)return e;var t=new s.google.protobuf.FileDescriptorSet;if(e.file){if(!Array.isArray(e.file))throw TypeError(".google.protobuf.FileDescriptorSet.file: array expected");t.file=[];for(var r=0;r<e.file.length;++r){if("object"!=typeof e.file[r])throw TypeError(".google.protobuf.FileDescriptorSet.file: object expected");t.file[r]=s.google.protobuf.FileDescriptorProto.fromObject(e.file[r])}}return t},$e.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.file=[]),e.file&&e.file.length){r.file=[];for(var n=0;n<e.file.length;++n)r.file[n]=s.google.protobuf.FileDescriptorProto.toObject(e.file[n],t)}return r},$e.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$e.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FileDescriptorSet"},$e),r.Edition=(n={},(o=Object.create(n))[n[0]="EDITION_UNKNOWN"]="EDITION_UNKNOWN",o[n[998]="EDITION_PROTO2"]="EDITION_PROTO2",o[n[999]="EDITION_PROTO3"]="EDITION_PROTO3",o[n[1e3]="EDITION_2023"]="EDITION_2023",o[n[1001]="EDITION_2024"]="EDITION_2024",o[n[1]="EDITION_1_TEST_ONLY"]="EDITION_1_TEST_ONLY",o[n[2]="EDITION_2_TEST_ONLY"]="EDITION_2_TEST_ONLY",o[n[99997]="EDITION_99997_TEST_ONLY"]="EDITION_99997_TEST_ONLY",o[n[99998]="EDITION_99998_TEST_ONLY"]="EDITION_99998_TEST_ONLY",o[n[99999]="EDITION_99999_TEST_ONLY"]="EDITION_99999_TEST_ONLY",o[n[2147483647]="EDITION_MAX"]="EDITION_MAX",o),r.FileDescriptorProto=(Qe.prototype.name="",Qe.prototype.package="",Qe.prototype.dependency=a.emptyArray,Qe.prototype.publicDependency=a.emptyArray,Qe.prototype.weakDependency=a.emptyArray,Qe.prototype.messageType=a.emptyArray,Qe.prototype.enumType=a.emptyArray,Qe.prototype.service=a.emptyArray,Qe.prototype.extension=a.emptyArray,Qe.prototype.options=null,Qe.prototype.sourceCodeInfo=null,Qe.prototype.syntax="",Qe.prototype.edition=0,Qe.fromObject=function(e){if(e instanceof s.google.protobuf.FileDescriptorProto)return e;var t=new s.google.protobuf.FileDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.package&&(t.package=String(e.package)),e.dependency){if(!Array.isArray(e.dependency))throw TypeError(".google.protobuf.FileDescriptorProto.dependency: array expected");t.dependency=[];for(var r=0;r<e.dependency.length;++r)t.dependency[r]=String(e.dependency[r])}if(e.publicDependency){if(!Array.isArray(e.publicDependency))throw TypeError(".google.protobuf.FileDescriptorProto.publicDependency: array expected");for(t.publicDependency=[],r=0;r<e.publicDependency.length;++r)t.publicDependency[r]=0|e.publicDependency[r]}if(e.weakDependency){if(!Array.isArray(e.weakDependency))throw TypeError(".google.protobuf.FileDescriptorProto.weakDependency: array expected");for(t.weakDependency=[],r=0;r<e.weakDependency.length;++r)t.weakDependency[r]=0|e.weakDependency[r]}if(e.messageType){if(!Array.isArray(e.messageType))throw TypeError(".google.protobuf.FileDescriptorProto.messageType: array expected");for(t.messageType=[],r=0;r<e.messageType.length;++r){if("object"!=typeof e.messageType[r])throw TypeError(".google.protobuf.FileDescriptorProto.messageType: object expected");t.messageType[r]=s.google.protobuf.DescriptorProto.fromObject(e.messageType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.FileDescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.FileDescriptorProto.enumType: object expected");t.enumType[r]=s.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.service){if(!Array.isArray(e.service))throw TypeError(".google.protobuf.FileDescriptorProto.service: array expected");for(t.service=[],r=0;r<e.service.length;++r){if("object"!=typeof e.service[r])throw TypeError(".google.protobuf.FileDescriptorProto.service: object expected");t.service[r]=s.google.protobuf.ServiceDescriptorProto.fromObject(e.service[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.FileDescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.FileDescriptorProto.extension: object expected");t.extension[r]=s.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FileDescriptorProto.options: object expected");t.options=s.google.protobuf.FileOptions.fromObject(e.options)}if(null!=e.sourceCodeInfo){if("object"!=typeof e.sourceCodeInfo)throw TypeError(".google.protobuf.FileDescriptorProto.sourceCodeInfo: object expected");t.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.fromObject(e.sourceCodeInfo)}switch(null!=e.syntax&&(t.syntax=String(e.syntax)),e.edition){default:"number"==typeof e.edition&&(t.edition=e.edition);break;case"EDITION_UNKNOWN":case 0:t.edition=0;break;case"EDITION_PROTO2":case 998:t.edition=998;break;case"EDITION_PROTO3":case 999:t.edition=999;break;case"EDITION_2023":case 1e3:t.edition=1e3;break;case"EDITION_2024":case 1001:t.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:t.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:t.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:t.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:t.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:t.edition=99999;break;case"EDITION_MAX":case 2147483647:t.edition=2147483647}return t},Qe.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.dependency=[],r.messageType=[],r.enumType=[],r.service=[],r.extension=[],r.publicDependency=[],r.weakDependency=[]),t.defaults&&(r.name="",r.package="",r.options=null,r.sourceCodeInfo=null,r.syntax="",r.edition=t.enums===String?"EDITION_UNKNOWN":0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.package&&e.hasOwnProperty("package")&&(r.package=e.package),e.dependency&&e.dependency.length){r.dependency=[];for(var n=0;n<e.dependency.length;++n)r.dependency[n]=e.dependency[n]}if(e.messageType&&e.messageType.length)for(r.messageType=[],n=0;n<e.messageType.length;++n)r.messageType[n]=s.google.protobuf.DescriptorProto.toObject(e.messageType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=s.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.service&&e.service.length)for(r.service=[],n=0;n<e.service.length;++n)r.service[n]=s.google.protobuf.ServiceDescriptorProto.toObject(e.service[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=s.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.FileOptions.toObject(e.options,t)),null!=e.sourceCodeInfo&&e.hasOwnProperty("sourceCodeInfo")&&(r.sourceCodeInfo=s.google.protobuf.SourceCodeInfo.toObject(e.sourceCodeInfo,t)),e.publicDependency&&e.publicDependency.length)for(r.publicDependency=[],n=0;n<e.publicDependency.length;++n)r.publicDependency[n]=e.publicDependency[n];if(e.weakDependency&&e.weakDependency.length)for(r.weakDependency=[],n=0;n<e.weakDependency.length;++n)r.weakDependency[n]=e.weakDependency[n];return null!=e.syntax&&e.hasOwnProperty("syntax")&&(r.syntax=e.syntax),null!=e.edition&&e.hasOwnProperty("edition")&&(r.edition=t.enums!==String||void 0===s.google.protobuf.Edition[e.edition]?e.edition:s.google.protobuf.Edition[e.edition]),r},Qe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FileDescriptorProto"},Qe),r.DescriptorProto=(Xe.prototype.name="",Xe.prototype.field=a.emptyArray,Xe.prototype.extension=a.emptyArray,Xe.prototype.nestedType=a.emptyArray,Xe.prototype.enumType=a.emptyArray,Xe.prototype.extensionRange=a.emptyArray,Xe.prototype.oneofDecl=a.emptyArray,Xe.prototype.options=null,Xe.prototype.reservedRange=a.emptyArray,Xe.prototype.reservedName=a.emptyArray,Xe.fromObject=function(e){if(e instanceof s.google.protobuf.DescriptorProto)return e;var t=new s.google.protobuf.DescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.field){if(!Array.isArray(e.field))throw TypeError(".google.protobuf.DescriptorProto.field: array expected");t.field=[];for(var r=0;r<e.field.length;++r){if("object"!=typeof e.field[r])throw TypeError(".google.protobuf.DescriptorProto.field: object expected");t.field[r]=s.google.protobuf.FieldDescriptorProto.fromObject(e.field[r])}}if(e.extension){if(!Array.isArray(e.extension))throw TypeError(".google.protobuf.DescriptorProto.extension: array expected");for(t.extension=[],r=0;r<e.extension.length;++r){if("object"!=typeof e.extension[r])throw TypeError(".google.protobuf.DescriptorProto.extension: object expected");t.extension[r]=s.google.protobuf.FieldDescriptorProto.fromObject(e.extension[r])}}if(e.nestedType){if(!Array.isArray(e.nestedType))throw TypeError(".google.protobuf.DescriptorProto.nestedType: array expected");for(t.nestedType=[],r=0;r<e.nestedType.length;++r){if("object"!=typeof e.nestedType[r])throw TypeError(".google.protobuf.DescriptorProto.nestedType: object expected");t.nestedType[r]=s.google.protobuf.DescriptorProto.fromObject(e.nestedType[r])}}if(e.enumType){if(!Array.isArray(e.enumType))throw TypeError(".google.protobuf.DescriptorProto.enumType: array expected");for(t.enumType=[],r=0;r<e.enumType.length;++r){if("object"!=typeof e.enumType[r])throw TypeError(".google.protobuf.DescriptorProto.enumType: object expected");t.enumType[r]=s.google.protobuf.EnumDescriptorProto.fromObject(e.enumType[r])}}if(e.extensionRange){if(!Array.isArray(e.extensionRange))throw TypeError(".google.protobuf.DescriptorProto.extensionRange: array expected");for(t.extensionRange=[],r=0;r<e.extensionRange.length;++r){if("object"!=typeof e.extensionRange[r])throw TypeError(".google.protobuf.DescriptorProto.extensionRange: object expected");t.extensionRange[r]=s.google.protobuf.DescriptorProto.ExtensionRange.fromObject(e.extensionRange[r])}}if(e.oneofDecl){if(!Array.isArray(e.oneofDecl))throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: array expected");for(t.oneofDecl=[],r=0;r<e.oneofDecl.length;++r){if("object"!=typeof e.oneofDecl[r])throw TypeError(".google.protobuf.DescriptorProto.oneofDecl: object expected");t.oneofDecl[r]=s.google.protobuf.OneofDescriptorProto.fromObject(e.oneofDecl[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.options: object expected");t.options=s.google.protobuf.MessageOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.DescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.DescriptorProto.reservedRange: object expected");t.reservedRange[r]=s.google.protobuf.DescriptorProto.ReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.DescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},Xe.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.field=[],r.nestedType=[],r.enumType=[],r.extensionRange=[],r.extension=[],r.oneofDecl=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.field&&e.field.length){r.field=[];for(var n=0;n<e.field.length;++n)r.field[n]=s.google.protobuf.FieldDescriptorProto.toObject(e.field[n],t)}if(e.nestedType&&e.nestedType.length)for(r.nestedType=[],n=0;n<e.nestedType.length;++n)r.nestedType[n]=s.google.protobuf.DescriptorProto.toObject(e.nestedType[n],t);if(e.enumType&&e.enumType.length)for(r.enumType=[],n=0;n<e.enumType.length;++n)r.enumType[n]=s.google.protobuf.EnumDescriptorProto.toObject(e.enumType[n],t);if(e.extensionRange&&e.extensionRange.length)for(r.extensionRange=[],n=0;n<e.extensionRange.length;++n)r.extensionRange[n]=s.google.protobuf.DescriptorProto.ExtensionRange.toObject(e.extensionRange[n],t);if(e.extension&&e.extension.length)for(r.extension=[],n=0;n<e.extension.length;++n)r.extension[n]=s.google.protobuf.FieldDescriptorProto.toObject(e.extension[n],t);if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.MessageOptions.toObject(e.options,t)),e.oneofDecl&&e.oneofDecl.length)for(r.oneofDecl=[],n=0;n<e.oneofDecl.length;++n)r.oneofDecl[n]=s.google.protobuf.OneofDescriptorProto.toObject(e.oneofDecl[n],t);if(e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=s.google.protobuf.DescriptorProto.ReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},Xe.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Xe.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.DescriptorProto"},Xe.ExtensionRange=(Ze.prototype.start=0,Ze.prototype.end=0,Ze.prototype.options=null,Ze.fromObject=function(e){if(e instanceof s.google.protobuf.DescriptorProto.ExtensionRange)return e;var t=new s.google.protobuf.DescriptorProto.ExtensionRange;if(null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.DescriptorProto.ExtensionRange.options: object expected");t.options=s.google.protobuf.ExtensionRangeOptions.fromObject(e.options)}return t},Ze.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0,r.options=null),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.ExtensionRangeOptions.toObject(e.options,t)),r},Ze.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ze.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.DescriptorProto.ExtensionRange"},Ze),Xe.ReservedRange=(et.prototype.start=0,et.prototype.end=0,et.fromObject=function(e){var t;return e instanceof s.google.protobuf.DescriptorProto.ReservedRange?e:(t=new s.google.protobuf.DescriptorProto.ReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},et.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},et.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},et.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.DescriptorProto.ReservedRange"},et),Xe),r.ExtensionRangeOptions=(tt.prototype.uninterpretedOption=a.emptyArray,tt.prototype.declaration=a.emptyArray,tt.prototype.features=null,tt.prototype.verification=1,tt.fromObject=function(e){if(e instanceof s.google.protobuf.ExtensionRangeOptions)return e;var t=new s.google.protobuf.ExtensionRangeOptions;if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e.declaration){if(!Array.isArray(e.declaration))throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: array expected");for(t.declaration=[],r=0;r<e.declaration.length;++r){if("object"!=typeof e.declaration[r])throw TypeError(".google.protobuf.ExtensionRangeOptions.declaration: object expected");t.declaration[r]=s.google.protobuf.ExtensionRangeOptions.Declaration.fromObject(e.declaration[r])}}if(null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.ExtensionRangeOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}switch(e.verification){case"DECLARATION":case 0:t.verification=0;break;default:"number"==typeof e.verification&&(t.verification=e.verification);break;case"UNVERIFIED":case 1:t.verification=1}return t},tt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.declaration=[],r.uninterpretedOption=[]),t.defaults&&(r.verification=t.enums===String?"UNVERIFIED":1,r.features=null),e.declaration&&e.declaration.length){r.declaration=[];for(var n=0;n<e.declaration.length;++n)r.declaration[n]=s.google.protobuf.ExtensionRangeOptions.Declaration.toObject(e.declaration[n],t)}if(null!=e.verification&&e.hasOwnProperty("verification")&&(r.verification=t.enums!==String||void 0===s.google.protobuf.ExtensionRangeOptions.VerificationState[e.verification]?e.verification:s.google.protobuf.ExtensionRangeOptions.VerificationState[e.verification]),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length)for(r.uninterpretedOption=[],n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t);return r},tt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},tt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.ExtensionRangeOptions"},tt.Declaration=(rt.prototype.number=0,rt.prototype.fullName="",rt.prototype.type="",rt.prototype.reserved=!1,rt.prototype.repeated=!1,rt.fromObject=function(e){var t;return e instanceof s.google.protobuf.ExtensionRangeOptions.Declaration?e:(t=new s.google.protobuf.ExtensionRangeOptions.Declaration,null!=e.number&&(t.number=0|e.number),null!=e.fullName&&(t.fullName=String(e.fullName)),null!=e.type&&(t.type=String(e.type)),null!=e.reserved&&(t.reserved=Boolean(e.reserved)),null!=e.repeated&&(t.repeated=Boolean(e.repeated)),t)},rt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.number=0,r.fullName="",r.type="",r.reserved=!1,r.repeated=!1),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.fullName&&e.hasOwnProperty("fullName")&&(r.fullName=e.fullName),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.reserved&&e.hasOwnProperty("reserved")&&(r.reserved=e.reserved),null!=e.repeated&&e.hasOwnProperty("repeated")&&(r.repeated=e.repeated),r},rt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},rt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.ExtensionRangeOptions.Declaration"},rt),tt.VerificationState=(n={},(o=Object.create(n))[n[0]="DECLARATION"]="DECLARATION",o[n[1]="UNVERIFIED"]="UNVERIFIED",o),tt),r.FieldDescriptorProto=(nt.prototype.name="",nt.prototype.number=0,nt.prototype.label=1,nt.prototype.type=1,nt.prototype.typeName="",nt.prototype.extendee="",nt.prototype.defaultValue="",nt.prototype.oneofIndex=0,nt.prototype.jsonName="",nt.prototype.options=null,nt.prototype.proto3Optional=!1,nt.fromObject=function(e){if(e instanceof s.google.protobuf.FieldDescriptorProto)return e;var t=new s.google.protobuf.FieldDescriptorProto;switch(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),e.label){default:"number"==typeof e.label&&(t.label=e.label);break;case"LABEL_OPTIONAL":case 1:t.label=1;break;case"LABEL_REPEATED":case 3:t.label=3;break;case"LABEL_REQUIRED":case 2:t.label=2}switch(e.type){default:"number"==typeof e.type&&(t.type=e.type);break;case"TYPE_DOUBLE":case 1:t.type=1;break;case"TYPE_FLOAT":case 2:t.type=2;break;case"TYPE_INT64":case 3:t.type=3;break;case"TYPE_UINT64":case 4:t.type=4;break;case"TYPE_INT32":case 5:t.type=5;break;case"TYPE_FIXED64":case 6:t.type=6;break;case"TYPE_FIXED32":case 7:t.type=7;break;case"TYPE_BOOL":case 8:t.type=8;break;case"TYPE_STRING":case 9:t.type=9;break;case"TYPE_GROUP":case 10:t.type=10;break;case"TYPE_MESSAGE":case 11:t.type=11;break;case"TYPE_BYTES":case 12:t.type=12;break;case"TYPE_UINT32":case 13:t.type=13;break;case"TYPE_ENUM":case 14:t.type=14;break;case"TYPE_SFIXED32":case 15:t.type=15;break;case"TYPE_SFIXED64":case 16:t.type=16;break;case"TYPE_SINT32":case 17:t.type=17;break;case"TYPE_SINT64":case 18:t.type=18}if(null!=e.typeName&&(t.typeName=String(e.typeName)),null!=e.extendee&&(t.extendee=String(e.extendee)),null!=e.defaultValue&&(t.defaultValue=String(e.defaultValue)),null!=e.oneofIndex&&(t.oneofIndex=0|e.oneofIndex),null!=e.jsonName&&(t.jsonName=String(e.jsonName)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.FieldDescriptorProto.options: object expected");t.options=s.google.protobuf.FieldOptions.fromObject(e.options)}return null!=e.proto3Optional&&(t.proto3Optional=Boolean(e.proto3Optional)),t},nt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.extendee="",r.number=0,r.label=t.enums===String?"LABEL_OPTIONAL":1,r.type=t.enums===String?"TYPE_DOUBLE":1,r.typeName="",r.defaultValue="",r.options=null,r.oneofIndex=0,r.jsonName="",r.proto3Optional=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.extendee&&e.hasOwnProperty("extendee")&&(r.extendee=e.extendee),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.label&&e.hasOwnProperty("label")&&(r.label=t.enums!==String||void 0===s.google.protobuf.FieldDescriptorProto.Label[e.label]?e.label:s.google.protobuf.FieldDescriptorProto.Label[e.label]),null!=e.type&&e.hasOwnProperty("type")&&(r.type=t.enums!==String||void 0===s.google.protobuf.FieldDescriptorProto.Type[e.type]?e.type:s.google.protobuf.FieldDescriptorProto.Type[e.type]),null!=e.typeName&&e.hasOwnProperty("typeName")&&(r.typeName=e.typeName),null!=e.defaultValue&&e.hasOwnProperty("defaultValue")&&(r.defaultValue=e.defaultValue),null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.FieldOptions.toObject(e.options,t)),null!=e.oneofIndex&&e.hasOwnProperty("oneofIndex")&&(r.oneofIndex=e.oneofIndex),null!=e.jsonName&&e.hasOwnProperty("jsonName")&&(r.jsonName=e.jsonName),null!=e.proto3Optional&&e.hasOwnProperty("proto3Optional")&&(r.proto3Optional=e.proto3Optional),r},nt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},nt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FieldDescriptorProto"},nt.Type=(n={},(o=Object.create(n))[n[1]="TYPE_DOUBLE"]="TYPE_DOUBLE",o[n[2]="TYPE_FLOAT"]="TYPE_FLOAT",o[n[3]="TYPE_INT64"]="TYPE_INT64",o[n[4]="TYPE_UINT64"]="TYPE_UINT64",o[n[5]="TYPE_INT32"]="TYPE_INT32",o[n[6]="TYPE_FIXED64"]="TYPE_FIXED64",o[n[7]="TYPE_FIXED32"]="TYPE_FIXED32",o[n[8]="TYPE_BOOL"]="TYPE_BOOL",o[n[9]="TYPE_STRING"]="TYPE_STRING",o[n[10]="TYPE_GROUP"]="TYPE_GROUP",o[n[11]="TYPE_MESSAGE"]="TYPE_MESSAGE",o[n[12]="TYPE_BYTES"]="TYPE_BYTES",o[n[13]="TYPE_UINT32"]="TYPE_UINT32",o[n[14]="TYPE_ENUM"]="TYPE_ENUM",o[n[15]="TYPE_SFIXED32"]="TYPE_SFIXED32",o[n[16]="TYPE_SFIXED64"]="TYPE_SFIXED64",o[n[17]="TYPE_SINT32"]="TYPE_SINT32",o[n[18]="TYPE_SINT64"]="TYPE_SINT64",o),nt.Label=(n={},(o=Object.create(n))[n[1]="LABEL_OPTIONAL"]="LABEL_OPTIONAL",o[n[3]="LABEL_REPEATED"]="LABEL_REPEATED",o[n[2]="LABEL_REQUIRED"]="LABEL_REQUIRED",o),nt),r.OneofDescriptorProto=(ot.prototype.name="",ot.prototype.options=null,ot.fromObject=function(e){if(e instanceof s.google.protobuf.OneofDescriptorProto)return e;var t=new s.google.protobuf.OneofDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.OneofDescriptorProto.options: object expected");t.options=s.google.protobuf.OneofOptions.fromObject(e.options)}return t},ot.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.OneofOptions.toObject(e.options,t)),r},ot.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ot.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.OneofDescriptorProto"},ot),r.EnumDescriptorProto=(it.prototype.name="",it.prototype.value=a.emptyArray,it.prototype.options=null,it.prototype.reservedRange=a.emptyArray,it.prototype.reservedName=a.emptyArray,it.fromObject=function(e){if(e instanceof s.google.protobuf.EnumDescriptorProto)return e;var t=new s.google.protobuf.EnumDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.value){if(!Array.isArray(e.value))throw TypeError(".google.protobuf.EnumDescriptorProto.value: array expected");t.value=[];for(var r=0;r<e.value.length;++r){if("object"!=typeof e.value[r])throw TypeError(".google.protobuf.EnumDescriptorProto.value: object expected");t.value[r]=s.google.protobuf.EnumValueDescriptorProto.fromObject(e.value[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumDescriptorProto.options: object expected");t.options=s.google.protobuf.EnumOptions.fromObject(e.options)}if(e.reservedRange){if(!Array.isArray(e.reservedRange))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: array expected");for(t.reservedRange=[],r=0;r<e.reservedRange.length;++r){if("object"!=typeof e.reservedRange[r])throw TypeError(".google.protobuf.EnumDescriptorProto.reservedRange: object expected");t.reservedRange[r]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.fromObject(e.reservedRange[r])}}if(e.reservedName){if(!Array.isArray(e.reservedName))throw TypeError(".google.protobuf.EnumDescriptorProto.reservedName: array expected");for(t.reservedName=[],r=0;r<e.reservedName.length;++r)t.reservedName[r]=String(e.reservedName[r])}return t},it.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.value=[],r.reservedRange=[],r.reservedName=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.value&&e.value.length){r.value=[];for(var n=0;n<e.value.length;++n)r.value[n]=s.google.protobuf.EnumValueDescriptorProto.toObject(e.value[n],t)}if(null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.EnumOptions.toObject(e.options,t)),e.reservedRange&&e.reservedRange.length)for(r.reservedRange=[],n=0;n<e.reservedRange.length;++n)r.reservedRange[n]=s.google.protobuf.EnumDescriptorProto.EnumReservedRange.toObject(e.reservedRange[n],t);if(e.reservedName&&e.reservedName.length)for(r.reservedName=[],n=0;n<e.reservedName.length;++n)r.reservedName[n]=e.reservedName[n];return r},it.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},it.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.EnumDescriptorProto"},it.EnumReservedRange=(at.prototype.start=0,at.prototype.end=0,at.fromObject=function(e){var t;return e instanceof s.google.protobuf.EnumDescriptorProto.EnumReservedRange?e:(t=new s.google.protobuf.EnumDescriptorProto.EnumReservedRange,null!=e.start&&(t.start=0|e.start),null!=e.end&&(t.end=0|e.end),t)},at.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.start=0,r.end=0),null!=e.start&&e.hasOwnProperty("start")&&(r.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),r},at.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},at.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.EnumDescriptorProto.EnumReservedRange"},at),it),r.EnumValueDescriptorProto=(st.prototype.name="",st.prototype.number=0,st.prototype.options=null,st.fromObject=function(e){if(e instanceof s.google.protobuf.EnumValueDescriptorProto)return e;var t=new s.google.protobuf.EnumValueDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.number&&(t.number=0|e.number),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.EnumValueDescriptorProto.options: object expected");t.options=s.google.protobuf.EnumValueOptions.fromObject(e.options)}return t},st.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.number=0,r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.number&&e.hasOwnProperty("number")&&(r.number=e.number),null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.EnumValueOptions.toObject(e.options,t)),r},st.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},st.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.EnumValueDescriptorProto"},st),r.ServiceDescriptorProto=(lt.prototype.name="",lt.prototype.method=a.emptyArray,lt.prototype.options=null,lt.fromObject=function(e){if(e instanceof s.google.protobuf.ServiceDescriptorProto)return e;var t=new s.google.protobuf.ServiceDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),e.method){if(!Array.isArray(e.method))throw TypeError(".google.protobuf.ServiceDescriptorProto.method: array expected");t.method=[];for(var r=0;r<e.method.length;++r){if("object"!=typeof e.method[r])throw TypeError(".google.protobuf.ServiceDescriptorProto.method: object expected");t.method[r]=s.google.protobuf.MethodDescriptorProto.fromObject(e.method[r])}}if(null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.ServiceDescriptorProto.options: object expected");t.options=s.google.protobuf.ServiceOptions.fromObject(e.options)}return t},lt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.method=[]),t.defaults&&(r.name="",r.options=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.method&&e.method.length){r.method=[];for(var n=0;n<e.method.length;++n)r.method[n]=s.google.protobuf.MethodDescriptorProto.toObject(e.method[n],t)}return null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.ServiceOptions.toObject(e.options,t)),r},lt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},lt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.ServiceDescriptorProto"},lt),r.MethodDescriptorProto=(pt.prototype.name="",pt.prototype.inputType="",pt.prototype.outputType="",pt.prototype.options=null,pt.prototype.clientStreaming=!1,pt.prototype.serverStreaming=!1,pt.fromObject=function(e){if(e instanceof s.google.protobuf.MethodDescriptorProto)return e;var t=new s.google.protobuf.MethodDescriptorProto;if(null!=e.name&&(t.name=String(e.name)),null!=e.inputType&&(t.inputType=String(e.inputType)),null!=e.outputType&&(t.outputType=String(e.outputType)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".google.protobuf.MethodDescriptorProto.options: object expected");t.options=s.google.protobuf.MethodOptions.fromObject(e.options)}return null!=e.clientStreaming&&(t.clientStreaming=Boolean(e.clientStreaming)),null!=e.serverStreaming&&(t.serverStreaming=Boolean(e.serverStreaming)),t},pt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.inputType="",r.outputType="",r.options=null,r.clientStreaming=!1,r.serverStreaming=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.inputType&&e.hasOwnProperty("inputType")&&(r.inputType=e.inputType),null!=e.outputType&&e.hasOwnProperty("outputType")&&(r.outputType=e.outputType),null!=e.options&&e.hasOwnProperty("options")&&(r.options=s.google.protobuf.MethodOptions.toObject(e.options,t)),null!=e.clientStreaming&&e.hasOwnProperty("clientStreaming")&&(r.clientStreaming=e.clientStreaming),null!=e.serverStreaming&&e.hasOwnProperty("serverStreaming")&&(r.serverStreaming=e.serverStreaming),r},pt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},pt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.MethodDescriptorProto"},pt),r.FileOptions=(ct.prototype.javaPackage="",ct.prototype.javaOuterClassname="",ct.prototype.javaMultipleFiles=!1,ct.prototype.javaGenerateEqualsAndHash=!1,ct.prototype.javaStringCheckUtf8=!1,ct.prototype.optimizeFor=1,ct.prototype.goPackage="",ct.prototype.ccGenericServices=!1,ct.prototype.javaGenericServices=!1,ct.prototype.pyGenericServices=!1,ct.prototype.deprecated=!1,ct.prototype.ccEnableArenas=!0,ct.prototype.objcClassPrefix="",ct.prototype.csharpNamespace="",ct.prototype.swiftPrefix="",ct.prototype.phpClassPrefix="",ct.prototype.phpNamespace="",ct.prototype.phpMetadataNamespace="",ct.prototype.rubyPackage="",ct.prototype.features=null,ct.prototype.uninterpretedOption=a.emptyArray,ct.prototype[".google.api.resourceDefinition"]=a.emptyArray,ct.fromObject=function(e){if(e instanceof s.google.protobuf.FileOptions)return e;var t=new s.google.protobuf.FileOptions;switch(null!=e.javaPackage&&(t.javaPackage=String(e.javaPackage)),null!=e.javaOuterClassname&&(t.javaOuterClassname=String(e.javaOuterClassname)),null!=e.javaMultipleFiles&&(t.javaMultipleFiles=Boolean(e.javaMultipleFiles)),null!=e.javaGenerateEqualsAndHash&&(t.javaGenerateEqualsAndHash=Boolean(e.javaGenerateEqualsAndHash)),null!=e.javaStringCheckUtf8&&(t.javaStringCheckUtf8=Boolean(e.javaStringCheckUtf8)),e.optimizeFor){default:"number"==typeof e.optimizeFor&&(t.optimizeFor=e.optimizeFor);break;case"SPEED":case 1:t.optimizeFor=1;break;case"CODE_SIZE":case 2:t.optimizeFor=2;break;case"LITE_RUNTIME":case 3:t.optimizeFor=3}if(null!=e.goPackage&&(t.goPackage=String(e.goPackage)),null!=e.ccGenericServices&&(t.ccGenericServices=Boolean(e.ccGenericServices)),null!=e.javaGenericServices&&(t.javaGenericServices=Boolean(e.javaGenericServices)),null!=e.pyGenericServices&&(t.pyGenericServices=Boolean(e.pyGenericServices)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.ccEnableArenas&&(t.ccEnableArenas=Boolean(e.ccEnableArenas)),null!=e.objcClassPrefix&&(t.objcClassPrefix=String(e.objcClassPrefix)),null!=e.csharpNamespace&&(t.csharpNamespace=String(e.csharpNamespace)),null!=e.swiftPrefix&&(t.swiftPrefix=String(e.swiftPrefix)),null!=e.phpClassPrefix&&(t.phpClassPrefix=String(e.phpClassPrefix)),null!=e.phpNamespace&&(t.phpNamespace=String(e.phpNamespace)),null!=e.phpMetadataNamespace&&(t.phpMetadataNamespace=String(e.phpMetadataNamespace)),null!=e.rubyPackage&&(t.rubyPackage=String(e.rubyPackage)),null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.FileOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FileOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.resourceDefinition"]){if(!Array.isArray(e[".google.api.resourceDefinition"]))throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: array expected");for(t[".google.api.resourceDefinition"]=[],r=0;r<e[".google.api.resourceDefinition"].length;++r){if("object"!=typeof e[".google.api.resourceDefinition"][r])throw TypeError(".google.protobuf.FileOptions..google.api.resourceDefinition: object expected");t[".google.api.resourceDefinition"][r]=s.google.api.ResourceDescriptor.fromObject(e[".google.api.resourceDefinition"][r])}}return t},ct.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.resourceDefinition"]=[]),t.defaults&&(r.javaPackage="",r.javaOuterClassname="",r.optimizeFor=t.enums===String?"SPEED":1,r.javaMultipleFiles=!1,r.goPackage="",r.ccGenericServices=!1,r.javaGenericServices=!1,r.pyGenericServices=!1,r.javaGenerateEqualsAndHash=!1,r.deprecated=!1,r.javaStringCheckUtf8=!1,r.ccEnableArenas=!0,r.objcClassPrefix="",r.csharpNamespace="",r.swiftPrefix="",r.phpClassPrefix="",r.phpNamespace="",r.phpMetadataNamespace="",r.rubyPackage="",r.features=null),null!=e.javaPackage&&e.hasOwnProperty("javaPackage")&&(r.javaPackage=e.javaPackage),null!=e.javaOuterClassname&&e.hasOwnProperty("javaOuterClassname")&&(r.javaOuterClassname=e.javaOuterClassname),null!=e.optimizeFor&&e.hasOwnProperty("optimizeFor")&&(r.optimizeFor=t.enums!==String||void 0===s.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]?e.optimizeFor:s.google.protobuf.FileOptions.OptimizeMode[e.optimizeFor]),null!=e.javaMultipleFiles&&e.hasOwnProperty("javaMultipleFiles")&&(r.javaMultipleFiles=e.javaMultipleFiles),null!=e.goPackage&&e.hasOwnProperty("goPackage")&&(r.goPackage=e.goPackage),null!=e.ccGenericServices&&e.hasOwnProperty("ccGenericServices")&&(r.ccGenericServices=e.ccGenericServices),null!=e.javaGenericServices&&e.hasOwnProperty("javaGenericServices")&&(r.javaGenericServices=e.javaGenericServices),null!=e.pyGenericServices&&e.hasOwnProperty("pyGenericServices")&&(r.pyGenericServices=e.pyGenericServices),null!=e.javaGenerateEqualsAndHash&&e.hasOwnProperty("javaGenerateEqualsAndHash")&&(r.javaGenerateEqualsAndHash=e.javaGenerateEqualsAndHash),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.javaStringCheckUtf8&&e.hasOwnProperty("javaStringCheckUtf8")&&(r.javaStringCheckUtf8=e.javaStringCheckUtf8),null!=e.ccEnableArenas&&e.hasOwnProperty("ccEnableArenas")&&(r.ccEnableArenas=e.ccEnableArenas),null!=e.objcClassPrefix&&e.hasOwnProperty("objcClassPrefix")&&(r.objcClassPrefix=e.objcClassPrefix),null!=e.csharpNamespace&&e.hasOwnProperty("csharpNamespace")&&(r.csharpNamespace=e.csharpNamespace),null!=e.swiftPrefix&&e.hasOwnProperty("swiftPrefix")&&(r.swiftPrefix=e.swiftPrefix),null!=e.phpClassPrefix&&e.hasOwnProperty("phpClassPrefix")&&(r.phpClassPrefix=e.phpClassPrefix),null!=e.phpNamespace&&e.hasOwnProperty("phpNamespace")&&(r.phpNamespace=e.phpNamespace),null!=e.phpMetadataNamespace&&e.hasOwnProperty("phpMetadataNamespace")&&(r.phpMetadataNamespace=e.phpMetadataNamespace),null!=e.rubyPackage&&e.hasOwnProperty("rubyPackage")&&(r.rubyPackage=e.rubyPackage),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(e[".google.api.resourceDefinition"]&&e[".google.api.resourceDefinition"].length)for(r[".google.api.resourceDefinition"]=[],n=0;n<e[".google.api.resourceDefinition"].length;++n)r[".google.api.resourceDefinition"][n]=s.google.api.ResourceDescriptor.toObject(e[".google.api.resourceDefinition"][n],t);return r},ct.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ct.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FileOptions"},ct.OptimizeMode=(n={},(o=Object.create(n))[n[1]="SPEED"]="SPEED",o[n[2]="CODE_SIZE"]="CODE_SIZE",o[n[3]="LITE_RUNTIME"]="LITE_RUNTIME",o),ct),r.MessageOptions=(ut.prototype.messageSetWireFormat=!1,ut.prototype.noStandardDescriptorAccessor=!1,ut.prototype.deprecated=!1,ut.prototype.mapEntry=!1,ut.prototype.deprecatedLegacyJsonFieldConflicts=!1,ut.prototype.features=null,ut.prototype.uninterpretedOption=a.emptyArray,ut.prototype[".google.api.resource"]=null,ut.fromObject=function(e){if(e instanceof s.google.protobuf.MessageOptions)return e;var t=new s.google.protobuf.MessageOptions;if(null!=e.messageSetWireFormat&&(t.messageSetWireFormat=Boolean(e.messageSetWireFormat)),null!=e.noStandardDescriptorAccessor&&(t.noStandardDescriptorAccessor=Boolean(e.noStandardDescriptorAccessor)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.mapEntry&&(t.mapEntry=Boolean(e.mapEntry)),null!=e.deprecatedLegacyJsonFieldConflicts&&(t.deprecatedLegacyJsonFieldConflicts=Boolean(e.deprecatedLegacyJsonFieldConflicts)),null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.MessageOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MessageOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.resource"]){if("object"!=typeof e[".google.api.resource"])throw TypeError(".google.protobuf.MessageOptions..google.api.resource: object expected");t[".google.api.resource"]=s.google.api.ResourceDescriptor.fromObject(e[".google.api.resource"])}return t},ut.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.messageSetWireFormat=!1,r.noStandardDescriptorAccessor=!1,r.deprecated=!1,r.mapEntry=!1,r.deprecatedLegacyJsonFieldConflicts=!1,r.features=null,r[".google.api.resource"]=null),null!=e.messageSetWireFormat&&e.hasOwnProperty("messageSetWireFormat")&&(r.messageSetWireFormat=e.messageSetWireFormat),null!=e.noStandardDescriptorAccessor&&e.hasOwnProperty("noStandardDescriptorAccessor")&&(r.noStandardDescriptorAccessor=e.noStandardDescriptorAccessor),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.mapEntry&&e.hasOwnProperty("mapEntry")&&(r.mapEntry=e.mapEntry),null!=e.deprecatedLegacyJsonFieldConflicts&&e.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(r.deprecatedLegacyJsonFieldConflicts=e.deprecatedLegacyJsonFieldConflicts),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.resource"]&&e.hasOwnProperty(".google.api.resource")&&(r[".google.api.resource"]=s.google.api.ResourceDescriptor.toObject(e[".google.api.resource"],t)),r},ut.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ut.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.MessageOptions"},ut),r.FieldOptions=(dt.prototype.ctype=0,dt.prototype.packed=!1,dt.prototype.jstype=0,dt.prototype.lazy=!1,dt.prototype.unverifiedLazy=!1,dt.prototype.deprecated=!1,dt.prototype.weak=!1,dt.prototype.debugRedact=!1,dt.prototype.retention=0,dt.prototype.targets=a.emptyArray,dt.prototype.editionDefaults=a.emptyArray,dt.prototype.features=null,dt.prototype.uninterpretedOption=a.emptyArray,dt.prototype[".google.api.fieldBehavior"]=a.emptyArray,dt.prototype[".google.api.resourceReference"]=null,dt.fromObject=function(e){if(e instanceof s.google.protobuf.FieldOptions)return e;var t=new s.google.protobuf.FieldOptions;switch(e.ctype){default:"number"==typeof e.ctype&&(t.ctype=e.ctype);break;case"STRING":case 0:t.ctype=0;break;case"CORD":case 1:t.ctype=1;break;case"STRING_PIECE":case 2:t.ctype=2}switch(null!=e.packed&&(t.packed=Boolean(e.packed)),e.jstype){default:"number"==typeof e.jstype&&(t.jstype=e.jstype);break;case"JS_NORMAL":case 0:t.jstype=0;break;case"JS_STRING":case 1:t.jstype=1;break;case"JS_NUMBER":case 2:t.jstype=2}switch(null!=e.lazy&&(t.lazy=Boolean(e.lazy)),null!=e.unverifiedLazy&&(t.unverifiedLazy=Boolean(e.unverifiedLazy)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.weak&&(t.weak=Boolean(e.weak)),null!=e.debugRedact&&(t.debugRedact=Boolean(e.debugRedact)),e.retention){default:"number"==typeof e.retention&&(t.retention=e.retention);break;case"RETENTION_UNKNOWN":case 0:t.retention=0;break;case"RETENTION_RUNTIME":case 1:t.retention=1;break;case"RETENTION_SOURCE":case 2:t.retention=2}if(e.targets){if(!Array.isArray(e.targets))throw TypeError(".google.protobuf.FieldOptions.targets: array expected");t.targets=[];for(var r=0;r<e.targets.length;++r)switch(e.targets[r]){default:if("number"==typeof e.targets[r]){t.targets[r]=e.targets[r];break}case"TARGET_TYPE_UNKNOWN":case 0:t.targets[r]=0;break;case"TARGET_TYPE_FILE":case 1:t.targets[r]=1;break;case"TARGET_TYPE_EXTENSION_RANGE":case 2:t.targets[r]=2;break;case"TARGET_TYPE_MESSAGE":case 3:t.targets[r]=3;break;case"TARGET_TYPE_FIELD":case 4:t.targets[r]=4;break;case"TARGET_TYPE_ONEOF":case 5:t.targets[r]=5;break;case"TARGET_TYPE_ENUM":case 6:t.targets[r]=6;break;case"TARGET_TYPE_ENUM_ENTRY":case 7:t.targets[r]=7;break;case"TARGET_TYPE_SERVICE":case 8:t.targets[r]=8;break;case"TARGET_TYPE_METHOD":case 9:t.targets[r]=9}}if(e.editionDefaults){if(!Array.isArray(e.editionDefaults))throw TypeError(".google.protobuf.FieldOptions.editionDefaults: array expected");for(t.editionDefaults=[],r=0;r<e.editionDefaults.length;++r){if("object"!=typeof e.editionDefaults[r])throw TypeError(".google.protobuf.FieldOptions.editionDefaults: object expected");t.editionDefaults[r]=s.google.protobuf.FieldOptions.EditionDefault.fromObject(e.editionDefaults[r])}}if(null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.FieldOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: array expected");for(t.uninterpretedOption=[],r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.FieldOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(e[".google.api.fieldBehavior"]){if(!Array.isArray(e[".google.api.fieldBehavior"]))throw TypeError(".google.protobuf.FieldOptions..google.api.fieldBehavior: array expected");for(t[".google.api.fieldBehavior"]=[],r=0;r<e[".google.api.fieldBehavior"].length;++r)switch(e[".google.api.fieldBehavior"][r]){default:if("number"==typeof e[".google.api.fieldBehavior"][r]){t[".google.api.fieldBehavior"][r]=e[".google.api.fieldBehavior"][r];break}case"FIELD_BEHAVIOR_UNSPECIFIED":case 0:t[".google.api.fieldBehavior"][r]=0;break;case"OPTIONAL":case 1:t[".google.api.fieldBehavior"][r]=1;break;case"REQUIRED":case 2:t[".google.api.fieldBehavior"][r]=2;break;case"OUTPUT_ONLY":case 3:t[".google.api.fieldBehavior"][r]=3;break;case"INPUT_ONLY":case 4:t[".google.api.fieldBehavior"][r]=4;break;case"IMMUTABLE":case 5:t[".google.api.fieldBehavior"][r]=5;break;case"UNORDERED_LIST":case 6:t[".google.api.fieldBehavior"][r]=6;break;case"NON_EMPTY_DEFAULT":case 7:t[".google.api.fieldBehavior"][r]=7;break;case"IDENTIFIER":case 8:t[".google.api.fieldBehavior"][r]=8}}if(null!=e[".google.api.resourceReference"]){if("object"!=typeof e[".google.api.resourceReference"])throw TypeError(".google.protobuf.FieldOptions..google.api.resourceReference: object expected");t[".google.api.resourceReference"]=s.google.api.ResourceReference.fromObject(e[".google.api.resourceReference"])}return t},dt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.targets=[],r.editionDefaults=[],r.uninterpretedOption=[],r[".google.api.fieldBehavior"]=[]),t.defaults&&(r.ctype=t.enums===String?"STRING":0,r.packed=!1,r.deprecated=!1,r.lazy=!1,r.jstype=t.enums===String?"JS_NORMAL":0,r.weak=!1,r.unverifiedLazy=!1,r.debugRedact=!1,r.retention=t.enums===String?"RETENTION_UNKNOWN":0,r.features=null,r[".google.api.resourceReference"]=null),null!=e.ctype&&e.hasOwnProperty("ctype")&&(r.ctype=t.enums!==String||void 0===s.google.protobuf.FieldOptions.CType[e.ctype]?e.ctype:s.google.protobuf.FieldOptions.CType[e.ctype]),null!=e.packed&&e.hasOwnProperty("packed")&&(r.packed=e.packed),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.lazy&&e.hasOwnProperty("lazy")&&(r.lazy=e.lazy),null!=e.jstype&&e.hasOwnProperty("jstype")&&(r.jstype=t.enums!==String||void 0===s.google.protobuf.FieldOptions.JSType[e.jstype]?e.jstype:s.google.protobuf.FieldOptions.JSType[e.jstype]),null!=e.weak&&e.hasOwnProperty("weak")&&(r.weak=e.weak),null!=e.unverifiedLazy&&e.hasOwnProperty("unverifiedLazy")&&(r.unverifiedLazy=e.unverifiedLazy),null!=e.debugRedact&&e.hasOwnProperty("debugRedact")&&(r.debugRedact=e.debugRedact),null!=e.retention&&e.hasOwnProperty("retention")&&(r.retention=t.enums!==String||void 0===s.google.protobuf.FieldOptions.OptionRetention[e.retention]?e.retention:s.google.protobuf.FieldOptions.OptionRetention[e.retention]),e.targets&&e.targets.length){r.targets=[];for(var n=0;n<e.targets.length;++n)r.targets[n]=t.enums!==String||void 0===s.google.protobuf.FieldOptions.OptionTargetType[e.targets[n]]?e.targets[n]:s.google.protobuf.FieldOptions.OptionTargetType[e.targets[n]]}if(e.editionDefaults&&e.editionDefaults.length)for(r.editionDefaults=[],n=0;n<e.editionDefaults.length;++n)r.editionDefaults[n]=s.google.protobuf.FieldOptions.EditionDefault.toObject(e.editionDefaults[n],t);if(null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length)for(r.uninterpretedOption=[],n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t);if(e[".google.api.fieldBehavior"]&&e[".google.api.fieldBehavior"].length)for(r[".google.api.fieldBehavior"]=[],n=0;n<e[".google.api.fieldBehavior"].length;++n)r[".google.api.fieldBehavior"][n]=t.enums!==String||void 0===s.google.api.FieldBehavior[e[".google.api.fieldBehavior"][n]]?e[".google.api.fieldBehavior"][n]:s.google.api.FieldBehavior[e[".google.api.fieldBehavior"][n]];return null!=e[".google.api.resourceReference"]&&e.hasOwnProperty(".google.api.resourceReference")&&(r[".google.api.resourceReference"]=s.google.api.ResourceReference.toObject(e[".google.api.resourceReference"],t)),r},dt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},dt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FieldOptions"},dt.CType=(n={},(o=Object.create(n))[n[0]="STRING"]="STRING",o[n[1]="CORD"]="CORD",o[n[2]="STRING_PIECE"]="STRING_PIECE",o),dt.JSType=(n={},(o=Object.create(n))[n[0]="JS_NORMAL"]="JS_NORMAL",o[n[1]="JS_STRING"]="JS_STRING",o[n[2]="JS_NUMBER"]="JS_NUMBER",o),dt.OptionRetention=(n={},(o=Object.create(n))[n[0]="RETENTION_UNKNOWN"]="RETENTION_UNKNOWN",o[n[1]="RETENTION_RUNTIME"]="RETENTION_RUNTIME",o[n[2]="RETENTION_SOURCE"]="RETENTION_SOURCE",o),dt.OptionTargetType=(n={},(o=Object.create(n))[n[0]="TARGET_TYPE_UNKNOWN"]="TARGET_TYPE_UNKNOWN",o[n[1]="TARGET_TYPE_FILE"]="TARGET_TYPE_FILE",o[n[2]="TARGET_TYPE_EXTENSION_RANGE"]="TARGET_TYPE_EXTENSION_RANGE",o[n[3]="TARGET_TYPE_MESSAGE"]="TARGET_TYPE_MESSAGE",o[n[4]="TARGET_TYPE_FIELD"]="TARGET_TYPE_FIELD",o[n[5]="TARGET_TYPE_ONEOF"]="TARGET_TYPE_ONEOF",o[n[6]="TARGET_TYPE_ENUM"]="TARGET_TYPE_ENUM",o[n[7]="TARGET_TYPE_ENUM_ENTRY"]="TARGET_TYPE_ENUM_ENTRY",o[n[8]="TARGET_TYPE_SERVICE"]="TARGET_TYPE_SERVICE",o[n[9]="TARGET_TYPE_METHOD"]="TARGET_TYPE_METHOD",o),dt.EditionDefault=(ht.prototype.edition=0,ht.prototype.value="",ht.fromObject=function(e){if(e instanceof s.google.protobuf.FieldOptions.EditionDefault)return e;var t=new s.google.protobuf.FieldOptions.EditionDefault;switch(e.edition){default:"number"==typeof e.edition&&(t.edition=e.edition);break;case"EDITION_UNKNOWN":case 0:t.edition=0;break;case"EDITION_PROTO2":case 998:t.edition=998;break;case"EDITION_PROTO3":case 999:t.edition=999;break;case"EDITION_2023":case 1e3:t.edition=1e3;break;case"EDITION_2024":case 1001:t.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:t.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:t.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:t.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:t.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:t.edition=99999;break;case"EDITION_MAX":case 2147483647:t.edition=2147483647}return null!=e.value&&(t.value=String(e.value)),t},ht.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value="",r.edition=t.enums===String?"EDITION_UNKNOWN":0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),null!=e.edition&&e.hasOwnProperty("edition")&&(r.edition=t.enums!==String||void 0===s.google.protobuf.Edition[e.edition]?e.edition:s.google.protobuf.Edition[e.edition]),r},ht.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ht.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FieldOptions.EditionDefault"},ht),dt),r.OneofOptions=(ft.prototype.features=null,ft.prototype.uninterpretedOption=a.emptyArray,ft.fromObject=function(e){if(e instanceof s.google.protobuf.OneofOptions)return e;var t=new s.google.protobuf.OneofOptions;if(null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.OneofOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.OneofOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},ft.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.features=null),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},ft.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},ft.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.OneofOptions"},ft),r.EnumOptions=(gt.prototype.allowAlias=!1,gt.prototype.deprecated=!1,gt.prototype.deprecatedLegacyJsonFieldConflicts=!1,gt.prototype.features=null,gt.prototype.uninterpretedOption=a.emptyArray,gt.fromObject=function(e){if(e instanceof s.google.protobuf.EnumOptions)return e;var t=new s.google.protobuf.EnumOptions;if(null!=e.allowAlias&&(t.allowAlias=Boolean(e.allowAlias)),null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.deprecatedLegacyJsonFieldConflicts&&(t.deprecatedLegacyJsonFieldConflicts=Boolean(e.deprecatedLegacyJsonFieldConflicts)),null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.EnumOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},gt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.allowAlias=!1,r.deprecated=!1,r.deprecatedLegacyJsonFieldConflicts=!1,r.features=null),null!=e.allowAlias&&e.hasOwnProperty("allowAlias")&&(r.allowAlias=e.allowAlias),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.deprecatedLegacyJsonFieldConflicts&&e.hasOwnProperty("deprecatedLegacyJsonFieldConflicts")&&(r.deprecatedLegacyJsonFieldConflicts=e.deprecatedLegacyJsonFieldConflicts),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},gt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},gt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.EnumOptions"},gt),r.EnumValueOptions=(mt.prototype.deprecated=!1,mt.prototype.features=null,mt.prototype.debugRedact=!1,mt.prototype.uninterpretedOption=a.emptyArray,mt.fromObject=function(e){if(e instanceof s.google.protobuf.EnumValueOptions)return e;var t=new s.google.protobuf.EnumValueOptions;if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.EnumValueOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(null!=e.debugRedact&&(t.debugRedact=Boolean(e.debugRedact)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.EnumValueOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return t},mt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r.features=null,r.debugRedact=!1),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),null!=e.debugRedact&&e.hasOwnProperty("debugRedact")&&(r.debugRedact=e.debugRedact),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return r},mt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},mt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.EnumValueOptions"},mt),r.ServiceOptions=(yt.prototype.features=null,yt.prototype.deprecated=!1,yt.prototype.uninterpretedOption=a.emptyArray,yt.prototype[".google.api.defaultHost"]="",yt.prototype[".google.api.oauthScopes"]="",yt.prototype[".google.api.apiVersion"]="",yt.fromObject=function(e){if(e instanceof s.google.protobuf.ServiceOptions)return e;var t=new s.google.protobuf.ServiceOptions;if(null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.ServiceOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.ServiceOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}return null!=e[".google.api.defaultHost"]&&(t[".google.api.defaultHost"]=String(e[".google.api.defaultHost"])),null!=e[".google.api.oauthScopes"]&&(t[".google.api.oauthScopes"]=String(e[".google.api.oauthScopes"])),null!=e[".google.api.apiVersion"]&&(t[".google.api.apiVersion"]=String(e[".google.api.apiVersion"])),t},yt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[]),t.defaults&&(r.deprecated=!1,r.features=null,r[".google.api.defaultHost"]="",r[".google.api.oauthScopes"]="",r[".google.api.apiVersion"]=""),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}return null!=e[".google.api.defaultHost"]&&e.hasOwnProperty(".google.api.defaultHost")&&(r[".google.api.defaultHost"]=e[".google.api.defaultHost"]),null!=e[".google.api.oauthScopes"]&&e.hasOwnProperty(".google.api.oauthScopes")&&(r[".google.api.oauthScopes"]=e[".google.api.oauthScopes"]),null!=e[".google.api.apiVersion"]&&e.hasOwnProperty(".google.api.apiVersion")&&(r[".google.api.apiVersion"]=e[".google.api.apiVersion"]),r},yt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},yt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.ServiceOptions"},yt),r.MethodOptions=(vt.prototype.deprecated=!1,vt.prototype.idempotencyLevel=0,vt.prototype.features=null,vt.prototype.uninterpretedOption=a.emptyArray,vt.prototype[".google.api.http"]=null,vt.prototype[".google.api.methodSignature"]=a.emptyArray,vt.prototype[".google.longrunning.operationInfo"]=null,vt.fromObject=function(e){if(e instanceof s.google.protobuf.MethodOptions)return e;var t=new s.google.protobuf.MethodOptions;switch(null!=e.deprecated&&(t.deprecated=Boolean(e.deprecated)),e.idempotencyLevel){default:"number"==typeof e.idempotencyLevel&&(t.idempotencyLevel=e.idempotencyLevel);break;case"IDEMPOTENCY_UNKNOWN":case 0:t.idempotencyLevel=0;break;case"NO_SIDE_EFFECTS":case 1:t.idempotencyLevel=1;break;case"IDEMPOTENT":case 2:t.idempotencyLevel=2}if(null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.MethodOptions.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}if(e.uninterpretedOption){if(!Array.isArray(e.uninterpretedOption))throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: array expected");t.uninterpretedOption=[];for(var r=0;r<e.uninterpretedOption.length;++r){if("object"!=typeof e.uninterpretedOption[r])throw TypeError(".google.protobuf.MethodOptions.uninterpretedOption: object expected");t.uninterpretedOption[r]=s.google.protobuf.UninterpretedOption.fromObject(e.uninterpretedOption[r])}}if(null!=e[".google.api.http"]){if("object"!=typeof e[".google.api.http"])throw TypeError(".google.protobuf.MethodOptions..google.api.http: object expected");t[".google.api.http"]=s.google.api.HttpRule.fromObject(e[".google.api.http"])}if(e[".google.api.methodSignature"]){if(!Array.isArray(e[".google.api.methodSignature"]))throw TypeError(".google.protobuf.MethodOptions..google.api.methodSignature: array expected");for(t[".google.api.methodSignature"]=[],r=0;r<e[".google.api.methodSignature"].length;++r)t[".google.api.methodSignature"][r]=String(e[".google.api.methodSignature"][r])}if(null!=e[".google.longrunning.operationInfo"]){if("object"!=typeof e[".google.longrunning.operationInfo"])throw TypeError(".google.protobuf.MethodOptions..google.longrunning.operationInfo: object expected");t[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.fromObject(e[".google.longrunning.operationInfo"])}return t},vt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.uninterpretedOption=[],r[".google.api.methodSignature"]=[]),t.defaults&&(r.deprecated=!1,r.idempotencyLevel=t.enums===String?"IDEMPOTENCY_UNKNOWN":0,r.features=null,r[".google.longrunning.operationInfo"]=null,r[".google.api.http"]=null),null!=e.deprecated&&e.hasOwnProperty("deprecated")&&(r.deprecated=e.deprecated),null!=e.idempotencyLevel&&e.hasOwnProperty("idempotencyLevel")&&(r.idempotencyLevel=t.enums!==String||void 0===s.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]?e.idempotencyLevel:s.google.protobuf.MethodOptions.IdempotencyLevel[e.idempotencyLevel]),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),e.uninterpretedOption&&e.uninterpretedOption.length){r.uninterpretedOption=[];for(var n=0;n<e.uninterpretedOption.length;++n)r.uninterpretedOption[n]=s.google.protobuf.UninterpretedOption.toObject(e.uninterpretedOption[n],t)}if(null!=e[".google.longrunning.operationInfo"]&&e.hasOwnProperty(".google.longrunning.operationInfo")&&(r[".google.longrunning.operationInfo"]=s.google.longrunning.OperationInfo.toObject(e[".google.longrunning.operationInfo"],t)),e[".google.api.methodSignature"]&&e[".google.api.methodSignature"].length)for(r[".google.api.methodSignature"]=[],n=0;n<e[".google.api.methodSignature"].length;++n)r[".google.api.methodSignature"][n]=e[".google.api.methodSignature"][n];return null!=e[".google.api.http"]&&e.hasOwnProperty(".google.api.http")&&(r[".google.api.http"]=s.google.api.HttpRule.toObject(e[".google.api.http"],t)),r},vt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},vt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.MethodOptions"},vt.IdempotencyLevel=(n={},(o=Object.create(n))[n[0]="IDEMPOTENCY_UNKNOWN"]="IDEMPOTENCY_UNKNOWN",o[n[1]="NO_SIDE_EFFECTS"]="NO_SIDE_EFFECTS",o[n[2]="IDEMPOTENT"]="IDEMPOTENT",o),vt),r.UninterpretedOption=(bt.prototype.name=a.emptyArray,bt.prototype.identifierValue="",bt.prototype.positiveIntValue=a.Long?a.Long.fromBits(0,0,!0):0,bt.prototype.negativeIntValue=a.Long?a.Long.fromBits(0,0,!1):0,bt.prototype.doubleValue=0,bt.prototype.stringValue=a.newBuffer([]),bt.prototype.aggregateValue="",bt.fromObject=function(e){if(e instanceof s.google.protobuf.UninterpretedOption)return e;var t=new s.google.protobuf.UninterpretedOption;if(e.name){if(!Array.isArray(e.name))throw TypeError(".google.protobuf.UninterpretedOption.name: array expected");t.name=[];for(var r=0;r<e.name.length;++r){if("object"!=typeof e.name[r])throw TypeError(".google.protobuf.UninterpretedOption.name: object expected");t.name[r]=s.google.protobuf.UninterpretedOption.NamePart.fromObject(e.name[r])}}return null!=e.identifierValue&&(t.identifierValue=String(e.identifierValue)),null!=e.positiveIntValue&&(a.Long?(t.positiveIntValue=a.Long.fromValue(e.positiveIntValue)).unsigned=!0:"string"==typeof e.positiveIntValue?t.positiveIntValue=parseInt(e.positiveIntValue,10):"number"==typeof e.positiveIntValue?t.positiveIntValue=e.positiveIntValue:"object"==typeof e.positiveIntValue&&(t.positiveIntValue=new a.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0))),null!=e.negativeIntValue&&(a.Long?(t.negativeIntValue=a.Long.fromValue(e.negativeIntValue)).unsigned=!1:"string"==typeof e.negativeIntValue?t.negativeIntValue=parseInt(e.negativeIntValue,10):"number"==typeof e.negativeIntValue?t.negativeIntValue=e.negativeIntValue:"object"==typeof e.negativeIntValue&&(t.negativeIntValue=new a.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.stringValue&&("string"==typeof e.stringValue?a.base64.decode(e.stringValue,t.stringValue=a.newBuffer(a.base64.length(e.stringValue)),0):0<=e.stringValue.length&&(t.stringValue=e.stringValue)),null!=e.aggregateValue&&(t.aggregateValue=String(e.aggregateValue)),t},bt.toObject=function(e,t){var r,n={};if(((t=t||{}).arrays||t.defaults)&&(n.name=[]),t.defaults&&(n.identifierValue="",a.Long?(r=new a.Long(0,0,!0),n.positiveIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.positiveIntValue=t.longs===String?"0":0,a.Long?(r=new a.Long(0,0,!1),n.negativeIntValue=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.negativeIntValue=t.longs===String?"0":0,n.doubleValue=0,t.bytes===String?n.stringValue="":(n.stringValue=[],t.bytes!==Array&&(n.stringValue=a.newBuffer(n.stringValue))),n.aggregateValue=""),e.name&&e.name.length){n.name=[];for(var o=0;o<e.name.length;++o)n.name[o]=s.google.protobuf.UninterpretedOption.NamePart.toObject(e.name[o],t)}return null!=e.identifierValue&&e.hasOwnProperty("identifierValue")&&(n.identifierValue=e.identifierValue),null!=e.positiveIntValue&&e.hasOwnProperty("positiveIntValue")&&("number"==typeof e.positiveIntValue?n.positiveIntValue=t.longs===String?String(e.positiveIntValue):e.positiveIntValue:n.positiveIntValue=t.longs===String?a.Long.prototype.toString.call(e.positiveIntValue):t.longs===Number?new a.LongBits(e.positiveIntValue.low>>>0,e.positiveIntValue.high>>>0).toNumber(!0):e.positiveIntValue),null!=e.negativeIntValue&&e.hasOwnProperty("negativeIntValue")&&("number"==typeof e.negativeIntValue?n.negativeIntValue=t.longs===String?String(e.negativeIntValue):e.negativeIntValue:n.negativeIntValue=t.longs===String?a.Long.prototype.toString.call(e.negativeIntValue):t.longs===Number?new a.LongBits(e.negativeIntValue.low>>>0,e.negativeIntValue.high>>>0).toNumber():e.negativeIntValue),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(n.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(n.stringValue=t.bytes===String?a.base64.encode(e.stringValue,0,e.stringValue.length):t.bytes===Array?Array.prototype.slice.call(e.stringValue):e.stringValue),null!=e.aggregateValue&&e.hasOwnProperty("aggregateValue")&&(n.aggregateValue=e.aggregateValue),n},bt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},bt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.UninterpretedOption"},bt.NamePart=(Et.prototype.namePart="",Et.prototype.isExtension=!1,Et.fromObject=function(e){var t;return e instanceof s.google.protobuf.UninterpretedOption.NamePart?e:(t=new s.google.protobuf.UninterpretedOption.NamePart,null!=e.namePart&&(t.namePart=String(e.namePart)),null!=e.isExtension&&(t.isExtension=Boolean(e.isExtension)),t)},Et.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.namePart="",r.isExtension=!1),null!=e.namePart&&e.hasOwnProperty("namePart")&&(r.namePart=e.namePart),null!=e.isExtension&&e.hasOwnProperty("isExtension")&&(r.isExtension=e.isExtension),r},Et.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Et.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.UninterpretedOption.NamePart"},Et),bt),r.FeatureSet=(_t.prototype.fieldPresence=0,_t.prototype.enumType=0,_t.prototype.repeatedFieldEncoding=0,_t.prototype.utf8Validation=0,_t.prototype.messageEncoding=0,_t.prototype.jsonFormat=0,_t.fromObject=function(e){if(e instanceof s.google.protobuf.FeatureSet)return e;var t=new s.google.protobuf.FeatureSet;switch(e.fieldPresence){default:"number"==typeof e.fieldPresence&&(t.fieldPresence=e.fieldPresence);break;case"FIELD_PRESENCE_UNKNOWN":case 0:t.fieldPresence=0;break;case"EXPLICIT":case 1:t.fieldPresence=1;break;case"IMPLICIT":case 2:t.fieldPresence=2;break;case"LEGACY_REQUIRED":case 3:t.fieldPresence=3}switch(e.enumType){default:"number"==typeof e.enumType&&(t.enumType=e.enumType);break;case"ENUM_TYPE_UNKNOWN":case 0:t.enumType=0;break;case"OPEN":case 1:t.enumType=1;break;case"CLOSED":case 2:t.enumType=2}switch(e.repeatedFieldEncoding){default:"number"==typeof e.repeatedFieldEncoding&&(t.repeatedFieldEncoding=e.repeatedFieldEncoding);break;case"REPEATED_FIELD_ENCODING_UNKNOWN":case 0:t.repeatedFieldEncoding=0;break;case"PACKED":case 1:t.repeatedFieldEncoding=1;break;case"EXPANDED":case 2:t.repeatedFieldEncoding=2}switch(e.utf8Validation){default:"number"==typeof e.utf8Validation&&(t.utf8Validation=e.utf8Validation);break;case"UTF8_VALIDATION_UNKNOWN":case 0:t.utf8Validation=0;break;case"VERIFY":case 2:t.utf8Validation=2;break;case"NONE":case 3:t.utf8Validation=3}switch(e.messageEncoding){default:"number"==typeof e.messageEncoding&&(t.messageEncoding=e.messageEncoding);break;case"MESSAGE_ENCODING_UNKNOWN":case 0:t.messageEncoding=0;break;case"LENGTH_PREFIXED":case 1:t.messageEncoding=1;break;case"DELIMITED":case 2:t.messageEncoding=2}switch(e.jsonFormat){default:"number"==typeof e.jsonFormat&&(t.jsonFormat=e.jsonFormat);break;case"JSON_FORMAT_UNKNOWN":case 0:t.jsonFormat=0;break;case"ALLOW":case 1:t.jsonFormat=1;break;case"LEGACY_BEST_EFFORT":case 2:t.jsonFormat=2}return t},_t.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.fieldPresence=t.enums===String?"FIELD_PRESENCE_UNKNOWN":0,r.enumType=t.enums===String?"ENUM_TYPE_UNKNOWN":0,r.repeatedFieldEncoding=t.enums===String?"REPEATED_FIELD_ENCODING_UNKNOWN":0,r.utf8Validation=t.enums===String?"UTF8_VALIDATION_UNKNOWN":0,r.messageEncoding=t.enums===String?"MESSAGE_ENCODING_UNKNOWN":0,r.jsonFormat=t.enums===String?"JSON_FORMAT_UNKNOWN":0),null!=e.fieldPresence&&e.hasOwnProperty("fieldPresence")&&(r.fieldPresence=t.enums!==String||void 0===s.google.protobuf.FeatureSet.FieldPresence[e.fieldPresence]?e.fieldPresence:s.google.protobuf.FeatureSet.FieldPresence[e.fieldPresence]),null!=e.enumType&&e.hasOwnProperty("enumType")&&(r.enumType=t.enums!==String||void 0===s.google.protobuf.FeatureSet.EnumType[e.enumType]?e.enumType:s.google.protobuf.FeatureSet.EnumType[e.enumType]),null!=e.repeatedFieldEncoding&&e.hasOwnProperty("repeatedFieldEncoding")&&(r.repeatedFieldEncoding=t.enums!==String||void 0===s.google.protobuf.FeatureSet.RepeatedFieldEncoding[e.repeatedFieldEncoding]?e.repeatedFieldEncoding:s.google.protobuf.FeatureSet.RepeatedFieldEncoding[e.repeatedFieldEncoding]),null!=e.utf8Validation&&e.hasOwnProperty("utf8Validation")&&(r.utf8Validation=t.enums!==String||void 0===s.google.protobuf.FeatureSet.Utf8Validation[e.utf8Validation]?e.utf8Validation:s.google.protobuf.FeatureSet.Utf8Validation[e.utf8Validation]),null!=e.messageEncoding&&e.hasOwnProperty("messageEncoding")&&(r.messageEncoding=t.enums!==String||void 0===s.google.protobuf.FeatureSet.MessageEncoding[e.messageEncoding]?e.messageEncoding:s.google.protobuf.FeatureSet.MessageEncoding[e.messageEncoding]),null!=e.jsonFormat&&e.hasOwnProperty("jsonFormat")&&(r.jsonFormat=t.enums!==String||void 0===s.google.protobuf.FeatureSet.JsonFormat[e.jsonFormat]?e.jsonFormat:s.google.protobuf.FeatureSet.JsonFormat[e.jsonFormat]),r},_t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},_t.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FeatureSet"},_t.FieldPresence=(n={},(o=Object.create(n))[n[0]="FIELD_PRESENCE_UNKNOWN"]="FIELD_PRESENCE_UNKNOWN",o[n[1]="EXPLICIT"]="EXPLICIT",o[n[2]="IMPLICIT"]="IMPLICIT",o[n[3]="LEGACY_REQUIRED"]="LEGACY_REQUIRED",o),_t.EnumType=(n={},(o=Object.create(n))[n[0]="ENUM_TYPE_UNKNOWN"]="ENUM_TYPE_UNKNOWN",o[n[1]="OPEN"]="OPEN",o[n[2]="CLOSED"]="CLOSED",o),_t.RepeatedFieldEncoding=(n={},(o=Object.create(n))[n[0]="REPEATED_FIELD_ENCODING_UNKNOWN"]="REPEATED_FIELD_ENCODING_UNKNOWN",o[n[1]="PACKED"]="PACKED",o[n[2]="EXPANDED"]="EXPANDED",o),_t.Utf8Validation=(n={},(o=Object.create(n))[n[0]="UTF8_VALIDATION_UNKNOWN"]="UTF8_VALIDATION_UNKNOWN",o[n[2]="VERIFY"]="VERIFY",o[n[3]="NONE"]="NONE",o),_t.MessageEncoding=(n={},(o=Object.create(n))[n[0]="MESSAGE_ENCODING_UNKNOWN"]="MESSAGE_ENCODING_UNKNOWN",o[n[1]="LENGTH_PREFIXED"]="LENGTH_PREFIXED",o[n[2]="DELIMITED"]="DELIMITED",o),_t.JsonFormat=(n={},(o=Object.create(n))[n[0]="JSON_FORMAT_UNKNOWN"]="JSON_FORMAT_UNKNOWN",o[n[1]="ALLOW"]="ALLOW",o[n[2]="LEGACY_BEST_EFFORT"]="LEGACY_BEST_EFFORT",o),_t),r.FeatureSetDefaults=(Ot.prototype.defaults=a.emptyArray,Ot.prototype.minimumEdition=0,Ot.prototype.maximumEdition=0,Ot.fromObject=function(e){if(e instanceof s.google.protobuf.FeatureSetDefaults)return e;var t=new s.google.protobuf.FeatureSetDefaults;if(e.defaults){if(!Array.isArray(e.defaults))throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: array expected");t.defaults=[];for(var r=0;r<e.defaults.length;++r){if("object"!=typeof e.defaults[r])throw TypeError(".google.protobuf.FeatureSetDefaults.defaults: object expected");t.defaults[r]=s.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.fromObject(e.defaults[r])}}switch(e.minimumEdition){default:"number"==typeof e.minimumEdition&&(t.minimumEdition=e.minimumEdition);break;case"EDITION_UNKNOWN":case 0:t.minimumEdition=0;break;case"EDITION_PROTO2":case 998:t.minimumEdition=998;break;case"EDITION_PROTO3":case 999:t.minimumEdition=999;break;case"EDITION_2023":case 1e3:t.minimumEdition=1e3;break;case"EDITION_2024":case 1001:t.minimumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:t.minimumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:t.minimumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:t.minimumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:t.minimumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:t.minimumEdition=99999;break;case"EDITION_MAX":case 2147483647:t.minimumEdition=2147483647}switch(e.maximumEdition){default:"number"==typeof e.maximumEdition&&(t.maximumEdition=e.maximumEdition);break;case"EDITION_UNKNOWN":case 0:t.maximumEdition=0;break;case"EDITION_PROTO2":case 998:t.maximumEdition=998;break;case"EDITION_PROTO3":case 999:t.maximumEdition=999;break;case"EDITION_2023":case 1e3:t.maximumEdition=1e3;break;case"EDITION_2024":case 1001:t.maximumEdition=1001;break;case"EDITION_1_TEST_ONLY":case 1:t.maximumEdition=1;break;case"EDITION_2_TEST_ONLY":case 2:t.maximumEdition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:t.maximumEdition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:t.maximumEdition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:t.maximumEdition=99999;break;case"EDITION_MAX":case 2147483647:t.maximumEdition=2147483647}return t},Ot.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.defaults=[]),t.defaults&&(r.minimumEdition=t.enums===String?"EDITION_UNKNOWN":0,r.maximumEdition=t.enums===String?"EDITION_UNKNOWN":0),e.defaults&&e.defaults.length){r.defaults=[];for(var n=0;n<e.defaults.length;++n)r.defaults[n]=s.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.toObject(e.defaults[n],t)}return null!=e.minimumEdition&&e.hasOwnProperty("minimumEdition")&&(r.minimumEdition=t.enums!==String||void 0===s.google.protobuf.Edition[e.minimumEdition]?e.minimumEdition:s.google.protobuf.Edition[e.minimumEdition]),null!=e.maximumEdition&&e.hasOwnProperty("maximumEdition")&&(r.maximumEdition=t.enums!==String||void 0===s.google.protobuf.Edition[e.maximumEdition]?e.maximumEdition:s.google.protobuf.Edition[e.maximumEdition]),r},Ot.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ot.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FeatureSetDefaults"},Ot.FeatureSetEditionDefault=(wt.prototype.edition=0,wt.prototype.features=null,wt.fromObject=function(e){if(e instanceof s.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault)return e;var t=new s.google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault;switch(e.edition){default:"number"==typeof e.edition&&(t.edition=e.edition);break;case"EDITION_UNKNOWN":case 0:t.edition=0;break;case"EDITION_PROTO2":case 998:t.edition=998;break;case"EDITION_PROTO3":case 999:t.edition=999;break;case"EDITION_2023":case 1e3:t.edition=1e3;break;case"EDITION_2024":case 1001:t.edition=1001;break;case"EDITION_1_TEST_ONLY":case 1:t.edition=1;break;case"EDITION_2_TEST_ONLY":case 2:t.edition=2;break;case"EDITION_99997_TEST_ONLY":case 99997:t.edition=99997;break;case"EDITION_99998_TEST_ONLY":case 99998:t.edition=99998;break;case"EDITION_99999_TEST_ONLY":case 99999:t.edition=99999;break;case"EDITION_MAX":case 2147483647:t.edition=2147483647}if(null!=e.features){if("object"!=typeof e.features)throw TypeError(".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault.features: object expected");t.features=s.google.protobuf.FeatureSet.fromObject(e.features)}return t},wt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.features=null,r.edition=t.enums===String?"EDITION_UNKNOWN":0),null!=e.features&&e.hasOwnProperty("features")&&(r.features=s.google.protobuf.FeatureSet.toObject(e.features,t)),null!=e.edition&&e.hasOwnProperty("edition")&&(r.edition=t.enums!==String||void 0===s.google.protobuf.Edition[e.edition]?e.edition:s.google.protobuf.Edition[e.edition]),r},wt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},wt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},wt),Ot),r.SourceCodeInfo=(St.prototype.location=a.emptyArray,St.fromObject=function(e){if(e instanceof s.google.protobuf.SourceCodeInfo)return e;var t=new s.google.protobuf.SourceCodeInfo;if(e.location){if(!Array.isArray(e.location))throw TypeError(".google.protobuf.SourceCodeInfo.location: array expected");t.location=[];for(var r=0;r<e.location.length;++r){if("object"!=typeof e.location[r])throw TypeError(".google.protobuf.SourceCodeInfo.location: object expected");t.location[r]=s.google.protobuf.SourceCodeInfo.Location.fromObject(e.location[r])}}return t},St.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.location=[]),e.location&&e.location.length){r.location=[];for(var n=0;n<e.location.length;++n)r.location[n]=s.google.protobuf.SourceCodeInfo.Location.toObject(e.location[n],t)}return r},St.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},St.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.SourceCodeInfo"},St.Location=(Tt.prototype.path=a.emptyArray,Tt.prototype.span=a.emptyArray,Tt.prototype.leadingComments="",Tt.prototype.trailingComments="",Tt.prototype.leadingDetachedComments=a.emptyArray,Tt.fromObject=function(e){if(e instanceof s.google.protobuf.SourceCodeInfo.Location)return e;var t=new s.google.protobuf.SourceCodeInfo.Location;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.SourceCodeInfo.Location.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}if(e.span){if(!Array.isArray(e.span))throw TypeError(".google.protobuf.SourceCodeInfo.Location.span: array expected");for(t.span=[],r=0;r<e.span.length;++r)t.span[r]=0|e.span[r]}if(null!=e.leadingComments&&(t.leadingComments=String(e.leadingComments)),null!=e.trailingComments&&(t.trailingComments=String(e.trailingComments)),e.leadingDetachedComments){if(!Array.isArray(e.leadingDetachedComments))throw TypeError(".google.protobuf.SourceCodeInfo.Location.leadingDetachedComments: array expected");for(t.leadingDetachedComments=[],r=0;r<e.leadingDetachedComments.length;++r)t.leadingDetachedComments[r]=String(e.leadingDetachedComments[r])}return t},Tt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[],r.span=[],r.leadingDetachedComments=[]),t.defaults&&(r.leadingComments="",r.trailingComments=""),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}if(e.span&&e.span.length)for(r.span=[],n=0;n<e.span.length;++n)r.span[n]=e.span[n];if(null!=e.leadingComments&&e.hasOwnProperty("leadingComments")&&(r.leadingComments=e.leadingComments),null!=e.trailingComments&&e.hasOwnProperty("trailingComments")&&(r.trailingComments=e.trailingComments),e.leadingDetachedComments&&e.leadingDetachedComments.length)for(r.leadingDetachedComments=[],n=0;n<e.leadingDetachedComments.length;++n)r.leadingDetachedComments[n]=e.leadingDetachedComments[n];return r},Tt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Tt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.SourceCodeInfo.Location"},Tt),St),r.GeneratedCodeInfo=(At.prototype.annotation=a.emptyArray,At.fromObject=function(e){if(e instanceof s.google.protobuf.GeneratedCodeInfo)return e;var t=new s.google.protobuf.GeneratedCodeInfo;if(e.annotation){if(!Array.isArray(e.annotation))throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: array expected");t.annotation=[];for(var r=0;r<e.annotation.length;++r){if("object"!=typeof e.annotation[r])throw TypeError(".google.protobuf.GeneratedCodeInfo.annotation: object expected");t.annotation[r]=s.google.protobuf.GeneratedCodeInfo.Annotation.fromObject(e.annotation[r])}}return t},At.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.annotation=[]),e.annotation&&e.annotation.length){r.annotation=[];for(var n=0;n<e.annotation.length;++n)r.annotation[n]=s.google.protobuf.GeneratedCodeInfo.Annotation.toObject(e.annotation[n],t)}return r},At.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},At.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.GeneratedCodeInfo"},At.Annotation=(Ct.prototype.path=a.emptyArray,Ct.prototype.sourceFile="",Ct.prototype.begin=0,Ct.prototype.end=0,Ct.prototype.semantic=0,Ct.fromObject=function(e){if(e instanceof s.google.protobuf.GeneratedCodeInfo.Annotation)return e;var t=new s.google.protobuf.GeneratedCodeInfo.Annotation;if(e.path){if(!Array.isArray(e.path))throw TypeError(".google.protobuf.GeneratedCodeInfo.Annotation.path: array expected");t.path=[];for(var r=0;r<e.path.length;++r)t.path[r]=0|e.path[r]}switch(null!=e.sourceFile&&(t.sourceFile=String(e.sourceFile)),null!=e.begin&&(t.begin=0|e.begin),null!=e.end&&(t.end=0|e.end),e.semantic){default:"number"==typeof e.semantic&&(t.semantic=e.semantic);break;case"NONE":case 0:t.semantic=0;break;case"SET":case 1:t.semantic=1;break;case"ALIAS":case 2:t.semantic=2}return t},Ct.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.path=[]),t.defaults&&(r.sourceFile="",r.begin=0,r.end=0,r.semantic=t.enums===String?"NONE":0),e.path&&e.path.length){r.path=[];for(var n=0;n<e.path.length;++n)r.path[n]=e.path[n]}return null!=e.sourceFile&&e.hasOwnProperty("sourceFile")&&(r.sourceFile=e.sourceFile),null!=e.begin&&e.hasOwnProperty("begin")&&(r.begin=e.begin),null!=e.end&&e.hasOwnProperty("end")&&(r.end=e.end),null!=e.semantic&&e.hasOwnProperty("semantic")&&(r.semantic=t.enums!==String||void 0===s.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[e.semantic]?e.semantic:s.google.protobuf.GeneratedCodeInfo.Annotation.Semantic[e.semantic]),r},Ct.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ct.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.GeneratedCodeInfo.Annotation"},Ct.Semantic=(n={},(o=Object.create(n))[n[0]="NONE"]="NONE",o[n[1]="SET"]="SET",o[n[2]="ALIAS"]="ALIAS",o),Ct),At),r.Struct=(It.prototype.fields=a.emptyObject,It.fromObject=function(e){if(e instanceof s.google.protobuf.Struct)return e;var t=new s.google.protobuf.Struct;if(e.fields){if("object"!=typeof e.fields)throw TypeError(".google.protobuf.Struct.fields: object expected");t.fields={};for(var r=Object.keys(e.fields),n=0;n<r.length;++n){if("object"!=typeof e.fields[r[n]])throw TypeError(".google.protobuf.Struct.fields: object expected");t.fields[r[n]]=s.google.protobuf.Value.fromObject(e.fields[r[n]])}}return t},It.toObject=function(e,t){var r,n={};if(((t=t||{}).objects||t.defaults)&&(n.fields={}),e.fields&&(r=Object.keys(e.fields)).length){n.fields={};for(var o=0;o<r.length;++o)n.fields[r[o]]=s.google.protobuf.Value.toObject(e.fields[r[o]],t)}return n},It.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},It.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Struct"},It),r.Value=(Nt.prototype.nullValue=null,Nt.prototype.numberValue=null,Nt.prototype.stringValue=null,Nt.prototype.boolValue=null,Nt.prototype.structValue=null,Nt.prototype.listValue=null,Object.defineProperty(Nt.prototype,"kind",{get:a.oneOfGetter(n=["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]),set:a.oneOfSetter(n)}),Nt.fromObject=function(e){if(e instanceof s.google.protobuf.Value)return e;var t=new s.google.protobuf.Value;switch(e.nullValue){default:"number"==typeof e.nullValue&&(t.nullValue=e.nullValue);break;case"NULL_VALUE":case 0:t.nullValue=0}if(null!=e.numberValue&&(t.numberValue=Number(e.numberValue)),null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=Boolean(e.boolValue)),null!=e.structValue){if("object"!=typeof e.structValue)throw TypeError(".google.protobuf.Value.structValue: object expected");t.structValue=s.google.protobuf.Struct.fromObject(e.structValue)}if(null!=e.listValue){if("object"!=typeof e.listValue)throw TypeError(".google.protobuf.Value.listValue: object expected");t.listValue=s.google.protobuf.ListValue.fromObject(e.listValue)}return t},Nt.toObject=function(e,t){t=t||{};var r={};return null!=e.nullValue&&e.hasOwnProperty("nullValue")&&(r.nullValue=t.enums!==String||void 0===s.google.protobuf.NullValue[e.nullValue]?e.nullValue:s.google.protobuf.NullValue[e.nullValue],t.oneofs)&&(r.kind="nullValue"),null!=e.numberValue&&e.hasOwnProperty("numberValue")&&(r.numberValue=t.json&&!isFinite(e.numberValue)?String(e.numberValue):e.numberValue,t.oneofs)&&(r.kind="numberValue"),null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs)&&(r.kind="stringValue"),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue,t.oneofs)&&(r.kind="boolValue"),null!=e.structValue&&e.hasOwnProperty("structValue")&&(r.structValue=s.google.protobuf.Struct.toObject(e.structValue,t),t.oneofs)&&(r.kind="structValue"),null!=e.listValue&&e.hasOwnProperty("listValue")&&(r.listValue=s.google.protobuf.ListValue.toObject(e.listValue,t),t.oneofs)&&(r.kind="listValue"),r},Nt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Nt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Value"},Nt),r.NullValue=(o={},(n=Object.create(o))[o[0]="NULL_VALUE"]="NULL_VALUE",n),r.ListValue=(Pt.prototype.values=a.emptyArray,Pt.fromObject=function(e){if(e instanceof s.google.protobuf.ListValue)return e;var t=new s.google.protobuf.ListValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".google.protobuf.ListValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".google.protobuf.ListValue.values: object expected");t.values[r]=s.google.protobuf.Value.fromObject(e.values[r])}}return t},Pt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=s.google.protobuf.Value.toObject(e.values[n],t)}return r},Pt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Pt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.ListValue"},Pt),r.Timestamp=(Rt.prototype.seconds=a.Long?a.Long.fromBits(0,0,!1):0,Rt.prototype.nanos=0,Rt.fromObject=function(e){var t;return e instanceof s.google.protobuf.Timestamp?e:(t=new s.google.protobuf.Timestamp,null!=e.seconds&&(a.Long?(t.seconds=a.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new a.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t)},Rt.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(a.Long?(r=new a.Long(0,0,!1),n.seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.seconds=t.longs===String?"0":0,n.nanos=0),null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?a.Long.prototype.toString.call(e.seconds):t.longs===Number?new a.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},Rt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Rt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Timestamp"},Rt),r.Duration=(Dt.prototype.seconds=a.Long?a.Long.fromBits(0,0,!1):0,Dt.prototype.nanos=0,Dt.fromObject=function(e){var t;return e instanceof s.google.protobuf.Duration?e:(t=new s.google.protobuf.Duration,null!=e.seconds&&(a.Long?(t.seconds=a.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new a.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t)},Dt.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(a.Long?(r=new a.Long(0,0,!1),n.seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.seconds=t.longs===String?"0":0,n.nanos=0),null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?a.Long.prototype.toString.call(e.seconds):t.longs===Number?new a.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},Dt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Dt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Duration"},Dt),r.DoubleValue=(kt.prototype.value=0,kt.fromObject=function(e){var t;return e instanceof s.google.protobuf.DoubleValue?e:(t=new s.google.protobuf.DoubleValue,null!=e.value&&(t.value=Number(e.value)),t)},kt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},kt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},kt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.DoubleValue"},kt),r.FloatValue=(xt.prototype.value=0,xt.fromObject=function(e){var t;return e instanceof s.google.protobuf.FloatValue?e:(t=new s.google.protobuf.FloatValue,null!=e.value&&(t.value=Number(e.value)),t)},xt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},xt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},xt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FloatValue"},xt),r.Int64Value=(jt.prototype.value=a.Long?a.Long.fromBits(0,0,!1):0,jt.fromObject=function(e){var t;return e instanceof s.google.protobuf.Int64Value?e:(t=new s.google.protobuf.Int64Value,null!=e.value&&(a.Long?(t.value=a.Long.fromValue(e.value)).unsigned=!1:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"==typeof e.value&&(t.value=new a.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber())),t)},jt.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(a.Long?(r=new a.Long(0,0,!1),n.value=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.value=t.longs===String?"0":0),null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?a.Long.prototype.toString.call(e.value):t.longs===Number?new a.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber():e.value),n},jt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},jt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Int64Value"},jt),r.UInt64Value=(Lt.prototype.value=a.Long?a.Long.fromBits(0,0,!0):0,Lt.fromObject=function(e){var t;return e instanceof s.google.protobuf.UInt64Value?e:(t=new s.google.protobuf.UInt64Value,null!=e.value&&(a.Long?(t.value=a.Long.fromValue(e.value)).unsigned=!0:"string"==typeof e.value?t.value=parseInt(e.value,10):"number"==typeof e.value?t.value=e.value:"object"==typeof e.value&&(t.value=new a.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0))),t)},Lt.toObject=function(e,t){var r,n={};return(t=t||{}).defaults&&(a.Long?(r=new a.Long(0,0,!0),n.value=t.longs===String?r.toString():t.longs===Number?r.toNumber():r):n.value=t.longs===String?"0":0),null!=e.value&&e.hasOwnProperty("value")&&("number"==typeof e.value?n.value=t.longs===String?String(e.value):e.value:n.value=t.longs===String?a.Long.prototype.toString.call(e.value):t.longs===Number?new a.LongBits(e.value.low>>>0,e.value.high>>>0).toNumber(!0):e.value),n},Lt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Lt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.UInt64Value"},Lt),r.Int32Value=(Ft.prototype.value=0,Ft.fromObject=function(e){var t;return e instanceof s.google.protobuf.Int32Value?e:(t=new s.google.protobuf.Int32Value,null!=e.value&&(t.value=0|e.value),t)},Ft.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},Ft.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ft.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Int32Value"},Ft),r.UInt32Value=(Mt.prototype.value=0,Mt.fromObject=function(e){var t;return e instanceof s.google.protobuf.UInt32Value?e:(t=new s.google.protobuf.UInt32Value,null!=e.value&&(t.value=e.value>>>0),t)},Mt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value=0),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},Mt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Mt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.UInt32Value"},Mt),r.BoolValue=(Ut.prototype.value=!1,Ut.fromObject=function(e){var t;return e instanceof s.google.protobuf.BoolValue?e:(t=new s.google.protobuf.BoolValue,null!=e.value&&(t.value=Boolean(e.value)),t)},Ut.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value=!1),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},Ut.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ut.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.BoolValue"},Ut),r.StringValue=(Bt.prototype.value="",Bt.fromObject=function(e){var t;return e instanceof s.google.protobuf.StringValue?e:(t=new s.google.protobuf.StringValue,null!=e.value&&(t.value=String(e.value)),t)},Bt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.value=""),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},Bt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Bt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.StringValue"},Bt),r.BytesValue=(Vt.prototype.value=a.newBuffer([]),Vt.fromObject=function(e){var t;return e instanceof s.google.protobuf.BytesValue?e:(t=new s.google.protobuf.BytesValue,null!=e.value&&("string"==typeof e.value?a.base64.decode(e.value,t.value=a.newBuffer(a.base64.length(e.value)),0):0<=e.value.length&&(t.value=e.value)),t)},Vt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(t.bytes===String?r.value="":(r.value=[],t.bytes!==Array&&(r.value=a.newBuffer(r.value)))),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.bytes===String?a.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),r},Vt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Vt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.BytesValue"},Vt),r.Empty=(qt.fromObject=function(e){return e instanceof s.google.protobuf.Empty?e:new s.google.protobuf.Empty},qt.toObject=function(){return{}},qt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},qt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Empty"},qt),r.Any=(Gt.prototype.type_url="",Gt.prototype.value=a.newBuffer([]),Gt.fromObject=function(e){var t;return e instanceof s.google.protobuf.Any?e:(t=new s.google.protobuf.Any,null!=e.type_url&&(t.type_url=String(e.type_url)),null!=e.value&&("string"==typeof e.value?a.base64.decode(e.value,t.value=a.newBuffer(a.base64.length(e.value)),0):0<=e.value.length&&(t.value=e.value)),t)},Gt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.type_url="",t.bytes===String?r.value="":(r.value=[],t.bytes!==Array&&(r.value=a.newBuffer(r.value)))),null!=e.type_url&&e.hasOwnProperty("type_url")&&(r.type_url=e.type_url),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.bytes===String?a.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),r},Gt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Gt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.Any"},Gt),r.FieldMask=(Ht.prototype.paths=a.emptyArray,Ht.fromObject=function(e){if(e instanceof s.google.protobuf.FieldMask)return e;var t=new s.google.protobuf.FieldMask;if(e.paths){if(!Array.isArray(e.paths))throw TypeError(".google.protobuf.FieldMask.paths: array expected");t.paths=[];for(var r=0;r<e.paths.length;++r)t.paths[r]=String(e.paths[r])}return t},Ht.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.paths=[]),e.paths&&e.paths.length){r.paths=[];for(var n=0;n<e.paths.length;++n)r.paths[n]=e.paths[n]}return r},Ht.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Ht.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.protobuf.FieldMask"},Ht),r),i.type=((t={}).LatLng=(zt.prototype.latitude=0,zt.prototype.longitude=0,zt.fromObject=function(e){var t;return e instanceof s.google.type.LatLng?e:(t=new s.google.type.LatLng,null!=e.latitude&&(t.latitude=Number(e.latitude)),null!=e.longitude&&(t.longitude=Number(e.longitude)),t)},zt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.latitude=0,r.longitude=0),null!=e.latitude&&e.hasOwnProperty("latitude")&&(r.latitude=t.json&&!isFinite(e.latitude)?String(e.latitude):e.latitude),null!=e.longitude&&e.hasOwnProperty("longitude")&&(r.longitude=t.json&&!isFinite(e.longitude)?String(e.longitude):e.longitude),r},zt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},zt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.type.LatLng"},zt),t.DayOfWeek=(o={},(n=Object.create(o))[o[0]="DAY_OF_WEEK_UNSPECIFIED"]="DAY_OF_WEEK_UNSPECIFIED",n[o[1]="MONDAY"]="MONDAY",n[o[2]="TUESDAY"]="TUESDAY",n[o[3]="WEDNESDAY"]="WEDNESDAY",n[o[4]="THURSDAY"]="THURSDAY",n[o[5]="FRIDAY"]="FRIDAY",n[o[6]="SATURDAY"]="SATURDAY",n[o[7]="SUNDAY"]="SUNDAY",n),t),i.rpc=((r={}).Status=(Wt.prototype.code=0,Wt.prototype.message="",Wt.prototype.details=a.emptyArray,Wt.fromObject=function(e){if(e instanceof s.google.rpc.Status)return e;var t=new s.google.rpc.Status;if(null!=e.code&&(t.code=0|e.code),null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(".google.rpc.Status.details: array expected");t.details=[];for(var r=0;r<e.details.length;++r){if("object"!=typeof e.details[r])throw TypeError(".google.rpc.Status.details: object expected");t.details[r]=s.google.protobuf.Any.fromObject(e.details[r])}}return t},Wt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.details=[]),t.defaults&&(r.code=0,r.message=""),null!=e.code&&e.hasOwnProperty("code")&&(r.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),e.details&&e.details.length){r.details=[];for(var n=0;n<e.details.length;++n)r.details[n]=s.google.protobuf.Any.toObject(e.details[n],t)}return r},Wt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Wt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.rpc.Status"},Wt),r),i.longrunning=((o={}).Operations=((Jt.prototype=Object.create(e.rpc.Service.prototype)).constructor=Jt,Object.defineProperty(Jt.prototype.listOperations=function e(t,r){return this.rpcCall(e,s.google.longrunning.ListOperationsRequest,s.google.longrunning.ListOperationsResponse,t,r)},"name",{value:"ListOperations"}),Object.defineProperty(Jt.prototype.getOperation=function e(t,r){return this.rpcCall(e,s.google.longrunning.GetOperationRequest,s.google.longrunning.Operation,t,r)},"name",{value:"GetOperation"}),Object.defineProperty(Jt.prototype.deleteOperation=function e(t,r){return this.rpcCall(e,s.google.longrunning.DeleteOperationRequest,s.google.protobuf.Empty,t,r)},"name",{value:"DeleteOperation"}),Object.defineProperty(Jt.prototype.cancelOperation=function e(t,r){return this.rpcCall(e,s.google.longrunning.CancelOperationRequest,s.google.protobuf.Empty,t,r)},"name",{value:"CancelOperation"}),Object.defineProperty(Jt.prototype.waitOperation=function e(t,r){return this.rpcCall(e,s.google.longrunning.WaitOperationRequest,s.google.longrunning.Operation,t,r)},"name",{value:"WaitOperation"}),Jt),o.Operation=(Kt.prototype.name="",Kt.prototype.metadata=null,Kt.prototype.done=!1,Kt.prototype.error=null,Kt.prototype.response=null,Object.defineProperty(Kt.prototype,"result",{get:a.oneOfGetter(n=["error","response"]),set:a.oneOfSetter(n)}),Kt.fromObject=function(e){if(e instanceof s.google.longrunning.Operation)return e;var t=new s.google.longrunning.Operation;if(null!=e.name&&(t.name=String(e.name)),null!=e.metadata){if("object"!=typeof e.metadata)throw TypeError(".google.longrunning.Operation.metadata: object expected");t.metadata=s.google.protobuf.Any.fromObject(e.metadata)}if(null!=e.done&&(t.done=Boolean(e.done)),null!=e.error){if("object"!=typeof e.error)throw TypeError(".google.longrunning.Operation.error: object expected");t.error=s.google.rpc.Status.fromObject(e.error)}if(null!=e.response){if("object"!=typeof e.response)throw TypeError(".google.longrunning.Operation.response: object expected");t.response=s.google.protobuf.Any.fromObject(e.response)}return t},Kt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.metadata=null,r.done=!1),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.metadata&&e.hasOwnProperty("metadata")&&(r.metadata=s.google.protobuf.Any.toObject(e.metadata,t)),null!=e.done&&e.hasOwnProperty("done")&&(r.done=e.done),null!=e.error&&e.hasOwnProperty("error")&&(r.error=s.google.rpc.Status.toObject(e.error,t),t.oneofs)&&(r.result="error"),null!=e.response&&e.hasOwnProperty("response")&&(r.response=s.google.protobuf.Any.toObject(e.response,t),t.oneofs)&&(r.result="response"),r},Kt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Kt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.Operation"},Kt),o.GetOperationRequest=(Yt.prototype.name="",Yt.fromObject=function(e){var t;return e instanceof s.google.longrunning.GetOperationRequest?e:(t=new s.google.longrunning.GetOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},Yt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},Yt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Yt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.GetOperationRequest"},Yt),o.ListOperationsRequest=($t.prototype.name="",$t.prototype.filter="",$t.prototype.pageSize=0,$t.prototype.pageToken="",$t.fromObject=function(e){var t;return e instanceof s.google.longrunning.ListOperationsRequest?e:(t=new s.google.longrunning.ListOperationsRequest,null!=e.name&&(t.name=String(e.name)),null!=e.filter&&(t.filter=String(e.filter)),null!=e.pageSize&&(t.pageSize=0|e.pageSize),null!=e.pageToken&&(t.pageToken=String(e.pageToken)),t)},$t.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.filter="",r.pageSize=0,r.pageToken="",r.name=""),null!=e.filter&&e.hasOwnProperty("filter")&&(r.filter=e.filter),null!=e.pageSize&&e.hasOwnProperty("pageSize")&&(r.pageSize=e.pageSize),null!=e.pageToken&&e.hasOwnProperty("pageToken")&&(r.pageToken=e.pageToken),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},$t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},$t.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.ListOperationsRequest"},$t),o.ListOperationsResponse=(Qt.prototype.operations=a.emptyArray,Qt.prototype.nextPageToken="",Qt.fromObject=function(e){if(e instanceof s.google.longrunning.ListOperationsResponse)return e;var t=new s.google.longrunning.ListOperationsResponse;if(e.operations){if(!Array.isArray(e.operations))throw TypeError(".google.longrunning.ListOperationsResponse.operations: array expected");t.operations=[];for(var r=0;r<e.operations.length;++r){if("object"!=typeof e.operations[r])throw TypeError(".google.longrunning.ListOperationsResponse.operations: object expected");t.operations[r]=s.google.longrunning.Operation.fromObject(e.operations[r])}}return null!=e.nextPageToken&&(t.nextPageToken=String(e.nextPageToken)),t},Qt.toObject=function(e,t){var r={};if(((t=t||{}).arrays||t.defaults)&&(r.operations=[]),t.defaults&&(r.nextPageToken=""),e.operations&&e.operations.length){r.operations=[];for(var n=0;n<e.operations.length;++n)r.operations[n]=s.google.longrunning.Operation.toObject(e.operations[n],t)}return null!=e.nextPageToken&&e.hasOwnProperty("nextPageToken")&&(r.nextPageToken=e.nextPageToken),r},Qt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Qt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.ListOperationsResponse"},Qt),o.CancelOperationRequest=(Xt.prototype.name="",Xt.fromObject=function(e){var t;return e instanceof s.google.longrunning.CancelOperationRequest?e:(t=new s.google.longrunning.CancelOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},Xt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},Xt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Xt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.CancelOperationRequest"},Xt),o.DeleteOperationRequest=(Zt.prototype.name="",Zt.fromObject=function(e){var t;return e instanceof s.google.longrunning.DeleteOperationRequest?e:(t=new s.google.longrunning.DeleteOperationRequest,null!=e.name&&(t.name=String(e.name)),t)},Zt.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),r},Zt.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},Zt.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.DeleteOperationRequest"},Zt),o.WaitOperationRequest=(er.prototype.name="",er.prototype.timeout=null,er.fromObject=function(e){if(e instanceof s.google.longrunning.WaitOperationRequest)return e;var t=new s.google.longrunning.WaitOperationRequest;if(null!=e.name&&(t.name=String(e.name)),null!=e.timeout){if("object"!=typeof e.timeout)throw TypeError(".google.longrunning.WaitOperationRequest.timeout: object expected");t.timeout=s.google.protobuf.Duration.fromObject(e.timeout)}return t},er.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.name="",r.timeout=null),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.timeout&&e.hasOwnProperty("timeout")&&(r.timeout=s.google.protobuf.Duration.toObject(e.timeout,t)),r},er.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},er.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.WaitOperationRequest"},er),o.OperationInfo=(tr.prototype.responseType="",tr.prototype.metadataType="",tr.fromObject=function(e){var t;return e instanceof s.google.longrunning.OperationInfo?e:(t=new s.google.longrunning.OperationInfo,null!=e.responseType&&(t.responseType=String(e.responseType)),null!=e.metadataType&&(t.metadataType=String(e.metadataType)),t)},tr.toObject=function(e,t){var r={};return(t=t||{}).defaults&&(r.responseType="",r.metadataType=""),null!=e.responseType&&e.hasOwnProperty("responseType")&&(r.responseType=e.responseType),null!=e.metadataType&&e.hasOwnProperty("metadataType")&&(r.metadataType=e.metadataType),r},tr.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},tr.getTypeUrl=function(e){return(e=void 0===e?"type.googleapis.com":e)+"/google.longrunning.OperationInfo"},tr),o),i),s})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";
/*!
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ClientPool=t.CLIENT_TERMINATED_ERROR_MSG=void 0;const n=r(45),o=r(25),i=r(13);t.CLIENT_TERMINATED_ERROR_MSG="The client has already been terminated";t.ClientPool=class{constructor(e,t,r,n=(()=>Promise.resolve())){this.concurrentOperationLimit=e,this.maxIdleClients=t,this.clientFactory=r,this.clientDestructor=n,this.grpcEnabled=!1,this.activeClients=new Map,this.failedClients=new Set,this.terminated=!1,this.terminateDeferred=new i.Deferred}acquire(e,t){let r=null,i=-1;this.grpcEnabled=this.grpcEnabled||t,t=t||this.grpcEnabled;for(const[e,n]of this.activeClients)!this.failedClients.has(e)&&n.activeRequestCount>i&&n.activeRequestCount<this.concurrentOperationLimit&&(n.grpcEnabled||!t)&&(r=e,i=n.activeRequestCount);return r?(0,o.logger)("ClientPool.acquire",e,"Re-using existing client with %s remaining operations",this.concurrentOperationLimit-i):((0,o.logger)("ClientPool.acquire",e,"Creating a new client (requiresGrpc: %s)",t),r=this.clientFactory(t),i=0,n(!this.activeClients.has(r),"The provided client factory returned an existing instance")),this.activeClients.set(r,{grpcEnabled:t,activeRequestCount:i+1}),r}async release(e,t){const r=this.activeClients.get(t);n(r&&r.activeRequestCount>0,"No active requests"),this.activeClients.set(t,{grpcEnabled:r.grpcEnabled,activeRequestCount:r.activeRequestCount-1}),this.terminated&&0===this.opCount&&this.terminateDeferred.resolve(),this.shouldGarbageCollectClient(t)&&(this.activeClients.delete(t),this.failedClients.delete(t),await this.clientDestructor(t),(0,o.logger)("ClientPool.release",e,"Garbage collected 1 client"))}shouldGarbageCollectClient(e){const t=this.activeClients.get(e);if(0!==t.activeRequestCount)return!1;if(this.grpcEnabled!==t.grpcEnabled)return!0;if(this.failedClients.has(e))return!0;let r=0;for(const[,e]of this.activeClients)r+=this.concurrentOperationLimit-e.activeRequestCount;return r>this.maxIdleClients*this.concurrentOperationLimit}get size(){return this.activeClients.size}get opCount(){let e=0;return this.activeClients.forEach(t=>e+=t.activeRequestCount),e}get _activeClients(){return this.activeClients}run(e,r,n){if(this.terminated)return Promise.reject(new Error(t.CLIENT_TERMINATED_ERROR_MSG));const o=this.acquire(e,r);return n(o).catch(async t=>{var r;return(null===(r=t.message)||void 0===r?void 0:r.match(/RST_STREAM/))&&this.failedClients.add(o),await this.release(e,o),Promise.reject(t)}).then(async t=>(await this.release(e,o),t))}async terminate(){this.terminated=!0,this.opCount>0&&((0,o.logger)("ClientPool.terminate",null,"Waiting for %s pending operations to complete before terminating",this.opCount),await this.terminateDeferred.promise);for(const[e]of this.activeClients)this.activeClients.delete(e),await this.clientDestructor(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionGroup=void 0;const n=r(432),o=r(13),i=r(25),a=r(116),s=r(157),l=r(15),p=r(14),c=r(80),u=r(408),d=r(42);class h extends a.Query{constructor(e,t,r){super(e,s.QueryOptions.forCollectionGroupQuery(t,r))}async*getPartitions(e){const t=[];await this._firestore._traceUtil.startActiveSpan(d.SPAN_NAME_PARTITION_QUERY,async()=>{var r;(0,p.validateInteger)("desiredPartitionCount",e,{minValue:1});const n=(0,o.requestTag)();if(await this.firestore.initializeIfNeeded(n),e>1){const o=this.orderBy(l.FieldPath.documentId()).toProto();o.partitionCount=e-1;const i=await this.firestore.requestStream("partitionQueryStream",!1,o,n);i.resume();for await(const e of i)t.push(null!==(r=e.values)&&void 0!==r?r:[])}(0,i.logger)("Firestore.getPartitions",n,"Received %d partitions",t.length),t.sort((e,t)=>(0,u.compareArrays)(e,t))});for(let e=0;e<t.length;++e)yield new n.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,e>0?t[e-1]:void 0,t[e]);yield new n.QueryPartition(this._firestore,this._queryOptions.collectionId,this._queryOptions.converter,t.pop(),void 0)}withConverter(e){return new h(this.firestore,this._queryOptions.collectionId,null!=e?e:(0,c.defaultConverter)())}}t.CollectionGroup=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecursiveDelete=t.RECURSIVE_DELETE_MIN_PENDING_OPS=t.RECURSIVE_DELETE_MAX_PENDING_OPS=t.REFERENCE_NAME_MIN_ID=void 0;const n=r(45),o=r(58),i=r(13),a=r(157);
/*!
 * Datastore allowed numeric IDs where Firestore only allows strings. Numeric
 * IDs are exposed to Firestore as __idNUM__, so this is the lowest possible
 * negative numeric value expressed in that format.
 *
 * This constant is used to specify startAt/endAt values when querying for all
 * descendants in a single collection.
 */
t.REFERENCE_NAME_MIN_ID="__id-9223372036854775808__",
/*!
 * The query limit used for recursive deletes when fetching all descendants of
 * the specified reference to delete. This is done to prevent the query stream
 * from streaming documents faster than Firestore can delete.
 */
t.RECURSIVE_DELETE_MAX_PENDING_OPS=5e3,
/*!
 * The number of pending BulkWriter operations at which RecursiveDelete
 * starts the next limit query to fetch descendants. By starting the query
 * while there are pending operations, Firestore can improve BulkWriter
 * throughput. This helps prevent BulkWriter from idling while Firestore
 * fetches the next query.
 */
t.RECURSIVE_DELETE_MIN_PENDING_OPS=1e3;t.RecursiveDelete=class{constructor(e,t,r,n,o){this.firestore=e,this.writer=t,this.ref=r,this.maxLimit=n,this.minLimit=o,this.errorCount=0,this.documentsPending=!0,this.started=!1,this.completionDeferred=new i.Deferred,this.streamInProgress=!1,this.pendingOpsCount=0,this.errorStack="",this.maxPendingOps=n,this.minPendingOps=o}run(){return n(!this.started,"RecursiveDelete.run() should only be called once."),this.errorStack=Error().stack,this.writer._verifyNotClosed(),this.setupStream(),this.completionDeferred.promise}setupStream(){const e=this.getAllDescendants((this.ref,o.CollectionReference,this.ref));this.streamInProgress=!0;let t=0;e.on("error",e=>{e.code=14,e.stack="Failed to fetch children documents: "+e.stack,this.lastError=e,this.onQueryEnd()}).on("data",e=>{t++,this.lastDocumentSnap=e,this.deleteRef(e.ref)}).on("end",()=>{this.streamInProgress=!1,t<this.minPendingOps?this.onQueryEnd():0===this.pendingOpsCount&&this.setupStream()})}getAllDescendants(e){let r=e._resourcePath;e instanceof o.CollectionReference&&(r=r.popLast());const n=e instanceof o.CollectionReference?e.id:e.parent.id;let i=new o.Query(this.firestore,a.QueryOptions.forKindlessAllDescendants(r,n,!1));if(i=i.select(o.FieldPath.documentId()).limit(this.maxPendingOps),e instanceof o.CollectionReference){const e=String.fromCharCode(0),r=n+"/"+t.REFERENCE_NAME_MIN_ID,a=n+e+"/"+t.REFERENCE_NAME_MIN_ID;i=i.where(o.FieldPath.documentId(),">=",r).where(o.FieldPath.documentId(),"<",a)}return this.lastDocumentSnap&&(i=i.startAfter(this.lastDocumentSnap)),i.stream()}onQueryEnd(){this.documentsPending=!1,this.ref instanceof o.DocumentReference&&this.writer.delete(this.ref).catch(e=>this.incrementErrorCount(e)),this.writer.flush().then(async()=>{var e;if(void 0===this.lastError)this.completionDeferred.resolve();else{let t=new(r(49).GoogleError)(this.errorCount+" "+(1!==this.errorCount?"deletes":"delete")+" failed. The last delete failed with: ");void 0!==this.lastError.code&&(t.code=this.lastError.code),t=(0,i.wrapError)(t,this.errorStack),this.completionDeferred.reject(this.lastError.stack?(0,i.wrapError)(t,null!==(e=this.lastError.stack)&&void 0!==e?e:""):t)}})}deleteRef(e){this.pendingOpsCount++,this.writer.delete(e).catch(e=>{this.incrementErrorCount(e)}).then(()=>{this.pendingOpsCount--,this.documentsPending&&!this.streamInProgress&&this.pendingOpsCount<this.minPendingOps&&this.setupStream()})}incrementErrorCount(e){this.errorCount++,this.lastError=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisabledTraceUtil=void 0;const n=r(433);t.DisabledTraceUtil=class{startSpan(e){return new n.Span}startActiveSpan(e,t,r){return t(new n.Span)}currentSpan(){return new n.Span}recordProjectId(e){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnabledTraceUtil=void 0;const n=r(444),o=r(433),i=r(42),a=r(144),s=r(434),l=r(15),p=r(58),c=a.interfaces["google.firestore.v1.Firestore"];t.EnabledTraceUtil=class{constructor(e){var t,n,o,a,u,d,h,f,g,m,y,v,b,E,_,O;let w=null===(t=e.openTelemetry)||void 0===t?void 0:t.tracerProvider;if(!w){const{trace:e}=r(444);w=e.getTracerProvider()}this.tracerProvider=w;const S=r(99).version,T=r(99).name;try{this.tracer=this.tracerProvider.getTracer(T,S)}catch(e){throw new Error("The object provided for 'tracerProvider' does not conform to the TracerProvider interface.")}this.settingsAttributes={},this.settingsAttributes["otel.scope.name"]=T,this.settingsAttributes["otel.scope.version"]=S,e.projectId&&(this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".project_id"]=e.projectId),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".database_id"]=e.databaseId||l.DEFAULT_DATABASE_ID;const A=null!==(o=null!==(n=e.servicePath)&&void 0!==n?n:e.host)&&void 0!==o?o:"firestore.googleapis.com",C=null!==(a=e.port)&&void 0!==a?a:s.FirestoreClient.port;this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".host"]=`${A}:${C}`,void 0!==e.preferRest&&(this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".prefer_REST"]=e.preferRest),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".max_idle_channels"]=null!==(u=e.maxIdleChannels)&&void 0!==u?u:p.DEFAULT_MAX_IDLE_CHANNELS;const I=c.retry_params.default,N=null===(g=null===(f=null===(h=null===(d=e.clientConfig)||void 0===d?void 0:d.interfaces)||void 0===h?void 0:h["google.firestore.v1.Firestore"])||void 0===f?void 0:f.retry_params)||void 0===g?void 0:g.default;this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".initial_retry_delay"]=this.millisToSecondString(null!==(m=null==N?void 0:N.initial_retry_delay_millis)&&void 0!==m?m:I.initial_retry_delay_millis),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".initial_rpc_timeout"]=this.millisToSecondString(null!==(y=null==N?void 0:N.initial_rpc_timeout_millis)&&void 0!==y?y:I.initial_rpc_timeout_millis),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".total_timeout"]=this.millisToSecondString(null!==(v=null==N?void 0:N.total_timeout_millis)&&void 0!==v?v:I.total_timeout_millis),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".max_retry_delay"]=this.millisToSecondString(null!==(b=null==N?void 0:N.max_retry_delay_millis)&&void 0!==b?b:I.max_retry_delay_millis),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".max_rpc_timeout"]=this.millisToSecondString(null!==(E=null==N?void 0:N.max_rpc_timeout_millis)&&void 0!==E?E:I.max_rpc_timeout_millis),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".retry_delay_multiplier"]=null!==(_=null==N?void 0:N.retry_delay_multiplier.toString())&&void 0!==_?_:I.retry_delay_multiplier.toString(),this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".rpc_timeout_multiplier"]=null!==(O=null==N?void 0:N.rpc_timeout_multiplier.toString())&&void 0!==O?O:I.rpc_timeout_multiplier.toString()}recordProjectId(e){this.settingsAttributes[i.ATTRIBUTE_SETTINGS_PREFIX+".project_id"]=e,this.currentSpan().setAttributes(this.settingsAttributes)}millisToSecondString(e){return e/1e3+"s"}endSpan(e,t){e.setStatus({code:n.SpanStatusCode.ERROR,message:t.message}),e.recordException(t),e.end()}startActiveSpan(e,t,r){return this.tracer.startActiveSpan(e,{attributes:r},e=>{this.addCommonAttributes(e);try{let r=t(new o.Span(e));return r instanceof Promise?r=r.then(t=>(e.end(),t)).catch(t=>(this.endSpan(e,t),Promise.reject(t))):e.end(),r}catch(t){throw this.endSpan(e,t),t}})}startSpan(e){const t=this.tracer.startSpan(e,void 0,n.context.active());return this.addCommonAttributes(t),new o.Span(t)}currentSpan(){return new o.Span(n.trace.getActiveSpan())}addCommonAttributes(e){e.setAttributes(this.settingsAttributes)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreAdminClient=void 0;const n=r(761),o=r(762),i=r(99).version;t.FirestoreAdminClient=class{constructor(e,t){var a,s,l,p,c;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const u=this.constructor;if((null==e?void 0:e.universe_domain)&&(null==e?void 0:e.universeDomain)&&(null==e?void 0:e.universe_domain)!==(null==e?void 0:e.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const d="object"==typeof process&&"object"==typeof process.env?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=null!==(l=null!==(s=null!==(a=null==e?void 0:e.universeDomain)&&void 0!==a?a:null==e?void 0:e.universe_domain)&&void 0!==s?s:d)&&void 0!==l?l:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const h=(null==e?void 0:e.servicePath)||(null==e?void 0:e.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!(!(null==e?void 0:e.servicePath)&&!(null==e?void 0:e.apiEndpoint));const f=(null==e?void 0:e.port)||u.port,g=null!==(p=null==e?void 0:e.clientConfig)&&void 0!==p?p:{},m=null!==(c=null==e?void 0:e.fallback)&&void 0!==c?c:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);(e=Object.assign({servicePath:h,port:f,clientConfig:g,fallback:m},e)).numericEnums=!0,h===this._servicePath||"scopes"in e||(e.scopes=u.scopes),t||(t=r(81)),this._gaxModule=e.fallback?t.fallback:t,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,h===this._servicePath&&(this.auth.defaultScopes=u.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,e);const y=["gax/"+this._gaxModule.version,"gapic/"+i];"object"==typeof process&&"versions"in process?y.push("gl-node/"+process.versions.node):y.push("gl-web/"+this._gaxModule.version),e.fallback?y.push("rest/"+this._gaxGrpc.grpcVersion):y.push("grpc/"+this._gaxGrpc.grpcVersion),e.libName&&e.libVersion&&y.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(n),this.pathTemplates={backupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}/backups/{backup}"),backupSchedulePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"),collectionGroupPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}"),databasePathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}"),fieldPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"),indexPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"),locationPathTemplate:new this._gaxModule.PathTemplate("projects/{project}/locations/{location}"),projectPathTemplate:new this._gaxModule.PathTemplate("projects/{project}")},this.descriptors.page={listIndexes:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","indexes"),listFields:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","fields")};const v=this._gaxModule.protobuf.Root.fromJSON(n),b={auth:this.auth,grpc:"grpc"in this._gaxGrpc?this._gaxGrpc.grpc:void 0};e.fallback&&(b.protoJson=v,b.httpRules=[{selector:"google.longrunning.Operations.CancelOperation",post:"/v1/{name=projects/*/databases/*/operations/*}:cancel",body:"*"},{selector:"google.longrunning.Operations.DeleteOperation",delete:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.GetOperation",get:"/v1/{name=projects/*/databases/*/operations/*}"},{selector:"google.longrunning.Operations.ListOperations",get:"/v1/{name=projects/*/databases/*}/operations"}]),this.operationsClient=this._gaxModule.lro(b).operationsClient(e);const E=v.lookup(".google.firestore.admin.v1.Index"),_=v.lookup(".google.firestore.admin.v1.IndexOperationMetadata"),O=v.lookup(".google.firestore.admin.v1.Field"),w=v.lookup(".google.firestore.admin.v1.FieldOperationMetadata"),S=v.lookup(".google.firestore.admin.v1.ExportDocumentsResponse"),T=v.lookup(".google.firestore.admin.v1.ExportDocumentsMetadata"),A=v.lookup(".google.protobuf.Empty"),C=v.lookup(".google.firestore.admin.v1.ImportDocumentsMetadata"),I=v.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsResponse"),N=v.lookup(".google.firestore.admin.v1.BulkDeleteDocumentsMetadata"),P=v.lookup(".google.firestore.admin.v1.Database"),R=v.lookup(".google.firestore.admin.v1.CreateDatabaseMetadata"),D=v.lookup(".google.firestore.admin.v1.Database"),k=v.lookup(".google.firestore.admin.v1.UpdateDatabaseMetadata"),x=v.lookup(".google.firestore.admin.v1.Database"),j=v.lookup(".google.firestore.admin.v1.DeleteDatabaseMetadata"),L=v.lookup(".google.firestore.admin.v1.Database"),F=v.lookup(".google.firestore.admin.v1.RestoreDatabaseMetadata");this.descriptors.longrunning={createIndex:new this._gaxModule.LongrunningDescriptor(this.operationsClient,E.decode.bind(E),_.decode.bind(_)),updateField:new this._gaxModule.LongrunningDescriptor(this.operationsClient,O.decode.bind(O),w.decode.bind(w)),exportDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,S.decode.bind(S),T.decode.bind(T)),importDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,A.decode.bind(A),C.decode.bind(C)),bulkDeleteDocuments:new this._gaxModule.LongrunningDescriptor(this.operationsClient,I.decode.bind(I),N.decode.bind(N)),createDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,P.decode.bind(P),R.decode.bind(R)),updateDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,D.decode.bind(D),k.decode.bind(k)),deleteDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,x.decode.bind(x),j.decode.bind(j)),restoreDatabase:new this._gaxModule.LongrunningDescriptor(this.operationsClient,L.decode.bind(L),F.decode.bind(F))},this._defaults=this._gaxGrpc.constructSettings("google.firestore.admin.v1.FirestoreAdmin",o,e.clientConfig||{},{"x-goog-api-client":y.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreAdminStub)return this.firestoreAdminStub;this.firestoreAdminStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.admin.v1.FirestoreAdmin"):this._protos.google.firestore.admin.v1.FirestoreAdmin,this._opts,this._providedCustomServicePath);const e=["createIndex","listIndexes","getIndex","deleteIndex","getField","updateField","listFields","exportDocuments","importDocuments","bulkDeleteDocuments","createDatabase","getDatabase","listDatabases","updateDatabase","deleteDatabase","getBackup","listBackups","deleteBackup","restoreDatabase","createBackupSchedule","getBackupSchedule","listBackupSchedules","updateBackupSchedule","deleteBackupSchedule"];for(const t of e){const e=this.firestoreAdminStub.then(e=>(...r)=>{if(this._terminated)return Promise.reject("The client has already been closed.");return e[t].apply(e,r)},e=>()=>{throw e}),r=this.descriptors.page[t]||this.descriptors.longrunning[t]||void 0,n=this._gaxModule.createApiCall(e,this._defaults[t],r,this._opts.fallback);this.innerApiCalls[t]=n}return this.firestoreAdminStub}static get servicePath(){return"object"==typeof process&&"function"==typeof process.emitWarning&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return"object"==typeof process&&"function"==typeof process.emitWarning&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getIndex(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getIndex(e,o,r)}deleteIndex(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.deleteIndex(e,o,r)}getField(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getField(e,o,r)}getDatabase(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getDatabase(e,o,r)}listDatabases(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listDatabases(e,o,r)}getBackup(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getBackup(e,o,r)}listBackups(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listBackups(e,o,r)}deleteBackup(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.deleteBackup(e,o,r)}createBackupSchedule(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.createBackupSchedule(e,o,r)}getBackupSchedule(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getBackupSchedule(e,o,r)}listBackupSchedules(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listBackupSchedules(e,o,r)}updateBackupSchedule(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"backup_schedule.name":null!==(n=e.backupSchedule.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.updateBackupSchedule(e,o,r)}deleteBackupSchedule(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.deleteBackupSchedule(e,o,r)}createIndex(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.createIndex(e,o,r)}async checkCreateIndexProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.createIndex,this._gaxModule.createDefaultBackoffSettings())}updateField(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"field.name":null!==(n=e.field.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.updateField(e,o,r)}async checkUpdateFieldProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.updateField,this._gaxModule.createDefaultBackoffSettings())}exportDocuments(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.exportDocuments(e,o,r)}async checkExportDocumentsProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.exportDocuments,this._gaxModule.createDefaultBackoffSettings())}importDocuments(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.importDocuments(e,o,r)}async checkImportDocumentsProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.importDocuments,this._gaxModule.createDefaultBackoffSettings())}bulkDeleteDocuments(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.bulkDeleteDocuments(e,o,r)}async checkBulkDeleteDocumentsProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.bulkDeleteDocuments,this._gaxModule.createDefaultBackoffSettings())}createDatabase(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.createDatabase(e,o,r)}async checkCreateDatabaseProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.createDatabase,this._gaxModule.createDefaultBackoffSettings())}updateDatabase(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"database.name":null!==(n=e.database.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.updateDatabase(e,o,r)}async checkUpdateDatabaseProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.updateDatabase,this._gaxModule.createDefaultBackoffSettings())}deleteDatabase(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.deleteDatabase(e,o,r)}async checkDeleteDatabaseProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.deleteDatabase,this._gaxModule.createDefaultBackoffSettings())}restoreDatabase(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.restoreDatabase(e,o,r)}async checkRestoreDatabaseProgress(e){const t=new this._gaxModule.operationsProtos.google.longrunning.GetOperationRequest({name:e}),[r]=await this.operationsClient.getOperation(t);return new this._gaxModule.Operation(r,this.descriptors.longrunning.restoreDatabase,this._gaxModule.createDefaultBackoffSettings())}listIndexes(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listIndexes(e,o,r)}listIndexesStream(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listIndexes.merge(t);return this.initialize(),this.descriptors.page.listIndexes.createStream(this.innerApiCalls.listIndexes,e,n)}listIndexesAsync(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listIndexes.merge(t);return this.initialize(),this.descriptors.page.listIndexes.asyncIterate(this.innerApiCalls.listIndexes,e,n)}listFields(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listFields(e,o,r)}listFieldsStream(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listFields.merge(t);return this.initialize(),this.descriptors.page.listFields.createStream(this.innerApiCalls.listFields,e,n)}listFieldsAsync(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listFields.merge(t);return this.initialize(),this.descriptors.page.listFields.asyncIterate(this.innerApiCalls.listFields,e,n)}getLocation(e,t,r){return this.locationsClient.getLocation(e,t,r)}listLocationsAsync(e,t){return this.locationsClient.listLocationsAsync(e,t)}getOperation(e,t,r){return this.operationsClient.getOperation(e,t,r)}listOperationsAsync(e,t){return this.operationsClient.listOperationsAsync(e,t)}cancelOperation(e,t,r){return this.operationsClient.cancelOperation(e,t,r)}deleteOperation(e,t,r){return this.operationsClient.deleteOperation(e,t,r)}backupPath(e,t,r){return this.pathTemplates.backupPathTemplate.render({project:e,location:t,backup:r})}matchProjectFromBackupName(e){return this.pathTemplates.backupPathTemplate.match(e).project}matchLocationFromBackupName(e){return this.pathTemplates.backupPathTemplate.match(e).location}matchBackupFromBackupName(e){return this.pathTemplates.backupPathTemplate.match(e).backup}backupSchedulePath(e,t,r){return this.pathTemplates.backupSchedulePathTemplate.render({project:e,database:t,backup_schedule:r})}matchProjectFromBackupScheduleName(e){return this.pathTemplates.backupSchedulePathTemplate.match(e).project}matchDatabaseFromBackupScheduleName(e){return this.pathTemplates.backupSchedulePathTemplate.match(e).database}matchBackupScheduleFromBackupScheduleName(e){return this.pathTemplates.backupSchedulePathTemplate.match(e).backup_schedule}collectionGroupPath(e,t,r){return this.pathTemplates.collectionGroupPathTemplate.render({project:e,database:t,collection:r})}matchProjectFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).project}matchDatabaseFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).database}matchCollectionFromCollectionGroupName(e){return this.pathTemplates.collectionGroupPathTemplate.match(e).collection}databasePath(e,t){return this.pathTemplates.databasePathTemplate.render({project:e,database:t})}matchProjectFromDatabaseName(e){return this.pathTemplates.databasePathTemplate.match(e).project}matchDatabaseFromDatabaseName(e){return this.pathTemplates.databasePathTemplate.match(e).database}fieldPath(e,t,r,n){return this.pathTemplates.fieldPathTemplate.render({project:e,database:t,collection:r,field:n})}matchProjectFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).project}matchDatabaseFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).database}matchCollectionFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).collection}matchFieldFromFieldName(e){return this.pathTemplates.fieldPathTemplate.match(e).field}indexPath(e,t,r,n){return this.pathTemplates.indexPathTemplate.render({project:e,database:t,collection:r,index:n})}matchProjectFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).project}matchDatabaseFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).database}matchCollectionFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).collection}matchIndexFromIndexName(e){return this.pathTemplates.indexPathTemplate.match(e).index}locationPath(e,t){return this.pathTemplates.locationPathTemplate.render({project:e,location:t})}matchProjectFromLocationName(e){return this.pathTemplates.locationPathTemplate.match(e).project}matchLocationFromLocationName(e){return this.pathTemplates.locationPathTemplate.match(e).location}projectPath(e){return this.pathTemplates.projectPathTemplate.render({project:e})}matchProjectFromProjectName(e){return this.pathTemplates.projectPathTemplate.match(e).project}close(){return this.firestoreAdminStub&&!this._terminated?this.firestoreAdminStub.then(e=>{this._terminated=!0,e.close(),this.locationsClient.close(),this.operationsClient.close()}):Promise.resolve()}}},function(e){e.exports=JSON.parse('{"options":{"syntax":"proto3"},"nested":{"google":{"nested":{"firestore":{"nested":{"admin":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.Admin.V1","go_package":"cloud.google.com/go/firestore/apiv1/admin/adminpb;adminpb","java_multiple_files":true,"java_outer_classname":"LocationProto","java_package":"com.google.firestore.admin.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\Admin\\\\V1","ruby_package":"Google::Cloud::Firestore::Admin::V1","(google.api.resource_definition).type":"firestore.googleapis.com/CollectionGroup","(google.api.resource_definition).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}"},"nested":{"Backup":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Backup","(google.api.resource).pattern":"projects/{project}/locations/{location}/backups/{backup}"},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"database":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"databaseUid":{"type":"string","id":7,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"snapshotTime":{"type":"google.protobuf.Timestamp","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"expireTime":{"type":"google.protobuf.Timestamp","id":4,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"stats":{"type":"Stats","id":6,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"state":{"type":"State","id":8,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},"nested":{"Stats":{"fields":{"sizeBytes":{"type":"int64","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"documentCount":{"type":"int64","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"indexCount":{"type":"int64","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NOT_AVAILABLE":3}}}},"Database":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Database","(google.api.resource).pattern":"projects/{project}/databases/{database}","(google.api.resource).style":"DECLARATIVE_FRIENDLY"},"fields":{"name":{"type":"string","id":1},"uid":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"createTime":{"type":"google.protobuf.Timestamp","id":5,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"updateTime":{"type":"google.protobuf.Timestamp","id":6,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"deleteTime":{"type":"google.protobuf.Timestamp","id":7,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"locationId":{"type":"string","id":9},"type":{"type":"DatabaseType","id":10},"concurrencyMode":{"type":"ConcurrencyMode","id":15},"versionRetentionPeriod":{"type":"google.protobuf.Duration","id":17,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"earliestVersionTime":{"type":"google.protobuf.Timestamp","id":18,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"pointInTimeRecoveryEnablement":{"type":"PointInTimeRecoveryEnablement","id":21},"appEngineIntegrationMode":{"type":"AppEngineIntegrationMode","id":19},"keyPrefix":{"type":"string","id":20,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"deleteProtectionState":{"type":"DeleteProtectionState","id":22},"cmekConfig":{"type":"CmekConfig","id":23,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"previousId":{"type":"string","id":25,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"sourceInfo":{"type":"SourceInfo","id":26,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"etag":{"type":"string","id":99}},"nested":{"DatabaseType":{"values":{"DATABASE_TYPE_UNSPECIFIED":0,"FIRESTORE_NATIVE":1,"DATASTORE_MODE":2}},"ConcurrencyMode":{"values":{"CONCURRENCY_MODE_UNSPECIFIED":0,"OPTIMISTIC":1,"PESSIMISTIC":2,"OPTIMISTIC_WITH_ENTITY_GROUPS":3}},"PointInTimeRecoveryEnablement":{"values":{"POINT_IN_TIME_RECOVERY_ENABLEMENT_UNSPECIFIED":0,"POINT_IN_TIME_RECOVERY_ENABLED":1,"POINT_IN_TIME_RECOVERY_DISABLED":2}},"AppEngineIntegrationMode":{"values":{"APP_ENGINE_INTEGRATION_MODE_UNSPECIFIED":0,"ENABLED":1,"DISABLED":2}},"DeleteProtectionState":{"values":{"DELETE_PROTECTION_STATE_UNSPECIFIED":0,"DELETE_PROTECTION_DISABLED":1,"DELETE_PROTECTION_ENABLED":2}},"CmekConfig":{"fields":{"kmsKeyName":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"activeKeyVersion":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}}},"SourceInfo":{"oneofs":{"source":{"oneof":["backup"]}},"fields":{"backup":{"type":"BackupSource","id":1},"operation":{"type":"string","id":3,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Operation"}}},"nested":{"BackupSource":{"fields":{"backup":{"type":"string","id":1,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}}}},"EncryptionConfig":{"oneofs":{"encryptionType":{"oneof":["googleDefaultEncryption","useSourceEncryption","customerManagedEncryption"]}},"fields":{"googleDefaultEncryption":{"type":"GoogleDefaultEncryptionOptions","id":1},"useSourceEncryption":{"type":"SourceEncryptionOptions","id":2},"customerManagedEncryption":{"type":"CustomerManagedEncryptionOptions","id":3}},"nested":{"GoogleDefaultEncryptionOptions":{"fields":{}},"SourceEncryptionOptions":{"fields":{}},"CustomerManagedEncryptionOptions":{"fields":{"kmsKeyName":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}}}}}}}},"Field":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Field","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/fields/{field}"},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"indexConfig":{"type":"IndexConfig","id":2},"ttlConfig":{"type":"TtlConfig","id":3}},"nested":{"IndexConfig":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"usesAncestorConfig":{"type":"bool","id":2},"ancestorField":{"type":"string","id":3},"reverting":{"type":"bool","id":4}}},"TtlConfig":{"fields":{"state":{"type":"State","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}}},"nested":{"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"ACTIVE":2,"NEEDS_REPAIR":3}}}}}},"Index":{"options":{"(google.api.resource).type":"firestore.googleapis.com/Index","(google.api.resource).pattern":"projects/{project}/databases/{database}/collectionGroups/{collection}/indexes/{index}"},"fields":{"name":{"type":"string","id":1},"queryScope":{"type":"QueryScope","id":2},"apiScope":{"type":"ApiScope","id":5},"fields":{"rule":"repeated","type":"IndexField","id":3},"state":{"type":"State","id":4}},"nested":{"QueryScope":{"values":{"QUERY_SCOPE_UNSPECIFIED":0,"COLLECTION":1,"COLLECTION_GROUP":2,"COLLECTION_RECURSIVE":3}},"ApiScope":{"values":{"ANY_API":0,"DATASTORE_MODE_API":1}},"IndexField":{"oneofs":{"valueMode":{"oneof":["order","arrayConfig","vectorConfig"]}},"fields":{"fieldPath":{"type":"string","id":1},"order":{"type":"Order","id":2},"arrayConfig":{"type":"ArrayConfig","id":3},"vectorConfig":{"type":"VectorConfig","id":4}},"nested":{"Order":{"values":{"ORDER_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"ArrayConfig":{"values":{"ARRAY_CONFIG_UNSPECIFIED":0,"CONTAINS":1}},"VectorConfig":{"oneofs":{"type":{"oneof":["flat"]}},"fields":{"dimension":{"type":"int32","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"flat":{"type":"FlatIndex","id":2}},"nested":{"FlatIndex":{"fields":{}}}}}},"State":{"values":{"STATE_UNSPECIFIED":0,"CREATING":1,"READY":2,"NEEDS_REPAIR":3}}}},"FirestoreAdmin":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"CreateIndex":{"requestType":"CreateIndexRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.http).body":"index","(google.api.method_signature)":"parent,index","(google.longrunning.operation_info).response_type":"Index","(google.longrunning.operation_info).metadata_type":"IndexOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","body":"index"}},{"(google.api.method_signature)":"parent,index"},{"(google.longrunning.operation_info)":{"response_type":"Index","metadata_type":"IndexOperationMetadata"}}]},"ListIndexes":{"requestType":"ListIndexesRequest","responseType":"ListIndexesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/indexes"}},{"(google.api.method_signature)":"parent"}]},"GetIndex":{"requestType":"GetIndexRequest","responseType":"Index","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"DeleteIndex":{"requestType":"DeleteIndexRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/collectionGroups/*/indexes/*}"}},{"(google.api.method_signature)":"name"}]},"GetField":{"requestType":"GetFieldRequest","responseType":"Field","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/collectionGroups/*/fields/*}"}},{"(google.api.method_signature)":"name"}]},"UpdateField":{"requestType":"UpdateFieldRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","(google.api.http).body":"field","(google.api.method_signature)":"field","(google.longrunning.operation_info).response_type":"Field","(google.longrunning.operation_info).metadata_type":"FieldOperationMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{field.name=projects/*/databases/*/collectionGroups/*/fields/*}","body":"field"}},{"(google.api.method_signature)":"field"},{"(google.longrunning.operation_info)":{"response_type":"Field","metadata_type":"FieldOperationMetadata"}}]},"ListFields":{"requestType":"ListFieldsRequest","responseType":"ListFieldsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/collectionGroups/*}/fields"}},{"(google.api.method_signature)":"parent"}]},"ExportDocuments":{"requestType":"ExportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:exportDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"ExportDocumentsResponse","(google.longrunning.operation_info).metadata_type":"ExportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:exportDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"ExportDocumentsResponse","metadata_type":"ExportDocumentsMetadata"}}]},"ImportDocuments":{"requestType":"ImportDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:importDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"google.protobuf.Empty","(google.longrunning.operation_info).metadata_type":"ImportDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:importDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"google.protobuf.Empty","metadata_type":"ImportDocumentsMetadata"}}]},"BulkDeleteDocuments":{"requestType":"BulkDeleteDocumentsRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","(google.api.http).body":"*","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"BulkDeleteDocumentsResponse","(google.longrunning.operation_info).metadata_type":"BulkDeleteDocumentsMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=projects/*/databases/*}:bulkDeleteDocuments","body":"*"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"BulkDeleteDocumentsResponse","metadata_type":"BulkDeleteDocumentsMetadata"}}]},"CreateDatabase":{"requestType":"CreateDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*}/databases","(google.api.http).body":"database","(google.api.method_signature)":"parent,database,database_id","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"CreateDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*}/databases","body":"database"}},{"(google.api.method_signature)":"parent,database,database_id"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"CreateDatabaseMetadata"}}]},"GetDatabase":{"requestType":"GetDatabaseRequest","responseType":"Database","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"}]},"ListDatabases":{"requestType":"ListDatabasesRequest","responseType":"ListDatabasesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*}/databases","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*}/databases"}},{"(google.api.method_signature)":"parent"}]},"UpdateDatabase":{"requestType":"UpdateDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).patch":"/v1/{database.name=projects/*/databases/*}","(google.api.http).body":"database","(google.api.method_signature)":"database,update_mask","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"UpdateDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{database.name=projects/*/databases/*}","body":"database"}},{"(google.api.method_signature)":"database,update_mask"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"UpdateDatabaseMetadata"}}]},"DeleteDatabase":{"requestType":"DeleteDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*}","(google.api.method_signature)":"name","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"DeleteDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*}"}},{"(google.api.method_signature)":"name"},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"DeleteDatabaseMetadata"}}]},"GetBackup":{"requestType":"GetBackupRequest","responseType":"Backup","options":{"(google.api.http).get":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},"ListBackups":{"requestType":"ListBackupsRequest","responseType":"ListBackupsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/locations/*}/backups","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/locations/*}/backups"}},{"(google.api.method_signature)":"parent"}]},"DeleteBackup":{"requestType":"DeleteBackupRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/locations/*/backups/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/locations/*/backups/*}"}},{"(google.api.method_signature)":"name"}]},"RestoreDatabase":{"requestType":"RestoreDatabaseRequest","responseType":"google.longrunning.Operation","options":{"(google.api.http).post":"/v1/{parent=projects/*}/databases:restore","(google.api.http).body":"*","(google.longrunning.operation_info).response_type":"Database","(google.longrunning.operation_info).metadata_type":"RestoreDatabaseMetadata"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*}/databases:restore","body":"*"}},{"(google.longrunning.operation_info)":{"response_type":"Database","metadata_type":"RestoreDatabaseMetadata"}}]},"CreateBackupSchedule":{"requestType":"CreateBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"parent,backup_schedule"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*}/backupSchedules","body":"backup_schedule"}},{"(google.api.method_signature)":"parent,backup_schedule"}]},"GetBackupSchedule":{"requestType":"GetBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]},"ListBackupSchedules":{"requestType":"ListBackupSchedulesRequest","responseType":"ListBackupSchedulesResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*}/backupSchedules","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*}/backupSchedules"}},{"(google.api.method_signature)":"parent"}]},"UpdateBackupSchedule":{"requestType":"UpdateBackupScheduleRequest","responseType":"BackupSchedule","options":{"(google.api.http).patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","(google.api.http).body":"backup_schedule","(google.api.method_signature)":"backup_schedule,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{backup_schedule.name=projects/*/databases/*/backupSchedules/*}","body":"backup_schedule"}},{"(google.api.method_signature)":"backup_schedule,update_mask"}]},"DeleteBackupSchedule":{"requestType":"DeleteBackupScheduleRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/backupSchedules/*}"}},{"(google.api.method_signature)":"name"}]}}},"ListDatabasesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"showDeleted":{"type":"bool","id":4}}},"CreateDatabaseRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"database":{"type":"Database","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"databaseId":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"CreateDatabaseMetadata":{"fields":{}},"ListDatabasesResponse":{"fields":{"databases":{"rule":"repeated","type":"Database","id":1},"unreachable":{"rule":"repeated","type":"string","id":3}}},"GetDatabaseRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},"UpdateDatabaseRequest":{"fields":{"database":{"type":"Database","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"UpdateDatabaseMetadata":{"fields":{}},"DeleteDatabaseRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"etag":{"type":"string","id":3}}},"DeleteDatabaseMetadata":{"fields":{}},"CreateBackupScheduleRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"backupSchedule":{"type":"BackupSchedule","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"GetBackupScheduleRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},"UpdateBackupScheduleRequest":{"fields":{"backupSchedule":{"type":"BackupSchedule","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"ListBackupSchedulesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}}}},"ListBackupSchedulesResponse":{"fields":{"backupSchedules":{"rule":"repeated","type":"BackupSchedule","id":1}}},"DeleteBackupScheduleRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/BackupSchedule"}}}},"CreateIndexRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"index":{"type":"Index","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"ListIndexesRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListIndexesResponse":{"fields":{"indexes":{"rule":"repeated","type":"Index","id":1},"nextPageToken":{"type":"string","id":2}}},"GetIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"DeleteIndexRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Index"}}}},"UpdateFieldRequest":{"fields":{"field":{"type":"Field","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"google.protobuf.FieldMask","id":2}}},"GetFieldRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Field"}}}},"ListFieldsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/CollectionGroup"}},"filter":{"type":"string","id":2},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4}}},"ListFieldsResponse":{"fields":{"fields":{"rule":"repeated","type":"Field","id":1},"nextPageToken":{"type":"string","id":2}}},"ExportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"outputUriPrefix":{"type":"string","id":3},"namespaceIds":{"rule":"repeated","type":"string","id":4},"snapshotTime":{"type":"google.protobuf.Timestamp","id":5}}},"ImportDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2},"inputUriPrefix":{"type":"string","id":3},"namespaceIds":{"rule":"repeated","type":"string","id":4}}},"BulkDeleteDocumentsRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"collectionIds":{"rule":"repeated","type":"string","id":2,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"namespaceIds":{"rule":"repeated","type":"string","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"BulkDeleteDocumentsResponse":{"fields":{}},"GetBackupRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},"ListBackupsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Location"}}}},"ListBackupsResponse":{"fields":{"backups":{"rule":"repeated","type":"Backup","id":1},"unreachable":{"rule":"repeated","type":"string","id":3}}},"DeleteBackupRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}}}},"RestoreDatabaseRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).child_type":"firestore.googleapis.com/Database"}},"databaseId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"backup":{"type":"string","id":3,"options":{"(google.api.field_behavior)":"REQUIRED","(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},"encryptionConfig":{"type":"Database.EncryptionConfig","id":9,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"IndexOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"index":{"type":"string","id":3},"state":{"type":"OperationState","id":4},"progressDocuments":{"type":"Progress","id":5},"progressBytes":{"type":"Progress","id":6}}},"FieldOperationMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"field":{"type":"string","id":3},"indexConfigDeltas":{"rule":"repeated","type":"IndexConfigDelta","id":4},"state":{"type":"OperationState","id":5},"progressDocuments":{"type":"Progress","id":6},"progressBytes":{"type":"Progress","id":7},"ttlConfigDelta":{"type":"TtlConfigDelta","id":8}},"nested":{"IndexConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1},"index":{"type":"Index","id":2}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}},"TtlConfigDelta":{"fields":{"changeType":{"type":"ChangeType","id":1}},"nested":{"ChangeType":{"values":{"CHANGE_TYPE_UNSPECIFIED":0,"ADD":1,"REMOVE":2}}}}}},"ExportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"outputUriPrefix":{"type":"string","id":7},"namespaceIds":{"rule":"repeated","type":"string","id":8},"snapshotTime":{"type":"google.protobuf.Timestamp","id":9}}},"ImportDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"inputUriPrefix":{"type":"string","id":7},"namespaceIds":{"rule":"repeated","type":"string","id":8}}},"BulkDeleteDocumentsMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"progressDocuments":{"type":"Progress","id":4},"progressBytes":{"type":"Progress","id":5},"collectionIds":{"rule":"repeated","type":"string","id":6},"namespaceIds":{"rule":"repeated","type":"string","id":7},"snapshotTime":{"type":"google.protobuf.Timestamp","id":8}}},"ExportDocumentsResponse":{"fields":{"outputUriPrefix":{"type":"string","id":1}}},"RestoreDatabaseMetadata":{"fields":{"startTime":{"type":"google.protobuf.Timestamp","id":1},"endTime":{"type":"google.protobuf.Timestamp","id":2},"operationState":{"type":"OperationState","id":3},"database":{"type":"string","id":4,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Database"}},"backup":{"type":"string","id":5,"options":{"(google.api.resource_reference).type":"firestore.googleapis.com/Backup"}},"progressPercentage":{"type":"Progress","id":8}}},"Progress":{"fields":{"estimatedWork":{"type":"int64","id":1},"completedWork":{"type":"int64","id":2}}},"OperationState":{"values":{"OPERATION_STATE_UNSPECIFIED":0,"INITIALIZING":1,"PROCESSING":2,"CANCELLING":3,"FINALIZING":4,"SUCCESSFUL":5,"FAILED":6,"CANCELLED":7}},"BackupSchedule":{"options":{"(google.api.resource).type":"firestore.googleapis.com/BackupSchedule","(google.api.resource).pattern":"projects/{project}/databases/{database}/backupSchedules/{backup_schedule}"},"oneofs":{"recurrence":{"oneof":["dailyRecurrence","weeklyRecurrence"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"createTime":{"type":"google.protobuf.Timestamp","id":3,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"updateTime":{"type":"google.protobuf.Timestamp","id":10,"options":{"(google.api.field_behavior)":"OUTPUT_ONLY"}},"retention":{"type":"google.protobuf.Duration","id":6},"dailyRecurrence":{"type":"DailyRecurrence","id":7},"weeklyRecurrence":{"type":"WeeklyRecurrence","id":8}}},"DailyRecurrence":{"fields":{}},"WeeklyRecurrence":{"fields":{"day":{"type":"google.type.DayOfWeek","id":2}}},"LocationMetadata":{"fields":{}}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api;api","java_multiple_files":true,"java_outer_classname":"LaunchStageProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"Empty":{"fields":{}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}}}},"type":{"options":{"go_package":"google.golang.org/genproto/googleapis/type/latlng;latlng","java_multiple_files":true,"java_outer_classname":"LatLngProto","java_package":"com.google.type","objc_class_prefix":"GTP","cc_enable_arenas":true},"nested":{"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}},"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}}}},"longrunning":{"options":{"cc_enable_arenas":true,"csharp_namespace":"Google.LongRunning","go_package":"cloud.google.com/go/longrunning/autogen/longrunningpb;longrunningpb","java_multiple_files":true,"java_outer_classname":"OperationsProto","java_package":"com.google.longrunning","php_namespace":"Google\\\\LongRunning"},"nested":{"operationInfo":{"type":"google.longrunning.OperationInfo","id":1049,"extend":"google.protobuf.MethodOptions"},"Operations":{"options":{"(google.api.default_host)":"longrunning.googleapis.com"},"methods":{"ListOperations":{"requestType":"ListOperationsRequest","responseType":"ListOperationsResponse","options":{"(google.api.http).get":"/v1/{name=operations}","(google.api.method_signature)":"name,filter"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations}"}},{"(google.api.method_signature)":"name,filter"}]},"GetOperation":{"requestType":"GetOperationRequest","responseType":"Operation","options":{"(google.api.http).get":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"DeleteOperation":{"requestType":"DeleteOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=operations/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=operations/**}"}},{"(google.api.method_signature)":"name"}]},"CancelOperation":{"requestType":"CancelOperationRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{name=operations/**}:cancel","(google.api.http).body":"*","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{name=operations/**}:cancel","body":"*"}},{"(google.api.method_signature)":"name"}]},"WaitOperation":{"requestType":"WaitOperationRequest","responseType":"Operation"}}},"Operation":{"oneofs":{"result":{"oneof":["error","response"]}},"fields":{"name":{"type":"string","id":1},"metadata":{"type":"google.protobuf.Any","id":2},"done":{"type":"bool","id":3},"error":{"type":"google.rpc.Status","id":4},"response":{"type":"google.protobuf.Any","id":5}}},"GetOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"ListOperationsRequest":{"fields":{"name":{"type":"string","id":4},"filter":{"type":"string","id":1},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListOperationsResponse":{"fields":{"operations":{"rule":"repeated","type":"Operation","id":1},"nextPageToken":{"type":"string","id":2}}},"CancelOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"DeleteOperationRequest":{"fields":{"name":{"type":"string","id":1}}},"WaitOperationRequest":{"fields":{"name":{"type":"string","id":1},"timeout":{"type":"google.protobuf.Duration","id":2}}},"OperationInfo":{"fields":{"responseType":{"type":"string","id":1},"metadataType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}')},function(e){e.exports=JSON.parse('{"interfaces":{"google.firestore.admin.v1.FirestoreAdmin":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"],"deadline_exceeded_internal_unavailable":["DEADLINE_EXCEEDED","INTERNAL","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"CreateIndex":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListIndexes":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"GetIndex":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"DeleteIndex":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"GetField":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"UpdateField":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListFields":{"timeout_millis":60000,"retry_codes_name":"deadline_exceeded_internal_unavailable","retry_params_name":"default"},"ExportDocuments":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ImportDocuments":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"BulkDeleteDocuments":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"CreateDatabase":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"GetDatabase":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListDatabases":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"UpdateDatabase":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"DeleteDatabase":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"GetBackup":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListBackups":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"DeleteBackup":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"RestoreDatabase":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"CreateBackupSchedule":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"GetBackupSchedule":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"ListBackupSchedules":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"UpdateBackupSchedule":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"DeleteBackupSchedule":{"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreClient=void 0;const n=r(1),o=r(764),i=r(144),a=r(99).version;t.FirestoreClient=class{constructor(e,t){var n,s,l,p,c;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const u=this.constructor;if((null==e?void 0:e.universe_domain)&&(null==e?void 0:e.universeDomain)&&(null==e?void 0:e.universe_domain)!==(null==e?void 0:e.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const d="object"==typeof process&&"object"==typeof process.env?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=null!==(l=null!==(s=null!==(n=null==e?void 0:e.universeDomain)&&void 0!==n?n:null==e?void 0:e.universe_domain)&&void 0!==s?s:d)&&void 0!==l?l:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const h=(null==e?void 0:e.servicePath)||(null==e?void 0:e.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!(!(null==e?void 0:e.servicePath)&&!(null==e?void 0:e.apiEndpoint));const f=(null==e?void 0:e.port)||u.port,g=null!==(p=null==e?void 0:e.clientConfig)&&void 0!==p?p:{},m=null!==(c=null==e?void 0:e.fallback)&&void 0!==c?c:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);(e=Object.assign({servicePath:h,port:f,clientConfig:g,fallback:m},e)).numericEnums=!0,h===this._servicePath||"scopes"in e||(e.scopes=u.scopes),t||(t=r(81)),this._gaxModule=e.fallback?t.fallback:t,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,h===this._servicePath&&(this.auth.defaultScopes=u.scopes),this.locationsClient=new this._gaxModule.LocationsClient(this._gaxGrpc,e);const y=["gax/"+this._gaxModule.version,"gapic/"+a];"object"==typeof process&&"versions"in process?y.push("gl-node/"+process.versions.node):y.push("gl-web/"+this._gaxModule.version),e.fallback?y.push("rest/"+this._gaxGrpc.grpcVersion):y.push("grpc/"+this._gaxGrpc.grpcVersion),e.libName&&e.libVersion&&y.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(o),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),runAggregationQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1.Firestore",i,e.clientConfig||{},{"x-goog-api-client":y.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1.Firestore"):this._protos.google.firestore.v1.Firestore,this._opts,this._providedCustomServicePath);const e=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","runAggregationQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const t of e){const e=this.firestoreStub.then(e=>(...r)=>{if(this._terminated){if(t in this.descriptors.stream){const e=new n.PassThrough;return setImmediate(()=>{e.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),e}return Promise.reject("The client has already been closed.")}return e[t].apply(e,r)},e=>()=>{throw e}),r=this.descriptors.page[t]||this.descriptors.stream[t]||void 0,o=this._gaxModule.createApiCall(e,this._defaults[t],r,this._opts.fallback);this.innerApiCalls[t]=o}return this.firestoreStub}static get servicePath(){return"object"==typeof process&&"function"==typeof process.emitWarning&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return"object"==typeof process&&"function"==typeof process.emitWarning&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getDocument(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getDocument(e,o,r)}updateDocument(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":null!==(n=e.document.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.updateDocument(e,o,r)}deleteDocument(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.deleteDocument(e,o,r)}beginTransaction(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.beginTransaction(e,o,r)}commit(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.commit(e,o,r)}rollback(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.rollback(e,o,r)}batchWrite(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.batchWrite(e,o,r)}createDocument(e,t,r){var n,o;let i;return e=e||{},"function"==typeof t&&void 0===r?(r=t,i={}):i=t,i=i||{},i.otherArgs=i.otherArgs||{},i.otherArgs.headers=i.otherArgs.headers||{},i.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:"",collection_id:null!==(o=e.collectionId)&&void 0!==o?o:""}),this.initialize(),this.innerApiCalls.createDocument(e,i,r)}batchGetDocuments(e,t){var r;return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(r=e.database)&&void 0!==r?r:""}),this.initialize(),this.innerApiCalls.batchGetDocuments(e,t)}runQuery(e,t){var r;return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""}),this.initialize(),this.innerApiCalls.runQuery(e,t)}runAggregationQuery(e,t){var r;return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""}),this.initialize(),this.innerApiCalls.runAggregationQuery(e,t)}write(e){return this.initialize(),this.innerApiCalls.write(null,e)}listen(e){return this.initialize(),this.innerApiCalls.listen(null,e)}listDocuments(e,t,r){var n,o;let i;return e=e||{},"function"==typeof t&&void 0===r?(r=t,i={}):i=t,i=i||{},i.otherArgs=i.otherArgs||{},i.otherArgs.headers=i.otherArgs.headers||{},i.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:"",collection_id:null!==(o=e.collectionId)&&void 0!==o?o:""}),this.initialize(),this.innerApiCalls.listDocuments(e,i,r)}listDocumentsStream(e,t){var r,n;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:"",collection_id:null!==(n=e.collectionId)&&void 0!==n?n:""});const o=this._defaults.listDocuments.merge(t);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,e,o)}listDocumentsAsync(e,t){var r,n;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:"",collection_id:null!==(n=e.collectionId)&&void 0!==n?n:""});const o=this._defaults.listDocuments.merge(t);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,e,o)}partitionQuery(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.partitionQuery(e,o,r)}partitionQueryStream(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.partitionQuery.merge(t);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,e,n)}partitionQueryAsync(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.partitionQuery.merge(t);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,e,n)}listCollectionIds(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listCollectionIds(e,o,r)}listCollectionIdsStream(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listCollectionIds.merge(t);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,e,n)}listCollectionIdsAsync(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listCollectionIds.merge(t);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,e,n)}getLocation(e,t,r){return this.locationsClient.getLocation(e,t,r)}listLocationsAsync(e,t){return this.locationsClient.listLocationsAsync(e,t)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(e=>{this._terminated=!0,e.close(),this.locationsClient.close()}):Promise.resolve()}}},function(e){e.exports=JSON.parse('{"options":{"syntax":"proto3"},"nested":{"google":{"nested":{"firestore":{"nested":{"v1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1","go_package":"cloud.google.com/go/firestore/apiv1/firestorepb;firestorepb","java_multiple_files":true,"java_outer_classname":"WriteProto","java_package":"com.google.firestore.v1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1","ruby_package":"Google::Cloud::Firestore::V1"},"nested":{"AggregationResult":{"fields":{"aggregateFields":{"keyType":"string","type":"Value","id":2}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"BitSequence":{"fields":{"bitmap":{"type":"bytes","id":1},"padding":{"type":"int32","id":2}}},"BloomFilter":{"fields":{"bits":{"type":"BitSequence","id":1},"hashCount":{"type":"int32","id":2}}},"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","(google.api.http).additional_bindings.get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}","additional_bindings":{"get":"/v1/{parent=projects/*/databases/*/documents}/{collection_id}"}}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"RunAggregationQuery":{"requestType":"RunAggregationQueryRequest","responseType":"RunAggregationQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"pageSize":{"type":"int32","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"pageToken":{"type":"string","id":4,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"orderBy":{"type":"string","id":6,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"mask":{"type":"DocumentMask","id":7,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7},"explainOptions":{"type":"ExplainOptions","id":10,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"RunQueryResponse":{"oneofs":{"continuationSelector":{"oneof":["done"]}},"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4},"done":{"type":"bool","id":6},"explainMetrics":{"type":"ExplainMetrics","id":11}}},"RunAggregationQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredAggregationQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredAggregationQuery":{"type":"StructuredAggregationQuery","id":2},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":6},"explainOptions":{"type":"ExplainOptions","id":8,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"RunAggregationQueryResponse":{"fields":{"result":{"type":"AggregationResult","id":1},"transaction":{"type":"bytes","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":3},"explainMetrics":{"type":"ExplainMetrics","id":10}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":6}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6},"expectedCount":{"type":"google.protobuf.Int32Value","id":12}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5},"findNearest":{"type":"FindNearest","id":9,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1,"OR":2}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"FindNearest":{"fields":{"vectorField":{"type":"FieldReference","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"queryVector":{"type":"Value","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"distanceMeasure":{"type":"DistanceMeasure","id":3,"options":{"(google.api.field_behavior)":"REQUIRED"}},"limit":{"type":"google.protobuf.Int32Value","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"distanceResultField":{"type":"string","id":5,"options":{"(google.api.field_behavior)":"OPTIONAL"}},"distanceThreshold":{"type":"google.protobuf.DoubleValue","id":6,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"DistanceMeasure":{"values":{"DISTANCE_MEASURE_UNSPECIFIED":0,"EUCLIDEAN":1,"COSINE":2,"DOT_PRODUCT":3}}}}}},"StructuredAggregationQuery":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"structuredQuery":{"type":"StructuredQuery","id":1},"aggregations":{"rule":"repeated","type":"Aggregation","id":3,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"Aggregation":{"oneofs":{"operator":{"oneof":["count","sum","avg"]}},"fields":{"count":{"type":"Count","id":1},"sum":{"type":"Sum","id":2},"avg":{"type":"Avg","id":3},"alias":{"type":"string","id":7,"options":{"(google.api.field_behavior)":"OPTIONAL"}}},"nested":{"Count":{"fields":{"upTo":{"type":"google.protobuf.Int64Value","id":1,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"Sum":{"fields":{"field":{"type":"StructuredQuery.FieldReference","id":1}}},"Avg":{"fields":{"field":{"type":"StructuredQuery.FieldReference","id":1}}}}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"ExplainOptions":{"fields":{"analyze":{"type":"bool","id":1,"options":{"(google.api.field_behavior)":"OPTIONAL"}}}},"ExplainMetrics":{"fields":{"planSummary":{"type":"PlanSummary","id":1},"executionStats":{"type":"ExecutionStats","id":2}}},"PlanSummary":{"fields":{"indexesUsed":{"rule":"repeated","type":"google.protobuf.Struct","id":1}}},"ExecutionStats":{"fields":{"resultsReturned":{"type":"int64","id":1},"executionDuration":{"type":"google.protobuf.Duration","id":3},"readOperations":{"type":"int64","id":4},"debugStats":{"type":"google.protobuf.Struct","id":5}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2},"unchangedNames":{"type":"BloomFilter","id":3}}}}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}},"Empty":{"fields":{}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek","java_multiple_files":true,"java_outer_classname":"DayOfWeekProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}},"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreClient=void 0;const n=r(766);Object.defineProperty(t,"FirestoreClient",{enumerable:!0,get:function(){return n.FirestoreClient}});const o=e.exports;e.exports=n.FirestoreClient,e.exports=Object.assign(e.exports,o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreClient=void 0;const n=r(1),o=r(767),i=r(768),a=r(99).version;t.FirestoreClient=class{constructor(e,t){var n,s,l,p,c;this._terminated=!1,this.descriptors={page:{},stream:{},longrunning:{},batching:{}};const u=this.constructor;if((null==e?void 0:e.universe_domain)&&(null==e?void 0:e.universeDomain)&&(null==e?void 0:e.universe_domain)!==(null==e?void 0:e.universeDomain))throw new Error("Please set either universe_domain or universeDomain, but not both.");const d="object"==typeof process&&"object"==typeof process.env?process.env.GOOGLE_CLOUD_UNIVERSE_DOMAIN:void 0;this._universeDomain=null!==(l=null!==(s=null!==(n=null==e?void 0:e.universeDomain)&&void 0!==n?n:null==e?void 0:e.universe_domain)&&void 0!==s?s:d)&&void 0!==l?l:"googleapis.com",this._servicePath="firestore."+this._universeDomain;const h=(null==e?void 0:e.servicePath)||(null==e?void 0:e.apiEndpoint)||this._servicePath;this._providedCustomServicePath=!(!(null==e?void 0:e.servicePath)&&!(null==e?void 0:e.apiEndpoint));const f=(null==e?void 0:e.port)||u.port,g=null!==(p=null==e?void 0:e.clientConfig)&&void 0!==p?p:{},m=null!==(c=null==e?void 0:e.fallback)&&void 0!==c?c:"undefined"!=typeof window&&"function"==typeof(null===window||void 0===window?void 0:window.fetch);(e=Object.assign({servicePath:h,port:f,clientConfig:g,fallback:m},e)).numericEnums=!0,h===this._servicePath||"scopes"in e||(e.scopes=u.scopes),t||(t=r(81)),this._gaxModule=e.fallback?t.fallback:t,this._gaxGrpc=new this._gaxModule.GrpcClient(e),this._opts=e,this.auth=this._gaxGrpc.auth,this.auth.useJWTAccessWithScope=!0,this.auth.defaultServicePath=this._servicePath,h===this._servicePath&&(this.auth.defaultScopes=u.scopes);const y=["gax/"+this._gaxModule.version,"gapic/"+a];"object"==typeof process&&"versions"in process?y.push("gl-node/"+process.versions.node):y.push("gl-web/"+this._gaxModule.version),e.fallback?y.push("rest/"+this._gaxGrpc.grpcVersion):y.push("grpc/"+this._gaxGrpc.grpcVersion),e.libName&&e.libVersion&&y.push(`${e.libName}/${e.libVersion}`),this._protos=this._gaxGrpc.loadProtoJSON(o),this.descriptors.page={listDocuments:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","documents"),partitionQuery:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","partitions"),listCollectionIds:new this._gaxModule.PageDescriptor("pageToken","nextPageToken","collectionIds")},this.descriptors.stream={batchGetDocuments:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),runQuery:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.SERVER_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),write:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries),listen:new this._gaxModule.StreamDescriptor(this._gaxModule.StreamType.BIDI_STREAMING,!!e.fallback,!!e.gaxServerStreamingRetries)},this._defaults=this._gaxGrpc.constructSettings("google.firestore.v1beta1.Firestore",i,e.clientConfig||{},{"x-goog-api-client":y.join(" ")}),this.innerApiCalls={},this.warn=this._gaxModule.warn}initialize(){if(this.firestoreStub)return this.firestoreStub;this.firestoreStub=this._gaxGrpc.createStub(this._opts.fallback?this._protos.lookupService("google.firestore.v1beta1.Firestore"):this._protos.google.firestore.v1beta1.Firestore,this._opts,this._providedCustomServicePath);const e=["getDocument","listDocuments","updateDocument","deleteDocument","batchGetDocuments","beginTransaction","commit","rollback","runQuery","partitionQuery","write","listen","listCollectionIds","batchWrite","createDocument"];for(const t of e){const e=this.firestoreStub.then(e=>(...r)=>{if(this._terminated){if(t in this.descriptors.stream){const e=new n.PassThrough;return setImmediate(()=>{e.emit("error",new this._gaxModule.GoogleError("The client has already been closed."))}),e}return Promise.reject("The client has already been closed.")}return e[t].apply(e,r)},e=>()=>{throw e}),r=this.descriptors.page[t]||this.descriptors.stream[t]||void 0,o=this._gaxModule.createApiCall(e,this._defaults[t],r,this._opts.fallback);this.innerApiCalls[t]=o}return this.firestoreStub}static get servicePath(){return"object"==typeof process&&"function"==typeof process.emitWarning&&process.emitWarning("Static servicePath is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}static get apiEndpoint(){return"object"==typeof process&&"function"==typeof process.emitWarning&&process.emitWarning("Static apiEndpoint is deprecated, please use the instance method instead.","DeprecationWarning"),"firestore.googleapis.com"}get apiEndpoint(){return this._servicePath}get universeDomain(){return this._universeDomain}static get port(){return 443}static get scopes(){return["https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/datastore"]}getProjectId(e){if(!e)return this.auth.getProjectId();this.auth.getProjectId(e)}getDocument(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.getDocument(e,o,r)}updateDocument(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({"document.name":null!==(n=e.document.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.updateDocument(e,o,r)}deleteDocument(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({name:null!==(n=e.name)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.deleteDocument(e,o,r)}beginTransaction(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.beginTransaction(e,o,r)}commit(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.commit(e,o,r)}rollback(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.rollback(e,o,r)}batchWrite(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(n=e.database)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.batchWrite(e,o,r)}createDocument(e,t,r){var n,o;let i;return e=e||{},"function"==typeof t&&void 0===r?(r=t,i={}):i=t,i=i||{},i.otherArgs=i.otherArgs||{},i.otherArgs.headers=i.otherArgs.headers||{},i.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:"",collection_id:null!==(o=e.collectionId)&&void 0!==o?o:""}),this.initialize(),this.innerApiCalls.createDocument(e,i,r)}batchGetDocuments(e,t){var r;return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({database:null!==(r=e.database)&&void 0!==r?r:""}),this.initialize(),this.innerApiCalls.batchGetDocuments(e,t)}runQuery(e,t){var r;return e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""}),this.initialize(),this.innerApiCalls.runQuery(e,t)}write(e){return this.initialize(),this.innerApiCalls.write(null,e)}listen(e){return this.initialize(),this.innerApiCalls.listen(null,e)}listDocuments(e,t,r){var n,o;let i;return e=e||{},"function"==typeof t&&void 0===r?(r=t,i={}):i=t,i=i||{},i.otherArgs=i.otherArgs||{},i.otherArgs.headers=i.otherArgs.headers||{},i.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:"",collection_id:null!==(o=e.collectionId)&&void 0!==o?o:""}),this.initialize(),this.innerApiCalls.listDocuments(e,i,r)}listDocumentsStream(e,t){var r,n;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:"",collection_id:null!==(n=e.collectionId)&&void 0!==n?n:""});const o=this._defaults.listDocuments.merge(t);return this.initialize(),this.descriptors.page.listDocuments.createStream(this.innerApiCalls.listDocuments,e,o)}listDocumentsAsync(e,t){var r,n;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:"",collection_id:null!==(n=e.collectionId)&&void 0!==n?n:""});const o=this._defaults.listDocuments.merge(t);return this.initialize(),this.descriptors.page.listDocuments.asyncIterate(this.innerApiCalls.listDocuments,e,o)}partitionQuery(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.partitionQuery(e,o,r)}partitionQueryStream(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.partitionQuery.merge(t);return this.initialize(),this.descriptors.page.partitionQuery.createStream(this.innerApiCalls.partitionQuery,e,n)}partitionQueryAsync(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.partitionQuery.merge(t);return this.initialize(),this.descriptors.page.partitionQuery.asyncIterate(this.innerApiCalls.partitionQuery,e,n)}listCollectionIds(e,t,r){var n;let o;return e=e||{},"function"==typeof t&&void 0===r?(r=t,o={}):o=t,o=o||{},o.otherArgs=o.otherArgs||{},o.otherArgs.headers=o.otherArgs.headers||{},o.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(n=e.parent)&&void 0!==n?n:""}),this.initialize(),this.innerApiCalls.listCollectionIds(e,o,r)}listCollectionIdsStream(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listCollectionIds.merge(t);return this.initialize(),this.descriptors.page.listCollectionIds.createStream(this.innerApiCalls.listCollectionIds,e,n)}listCollectionIdsAsync(e,t){var r;e=e||{},(t=t||{}).otherArgs=t.otherArgs||{},t.otherArgs.headers=t.otherArgs.headers||{},t.otherArgs.headers["x-goog-request-params"]=this._gaxModule.routingHeader.fromParams({parent:null!==(r=e.parent)&&void 0!==r?r:""});const n=this._defaults.listCollectionIds.merge(t);return this.initialize(),this.descriptors.page.listCollectionIds.asyncIterate(this.innerApiCalls.listCollectionIds,e,n)}close(){return this.firestoreStub&&!this._terminated?this.firestoreStub.then(e=>{this._terminated=!0,e.close()}):Promise.resolve()}}},function(e){e.exports=JSON.parse('{"options":{"syntax":"proto3"},"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"Timestamp":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"Struct":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Value":{"oneofs":{"kind":{"oneof":["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},"fields":{"nullValue":{"type":"NullValue","id":1},"numberValue":{"type":"double","id":2},"stringValue":{"type":"string","id":3},"boolValue":{"type":"bool","id":4},"structValue":{"type":"Struct","id":5},"listValue":{"type":"ListValue","id":6}}},"NullValue":{"values":{"NULL_VALUE":0}},"ListValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"Edition":{"values":{"EDITION_UNKNOWN":0,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5,"options":{"default":false}},"serverStreaming":{"type":"bool","id":6,"options":{"default":false}}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10,"options":{"default":false}},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27,"options":{"default":false}},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16,"options":{"default":false}},"javaGenericServices":{"type":"bool","id":17,"options":{"default":false}},"pyGenericServices":{"type":"bool","id":18,"options":{"default":false}},"deprecated":{"type":"bool","id":23,"options":{"default":false}},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1,"options":{"default":false}},"noStandardDescriptorAccessor":{"type":"bool","id":2,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5,"options":{"default":false}},"unverifiedLazy":{"type":"bool","id":15,"options":{"default":false}},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"weak":{"type":"bool","id":10,"options":{"default":false}},"debugRedact":{"type":"bool","id":16,"options":{"default":false}},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19,"options":{"packed":false}},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}}}},"OneofOptions":{"fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3,"options":{"default":false}},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1,"options":{"default":false}},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33,"options":{"default":false}},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33,"options":{"default":false}},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO2","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}}},"extensions":[[1000,1000],[1001,1001],[1002,1002],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}}}},"FeatureSetDefaults":{"fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"features":{"type":"FeatureSet","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"Duration":{"fields":{"seconds":{"type":"int64","id":1},"nanos":{"type":"int32","id":2}}},"DoubleValue":{"fields":{"value":{"type":"double","id":1}}},"FloatValue":{"fields":{"value":{"type":"float","id":1}}},"Int64Value":{"fields":{"value":{"type":"int64","id":1}}},"UInt64Value":{"fields":{"value":{"type":"uint64","id":1}}},"Int32Value":{"fields":{"value":{"type":"int32","id":1}}},"UInt32Value":{"fields":{"value":{"type":"uint32","id":1}}},"BoolValue":{"fields":{"value":{"type":"bool","id":1}}},"StringValue":{"fields":{"value":{"type":"string","id":1}}},"BytesValue":{"fields":{"value":{"type":"bytes","id":1}}},"Empty":{"fields":{}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"FieldMask":{"fields":{"paths":{"rule":"repeated","type":"string","id":1}}}}},"firestore":{"nested":{"v1beta1":{"options":{"csharp_namespace":"Google.Cloud.Firestore.V1Beta1","go_package":"cloud.google.com/go/firestore/apiv1beta1/firestorepb;firestorepb","java_multiple_files":true,"java_outer_classname":"UndeliverableFirstGenEventProto","java_package":"com.google.firestore.v1beta1","objc_class_prefix":"GCFS","php_namespace":"Google\\\\Cloud\\\\Firestore\\\\V1beta1","ruby_package":"Google::Cloud::Firestore::V1beta1"},"nested":{"DocumentMask":{"fields":{"fieldPaths":{"rule":"repeated","type":"string","id":1}}},"Precondition":{"oneofs":{"conditionType":{"oneof":["exists","updateTime"]}},"fields":{"exists":{"type":"bool","id":1},"updateTime":{"type":"google.protobuf.Timestamp","id":2}}},"TransactionOptions":{"oneofs":{"mode":{"oneof":["readOnly","readWrite"]}},"fields":{"readOnly":{"type":"ReadOnly","id":2},"readWrite":{"type":"ReadWrite","id":3}},"nested":{"ReadWrite":{"fields":{"retryTransaction":{"type":"bytes","id":1}}},"ReadOnly":{"oneofs":{"consistencySelector":{"oneof":["readTime"]}},"fields":{"readTime":{"type":"google.protobuf.Timestamp","id":2}}}}},"Document":{"fields":{"name":{"type":"string","id":1},"fields":{"keyType":"string","type":"Value","id":2},"createTime":{"type":"google.protobuf.Timestamp","id":3},"updateTime":{"type":"google.protobuf.Timestamp","id":4}}},"Value":{"oneofs":{"valueType":{"oneof":["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},"fields":{"nullValue":{"type":"google.protobuf.NullValue","id":11},"booleanValue":{"type":"bool","id":1},"integerValue":{"type":"int64","id":2},"doubleValue":{"type":"double","id":3},"timestampValue":{"type":"google.protobuf.Timestamp","id":10},"stringValue":{"type":"string","id":17},"bytesValue":{"type":"bytes","id":18},"referenceValue":{"type":"string","id":5},"geoPointValue":{"type":"google.type.LatLng","id":8},"arrayValue":{"type":"ArrayValue","id":9},"mapValue":{"type":"MapValue","id":6}}},"ArrayValue":{"fields":{"values":{"rule":"repeated","type":"Value","id":1}}},"MapValue":{"fields":{"fields":{"keyType":"string","type":"Value","id":1}}},"Firestore":{"options":{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},"methods":{"GetDocument":{"requestType":"GetDocumentRequest","responseType":"Document","options":{"(google.api.http).get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}}]},"ListDocuments":{"requestType":"ListDocumentsRequest","responseType":"ListDocumentsResponse","options":{"(google.api.http).get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},"parsedOptions":[{"(google.api.http)":{"get":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},"UpdateDocument":{"requestType":"UpdateDocumentRequest","responseType":"Document","options":{"(google.api.http).patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},"parsedOptions":[{"(google.api.http)":{"patch":"/v1beta1/{document.name=projects/*/databases/*/documents/*/**}","body":"document"}},{"(google.api.method_signature)":"document,update_mask"}]},"DeleteDocument":{"requestType":"DeleteDocumentRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},"parsedOptions":[{"(google.api.http)":{"delete":"/v1beta1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},"BatchGetDocuments":{"requestType":"BatchGetDocumentsRequest","responseType":"BatchGetDocumentsResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchGet","body":"*"}}]},"BeginTransaction":{"requestType":"BeginTransactionRequest","responseType":"BeginTransactionResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:beginTransaction","body":"*"}},{"(google.api.method_signature)":"database"}]},"Commit":{"requestType":"CommitRequest","responseType":"CommitResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:commit","body":"*"}},{"(google.api.method_signature)":"database,writes"}]},"Rollback":{"requestType":"RollbackRequest","responseType":"google.protobuf.Empty","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:rollback","body":"*"}},{"(google.api.method_signature)":"database,transaction"}]},"RunQuery":{"requestType":"RunQueryRequest","responseType":"RunQueryResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:runQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:runQuery","body":"*"}}}]},"PartitionQuery":{"requestType":"PartitionQueryRequest","responseType":"PartitionQueryResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:partitionQuery","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","body":"*"}}}]},"Write":{"requestType":"WriteRequest","requestStream":true,"responseType":"WriteResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:write","body":"*"}}]},"Listen":{"requestType":"ListenRequest","requestStream":true,"responseType":"ListenResponse","responseStream":true,"options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:listen","body":"*"}}]},"ListCollectionIds":{"requestType":"ListCollectionIdsRequest","responseType":"ListCollectionIdsResponse","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents}:listCollectionIds","body":"*","additional_bindings":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","body":"*"}}},{"(google.api.method_signature)":"parent"}]},"BatchWrite":{"requestType":"BatchWriteRequest","responseType":"BatchWriteResponse","options":{"(google.api.http).post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{database=projects/*/databases/*}/documents:batchWrite","body":"*"}}]},"CreateDocument":{"requestType":"CreateDocumentRequest","responseType":"Document","options":{"(google.api.http).post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},"parsedOptions":[{"(google.api.http)":{"post":"/v1beta1/{parent=projects/*/databases/*/documents/**}/{collection_id}","body":"document"}}]}}},"GetDocumentRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":5}}},"ListDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":3},"pageToken":{"type":"string","id":4},"orderBy":{"type":"string","id":6},"mask":{"type":"DocumentMask","id":7},"transaction":{"type":"bytes","id":8},"readTime":{"type":"google.protobuf.Timestamp","id":10},"showMissing":{"type":"bool","id":12}}},"ListDocumentsResponse":{"fields":{"documents":{"rule":"repeated","type":"Document","id":1},"nextPageToken":{"type":"string","id":2}}},"CreateDocumentRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"collectionId":{"type":"string","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documentId":{"type":"string","id":3},"document":{"type":"Document","id":4,"options":{"(google.api.field_behavior)":"REQUIRED"}},"mask":{"type":"DocumentMask","id":5}}},"UpdateDocumentRequest":{"fields":{"document":{"type":"Document","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"updateMask":{"type":"DocumentMask","id":2},"mask":{"type":"DocumentMask","id":3},"currentDocument":{"type":"Precondition","id":4}}},"DeleteDocumentRequest":{"fields":{"name":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"currentDocument":{"type":"Precondition","id":2}}},"BatchGetDocumentsRequest":{"oneofs":{"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"documents":{"rule":"repeated","type":"string","id":2},"mask":{"type":"DocumentMask","id":3},"transaction":{"type":"bytes","id":4},"newTransaction":{"type":"TransactionOptions","id":5},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"BatchGetDocumentsResponse":{"oneofs":{"result":{"oneof":["found","missing"]}},"fields":{"found":{"type":"Document","id":1},"missing":{"type":"string","id":2},"transaction":{"type":"bytes","id":3},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"BeginTransactionRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"options":{"type":"TransactionOptions","id":2}}},"BeginTransactionResponse":{"fields":{"transaction":{"type":"bytes","id":1}}},"CommitRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"transaction":{"type":"bytes","id":3}}},"CommitResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"commitTime":{"type":"google.protobuf.Timestamp","id":2}}},"RollbackRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"transaction":{"type":"bytes","id":2,"options":{"(google.api.field_behavior)":"REQUIRED"}}}},"RunQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]},"consistencySelector":{"oneof":["transaction","newTransaction","readTime"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"transaction":{"type":"bytes","id":5},"newTransaction":{"type":"TransactionOptions","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":7}}},"RunQueryResponse":{"fields":{"transaction":{"type":"bytes","id":2},"document":{"type":"Document","id":1},"readTime":{"type":"google.protobuf.Timestamp","id":3},"skippedResults":{"type":"int32","id":4}}},"PartitionQueryRequest":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"structuredQuery":{"type":"StructuredQuery","id":2},"partitionCount":{"type":"int64","id":3},"pageToken":{"type":"string","id":4},"pageSize":{"type":"int32","id":5}}},"PartitionQueryResponse":{"fields":{"partitions":{"rule":"repeated","type":"Cursor","id":1},"nextPageToken":{"type":"string","id":2}}},"WriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"streamId":{"type":"string","id":2},"writes":{"rule":"repeated","type":"Write","id":3},"streamToken":{"type":"bytes","id":4},"labels":{"keyType":"string","type":"string","id":5}}},"WriteResponse":{"fields":{"streamId":{"type":"string","id":1},"streamToken":{"type":"bytes","id":2},"writeResults":{"rule":"repeated","type":"WriteResult","id":3},"commitTime":{"type":"google.protobuf.Timestamp","id":4}}},"ListenRequest":{"oneofs":{"targetChange":{"oneof":["addTarget","removeTarget"]}},"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"addTarget":{"type":"Target","id":2},"removeTarget":{"type":"int32","id":3},"labels":{"keyType":"string","type":"string","id":4}}},"ListenResponse":{"oneofs":{"responseType":{"oneof":["targetChange","documentChange","documentDelete","documentRemove","filter"]}},"fields":{"targetChange":{"type":"TargetChange","id":2},"documentChange":{"type":"DocumentChange","id":3},"documentDelete":{"type":"DocumentDelete","id":4},"documentRemove":{"type":"DocumentRemove","id":6},"filter":{"type":"ExistenceFilter","id":5}}},"Target":{"oneofs":{"targetType":{"oneof":["query","documents"]},"resumeType":{"oneof":["resumeToken","readTime"]}},"fields":{"query":{"type":"QueryTarget","id":2},"documents":{"type":"DocumentsTarget","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":11},"targetId":{"type":"int32","id":5},"once":{"type":"bool","id":6}},"nested":{"DocumentsTarget":{"fields":{"documents":{"rule":"repeated","type":"string","id":2}}},"QueryTarget":{"oneofs":{"queryType":{"oneof":["structuredQuery"]}},"fields":{"parent":{"type":"string","id":1},"structuredQuery":{"type":"StructuredQuery","id":2}}}}},"TargetChange":{"fields":{"targetChangeType":{"type":"TargetChangeType","id":1},"targetIds":{"rule":"repeated","type":"int32","id":2},"cause":{"type":"google.rpc.Status","id":3},"resumeToken":{"type":"bytes","id":4},"readTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"TargetChangeType":{"values":{"NO_CHANGE":0,"ADD":1,"REMOVE":2,"CURRENT":3,"RESET":4}}}},"ListCollectionIdsRequest":{"fields":{"parent":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"pageSize":{"type":"int32","id":2},"pageToken":{"type":"string","id":3}}},"ListCollectionIdsResponse":{"fields":{"collectionIds":{"rule":"repeated","type":"string","id":1},"nextPageToken":{"type":"string","id":2}}},"BatchWriteRequest":{"fields":{"database":{"type":"string","id":1,"options":{"(google.api.field_behavior)":"REQUIRED"}},"writes":{"rule":"repeated","type":"Write","id":2},"labels":{"keyType":"string","type":"string","id":3}}},"BatchWriteResponse":{"fields":{"writeResults":{"rule":"repeated","type":"WriteResult","id":1},"status":{"rule":"repeated","type":"google.rpc.Status","id":2}}},"StructuredQuery":{"fields":{"select":{"type":"Projection","id":1},"from":{"rule":"repeated","type":"CollectionSelector","id":2},"where":{"type":"Filter","id":3},"orderBy":{"rule":"repeated","type":"Order","id":4},"startAt":{"type":"Cursor","id":7},"endAt":{"type":"Cursor","id":8},"offset":{"type":"int32","id":6},"limit":{"type":"google.protobuf.Int32Value","id":5}},"nested":{"CollectionSelector":{"fields":{"collectionId":{"type":"string","id":2},"allDescendants":{"type":"bool","id":3}}},"Filter":{"oneofs":{"filterType":{"oneof":["compositeFilter","fieldFilter","unaryFilter"]}},"fields":{"compositeFilter":{"type":"CompositeFilter","id":1},"fieldFilter":{"type":"FieldFilter","id":2},"unaryFilter":{"type":"UnaryFilter","id":3}}},"CompositeFilter":{"fields":{"op":{"type":"Operator","id":1},"filters":{"rule":"repeated","type":"Filter","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"AND":1}}}},"FieldFilter":{"fields":{"field":{"type":"FieldReference","id":1},"op":{"type":"Operator","id":2},"value":{"type":"Value","id":3}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"LESS_THAN":1,"LESS_THAN_OR_EQUAL":2,"GREATER_THAN":3,"GREATER_THAN_OR_EQUAL":4,"EQUAL":5,"NOT_EQUAL":6,"ARRAY_CONTAINS":7,"IN":8,"ARRAY_CONTAINS_ANY":9,"NOT_IN":10}}}},"UnaryFilter":{"oneofs":{"operandType":{"oneof":["field"]}},"fields":{"op":{"type":"Operator","id":1},"field":{"type":"FieldReference","id":2}},"nested":{"Operator":{"values":{"OPERATOR_UNSPECIFIED":0,"IS_NAN":2,"IS_NULL":3,"IS_NOT_NAN":4,"IS_NOT_NULL":5}}}},"FieldReference":{"fields":{"fieldPath":{"type":"string","id":2}}},"Order":{"fields":{"field":{"type":"FieldReference","id":1},"direction":{"type":"Direction","id":2}}},"Projection":{"fields":{"fields":{"rule":"repeated","type":"FieldReference","id":2}}},"Direction":{"values":{"DIRECTION_UNSPECIFIED":0,"ASCENDING":1,"DESCENDING":2}}}},"Cursor":{"fields":{"values":{"rule":"repeated","type":"Value","id":1},"before":{"type":"bool","id":2}}},"Write":{"oneofs":{"operation":{"oneof":["update","delete","transform"]}},"fields":{"update":{"type":"Document","id":1},"delete":{"type":"string","id":2},"transform":{"type":"DocumentTransform","id":6},"updateMask":{"type":"DocumentMask","id":3},"updateTransforms":{"rule":"repeated","type":"DocumentTransform.FieldTransform","id":7},"currentDocument":{"type":"Precondition","id":4}}},"DocumentTransform":{"fields":{"document":{"type":"string","id":1},"fieldTransforms":{"rule":"repeated","type":"FieldTransform","id":2}},"nested":{"FieldTransform":{"oneofs":{"transformType":{"oneof":["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},"fields":{"fieldPath":{"type":"string","id":1},"setToServerValue":{"type":"ServerValue","id":2},"increment":{"type":"Value","id":3},"maximum":{"type":"Value","id":4},"minimum":{"type":"Value","id":5},"appendMissingElements":{"type":"ArrayValue","id":6},"removeAllFromArray":{"type":"ArrayValue","id":7}},"nested":{"ServerValue":{"values":{"SERVER_VALUE_UNSPECIFIED":0,"REQUEST_TIME":1}}}}}},"WriteResult":{"fields":{"updateTime":{"type":"google.protobuf.Timestamp","id":1},"transformResults":{"rule":"repeated","type":"Value","id":2}}},"DocumentChange":{"fields":{"document":{"type":"Document","id":1},"targetIds":{"rule":"repeated","type":"int32","id":5},"removedTargetIds":{"rule":"repeated","type":"int32","id":6}}},"DocumentDelete":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":6},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"DocumentRemove":{"fields":{"document":{"type":"string","id":1},"removedTargetIds":{"rule":"repeated","type":"int32","id":2},"readTime":{"type":"google.protobuf.Timestamp","id":4}}},"ExistenceFilter":{"fields":{"targetId":{"type":"int32","id":1},"count":{"type":"int32","id":2}}},"UndeliverableFirstGenEvent":{"fields":{"message":{"type":"string","id":1},"reason":{"type":"Reason","id":2},"documentName":{"type":"string","id":3},"documentChangeType":{"type":"DocumentChangeType","id":4},"functionName":{"rule":"repeated","type":"string","id":5},"triggeredTime":{"type":"google.protobuf.Timestamp","id":6}},"nested":{"Reason":{"values":{"REASON_UNSPECIFIED":0,"EXCEEDING_SIZE_LIMIT":1}},"DocumentChangeType":{"values":{"DOCUMENT_CHANGE_TYPE_UNSPECIFIED":0,"CREATE":1,"DELETE":2,"UPDATE":3}}}}}}}},"type":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/type/dayofweek;dayofweek","java_multiple_files":true,"java_outer_classname":"DayOfWeekProto","java_package":"com.google.type","objc_class_prefix":"GTP"},"nested":{"LatLng":{"fields":{"latitude":{"type":"double","id":1},"longitude":{"type":"double","id":2}}},"DayOfWeek":{"values":{"DAY_OF_WEEK_UNSPECIFIED":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6,"SUNDAY":7}}}},"api":{"options":{"go_package":"google.golang.org/genproto/googleapis/api/annotations;annotations","java_multiple_files":true,"java_outer_classname":"ResourceProto","java_package":"com.google.api","objc_class_prefix":"GAPI","cc_enable_arenas":true},"nested":{"http":{"type":"HttpRule","id":72295728,"extend":"google.protobuf.MethodOptions"},"Http":{"fields":{"rules":{"rule":"repeated","type":"HttpRule","id":1},"fullyDecodeReservedExpansion":{"type":"bool","id":2}}},"HttpRule":{"oneofs":{"pattern":{"oneof":["get","put","post","delete","patch","custom"]}},"fields":{"selector":{"type":"string","id":1},"get":{"type":"string","id":2},"put":{"type":"string","id":3},"post":{"type":"string","id":4},"delete":{"type":"string","id":5},"patch":{"type":"string","id":6},"custom":{"type":"CustomHttpPattern","id":8},"body":{"type":"string","id":7},"responseBody":{"type":"string","id":12},"additionalBindings":{"rule":"repeated","type":"HttpRule","id":11}}},"CustomHttpPattern":{"fields":{"kind":{"type":"string","id":1},"path":{"type":"string","id":2}}},"methodSignature":{"rule":"repeated","type":"string","id":1051,"extend":"google.protobuf.MethodOptions"},"defaultHost":{"type":"string","id":1049,"extend":"google.protobuf.ServiceOptions"},"oauthScopes":{"type":"string","id":1050,"extend":"google.protobuf.ServiceOptions"},"apiVersion":{"type":"string","id":525000001,"extend":"google.protobuf.ServiceOptions"},"CommonLanguageSettings":{"fields":{"referenceDocsUri":{"type":"string","id":1,"options":{"deprecated":true}},"destinations":{"rule":"repeated","type":"ClientLibraryDestination","id":2}}},"ClientLibrarySettings":{"fields":{"version":{"type":"string","id":1},"launchStage":{"type":"LaunchStage","id":2},"restNumericEnums":{"type":"bool","id":3},"javaSettings":{"type":"JavaSettings","id":21},"cppSettings":{"type":"CppSettings","id":22},"phpSettings":{"type":"PhpSettings","id":23},"pythonSettings":{"type":"PythonSettings","id":24},"nodeSettings":{"type":"NodeSettings","id":25},"dotnetSettings":{"type":"DotnetSettings","id":26},"rubySettings":{"type":"RubySettings","id":27},"goSettings":{"type":"GoSettings","id":28}}},"Publishing":{"fields":{"methodSettings":{"rule":"repeated","type":"MethodSettings","id":2},"newIssueUri":{"type":"string","id":101},"documentationUri":{"type":"string","id":102},"apiShortName":{"type":"string","id":103},"githubLabel":{"type":"string","id":104},"codeownerGithubTeams":{"rule":"repeated","type":"string","id":105},"docTagPrefix":{"type":"string","id":106},"organization":{"type":"ClientLibraryOrganization","id":107},"librarySettings":{"rule":"repeated","type":"ClientLibrarySettings","id":109},"protoReferenceDocumentationUri":{"type":"string","id":110},"restReferenceDocumentationUri":{"type":"string","id":111}}},"JavaSettings":{"fields":{"libraryPackage":{"type":"string","id":1},"serviceClassNames":{"keyType":"string","type":"string","id":2},"common":{"type":"CommonLanguageSettings","id":3}}},"CppSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PhpSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"PythonSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"experimentalFeatures":{"type":"ExperimentalFeatures","id":2}},"nested":{"ExperimentalFeatures":{"fields":{"restAsyncIoEnabled":{"type":"bool","id":1}}}}},"NodeSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"DotnetSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1},"renamedServices":{"keyType":"string","type":"string","id":2},"renamedResources":{"keyType":"string","type":"string","id":3},"ignoredResources":{"rule":"repeated","type":"string","id":4},"forcedNamespaceAliases":{"rule":"repeated","type":"string","id":5},"handwrittenSignatures":{"rule":"repeated","type":"string","id":6}}},"RubySettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"GoSettings":{"fields":{"common":{"type":"CommonLanguageSettings","id":1}}},"MethodSettings":{"fields":{"selector":{"type":"string","id":1},"longRunning":{"type":"LongRunning","id":2},"autoPopulatedFields":{"rule":"repeated","type":"string","id":3}},"nested":{"LongRunning":{"fields":{"initialPollDelay":{"type":"google.protobuf.Duration","id":1},"pollDelayMultiplier":{"type":"float","id":2},"maxPollDelay":{"type":"google.protobuf.Duration","id":3},"totalPollTimeout":{"type":"google.protobuf.Duration","id":4}}}}},"ClientLibraryOrganization":{"values":{"CLIENT_LIBRARY_ORGANIZATION_UNSPECIFIED":0,"CLOUD":1,"ADS":2,"PHOTOS":3,"STREET_VIEW":4,"SHOPPING":5,"GEO":6,"GENERATIVE_AI":7}},"ClientLibraryDestination":{"values":{"CLIENT_LIBRARY_DESTINATION_UNSPECIFIED":0,"GITHUB":10,"PACKAGE_MANAGER":20}},"LaunchStage":{"values":{"LAUNCH_STAGE_UNSPECIFIED":0,"UNIMPLEMENTED":6,"PRELAUNCH":7,"EARLY_ACCESS":1,"ALPHA":2,"BETA":3,"GA":4,"DEPRECATED":5}},"fieldBehavior":{"rule":"repeated","type":"google.api.FieldBehavior","id":1052,"extend":"google.protobuf.FieldOptions","options":{"packed":false}},"FieldBehavior":{"values":{"FIELD_BEHAVIOR_UNSPECIFIED":0,"OPTIONAL":1,"REQUIRED":2,"OUTPUT_ONLY":3,"INPUT_ONLY":4,"IMMUTABLE":5,"UNORDERED_LIST":6,"NON_EMPTY_DEFAULT":7,"IDENTIFIER":8}},"resourceReference":{"type":"google.api.ResourceReference","id":1055,"extend":"google.protobuf.FieldOptions"},"resourceDefinition":{"rule":"repeated","type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.FileOptions"},"resource":{"type":"google.api.ResourceDescriptor","id":1053,"extend":"google.protobuf.MessageOptions"},"ResourceDescriptor":{"fields":{"type":{"type":"string","id":1},"pattern":{"rule":"repeated","type":"string","id":2},"nameField":{"type":"string","id":3},"history":{"type":"History","id":4},"plural":{"type":"string","id":5},"singular":{"type":"string","id":6},"style":{"rule":"repeated","type":"Style","id":10}},"nested":{"History":{"values":{"HISTORY_UNSPECIFIED":0,"ORIGINALLY_SINGLE_PATTERN":1,"FUTURE_MULTI_PATTERN":2}},"Style":{"values":{"STYLE_UNSPECIFIED":0,"DECLARATIVE_FRIENDLY":1}}}},"ResourceReference":{"fields":{"type":{"type":"string","id":1},"childType":{"type":"string","id":2}}}}},"rpc":{"options":{"cc_enable_arenas":true,"go_package":"google.golang.org/genproto/googleapis/rpc/status;status","java_multiple_files":true,"java_outer_classname":"StatusProto","java_package":"com.google.rpc","objc_class_prefix":"RPC"},"nested":{"Status":{"fields":{"code":{"type":"int32","id":1},"message":{"type":"string","id":2},"details":{"rule":"repeated","type":"google.protobuf.Any","id":3}}}}}}}}}')},function(e){e.exports=JSON.parse('{"interfaces":{"google.firestore.v1beta1.Firestore":{"retry_codes":{"non_idempotent":[],"idempotent":["DEADLINE_EXCEEDED","UNAVAILABLE"]},"retry_params":{"default":{"initial_retry_delay_millis":100,"retry_delay_multiplier":1.3,"max_retry_delay_millis":60000,"initial_rpc_timeout_millis":60000,"rpc_timeout_multiplier":1,"max_rpc_timeout_millis":60000,"total_timeout_millis":600000}},"methods":{"GetDocument":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListDocuments":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"UpdateDocument":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"DeleteDocument":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"BatchGetDocuments":{"timeout_millis":300000,"retry_codes_name":"idempotent","retry_params_name":"default"},"BeginTransaction":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"Commit":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Rollback":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"RunQuery":{"timeout_millis":300000,"retry_codes_name":"idempotent","retry_params_name":"default"},"PartitionQuery":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Write":{"timeout_millis":86400000,"retry_codes_name":"non_idempotent","retry_params_name":"default"},"Listen":{"timeout_millis":86400000,"retry_codes_name":"idempotent","retry_params_name":"default"},"ListCollectionIds":{"timeout_millis":60000,"retry_codes_name":"idempotent","retry_params_name":"default"},"BatchWrite":{"retry_codes_name":"non_idempotent","retry_params_name":"default"},"CreateDocument":{"timeout_millis":60000,"retry_codes_name":"non_idempotent","retry_params_name":"default"}}}}}')},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */Object.defineProperty(t,"__esModule",{value:!0}),t.getFirebaseMetadata=function(e,t){const r=`${e}/b/${t.bucket.name}/o/${encodeURIComponent(t.name)}`;return new Promise((e,n)=>{t.storage.makeAuthenticatedRequest({method:"GET",uri:r},(t,r)=>{t?n(t):e(r)})})}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.MachineLearningApiClient=void 0,t.isGcsTfliteModelOptions=function(e){var t;return void 0!==(null==e||null===(t=e.tfliteModel)||void 0===t?void 0:t.gcsTfliteUri)};const n=r(27),o=r(2),i=r(9),a=r(4),s=r(436),l={"X-Firebase-Client":"fire-admin-node/"+i.getSdkVersion()};t.MachineLearningApiClient=class{constructor(e){if(this.app=e,!a.isNonNullObject(e)||!("options"in e))throw new s.FirebaseMachineLearningError("invalid-argument","First argument passed to admin.machineLearning() must be a valid Firebase app instance.");this.httpClient=new n.AuthorizedHttpClient(e)}createModel(e){if(!a.isNonNullObject(e)||!a.isNonEmptyString(e.displayName)){const e=new s.FirebaseMachineLearningError("invalid-argument","Invalid model content.");return Promise.reject(e)}return this.getProjectUrl().then(t=>{const r={method:"POST",url:t+"/models",data:e};return this.sendRequest(r)})}updateModel(e,t,r){if(!a.isNonEmptyString(e)||!a.isNonNullObject(t)||!a.isNonEmptyArray(r)){const e=new s.FirebaseMachineLearningError("invalid-argument","Invalid model or mask content.");return Promise.reject(e)}return this.getProjectUrl().then(n=>{const o={method:"PATCH",url:`${n}/models/${e}?updateMask=${r.join()}`,data:t};return this.sendRequest(o)})}getModel(e){return Promise.resolve().then(()=>this.getModelName(e)).then(e=>this.getResourceWithShortName(e))}getOperation(e){return Promise.resolve().then(()=>this.getResourceWithFullName(e))}listModels(e={}){if(!a.isNonNullObject(e)){const e=new s.FirebaseMachineLearningError("invalid-argument","Invalid ListModelsOptions");return Promise.reject(e)}if(void 0!==e.filter&&!a.isNonEmptyString(e.filter)){const e=new s.FirebaseMachineLearningError("invalid-argument","Invalid list filter.");return Promise.reject(e)}if(void 0!==e.pageSize){if(!a.isNumber(e.pageSize)){const e=new s.FirebaseMachineLearningError("invalid-argument","Invalid page size.");return Promise.reject(e)}if(e.pageSize<1||e.pageSize>100){const e=new s.FirebaseMachineLearningError("invalid-argument","Page size must be between 1 and 100.");return Promise.reject(e)}}if(void 0!==e.pageToken&&!a.isNonEmptyString(e.pageToken)){const e=new s.FirebaseMachineLearningError("invalid-argument","Next page token must be a non-empty string.");return Promise.reject(e)}return this.getProjectUrl().then(t=>{const r={method:"GET",url:t+"/models",data:e};return this.sendRequest(r)})}deleteModel(e){return this.getProjectUrl().then(t=>{const r={method:"DELETE",url:`${t}/${this.getModelName(e)}`};return this.sendRequest(r)})}handleOperation(e,t){if(e.done){if(e.response)return Promise.resolve(e.response);if(e.error){const t=s.FirebaseMachineLearningError.fromOperationError(e.error.code,e.error.message);return Promise.reject(t)}throw new s.FirebaseMachineLearningError("invalid-server-response","Invalid operation response.")}if(null!=t&&t.wait)return this.pollOperationWithExponentialBackoff(e.name,t);const r=e.metadata||{};if(!(r["@type"]||"").includes("ModelOperationMetadata"))throw new s.FirebaseMachineLearningError("invalid-server-response","Unknown Metadata type: "+JSON.stringify(r));return this.getModel(r.name.split("/").pop())}pollOperationWithExponentialBackoff(e,t){var r,o,i;const a=null!==(r=null==t?void 0:t.maxTimeMillis)&&void 0!==r?r:12e4,l=null!==(o=null==t?void 0:t.baseWaitMillis)&&void 0!==o?o:3e3,p=null!==(i=null==t?void 0:t.maxWaitMillis)&&void 0!==i?i:3e4;return new n.ExponentialBackoffPoller(l,p,a).poll(()=>this.getOperation(e).then(e=>{if(!e.done)return null;if(e.error){throw s.FirebaseMachineLearningError.fromOperationError(e.error.code,e.error.message)}return e.response}))}getResourceWithShortName(e){return this.getProjectUrl().then(t=>{const r={method:"GET",url:`${t}/${e}`};return this.sendRequest(r)})}getResourceWithFullName(e){const t={method:"GET",url:"https://firebaseml.googleapis.com/v1beta2/"+e};return this.sendRequest(t)}sendRequest(e){return e.headers=l,this.httpClient.send(e).then(e=>e.data).catch(e=>{throw this.toFirebaseError(e)})}toFirebaseError(e){if(e instanceof o.PrefixedFirebaseError)return e;const t=e.response;if(!t.isJson())return new s.FirebaseMachineLearningError("unknown-error",`Unexpected response with status: ${t.status} and body: ${t.text}`);const r=t.data.error||{};let n="unknown-error";r.status&&r.status in p&&(n=p[r.status]);const i=r.message||"Unknown server error: "+t.text;return new s.FirebaseMachineLearningError(n,i)}getProjectUrl(){return this.getProjectIdPrefix().then(e=>"https://firebaseml.googleapis.com/v1beta2/"+e)}getProjectIdPrefix(){return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):i.findProjectId(this.app).then(e=>{if(!a.isNonEmptyString(e))throw new s.FirebaseMachineLearningError("invalid-argument","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectIdPrefix="projects/"+e,this.projectIdPrefix})}getModelName(e){if(!a.isNonEmptyString(e))throw new s.FirebaseMachineLearningError("invalid-argument","Model ID must be a non-empty string.");if(-1!==e.indexOf("/"))throw new s.FirebaseMachineLearningError("invalid-argument",'Model ID must not contain any "/" characters.');return"models/"+e}};const p={INVALID_ARGUMENT:"invalid-argument",NOT_FOUND:"not-found",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"authentication-error",UNKNOWN:"unknown-error"}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseInstallationsRequestHandler=void 0;const n=r(2),o=r(27),i=r(9),a=r(4),s={400:"Malformed installation ID argument.",401:"Request not authorized.",403:"Project does not match installation ID or the client does not have sufficient privileges.",404:"Failed to find the installation ID.",409:"Already deleted.",429:"Request throttled out by the backend server.",500:"Internal server error.",503:"Backend servers are over capacity. Try again later."};t.FirebaseInstallationsRequestHandler=class{constructor(e){this.app=e,this.host="console.firebase.google.com",this.timeout=1e4,this.httpClient=new o.AuthorizedHttpClient(e)}deleteInstallation(e){return a.isNonEmptyString(e)?this.invokeRequestHandler(new o.ApiSettings(e,"DELETE")):Promise.reject(new n.FirebaseInstallationsError(n.InstallationsClientErrorCode.INVALID_INSTALLATION_ID,"Installation ID must be a non-empty string."))}invokeRequestHandler(e){return this.getPathPrefix().then(t=>{const r={url:`https://${this.host}${t}${e.getEndpoint()}`,method:e.getHttpMethod(),timeout:this.timeout};return this.httpClient.send(r)}).then(()=>{}).catch(t=>{if(t instanceof o.RequestResponseError){const r=t.response,o=r.isJson()&&"error"in r.data?r.data.error:r.text,i=s[r.status],a=i?`Installation ID "${e.getEndpoint()}": ${i}`:o;throw new n.FirebaseInstallationsError(n.InstallationsClientErrorCode.API_ERROR,a)}throw t})}getPathPrefix(){return this.path?Promise.resolve(this.path):i.findProjectId(this.app).then(e=>{if(!a.isNonEmptyString(e))throw new n.FirebaseInstallationsError(n.InstallationsClientErrorCode.INVALID_PROJECT_ID,"Failed to determine project ID for Installations. Initialize the SDK with service account credentials or set project ID as an app option. Alternatively set the GOOGLE_CLOUD_PROJECT environment variable.");return this.path=`/v1/project/${e}/instanceId/`,this.path})}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2019 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityRulesApiClient=void 0;const n=r(27),o=r(2),i=r(442),a=r(9),s=r(4),l={"X-Firebase-Client":"fire-admin-node/"+a.getSdkVersion()};t.SecurityRulesApiClient=class{constructor(e){if(this.app=e,!s.isNonNullObject(e)||!("options"in e))throw new i.FirebaseSecurityRulesError("invalid-argument","First argument passed to admin.securityRules() must be a valid Firebase app instance.");this.httpClient=new n.AuthorizedHttpClient(e)}getRuleset(e){return Promise.resolve().then(()=>this.getRulesetName(e)).then(e=>this.getResource(e))}createRuleset(e){if(!s.isNonNullObject(e)||!s.isNonNullObject(e.source)||!s.isNonEmptyArray(e.source.files)){const e=new i.FirebaseSecurityRulesError("invalid-argument","Invalid rules content.");return Promise.reject(e)}for(const t of e.source.files)if(!s.isNonNullObject(t)||!s.isNonEmptyString(t.name)||!s.isNonEmptyString(t.content)){const e=new i.FirebaseSecurityRulesError("invalid-argument","Invalid rules file argument: "+JSON.stringify(t));return Promise.reject(e)}return this.getUrl().then(t=>{const r={method:"POST",url:t+"/rulesets",data:e};return this.sendRequest(r)})}deleteRuleset(e){return this.getUrl().then(t=>{const r={method:"DELETE",url:`${t}/${this.getRulesetName(e)}`};return this.sendRequest(r)})}listRulesets(e=100,t){if(!s.isNumber(e)){const e=new i.FirebaseSecurityRulesError("invalid-argument","Invalid page size.");return Promise.reject(e)}if(e<1||e>100){const e=new i.FirebaseSecurityRulesError("invalid-argument","Page size must be between 1 and 100.");return Promise.reject(e)}if(void 0!==t&&!s.isNonEmptyString(t)){const e=new i.FirebaseSecurityRulesError("invalid-argument","Next page token must be a non-empty string.");return Promise.reject(e)}const r={pageSize:e,pageToken:t};return t||delete r.pageToken,this.getUrl().then(e=>{const t={method:"GET",url:e+"/rulesets",data:r};return this.sendRequest(t)})}getRelease(e){return this.getResource("releases/"+e)}updateOrCreateRelease(e,t){return this.updateRelease(e,t).catch(r=>{if(r.code==="security-rules/"+p.NOT_FOUND)return this.createRelease(e,t);throw r})}updateRelease(e,t){return this.getUrl().then(r=>this.getReleaseDescription(e,t).then(t=>{const n={method:"PATCH",url:`${r}/releases/${e}`,data:{release:t}};return this.sendRequest(n)}))}createRelease(e,t){return this.getUrl().then(r=>this.getReleaseDescription(e,t).then(e=>{const t={method:"POST",url:r+"/releases",data:e};return this.sendRequest(t)}))}getUrl(){return this.getProjectIdPrefix().then(e=>"https://firebaserules.googleapis.com/v1/"+e)}getProjectIdPrefix(){return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):a.findProjectId(this.app).then(e=>{if(!s.isNonEmptyString(e))throw new i.FirebaseSecurityRulesError("invalid-argument","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectIdPrefix="projects/"+e,this.projectIdPrefix})}getResource(e){return this.getUrl().then(t=>{const r={method:"GET",url:`${t}/${e}`};return this.sendRequest(r)})}getReleaseDescription(e,t){return this.getProjectIdPrefix().then(r=>({name:`${r}/releases/${e}`,rulesetName:`${r}/${this.getRulesetName(t)}`}))}getRulesetName(e){if(!s.isNonEmptyString(e))throw new i.FirebaseSecurityRulesError("invalid-argument","Ruleset name must be a non-empty string.");if(-1!==e.indexOf("/"))throw new i.FirebaseSecurityRulesError("invalid-argument",'Ruleset name must not contain any "/" characters.');return"rulesets/"+e}sendRequest(e){return e.headers=l,this.httpClient.send(e).then(e=>e.data).catch(e=>{throw this.toFirebaseError(e)})}toFirebaseError(e){if(e instanceof o.PrefixedFirebaseError)return e;const t=e.response;if(!t.isJson())return new i.FirebaseSecurityRulesError("unknown-error",`Unexpected response with status: ${t.status} and body: ${t.text}`);const r=t.data.error||{};let n="unknown-error";r.status&&r.status in p&&(n=p[r.status]);const a=r.message||"Unknown server error: "+t.text;return new i.FirebaseSecurityRulesError(n,a)}};const p={INVALID_ARGUMENT:"invalid-argument",NOT_FOUND:"not-found",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"authentication-error",UNKNOWN:"unknown-error"}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseRemoteConfigError=t.RemoteConfigApiClient=void 0;const n=r(27),o=r(2),i=r(9),a=r(4),s=r(26),l=process.env.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",p={"X-Firebase-Client":"fire-admin-node/"+i.getSdkVersion(),"Accept-Encoding":"gzip"};t.RemoteConfigApiClient=class{constructor(e){if(this.app=e,!a.isNonNullObject(e)||!("options"in e))throw new u("invalid-argument","First argument passed to admin.remoteConfig() must be a valid Firebase app instance.");this.httpClient=new n.AuthorizedHttpClient(e)}getTemplate(){return this.getUrl().then(e=>{const t={method:"GET",url:e+"/remoteConfig",headers:p};return this.httpClient.send(t)}).then(e=>this.toRemoteConfigTemplate(e)).catch(e=>{throw this.toFirebaseError(e)})}getTemplateAtVersion(e){const t={versionNumber:this.validateVersionNumber(e)};return this.getUrl().then(e=>{const r={method:"GET",url:e+"/remoteConfig",headers:p,data:t};return this.httpClient.send(r)}).then(e=>this.toRemoteConfigTemplate(e)).catch(e=>{throw this.toFirebaseError(e)})}validateTemplate(e){return e=this.validateInputRemoteConfigTemplate(e),this.sendPutRequest(e,e.etag,!0).then(t=>(this.validateEtag(t.headers.etag),this.toRemoteConfigTemplate(t,e.etag))).catch(e=>{throw this.toFirebaseError(e)})}publishTemplate(e,t){let r=(e=this.validateInputRemoteConfigTemplate(e)).etag;return t&&!0===t.force&&(r="*"),this.sendPutRequest(e,r).then(e=>this.toRemoteConfigTemplate(e)).catch(e=>{throw this.toFirebaseError(e)})}rollback(e){const t={versionNumber:this.validateVersionNumber(e)};return this.getUrl().then(e=>{const r={method:"POST",url:e+"/remoteConfig:rollback",headers:p,data:t};return this.httpClient.send(r)}).then(e=>this.toRemoteConfigTemplate(e)).catch(e=>{throw this.toFirebaseError(e)})}listVersions(e){return void 0!==e&&(e=this.validateListVersionsOptions(e)),this.getUrl().then(t=>{const r={method:"GET",url:t+"/remoteConfig:listVersions",headers:p,data:e};return this.httpClient.send(r)}).then(e=>e.data).catch(e=>{throw this.toFirebaseError(e)})}getServerTemplate(){return this.getUrl().then(e=>{const t={method:"GET",url:e+"/namespaces/firebase-server/serverRemoteConfig",headers:p};return this.httpClient.send(t)}).then(e=>this.toRemoteConfigServerTemplate(e)).catch(e=>{throw this.toFirebaseError(e)})}sendPutRequest(e,t,r){let n="remoteConfig";return r&&(n+="?validate_only=true"),this.getUrl().then(r=>{const o={method:"PUT",url:`${r}/${n}`,headers:{...p,"If-Match":t},data:{conditions:e.conditions,parameters:e.parameters,parameterGroups:e.parameterGroups,version:e.version}};return this.httpClient.send(o)})}getUrl(){return this.getProjectIdPrefix().then(e=>`${l}/v1/${e}`)}getProjectIdPrefix(){return this.projectIdPrefix?Promise.resolve(this.projectIdPrefix):i.findProjectId(this.app).then(e=>{if(!a.isNonEmptyString(e))throw new u("unknown-error","Failed to determine project ID. Initialize the SDK with service account credentials, or set project ID as an app option. Alternatively, set the GOOGLE_CLOUD_PROJECT environment variable.");return this.projectIdPrefix="projects/"+e,this.projectIdPrefix})}toFirebaseError(e){if(e instanceof o.PrefixedFirebaseError)return e;const t=e.response;if(!t.isJson())return new u("unknown-error",`Unexpected response with status: ${t.status} and body: ${t.text}`);const r=t.data.error||{};let n="unknown-error";r.status&&r.status in c&&(n=c[r.status]);const i=r.message||"Unknown server error: "+t.text;return new u(n,i)}toRemoteConfigTemplate(e,t){const r=void 0===t?e.headers.etag:t;return this.validateEtag(r),{conditions:e.data.conditions,parameters:e.data.parameters,parameterGroups:e.data.parameterGroups,etag:r,version:e.data.version}}toRemoteConfigServerTemplate(e,t){const r=void 0===t?e.headers.etag:t;return this.validateEtag(r),{conditions:e.data.conditions,parameters:e.data.parameters,etag:r,version:e.data.version}}validateInputRemoteConfigTemplate(e){const t=(0,s.deepCopy)(e);if(!a.isNonNullObject(t))throw new u("invalid-argument","Invalid Remote Config template: "+JSON.stringify(t));if(!a.isNonEmptyString(t.etag))throw new u("invalid-argument","ETag must be a non-empty string.");if(!a.isNonNullObject(t.parameters))throw new u("invalid-argument","Remote Config parameters must be a non-null object");if(!a.isNonNullObject(t.parameterGroups))throw new u("invalid-argument","Remote Config parameter groups must be a non-null object");if(!a.isArray(t.conditions))throw new u("invalid-argument","Remote Config conditions must be an array");return void 0!==t.version&&(t.version={description:t.version.description}),t}validateVersionNumber(e,t="versionNumber"){if(!a.isNonEmptyString(e)&&!a.isNumber(e))throw new u("invalid-argument",t+" must be a non-empty string in int64 format or a number");if(!Number.isInteger(Number(e)))throw new u("invalid-argument",t+" must be an integer or a string in int64 format");return e.toString()}validateEtag(e){if(!a.isNonEmptyString(e))throw new u("invalid-argument","ETag header is not present in the server response.")}validateListVersionsOptions(e){const t=(0,s.deepCopy)(e);if(!a.isNonNullObject(t))throw new u("invalid-argument","ListVersionsOptions must be a non-null object.");if(void 0!==t.pageSize){if(!a.isNumber(t.pageSize))throw new u("invalid-argument","pageSize must be a number.");if(t.pageSize<1||t.pageSize>300)throw new u("invalid-argument","pageSize must be a number between 1 and 300 (inclusive).")}if(void 0!==t.pageToken&&!a.isNonEmptyString(t.pageToken))throw new u("invalid-argument","pageToken must be a string value.");if(void 0!==t.endVersionNumber&&(t.endVersionNumber=this.validateVersionNumber(t.endVersionNumber,"endVersionNumber")),void 0!==t.startTime){if(!(t.startTime instanceof Date||a.isUTCDateString(t.startTime)))throw new u("invalid-argument","startTime must be a valid Date object or a UTC date string.");t.startTime instanceof Date?t.startTime=t.startTime.toISOString():t.startTime=new Date(t.startTime).toISOString()}if(void 0!==t.endTime){if(!(t.endTime instanceof Date||a.isUTCDateString(t.endTime)))throw new u("invalid-argument","endTime must be a valid Date object or a UTC date string.");t.endTime instanceof Date?t.endTime=t.endTime.toISOString():t.endTime=new Date(t.endTime).toISOString()}return Object.keys(t).forEach(e=>void 0===t[e]&&delete t[e]),t}};const c={ABORTED:"aborted",ALREADY_EXISTS:"already-exists",INVALID_ARGUMENT:"invalid-argument",INTERNAL:"internal-error",FAILED_PRECONDITION:"failed-precondition",NOT_FOUND:"not-found",OUT_OF_RANGE:"out-of-range",PERMISSION_DENIED:"permission-denied",RESOURCE_EXHAUSTED:"resource-exhausted",UNAUTHENTICATED:"unauthenticated",UNKNOWN:"unknown-error"};class u extends o.PrefixedFirebaseError{constructor(e,t){super("remote-config",e,t)}}t.FirebaseRemoteConfigError=u},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2024 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionEvaluator=void 0;const n=r(443),o=r(0);class i{evaluateConditions(e,t){const r=new Map;for(const n of e)r.set(n.name,this.evaluateCondition(n.condition,t));return r}evaluateCondition(e,t,r=0){return!(r>=i.MAX_CONDITION_RECURSION_DEPTH)&&(e.orCondition?this.evaluateOrCondition(e.orCondition,t,r+1):e.andCondition?this.evaluateAndCondition(e.andCondition,t,r+1):!!e.true||!e.false&&(e.percent?this.evaluatePercentCondition(e.percent,t):!!e.customSignal&&this.evaluateCustomSignalCondition(e.customSignal,t)))}evaluateOrCondition(e,t,r){const n=e.conditions||[];for(const e of n){const n=this.evaluateCondition(e,t,r+1);if(n)return n}return!1}evaluateAndCondition(e,t,r){const n=e.conditions||[];for(const e of n){const n=this.evaluateCondition(e,t,r+1);if(!n)return n}return!0}evaluatePercentCondition(e,t){if(!t.randomizationId)return!1;const{seed:r,percentOperator:o,microPercent:a,microPercentRange:s}=e;if(!o)return!1;const l=a||0,p=(null==s?void 0:s.microPercentUpperBound)||0,c=(null==s?void 0:s.microPercentLowerBound)||0,u=`${r&&r.length>0?r+".":""}${t.randomizationId}`,d=i.hashSeededRandomizationId(u)%BigInt(1e8);switch(o){case n.PercentConditionOperator.LESS_OR_EQUAL:return d<=l;case n.PercentConditionOperator.GREATER_THAN:return d>l;case n.PercentConditionOperator.BETWEEN:return d>c&&d<=p;case n.PercentConditionOperator.UNKNOWN:}return!1}static hashSeededRandomizationId(e){const t=(0,o.createHash)("sha256").update(e).digest("hex");return BigInt("0x"+t)}evaluateCustomSignalCondition(e,t){const{customSignalOperator:r,customSignalKey:o,targetCustomSignalValues:i}=e;if(!r||!o||!i)return!1;if(!i.length)return!1;const p=t[o];if(null==p)return!1;switch(r){case n.CustomSignalOperator.STRING_CONTAINS:return a(i,p,(e,t)=>t.includes(e));case n.CustomSignalOperator.STRING_DOES_NOT_CONTAIN:return!a(i,p,(e,t)=>t.includes(e));case n.CustomSignalOperator.STRING_EXACTLY_MATCHES:return a(i,p,(e,t)=>t.trim()===e.trim());case n.CustomSignalOperator.STRING_CONTAINS_REGEX:return a(i,p,(e,t)=>new RegExp(e).test(t));case n.CustomSignalOperator.NUMERIC_LESS_THAN:return s(p,i[0],e=>e<0);case n.CustomSignalOperator.NUMERIC_LESS_EQUAL:return s(p,i[0],e=>e<=0);case n.CustomSignalOperator.NUMERIC_EQUAL:return s(p,i[0],e=>0===e);case n.CustomSignalOperator.NUMERIC_NOT_EQUAL:return s(p,i[0],e=>0!==e);case n.CustomSignalOperator.NUMERIC_GREATER_THAN:return s(p,i[0],e=>e>0);case n.CustomSignalOperator.NUMERIC_GREATER_EQUAL:return s(p,i[0],e=>e>=0);case n.CustomSignalOperator.SEMANTIC_VERSION_LESS_THAN:return l(p,i[0],e=>e<0);case n.CustomSignalOperator.SEMANTIC_VERSION_LESS_EQUAL:return l(p,i[0],e=>e<=0);case n.CustomSignalOperator.SEMANTIC_VERSION_EQUAL:return l(p,i[0],e=>0===e);case n.CustomSignalOperator.SEMANTIC_VERSION_NOT_EQUAL:return l(p,i[0],e=>0!==e);case n.CustomSignalOperator.SEMANTIC_VERSION_GREATER_THAN:return l(p,i[0],e=>e>0);case n.CustomSignalOperator.SEMANTIC_VERSION_GREATER_EQUAL:return l(p,i[0],e=>e>=0)}return!1}}function a(e,t,r){const n=String(t);return e.some(e=>r(e,n))}function s(e,t,r){const n=Number(t),o=Number(e);return!isNaN(n)&&!isNaN(o)&&r(o<n?-1:o>n?1:0)}t.ConditionEvaluator=i,i.MAX_CONDITION_RECURSION_DEPTH=10;function l(e,t,r){const n=String(e).split(".").map(Number),o=t.split(".").map(Number);if(n.length>5||o.length>5)return!1;for(let e=0;e<5;e++){const t=void 0!==n[e],i=void 0!==o[e];if(t||(n[e]=0),i||(o[e]=0),isNaN(n[e])||isNaN(o[e]))return!1;if(n[e]<o[e])return r(-1);if(n[e]>o[e])return r(1)}return r(0)}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2024 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ValueImpl=void 0;class n{constructor(e,t=n.DEFAULT_VALUE_FOR_STRING){this.source=e,this.value=t}asString(){return this.value}asBoolean(){return"static"===this.source?n.DEFAULT_VALUE_FOR_BOOLEAN:n.BOOLEAN_TRUTHY_VALUES.indexOf(this.value.toLowerCase())>=0}asNumber(){if("static"===this.source)return n.DEFAULT_VALUE_FOR_NUMBER;const e=Number(this.value);return isNaN(e)?n.DEFAULT_VALUE_FOR_NUMBER:e}getSource(){return this.source}}t.ValueImpl=n,n.DEFAULT_VALUE_FOR_BOOLEAN=!1,n.DEFAULT_VALUE_FOR_STRING="",n.DEFAULT_VALUE_FOR_NUMBER=0,n.BOOLEAN_TRUTHY_VALUES=["1","true","t","yes","y","on"]},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.AppCheckTokenGenerator=void 0,t.appCheckErrorFromCryptoSignerError=s;const n=r(4),o=r(9),i=r(127),a=r(238);function s(e){if(!(e instanceof i.CryptoSignerError))return e;if(e.code===i.CryptoSignerErrorCode.SERVER_ERROR&&n.isNonNullObject(e.cause)){const t=e.cause,r=t.response.data;if(null!=r&&r.error){const e=r.error.status,n=r.error.message||JSON.stringify(t.response);let o="unknown-error";return e&&e in a.APP_CHECK_ERROR_CODE_MAPPING&&(o=a.APP_CHECK_ERROR_CODE_MAPPING[e]),new a.FirebaseAppCheckError(o,"Error returned from server while signing a custom token: "+n)}return new a.FirebaseAppCheckError("internal-error","Error returned from server: "+JSON.stringify(r)+".")}return new a.FirebaseAppCheckError(function(e){switch(e){case i.CryptoSignerErrorCode.INVALID_CREDENTIAL:return"invalid-credential";case i.CryptoSignerErrorCode.INVALID_ARGUMENT:return"invalid-argument";default:return"internal-error"}}(e.code),e.message)}t.AppCheckTokenGenerator=class{constructor(e){if(!n.isNonNullObject(e))throw new a.FirebaseAppCheckError("invalid-argument","INTERNAL ASSERT: Must provide a CryptoSigner to use AppCheckTokenGenerator.");this.signer=e}createCustomToken(e,t){if(!n.isNonEmptyString(e))throw new a.FirebaseAppCheckError("invalid-argument","`appId` must be a non-empty string.");let r={};return void 0!==t&&(r=this.validateTokenOptions(t)),this.signer.getAccountId().then(t=>{const n={alg:this.signer.algorithm,typ:"JWT"},o=Math.floor(Date.now()/1e3),i={iss:t,sub:t,app_id:e,aud:"https://firebaseappcheck.googleapis.com/google.firebase.appcheck.v1.TokenExchangeService",exp:o+300,iat:o,...r},a=`${this.encodeSegment(n)}.${this.encodeSegment(i)}`;return this.signer.sign(Buffer.from(a)).then(e=>`${a}.${this.encodeSegment(e)}`)}).catch(e=>{throw s(e)})}encodeSegment(e){const t=e instanceof Buffer?e:Buffer.from(JSON.stringify(e));return(0,o.toWebSafeBase64)(t).replace(/=+$/,"")}validateTokenOptions(e){if(!n.isNonNullObject(e))throw new a.FirebaseAppCheckError("invalid-argument","AppCheckTokenOptions must be a non-null object.");if(void 0!==e.ttlMillis){if(!n.isNumber(e.ttlMillis))throw new a.FirebaseAppCheckError("invalid-argument","ttlMillis must be a duration in milliseconds.");if(e.ttlMillis<18e5||e.ttlMillis>6048e5)throw new a.FirebaseAppCheckError("invalid-argument","ttlMillis must be a duration in milliseconds between 30 minutes and 7 days (inclusive).");return{ttl:(0,o.transformMillisecondsToSecondsString)(e.ttlMillis)}}return{}}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.AppCheckTokenVerifier=void 0;const n=r(4),o=r(9),i=r(238),a=r(291);t.AppCheckTokenVerifier=class{constructor(e){this.app=e,this.signatureVerifier=a.PublicKeySignatureVerifier.withJwksUrl("https://firebaseappcheck.googleapis.com/v1/jwks",e.options.httpAgent)}verifyToken(e){if(!n.isString(e))throw new i.FirebaseAppCheckError("invalid-argument","App check token must be a non-null string.");return this.ensureProjectId().then(t=>this.decodeAndVerify(e,t)).then(e=>{const t=e.payload;return t.app_id=t.sub,t})}ensureProjectId(){return o.findProjectId(this.app).then(e=>{if(!n.isNonEmptyString(e))throw new i.FirebaseAppCheckError("invalid-credential","Must initialize app with a cert credential or set your Firebase project ID as the GOOGLE_CLOUD_PROJECT environment variable to verify an App Check token.");return e})}decodeAndVerify(e,t){return this.safeDecode(e).then(r=>(this.verifyContent(r,t),this.verifySignature(e).then(()=>r)))}safeDecode(e){return(0,a.decodeJwt)(e).catch(()=>{throw new i.FirebaseAppCheckError("invalid-argument","Decoding App Check token failed. Make sure you passed the entire string JWT which represents the Firebase App Check token.")})}verifyContent(e,t){const r=e.header,o=e.payload,s="projects/"+t;let l;if(r.alg!==a.ALGORITHM_RS256?l='The provided App Check token has incorrect algorithm. Expected "'+a.ALGORITHM_RS256+'" but got "'+r.alg+'".':n.isNonEmptyArray(o.aud)&&o.aud.includes(s)?"string"==typeof o.iss&&o.iss.startsWith("https://firebaseappcheck.googleapis.com/")?"string"!=typeof o.sub?l='The provided App Check token has no "sub" (subject) claim.':""===o.sub&&(l='The provided App Check token has an empty string "sub" (subject) claim.'):l='The provided App Check token has incorrect "iss" (issuer) claim.':l='The provided App Check token has incorrect "aud" (audience) claim. Expected "'+s+'" but got "'+o.aud+'". Make sure the App Check token comes from the same Firebase project as the service account used to authenticate this SDK.',l)throw new i.FirebaseAppCheckError("invalid-argument",l)}verifySignature(e){return this.signatureVerifier.verify(e).catch(e=>{throw this.mapJwtErrorToAppCheckError(e)})}mapJwtErrorToAppCheckError(e){if(e.code===a.JwtErrorCode.TOKEN_EXPIRED){const e="The provided App Check token has expired. Get a fresh App Check token from your client app and try again.";return new i.FirebaseAppCheckError("app-check-token-expired",e)}if(e.code===a.JwtErrorCode.INVALID_SIGNATURE){const e="The provided App Check token has invalid signature.";return new i.FirebaseAppCheckError("invalid-argument",e)}if(e.code===a.JwtErrorCode.NO_MATCHING_KID){const e='The provided App Check token has "kid" claim which does not correspond to a known public key. Most likely the provided App Check token is expired, so get a fresh token from your client app and try again.';return new i.FirebaseAppCheckError("invalid-argument",e)}return new i.FirebaseAppCheckError("invalid-argument",e.message)}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.AuthClientErrorCode=t.FirebaseAuthError=t.UserRecord=t.UserMetadata=t.UserInfo=t.PhoneMultiFactorInfo=t.MultiFactorSettings=t.MultiFactorInfo=t.ProjectConfigManager=t.ProjectConfig=t.TenantManager=t.TenantAwareAuth=t.Tenant=t.BaseAuth=t.Auth=void 0,t.getAuth=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("auth",e=>new o.Auth(e))};const n=r(29),o=r(169);var i=r(169);Object.defineProperty(t,"Auth",{enumerable:!0,get:function(){return i.Auth}});var a=r(174);Object.defineProperty(t,"BaseAuth",{enumerable:!0,get:function(){return a.BaseAuth}});var s=r(172);Object.defineProperty(t,"Tenant",{enumerable:!0,get:function(){return s.Tenant}});var l=r(290);Object.defineProperty(t,"TenantAwareAuth",{enumerable:!0,get:function(){return l.TenantAwareAuth}}),Object.defineProperty(t,"TenantManager",{enumerable:!0,get:function(){return l.TenantManager}});var p=r(173);Object.defineProperty(t,"ProjectConfig",{enumerable:!0,get:function(){return p.ProjectConfig}});var c=r(341);Object.defineProperty(t,"ProjectConfigManager",{enumerable:!0,get:function(){return c.ProjectConfigManager}});var u=r(340);Object.defineProperty(t,"MultiFactorInfo",{enumerable:!0,get:function(){return u.MultiFactorInfo}}),Object.defineProperty(t,"MultiFactorSettings",{enumerable:!0,get:function(){return u.MultiFactorSettings}}),Object.defineProperty(t,"PhoneMultiFactorInfo",{enumerable:!0,get:function(){return u.PhoneMultiFactorInfo}}),Object.defineProperty(t,"UserInfo",{enumerable:!0,get:function(){return u.UserInfo}}),Object.defineProperty(t,"UserMetadata",{enumerable:!0,get:function(){return u.UserMetadata}}),Object.defineProperty(t,"UserRecord",{enumerable:!0,get:function(){return u.UserRecord}});var d=r(2);Object.defineProperty(t,"FirebaseAuthError",{enumerable:!0,get:function(){return d.FirebaseAuthError}}),Object.defineProperty(t,"AuthClientErrorCode",{enumerable:!0,get:function(){return d.AuthClientErrorCode}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2021 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.AppCheck=void 0,t.getAppCheck=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("appCheck",e=>new o.AppCheck(e))};const n=r(29),o=r(237);var i=r(237);Object.defineProperty(t,"AppCheck",{enumerable:!0,get:function(){return i.AppCheck}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseDatabaseError=t.ServerValue=t.enableLogging=void 0,t.getDatabase=function(e){return a({app:e})},t.getDatabaseWithUrl=function(e,t){return a({url:e,app:t})};const n=r(196),o=r(29),i=r(781);function a(e){let{app:t}=e;void 0===t&&(t=(0,o.getApp)());return t.getOrInitService("database",e=>new i.DatabaseService(e)).getDatabase(e.url)}t.enableLogging=n.enableLogging,t.ServerValue=n.ServerValue;var s=r(2);Object.defineProperty(t,"FirebaseDatabaseError",{enumerable:!0,get:function(){return s.FirebaseDatabaseError}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseService=void 0;const n=r(11),o=r(46),i=r(2),a=r(4),s=r(27),l=r(9);t.DatabaseService=class{constructor(e){if(this.databases={},!a.isNonNullObject(e)||!("options"in e))throw new i.FirebaseDatabaseError({code:"invalid-argument",message:"First argument passed to admin.database() must be a valid Firebase app instance."});this.appInternal=e}get firebaseApp(){return this.app}delete(){this.tokenListener&&(this.firebaseApp.INTERNAL.removeAuthTokenListener(this.tokenListener),clearTimeout(this.tokenRefreshTimeout));const e=[];for(const t of Object.keys(this.databases)){const r=this.databases[t];e.push(r.INTERNAL.delete())}return Promise.all(e).then(()=>{this.databases={}})}get app(){return this.appInternal}getDatabase(e){const t=this.ensureUrl(e);if(!a.isNonEmptyString(t))throw new i.FirebaseDatabaseError({code:"invalid-argument",message:"Database URL must be a valid, non-empty URL string."});let n=this.databases[t];if(void 0===n){n=r(196).initStandalone(this.appInternal,t,(0,l.getSdkVersion)()).instance;const e=new p(this.app,t);n.getRules=()=>e.getRules(),n.getRulesJSON=()=>e.getRulesJSON(),n.setRules=t=>e.setRules(t),this.databases[t]=n}return this.tokenListener||(this.tokenListener=this.onTokenChange.bind(this),this.firebaseApp.INTERNAL.addAuthTokenListener(this.tokenListener)),n}onTokenChange(e){const t=this.firebaseApp.INTERNAL.getCachedToken();if(t){const e=t.expirationTime-3e5-Date.now();e>0&&this.scheduleTokenRefresh(e)}}scheduleTokenRefresh(e){clearTimeout(this.tokenRefreshTimeout),this.tokenRefreshTimeout=setTimeout(()=>{this.firebaseApp.INTERNAL.getToken(!0).catch(()=>{})},e)}ensureUrl(e){if(void 0!==e)return e;if(void 0!==this.appInternal.options.databaseURL)return this.appInternal.options.databaseURL;throw new i.FirebaseDatabaseError({code:"invalid-argument",message:"Can't determine Firebase Database URL."})}};class p{constructor(e,t){let r=new n.URL(t);const i=process.env.FIREBASE_DATABASE_EMULATOR_HOST;if(i){const e=function(e){const t=e.searchParams.get("ns");if(t)return t;const r=e.hostname,n=r.indexOf(".");return r.substring(0,n).toLowerCase()}(r);r=new n.URL(`http://${i}?ns=${e}`)}r.pathname=o.join(r.pathname,".settings/rules.json"),this.dbUrl=r.toString(),this.httpClient=new s.AuthorizedHttpClient(e)}getRules(){const e={method:"GET",url:this.dbUrl};return this.httpClient.send(e).then(e=>{if(!e.text)throw new i.FirebaseAppError(i.AppErrorCodes.INTERNAL_ERROR,"HTTP response missing data.");return e.text}).catch(e=>{throw this.handleError(e)})}getRulesJSON(){const e={method:"GET",url:this.dbUrl,data:{format:"strict"}};return this.httpClient.send(e).then(e=>e.data).catch(e=>{throw this.handleError(e)})}setRules(e){if(!a.isNonEmptyString(e)&&!a.isBuffer(e)&&!a.isNonNullObject(e)){const e=new i.FirebaseDatabaseError({code:"invalid-argument",message:"Source must be a non-empty string, Buffer or an object."});return Promise.reject(e)}const t={method:"PUT",url:this.dbUrl,data:e,headers:{"content-type":"application/json; charset=utf-8"}};return this.httpClient.send(t).then(()=>{}).catch(e=>{throw this.handleError(e)})}handleError(e){return e instanceof s.RequestResponseError?new i.FirebaseDatabaseError({code:i.AppErrorCodes.INTERNAL_ERROR,message:this.getErrorMessage(e)}):e}getErrorMessage(e){const t="Error while accessing security rules";try{const r=e.response.data;if(r&&r.error)return`${t}: ${r.error.trim()}`}catch{}return`${t}: ${e.response.text}`}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingClientErrorCode=t.FirebaseMessagingError=t.Messaging=void 0,t.getMessaging=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("messaging",e=>new o.Messaging(e))};const n=r(29),o=r(197);var i=r(197);Object.defineProperty(t,"Messaging",{enumerable:!0,get:function(){return i.Messaging}});var a=r(2);Object.defineProperty(t,"FirebaseMessagingError",{enumerable:!0,get:function(){return a.FirebaseMessagingError}}),Object.defineProperty(t,"MessagingClientErrorCode",{enumerable:!0,get:function(){return a.MessagingClientErrorCode}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseFirestoreError=t.setLogFunction=t.v1=t.WriteResult=t.WriteBatch=t.Transaction=t.Timestamp=t.QuerySnapshot=t.QueryPartition=t.QueryDocumentSnapshot=t.Query=t.GrpcStatus=t.GeoPoint=t.Firestore=t.Filter=t.FieldValue=t.FieldPath=t.DocumentSnapshot=t.DocumentReference=t.CollectionReference=t.CollectionGroup=t.BundleBuilder=t.BulkWriter=t.AggregateQuerySnapshot=t.AggregateQuery=t.AggregateField=void 0,t.getFirestore=function(e,t){const r="object"==typeof e?e:(0,n.getApp)(),a=("string"==typeof e?e:t)||i.DEFAULT_DATABASE_ID;return r.getOrInitService("firestore",e=>new o.FirestoreService(e)).getDatabase(a)},t.initializeFirestore=function(e,t,r){var n,a;null!==(n=t)&&void 0!==n||(t={}),null!==(a=r)&&void 0!==a||(r=i.DEFAULT_DATABASE_ID);return e.getOrInitService("firestore",e=>new o.FirestoreService(e)).initializeDatabase(r,t)};const n=r(29),o=r(784),i=r(15);var a=r(58);Object.defineProperty(t,"AggregateField",{enumerable:!0,get:function(){return a.AggregateField}}),Object.defineProperty(t,"AggregateQuery",{enumerable:!0,get:function(){return a.AggregateQuery}}),Object.defineProperty(t,"AggregateQuerySnapshot",{enumerable:!0,get:function(){return a.AggregateQuerySnapshot}}),Object.defineProperty(t,"BulkWriter",{enumerable:!0,get:function(){return a.BulkWriter}}),Object.defineProperty(t,"BundleBuilder",{enumerable:!0,get:function(){return a.BundleBuilder}}),Object.defineProperty(t,"CollectionGroup",{enumerable:!0,get:function(){return a.CollectionGroup}}),Object.defineProperty(t,"CollectionReference",{enumerable:!0,get:function(){return a.CollectionReference}}),Object.defineProperty(t,"DocumentReference",{enumerable:!0,get:function(){return a.DocumentReference}}),Object.defineProperty(t,"DocumentSnapshot",{enumerable:!0,get:function(){return a.DocumentSnapshot}}),Object.defineProperty(t,"FieldPath",{enumerable:!0,get:function(){return a.FieldPath}}),Object.defineProperty(t,"FieldValue",{enumerable:!0,get:function(){return a.FieldValue}}),Object.defineProperty(t,"Filter",{enumerable:!0,get:function(){return a.Filter}}),Object.defineProperty(t,"Firestore",{enumerable:!0,get:function(){return a.Firestore}}),Object.defineProperty(t,"GeoPoint",{enumerable:!0,get:function(){return a.GeoPoint}}),Object.defineProperty(t,"GrpcStatus",{enumerable:!0,get:function(){return a.GrpcStatus}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return a.Query}}),Object.defineProperty(t,"QueryDocumentSnapshot",{enumerable:!0,get:function(){return a.QueryDocumentSnapshot}}),Object.defineProperty(t,"QueryPartition",{enumerable:!0,get:function(){return a.QueryPartition}}),Object.defineProperty(t,"QuerySnapshot",{enumerable:!0,get:function(){return a.QuerySnapshot}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return a.Timestamp}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return a.Transaction}}),Object.defineProperty(t,"WriteBatch",{enumerable:!0,get:function(){return a.WriteBatch}}),Object.defineProperty(t,"WriteResult",{enumerable:!0,get:function(){return a.WriteResult}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return a.v1}}),Object.defineProperty(t,"setLogFunction",{enumerable:!0,get:function(){return a.setLogFunction}});var s=r(2);Object.defineProperty(t,"FirebaseFirestoreError",{enumerable:!0,get:function(){return s.FirebaseFirestoreError}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * @license
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirestoreService=void 0,t.getFirestoreOptions=s;const n=r(2),o=r(62),i=r(4),a=r(9);function s(e,t){if(!i.isNonNullObject(e)||!("options"in e))throw new n.FirebaseFirestoreError({code:"invalid-argument",message:"First argument passed to admin.firestore() must be a valid Firebase app instance."});const r=a.getExplicitProjectId(e),s=e.options.credential,l=a.getSdkVersion(),p=null==t?void 0:t.preferRest;if(s instanceof o.ServiceAccountCredential)return{credentials:{private_key:s.privateKey,client_email:s.clientEmail},projectId:r,firebaseVersion:l,firebaseAdminVersion:l,preferRest:p};if((0,o.isApplicationDefault)(e.options.credential))return i.isNonEmptyString(r)?{projectId:r,firebaseVersion:l,firebaseAdminVersion:l,preferRest:p}:{firebaseVersion:l,firebaseAdminVersion:l,preferRest:p};throw new n.FirebaseFirestoreError({code:"invalid-credential",message:"Failed to initialize Google Cloud Firestore client with the available credentials. Must initialize the SDK with a certificate credential or application default credentials to use Cloud Firestore API."})}function l(e,t,o){const i=s(e,o);let a;i.databaseId=t;try{a=r(58).Firestore}catch(e){throw new n.FirebaseFirestoreError({code:"missing-dependencies",message:'Failed to import the Cloud Firestore client library for Node.js. Make sure to install the "@google-cloud/firestore" npm package. Original error: '+e})}return new a(i)}t.FirestoreService=class{constructor(e){this.databases=new Map,this.firestoreSettings=new Map,this.appInternal=e}initializeDatabase(e,t){const r=this.databases.get(e);if(r){var o;const i=null!==(o=this.firestoreSettings.get(e))&&void 0!==o?o:{};if(this.checkIfSameSettings(t,i))return r;throw new n.FirebaseFirestoreError({code:"failed-precondition",message:"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance."})}const i=l(this.app,e,t);return this.databases.set(e,i),this.firestoreSettings.set(e,t),i}getDatabase(e){let t=this.databases.get(e);return void 0===t&&(t=l(this.app,e,{}),this.databases.set(e,t),this.firestoreSettings.set(e,{})),t}checkIfSameSettings(e,t){const r=null!=t?t:{};return(null!=e?e:{}).preferRest===r.preferRest}get app(){return this.appInternal}}},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceIdClientErrorCode=t.FirebaseInstanceIdError=t.InstanceId=void 0,t.getInstanceId=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("instanceId",e=>new o.InstanceId(e))};const n=r(29),o=r(438);Object.defineProperty(t,"InstanceId",{enumerable:!0,get:function(){return o.InstanceId}});var i=r(2);Object.defineProperty(t,"FirebaseInstanceIdError",{enumerable:!0,get:function(){return i.FirebaseInstanceIdError}}),Object.defineProperty(t,"InstanceIdClientErrorCode",{enumerable:!0,get:function(){return i.InstanceIdClientErrorCode}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Model=t.MachineLearning=void 0,t.getMachineLearning=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("machineLearning",e=>new o.MachineLearning(e))};const n=r(29),o=r(232);var i=r(232);Object.defineProperty(t,"MachineLearning",{enumerable:!0,get:function(){return i.MachineLearning}}),Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return i.Model}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.FirebaseProjectManagementError=t.IosApp=t.ShaCertificate=t.AndroidApp=t.ProjectManagement=t.AppPlatform=void 0,t.getProjectManagement=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("projectManagement",e=>new o.ProjectManagement(e))};const n=r(29),o=r(233);var i=r(158);Object.defineProperty(t,"AppPlatform",{enumerable:!0,get:function(){return i.AppPlatform}});var a=r(233);Object.defineProperty(t,"ProjectManagement",{enumerable:!0,get:function(){return a.ProjectManagement}});var s=r(440);Object.defineProperty(t,"AndroidApp",{enumerable:!0,get:function(){return s.AndroidApp}}),Object.defineProperty(t,"ShaCertificate",{enumerable:!0,get:function(){return s.ShaCertificate}});var l=r(441);Object.defineProperty(t,"IosApp",{enumerable:!0,get:function(){return l.IosApp}});var p=r(2);Object.defineProperty(t,"FirebaseProjectManagementError",{enumerable:!0,get:function(){return p.FirebaseProjectManagementError}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityRules=t.RulesetMetadataList=t.Ruleset=void 0,t.getSecurityRules=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("securityRules",e=>new o.SecurityRules(e))};const n=r(29),o=r(235);var i=r(235);Object.defineProperty(t,"Ruleset",{enumerable:!0,get:function(){return i.Ruleset}}),Object.defineProperty(t,"RulesetMetadataList",{enumerable:!0,get:function(){return i.RulesetMetadataList}}),Object.defineProperty(t,"SecurityRules",{enumerable:!0,get:function(){return i.SecurityRules}})},function(e,t,r){"use strict";
/*! firebase-admin v13.2.0 */
/*!
 * Copyright 2020 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteConfigFetchResponse=t.RemoteConfig=t.PercentConditionOperator=t.CustomSignalOperator=void 0,t.getRemoteConfig=function(e){void 0===e&&(e=(0,n.getApp)());return e.getOrInitService("remoteConfig",e=>new o.RemoteConfig(e))};const n=r(29),o=r(236);var i=r(443);Object.defineProperty(t,"CustomSignalOperator",{enumerable:!0,get:function(){return i.CustomSignalOperator}}),Object.defineProperty(t,"PercentConditionOperator",{enumerable:!0,get:function(){return i.PercentConditionOperator}});var a=r(236);Object.defineProperty(t,"RemoteConfig",{enumerable:!0,get:function(){return a.RemoteConfig}}),Object.defineProperty(t,"RemoteConfigFetchResponse",{enumerable:!0,get:function(){return a.RemoteConfigFetchResponse}})},function(e,t,r){const n=r(17),o=r(46),i=r(67),a=r(0),s=r(791).version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function p(e){console.log(`[dotenv@${s}][DEBUG] ${e}`)}function c(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function u(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){const e=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}const n=r.password;if(!n){const e=new Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}const o=r.searchParams.get("environment");if(!o){const e=new Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}const i="DOTENV_VAULT_"+o.toUpperCase(),a=e.parsed[i];if(!a){const e=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:a,key:n}}function d(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(const r of e.path)n.existsSync(r)&&(t=r.endsWith(".vault")?r:r+".vault");else t=e.path.endsWith(".vault")?e.path:e.path+".vault";else t=o.resolve(process.cwd(),".env.vault");return n.existsSync(t)?t:null}function h(e){return"~"===e[0]?o.join(i.homedir(),e.slice(1)):e}const f={configDotenv:function(e){const t=o.resolve(process.cwd(),".env");let r="utf8";const i=Boolean(e&&e.debug);e&&e.encoding?r=e.encoding:i&&p("No encoding is specified. UTF-8 is used by default");let a,s=[t];if(e&&e.path)if(Array.isArray(e.path)){s=[];for(const t of e.path)s.push(h(t))}else s=[h(e.path)];const l={};for(const t of s)try{const o=f.parse(n.readFileSync(t,{encoding:r}));f.populate(l,o,e)}catch(e){i&&p(`Failed to load ${t} ${e.message}`),a=e}let c=process.env;return e&&null!=e.processEnv&&(c=e.processEnv),f.populate(c,l,e),a?{parsed:l,error:a}:{parsed:l}},_configVault:function(e){var t;t="Loading env from encrypted .env.vault",console.log(`[dotenv@${s}][INFO] ${t}`);const r=f._parseVault(e);let n=process.env;return e&&null!=e.processEnv&&(n=e.processEnv),f.populate(n,r,e),{parsed:r}},_parseVault:function(e){const t=d(e),r=f.configDotenv({path:t});if(!r.parsed){const e=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}const n=c(e).split(","),o=n.length;let i;for(let e=0;e<o;e++)try{const t=u(r,n[e].trim());i=f.decrypt(t.ciphertext,t.key);break}catch(t){if(e+1>=o)throw t}return f.parse(i)},config:function(e){if(0===c(e).length)return f.configDotenv(e);const t=d(e);return t?f._configVault(e):(r=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.log(`[dotenv@${s}][WARN] ${r}`),f.configDotenv(e));var r},decrypt:function(e,t){const r=Buffer.from(t.slice(-64),"hex");let n=Buffer.from(e,"base64");const o=n.subarray(0,12),i=n.subarray(-16);n=n.subarray(12,-16);try{const e=a.createDecipheriv("aes-256-gcm",r,o);return e.setAuthTag(i),`${e.update(n)}${e.final()}`}catch(e){const t=e instanceof RangeError,r="Invalid key length"===e.message,n="Unsupported state or unable to authenticate data"===e.message;if(t||r){const e=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(n){const e=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw e}},parse:function(e){const t={};let r,n=e.toString();for(n=n.replace(/\r\n?/gm,"\n");null!=(r=l.exec(n));){const e=r[1];let n=r[2]||"";n=n.trim();const o=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===o&&(n=n.replace(/\\n/g,"\n"),n=n.replace(/\\r/g,"\r")),t[e]=n}return t},populate:function(e,t,r={}){const n=Boolean(r&&r.debug),o=Boolean(r&&r.override);if("object"!=typeof t){const e=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(const r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===o&&(e[r]=t[r]),n&&p(!0===o?`"${r}" is already defined and WAS overwritten`:`"${r}" is already defined and was NOT overwritten`)):e[r]=t[r]}};e.exports.configDotenv=f.configDotenv,e.exports._configVault=f._configVault,e.exports._parseVault=f._parseVault,e.exports.config=f.config,e.exports.decrypt=f.decrypt,e.exports.parse=f.parse,e.exports.populate=f.populate,e.exports=f},function(e){e.exports=JSON.parse('{"name":"dotenv","version":"16.4.7","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","pretest":"npm run lint && npm run dts-check","test":"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^18.11.3","decache":"^4.6.2","sinon":"^14.0.1","standard":"^17.0.0","standard-version":"^9.5.0","tap":"^19.2.0","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')},function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=792},function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return E})),r.d(t,"v4",(function(){return O})),r.d(t,"v5",(function(){return w})),r.d(t,"NIL",(function(){return S})),r.d(t,"version",(function(){return T})),r.d(t,"validate",(function(){return p})),r.d(t,"stringify",(function(){return d})),r.d(t,"parse",(function(){return v}));var n=r(0),o=r.n(n);const i=new Uint8Array(256);let a=i.length;function s(){return a>i.length-16&&(o.a.randomFillSync(i),a=0),i.slice(a,a+=16)}var l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var p=function(e){return"string"==typeof e&&l.test(e)};const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function u(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}var d=function(e,t=0){const r=u(e,t);if(!p(r))throw TypeError("Stringified UUID is invalid");return r};let h,f,g=0,m=0;var y=function(e,t,r){let n=t&&r||0;const o=t||new Array(16);let i=(e=e||{}).node||h,a=void 0!==e.clockseq?e.clockseq:f;if(null==i||null==a){const t=e.random||(e.rng||s)();null==i&&(i=h=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=f=16383&(t[6]<<8|t[7]))}let l=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:m+1;const c=l-g+(p-m)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||l>g)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=l,m=p,f=a,l+=122192928e5;const d=(1e4*(268435455&l)+p)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=255&d;const y=l/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(let e=0;e<6;++e)o[n+e]=i[e];return t||u(o)};var v=function(e){if(!p(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function b(e,t,r){function n(e,n,o,i){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=v(n)),16!==(null===(a=n)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),s=r(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=s[e];return o}return u(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}var E=b("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("md5").update(e).digest()})),_={randomUUID:o.a.randomUUID};var O=function(e,t,r){if(_.randomUUID&&!t&&!e)return _.randomUUID();const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)};var w=b("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("sha1").update(e).digest()})),S="00000000-0000-0000-0000-000000000000";var T=function(e){if(!p(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return E})),r.d(t,"v4",(function(){return O})),r.d(t,"v5",(function(){return w})),r.d(t,"NIL",(function(){return S})),r.d(t,"version",(function(){return T})),r.d(t,"validate",(function(){return p})),r.d(t,"stringify",(function(){return d})),r.d(t,"parse",(function(){return v}));var n=r(0),o=r.n(n);const i=new Uint8Array(256);let a=i.length;function s(){return a>i.length-16&&(o.a.randomFillSync(i),a=0),i.slice(a,a+=16)}var l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var p=function(e){return"string"==typeof e&&l.test(e)};const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function u(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}var d=function(e,t=0){const r=u(e,t);if(!p(r))throw TypeError("Stringified UUID is invalid");return r};let h,f,g=0,m=0;var y=function(e,t,r){let n=t&&r||0;const o=t||new Array(16);let i=(e=e||{}).node||h,a=void 0!==e.clockseq?e.clockseq:f;if(null==i||null==a){const t=e.random||(e.rng||s)();null==i&&(i=h=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=f=16383&(t[6]<<8|t[7]))}let l=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:m+1;const c=l-g+(p-m)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||l>g)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=l,m=p,f=a,l+=122192928e5;const d=(1e4*(268435455&l)+p)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=255&d;const y=l/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(let e=0;e<6;++e)o[n+e]=i[e];return t||u(o)};var v=function(e){if(!p(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function b(e,t,r){function n(e,n,o,i){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=v(n)),16!==(null===(a=n)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),s=r(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=s[e];return o}return u(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}var E=b("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("md5").update(e).digest()})),_={randomUUID:o.a.randomUUID};var O=function(e,t,r){if(_.randomUUID&&!t&&!e)return _.randomUUID();const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)};var w=b("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("sha1").update(e).digest()})),S="00000000-0000-0000-0000-000000000000";var T=function(e){if(!p(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return E})),r.d(t,"v4",(function(){return O})),r.d(t,"v5",(function(){return w})),r.d(t,"NIL",(function(){return S})),r.d(t,"version",(function(){return T})),r.d(t,"validate",(function(){return p})),r.d(t,"stringify",(function(){return d})),r.d(t,"parse",(function(){return v}));var n=r(0),o=r.n(n);const i=new Uint8Array(256);let a=i.length;function s(){return a>i.length-16&&(o.a.randomFillSync(i),a=0),i.slice(a,a+=16)}var l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var p=function(e){return"string"==typeof e&&l.test(e)};const c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function u(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}var d=function(e,t=0){const r=u(e,t);if(!p(r))throw TypeError("Stringified UUID is invalid");return r};let h,f,g=0,m=0;var y=function(e,t,r){let n=t&&r||0;const o=t||new Array(16);let i=(e=e||{}).node||h,a=void 0!==e.clockseq?e.clockseq:f;if(null==i||null==a){const t=e.random||(e.rng||s)();null==i&&(i=h=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=f=16383&(t[6]<<8|t[7]))}let l=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:m+1;const c=l-g+(p-m)/1e4;if(c<0&&void 0===e.clockseq&&(a=a+1&16383),(c<0||l>g)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=l,m=p,f=a,l+=122192928e5;const d=(1e4*(268435455&l)+p)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=255&d;const y=l/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=255&y,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(let e=0;e<6;++e)o[n+e]=i[e];return t||u(o)};var v=function(e){if(!p(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function b(e,t,r){function n(e,n,o,i){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=v(n)),16!==(null===(a=n)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),s=r(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=s[e];return o}return u(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}var E=b("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("md5").update(e).digest()})),_={randomUUID:o.a.randomUUID};var O=function(e,t,r){if(_.randomUUID&&!t&&!e)return _.randomUUID();const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)};var w=b("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("sha1").update(e).digest()})),S="00000000-0000-0000-0000-000000000000";var T=function(e){if(!p(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},,,,,function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",p=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),s=new R(n||[]);return a(i,"_invoke",{value:C(e,r,s)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",g="executing",m="completed",y={};function v(){}function b(){}function E(){}var _={};u(_,l,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(D([])));w&&w!==r&&i.call(w,l)&&(_=w);var S=E.prototype=v.prototype=Object.create(_);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,s,l){var p=h(e[o],e,a);if("throw"!==p.type){var c=p.arg,u=c.value;return u&&"object"==n(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(p.arg)}var o;a(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function C(t,r,n){var o=f;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=I(s,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var p=h(t,r,n);if("normal"===p.type){if(o=n.done?m:"suspendedYield",p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=m,n.method="throw",n.arg=p.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=h(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=E,a(S,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=u(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(A.prototype),u(A.prototype,p,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new A(d(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(S),u(S,c,"Generator"),u(S,l,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=D,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),p=i.call(a,"finallyLoc");if(l&&p){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!p)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:D(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function i(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}var a=r(445);r(790).config(),a.initializeApp({credential:a.credential.cert(r(792)(process.env.FIREBASE_CREDENTIALS))});var s=a.firestore();t.handler=function(){var e,t=(e=o().mark((function e(t,r){var n,i,a,l,p,c,u,d,h,f,g,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("PUT"!==t.httpMethod){e.next=32;break}if(n=t.queryStringParameters,i=n.userId,a=n.listId,l=n.itemId,p=JSON.parse(t.body),void 0!==(c=p.completed)){e.next=5;break}return e.abrupt("return",{statusCode:400,body:JSON.stringify({error:"Completed status is required"})});case 5:return e.prev=5,u=s.collection("users").doc(i).collection("bingoLists").doc(a),d=u.collection("items").doc(l),e.next=10,d.get();case 10:if(e.sent.exists){e.next=13;break}return e.abrupt("return",{statusCode:404,body:JSON.stringify({error:"Bingo item not found"})});case 13:return e.next=15,d.update({completed:c});case 15:return e.next=17,u.get();case 17:if(!(h=e.sent).exists){e.next=26;break}if(f=h.data(),g=f.bingoItems||[],-1===(m=g.findIndex((function(e){return e.id===l})))){e.next=26;break}return g[m].completed=c,e.next=26,u.update({bingoItems:g});case 26:return e.abrupt("return",{statusCode:200,body:JSON.stringify({message:"Bingo item updated"})});case 29:return e.prev=29,e.t0=e.catch(5),e.abrupt("return",{statusCode:500,body:JSON.stringify({error:"Failed to update bingo item"})});case 32:case"end":return e.stop()}}),e,null,[[5,29]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,l,"next",e)}function l(e){i(a,n,o,s,l,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}]));